
<ui>
	<css name="$Fullsize">
		<width value="100%"/>
		<height value="100%"/>
	</css>
	<css name="$FullsizeAbsolute">
		<width value="100%"/>
		<position value="absolute"/>
		<height value="100%"/>
	</css>
	<css name="$FullWidth">
		<width value="100%"/>
	</css>
	<css name="$MiddleAligned">
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleAlignedAbsolutely">
		<position value="absolute"/>
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleVAligned">
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$EyeLevelVAligned">
		<top value="720:360,2160:900ah"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVAlignedAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVHAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginLeft value="-50%"/>
		<marginTop value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$AlignRight">
		<position value="absolute"/>
		<right value="0"/>
	</css>
	<css name="$MouseDisable">
		<hitTest value="false"/>
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$InfoLineBoundaries">
		<marginTop value="6px"/>
		<marginBottom value="6px"/>
	</css>
	<css name="$InfoBlockHorizontalIndent">
		<width value="100%"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockIndent">
		<width value="100%"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginBottom value="9px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockHorizontalIndentNoWidth">
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$DockPanelMargins">
		<marginLeft value="13px"/>
		<marginRight value="13px"/>
	</css>
	<css name="$InfoBlockIndentNoWidth">
		<marginBottom value="9px"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$TextInputEnterButton">
		<right value="2px"/>
		<top value="50%"/>
		<height value="25px"/>
		<width value="52px"/>
		<position value="absolute"/>
		<marginTop value="-11px"/>
	</css>
	<css name="$TextAreaEnterButton">
		<position value="absolute"/>
		<height value="25px"/>
		<right value="2px"/>
		<width value="52px"/>
		<bottom value="0px"/>
	</css>
	<css name="$DefaultScrollBar">
		<wheelScrollSpeed value="15"/>
		<scrollbarController value="lesta.unbound.style.UbScrollingControllerModern"/>
		<scrollArea value="ModernScrollArea"/>
		<scrollbar value="ModernScrollBar"/>
		<scrollbarTrackMode value="scrollToCursor"/>
	</css>
	<css name="$None"/>
	<css name="$PxHorizontalCorrection">
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$PxIndent">
		<marginTop value="1px"/>
		<marginBottom value="1px"/>
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$BottomMenu">
		<position value="absolute"/>
		<bottom value="0px"/>
		<width value="100%"/>
		<height value="30px"/>
	</css>
	<block className="HorizontalDivider">
		<styleClass value="$PxHorizontalCorrection"/>
		<style>
			<width value="100%"/>
			<height value="3px"/>
		</style>
		<block className="divider_h" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<css name="$ModernizationAndConsumScrollBar">
		<wheelScrollSpeed value="15"/>
		<scrollbarController value="lesta.unbound.style.UbScrollingControllerModern"/>
		<scrollArea value="ModernScrollArea"/>
		<scrollbar value="ModernScrollBarSimple"/>
		<scrollbarTrackMode value="scrollToCursor"/>
	</css>
	<block className="VerticalDivider">
		<style>
			<height value="100%"/>
			<width value="3px"/>
		</style>
		<block className="divider_v" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<block className="TableDivider">
		<bind name="style" value="'width'; 	_width  ? _width  : '100%'"/>
		<bind name="style" value="'height'; 	_height ? _height : '100%'"/>
		<style>
			<backgroundColor value="0xffffffff"/>
		</style>
	</block>
	<block className="Underline">
		<bind name="style" value="'backgroundColor'; (rollOver &amp;&amp; !mouseDown) ? '0xFFFFFFFF' : '0x00856933'"/>
		<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) == true; 0.3; {scaleX : 0, alpha : 0}; {scaleX : 1, alpha :1}"/>
		<style>
			<backgroundColor value="0xFFFFFFFF"/>
			<position value="absolute"/>
			<height value="1px"/>
			<width value="100%"/>
			<bottom value="0px"/>
			<marginLeft value="2px"/>
			<marginRight value="2px"/>
		</style>
	</block>
	<block className="BlurMap">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<style>
			<hitTest value="false"/>
		</style>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="mc_blurmap_medium" type="native">
			<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="blurMap" value="0"/>
		</block>
		<block className="inner_panel" type="native">
			<style>
				<alpha value="0.5"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
	</block>
	<block className="BlurMapLow">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<style>
			<hitTest value="false"/>
		</style>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="mc_blurmap5" type="native">
			<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="blurMap" value="0"/>
		</block>
		<block className="inner_panel" type="native">
			<style>
				<alpha value="0.2"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
	</block>
	<block className="BlurMapNotifications">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<height value="100%"/>
		</style>
		<block className="mc_blurmap5_feather" type="native">
			<bind name="fade" value="_start; 0.3; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -20}; 1; 0.15"/>
			<style>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="blurMap" value="0"/>
		</block>
	</block>
	<block className="DeclareBlurLayer">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<block className="transparentPixel" type="native">
			<bind name="blurLayer" value="0"/>
		</block>
		<style>
			<position value="absolute"/>
		</style>
	</block>
	<css name="$ContextMenuListItem">
		<width value="100%"/>
		<height value="29px"/>
	</css>
	<css name="$ContextMenuListItemContent">
		<width value="198px"/>
		<marginLeft value="6px"/>
		<marginRight value="6px"/>
	</css>
	<css name="$ContextMenuDimentions">
		<width value="210px"/>
	</css>
	<block className="DropShadow">
		<styleClass value="$FullsizeAbsolute"/>
		<styleClass value="$MouseDisable"/>
		<block className="drop_shadow" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-2px"/>
				<marginRight value="-6px"/>
				<marginBottom value="-10px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
	</block>
	<block className="EmptyItem">
		<bind name="visible" value="false"/>
	</block>
	<block className="DottedLine">
		<style>
			<backgroundImage value="symbol:dotted_line"/>
			<backgroundRepeatX value="true"/>
			<width value="100%"/>
			<height value="1px"/>
			<alpha value="0.5"/>
		</style>
	</block>
	<css name="$ContentIndents">
		<marginBottom value="12"/>
		<marginTop value="12"/>
		<marginLeft value="12"/>
		<marginRight value="12"/>
	</css>
	<css name="$DragScrollerStyleVertical">
		<scrollbarController value="lesta.unbound.style.UbScrollingControllerDrag"/>
		<wheelScrollSpeed value="100"/>
		<flow value="vertical"/>
		<height value="100%f"/>
		<mouseEnabledWhileScroll value="false"/>
		<scrollbar value="ModernScrollBar"/>
		<overflow value="scroll"/>
	</css>
	<css name="$DragScrollerStyleHorizonal">
		<scrollbarController value="lesta.unbound.style.UbScrollingControllerDrag"/>
		<wheelScrollSpeed value="0"/>
		<flow value="horizontal"/>
		<width value="100%f"/>
		<mouseEnabledWhileScroll value="true"/>
		<overflow value="scroll"/>
	</css>
	<css name="$TextNano">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondary">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryNoFilter">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefaultBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderHugeWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderBigDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBigTeamKiller">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$TextHeaderBigNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextHeaderBigWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccent">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentSecond">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderUnready">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<css name="$TextDefaultWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultWhiteBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallCompareNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<textColor value="0xFF6600"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextSmallWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallGold">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextDefaultExpSmall">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSmallNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextTurquoiseQuests">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x00cccc"/>
	</css>
	<css name="$TextLargeHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBlack">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextThumbelina">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="7"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$TextHeaderBigDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$BlackLabel">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$ZurichCondensedBold"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextHeaderWhiteBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$ResultsReward">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<letterSpacing value="-3"/>
		<marginRight value="2px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentGreyBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xDDDDDD"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="50"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel1">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="36"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel2">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$ConfirmationWindowWidth">
		<width value="472px"/>
	</css>
	<css name="$ModalWindowDefaultWidth">
		<width value="472px"/>
	</css>
	<css name="$ModalWindowLargeCostMargins">
		<marginLeft value="5px"/>
		<marginRight value="4px"/>
	</css>
	<css name="$SelectTypeListItem">
		<width value="100%"/>
		<height value="74px"/>
	</css>
	<css name="$SelectTypeListItemIndent">
		<marginBottom value="15px"/>
		<marginTop value="15px"/>
		<marginLeft value="21px"/>
		<marginRight value="21px"/>
	</css>
	<block className="ModalWindowOkCancelRequest">
		<style>
			<flow value="horizontal"/>
			<marginTop value="15px"/>
		</style>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.60; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<styleClass value="$InfoLineBoundaries"/>
			<style>
				<width value="129px"/>
				<marginRight value="20px"/>
			</style>
			<bind name="instance" value="'DefaultButton'; {	_width: '129px', _request: _request, _requestParams: _requestParams, _enabled: true, _isTransactionBtn: true,
											_containerName: ('Modal_window_action_Button' + _okLabel), _label: _okLabel,
											_focusIndex: 1, _defaultFocused: true,
											_name: 'btn_ok'}"/>
		</block>
		<block>
			<style>
				<width value="129px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<block className="DefaultButtonModal">
				<styleClass value="$InfoLineBoundaries"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="name" value="'Modal_window_action_Button' + _cancelLabel"/>
				<block className="button_default" type="native">
					<style>
						<width value="100%"/>
					</style>
					<bind name="label" value="_cancelLabel"/>
					<params>
						<param name="name" value="btn_cancel"/>
					</params>
					<bind name="input"/>
					<bind name="focus" value="2;false"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowUniversalHeader">
		<style>
			<marginBottom value="720:32,1080:64ah"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '100%'"/>
		<block>
			<bind name="visible" value="_header != null"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="center"/>
					<marginTop value="12px"/>
				</style>
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="720:9,1080:11ah"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="!_hideBackButton"/>
			<style>
				<position value="absolute"/>
				<top value="7px"/>
			</style>
			<bind name="instance" value="'BackButton'; {_text: 'IDS_RETURN_TO_DOCK', _action: 'btn_cancel'}"/>
		</block>
		<block>
			<bind name="visible" value="!_hideCloseButton"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'right'; _innerCloseButton ? '60px' : '8px'"/>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="0px"/>
					<top value="13px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
					<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
					<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
					<block>
						<bind name="soundSet" value="'default_button'"/>
						<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
						<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
						<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
						<style>
							<alpha value="0.8"/>
						</style>
						<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
						<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<block className="button_close" type="native">
							<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
							<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
							<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
							<params>
								<param name="focusable" value="false"/>
							</params>
							<bind name="gotoAndPlay!" value="CrossButtonStates"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeader">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="class" value="_isAlignLeft ? '$None' : '$MiddleAligned'"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<bind name="style" value="'right'; _innerCloseButton ? '60px' : '0px'"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="11px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="soundSet" value="'default_button'"/>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_hideDivider != true"/>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="-3"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderConfirmation">
		<style>
			<marginBottom value="3px"/>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icon_warning_grey_big" type="native">
					<style>
						<marginTop value="6px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<text value="IDS_CONFIRMATION"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="-70px"/>
					<top value="9px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
					<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
					<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
					<block>
						<bind name="soundSet" value="'default_button'"/>
						<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
						<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
						<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
						<style>
							<alpha value="0.8"/>
						</style>
						<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
						<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<block className="button_close" type="native">
							<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
							<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
							<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
							<params>
								<param name="focusable" value="false"/>
							</params>
							<bind name="gotoAndPlay!" value="CrossButtonStates"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderNoEsc">
		<style>
			<marginBottom value="3px"/>
			<width value="450px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader5'"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderWithIcon">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icons_modal_window_heading" type="native">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginRight value="3px"/>
					</style>
					<bind name="gotoAndStop!" value="_type"/>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="toUpperCase(tr(_header))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="_showInnerCloseButton"/>
				<styleClass value="$AlignRight"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="soundSet" value="'default_button'"/>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderOptionalIcon">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '100%'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icon_warning_grey_big" type="native">
					<bind name="visible" value="_showIcon"/>
					<style>
						<marginTop value="6px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="toUpperCase(tr(_header))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="_showInnerCloseButton"/>
				<styleClass value="$AlignRight"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="soundSet" value="'default_button'"/>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderFullSize">
		<bind name="style" value="'paddingTop';		_paddingTop		? _paddingTop	:	'720:20,2160:100ah'"/>
		<bind name="style" value="'paddingRight';	_paddingRight	? _paddingRight	:	'1280:20,1920:46aw'"/>
		<bind name="style" value="'paddingLeft'; 	_paddingLeft	? _paddingLeft	:	'1280:20,1920:46aw'"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<bind name="visible" value="_hideBackButton != true"/>
			<style>
				<position value="absolute"/>
				<top value="-5px"/>
			</style>
			<bind name="instance" value="'BackButton'; { _text: _backButtonText,
										_event: _event, _eventData: _eventData,
										_action: _action, _actionParams: _actionParams,
										_request: _request, _requestParams: _requestParams }"/>
		</block>
		<block>
			<bind name="visible" value="_windowName != null"/>
			<bind name="class" value="_leftAligned ? '$None' : '$MiddleAligned' "/>
			<block type="text">
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="toUpperCase(tr(_windowName))"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_hideCloseIcon != true"/>
			<style>
				<position value="absolute"/>
				<right value="4"/>
				<top value="3px"/>
			</style>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="0px"/>
					<top value="0px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
					<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
					<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
					<block>
						<bind name="soundSet" value="'default_button'"/>
						<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
						<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
						<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
						<style>
							<alpha value="0.8"/>
						</style>
						<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
						<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<block className="button_close" type="native">
							<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
							<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
							<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
							<params>
								<param name="focusable" value="false"/>
							</params>
							<bind name="gotoAndPlay!" value="CrossButtonStates"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_hideDivider != true"/>
			<style>
				<width value="100%"/>
				<marginTop value="720:12,1080:16ah"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderFullSizeFakeBlock">
		<bind name="style" value="'paddingTop';		_paddingTop		? _paddingTop	:	'720:20,2160:100ah'"/>
		<style>
			<alpha value="0"/>
			<hitTest value="false"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefaultBold21NM"/>
			<bind name="text" value="'Fake offset block'"/>
		</block>
		<block>
			<style>
				<width value="10px"/>
				<marginTop value="720:12,1080:16ah"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="OperationRewardsAdapter">
		<bind name="watch" value="'rewardsCollectionPath'; 'byDiffs.' + _difficulty + _operationId"/>
		<bind name="collectionDH" value="CC.operationTaskForReward; 'pveRewardsCollection'; rewardsCollectionPath"/>
		<bind name="entityDH" value="'rewardEntity_0'; pveRewardsCollection[0].id"/>
		<bind name="entityDH" value="'rewardEntity_1'; pveRewardsCollection[1].id"/>
		<bind name="entityDH" value="'rewardEntity_2'; pveRewardsCollection[2].id"/>
		<bind name="entityDH" value="'rewardEntity_3'; pveRewardsCollection[3].id"/>
		<bind name="entityDH" value="'rewardEntity_4'; pveRewardsCollection[4].id"/>
		<bind name="watchDH" value="'reward_0_rewardTime'; ['rewardEntity_0.pveReward.evRewardTimeChanged']; rewardEntity_0.pveReward.rewardTime"/>
		<bind name="watchDH" value="'reward_1_rewardTime'; ['rewardEntity_1.pveReward.evRewardTimeChanged']; rewardEntity_1.pveReward.rewardTime"/>
		<bind name="watchDH" value="'reward_2_rewardTime'; ['rewardEntity_2.pveReward.evRewardTimeChanged']; rewardEntity_2.pveReward.rewardTime"/>
		<bind name="watchDH" value="'reward_3_rewardTime'; ['rewardEntity_3.pveReward.evRewardTimeChanged']; rewardEntity_3.pveReward.rewardTime"/>
		<bind name="watchDH" value="'reward_4_rewardTime'; ['rewardEntity_4.pveReward.evRewardTimeChanged']; rewardEntity_4.pveReward.rewardTime"/>
		<bind name="watch" value="'giftsArr'; [	{state: reward_0_rewardTime ? 'issued' : 'not_issued', issued_date: reward_0_rewardTime,
								 rewards: rewardEntity_0.pveReward.rewardsCommon,  rewardsSpecial: rewardEntity_0.pveReward.rewardsSpecial},

								{state: reward_1_rewardTime ? 'issued' : 'not_issued', issued_date: reward_1_rewardTime,
								 rewards: rewardEntity_1.pveReward.rewardsCommon,  rewardsSpecial: rewardEntity_1.pveReward.rewardsSpecial},

								{state: reward_2_rewardTime ? 'issued' : 'not_issued', issued_date: reward_2_rewardTime,
								 rewards: rewardEntity_2.pveReward.rewardsCommon,  rewardsSpecial: rewardEntity_2.pveReward.rewardsSpecial},

								{state: reward_3_rewardTime ? 'issued' : 'not_issued', issued_date: reward_3_rewardTime,
								 rewards: rewardEntity_3.pveReward.rewardsCommon,  rewardsSpecial: rewardEntity_3.pveReward.rewardsSpecial},

								{state: reward_4_rewardTime ? 'issued' : 'not_issued', issued_date: reward_4_rewardTime,
								 rewards: rewardEntity_4.pveReward.rewardsCommon,  rewardsSpecial: rewardEntity_4.pveReward.rewardsSpecial}]"/>
	</block>
	<block className="OperationRewardsContainerAdapter">
		<block className="OperationRewardsAdapter">
			<bind name="watch" value="'rewardsCollectionPath'; 'byDiffs.' + _difficulty + _operationId"/>
			<bind name="collectionDH" value="CC.operationTaskForReward; 'pveRewardsCollection'; rewardsCollectionPath"/>
			<bind name="entityDH" value="'rewardEntity_0'; pveRewardsCollection[0].id"/>
			<bind name="entityDH" value="'rewardEntity_1'; pveRewardsCollection[1].id"/>
			<bind name="entityDH" value="'rewardEntity_2'; pveRewardsCollection[2].id"/>
			<bind name="entityDH" value="'rewardEntity_3'; pveRewardsCollection[3].id"/>
			<bind name="entityDH" value="'rewardEntity_4'; pveRewardsCollection[4].id"/>
			<bind name="watchDH" value="'reward_0_rewardTime'; ['rewardEntity_0.pveReward.evRewardTimeChanged']; rewardEntity_0.pveReward.rewardTime"/>
			<bind name="watchDH" value="'reward_1_rewardTime'; ['rewardEntity_1.pveReward.evRewardTimeChanged']; rewardEntity_1.pveReward.rewardTime"/>
			<bind name="watchDH" value="'reward_2_rewardTime'; ['rewardEntity_2.pveReward.evRewardTimeChanged']; rewardEntity_2.pveReward.rewardTime"/>
			<bind name="watchDH" value="'reward_3_rewardTime'; ['rewardEntity_3.pveReward.evRewardTimeChanged']; rewardEntity_3.pveReward.rewardTime"/>
			<bind name="watchDH" value="'reward_4_rewardTime'; ['rewardEntity_4.pveReward.evRewardTimeChanged']; rewardEntity_4.pveReward.rewardTime"/>
			<bind name="watch" value="'giftsArr'; [	{state: reward_0_rewardTime ? 'issued' : 'not_issued', issued_date: reward_0_rewardTime,
								 rewards: rewardEntity_0.pveReward.rewardsCommon,  rewardsSpecial: rewardEntity_0.pveReward.rewardsSpecial},

								{state: reward_1_rewardTime ? 'issued' : 'not_issued', issued_date: reward_1_rewardTime,
								 rewards: rewardEntity_1.pveReward.rewardsCommon,  rewardsSpecial: rewardEntity_1.pveReward.rewardsSpecial},

								{state: reward_2_rewardTime ? 'issued' : 'not_issued', issued_date: reward_2_rewardTime,
								 rewards: rewardEntity_2.pveReward.rewardsCommon,  rewardsSpecial: rewardEntity_2.pveReward.rewardsSpecial},

								{state: reward_3_rewardTime ? 'issued' : 'not_issued', issued_date: reward_3_rewardTime,
								 rewards: rewardEntity_3.pveReward.rewardsCommon,  rewardsSpecial: rewardEntity_3.pveReward.rewardsSpecial},

								{state: reward_4_rewardTime ? 'issued' : 'not_issued', issued_date: reward_4_rewardTime,
								 rewards: rewardEntity_4.pveReward.rewardsCommon,  rewardsSpecial: rewardEntity_4.pveReward.rewardsSpecial}]"/>
		</block>
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="repeat" value="_smallIcons ? giftsArr : 0; 'PVEStarIconReward'; {_rMargin: _rMargin, _giftsArr: giftsArr, _noAnimation: _noAnimation}"/>
	</block>
	<block className="PVEStarIconReward">
		<bind name="watch" value="'tooltipText'; subst('IDS_PVE_TASK_REWARDS_REASON', [], {task_count: ($index + 1)}, ($index + 1))"/>
		<bind name="tooltip" value="'RewardContainerTooltipPVE'; {	_state: state, _tooltipText: tooltipText, _issued_date: issued_date,
													_rewards: rewards, _rewardsSpecial: rewardsSpecial}"/>
		<bind name="style" value="'marginRight'; _rMargin ? _rMargin : '4px'"/>
		<bind name="instance" value="'PVETaskStatusIcon'; {_state: state, _index: $index, _noAnimation: true}"/>
	</block>
	<block className="PVETaskStatusIcon">
		<bind name="style" value="'alpha'; _noAnimation ? 1 : 0"/>
		<block className="icon_rank_star_small" type="native">
			<bind name="gotoAndStop!" value=" (_state == 'issued'	? 'earned'
													: 'not_earned')"/>
		</block>
	</block>
	<block className="RewardContainerTooltipPVE">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="340px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="16px"/>
					<marginBottom value="16px"/>
					<marginLeft value="16px"/>
					<marginRight value="16px"/>
				</style>
				<block>
					<style>
						<marginLeft value="8px"/>
						<marginRight value="8px"/>
					</style>
					<bind name="instance" value="'NoAnimationGiftboxReward'; {state: _state, _rewards: _rewards, _no_status_icon: true}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="16px"/>
					</style>
					<block type="text">
						<style>
							<width value="100%"/>
							<leading value="-4"/>
						</style>
						<styleClass value="$TextDefault19NM"/>
						<bind name="text" value="_tooltipText"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<bottom value="0px"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_state == 'issued' || _state == 'issued_now'"/>
			<bind name="timeFormat" value="_issued_date; 'dd.MM.yyyy'; 'formatted_issued_date'; true"/>
			<style>
				<width value="100%"/>
				<marginTop value="16px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="16px"/>
					<marginLeft value="16px"/>
					<marginRight value="16px"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefault19NM"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="_state == 'issued'		? subst('IDS_PVE_REWARD_ISSUED', [], {issued_date: formatted_issued_date}) :
							_state == 'issued_now'	? 'IDS_PVE_REWARD_ISSUED_THIS_BATTLE'
													: ''"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<bottom value="0px"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_rewards.length &gt; 0"/>
			<style>
				<width value="100%"/>
				<marginLeft value="16px"/>
				<marginRight value="12px"/>
			</style>
			<bind name="repeat" value="_rewards; 'RewardContainerTooltipItemAdapter'"/>
		</block>
		<block>
			<bind name="visible" value="_rewardsSpecial.length &gt; 0"/>
			<style>
				<width value="100%"/>
				<marginLeft value="16px"/>
				<marginRight value="12px"/>
			</style>
			<bind name="repeat" value="_rewardsSpecial; 'RewardContainerTooltipItemAdapter'"/>
		</block>
	</block>
	<block className="NoAnimationGiftboxReward">
		<bind name="style" value="'marginRight'; _rMargin"/>
		<bind name="watch" value="'tooltipText'; subst('IDS_PVE_TASK_REWARDS_REASON', [], {task_count: ($index + 1)}, ($index + 1))"/>
		<bind name="tooltip" value="'RewardContainerTooltipPVE'; {	_state: state, _tooltipText: tooltipText, _issued_date: issued_date,
													_rewards: rewards, _rewardsSpecial: rewardsSpecial}"/>
		<bind name="watch" value="'curState'; (state == 'issued_now') ? true : false"/>
		<block>
			<bind name="visible" value="(state == 'issued_now')"/>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<block className="glow_animation" type="native">
				<bind name="gotoAndPlay!" value="(state == 'issued_now'	? 'animation'
														: 'stop')"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="scaleX" value="_scale ? (_scale - 0.29) : 0.71"/>
				<bind name="scaleY" value="_scale ? (_scale - 0.29) : 0.71"/>
			</block>
		</block>
		<block>
			<bind name="style" value="'alpha';	(state == 'issued' 			? 0.65 :
								state == 'not_issued_now'	? 0.55
															: 1)"/>
			<block>
				<bind name="style" value="'marginBottom'; _no_status_icon ? '0px' : '8px'"/>
				<bind name="instance" value="'GiftBoxIconSmall'; { _scale: _scale, _issued: curState }"/>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'PVETaskStatusIcon'; _no_status_icon	? null 
																	: {_state: state, _index: $index, _noAnimation: true}"/>
			</block>
		</block>
	</block>
	<block className="DifficultySwitcher">
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; _operationId"/>
		<bind name="watchDH" value="'operationType';	['operationEntity.operation.evStatusChanged']; operationEntity.operation.type"/>
		<bind name="watchDH" value="'operationIsHard'; []; operationEntity.operation.isHard"/>
		<bind name="primaryEntityDH" value="'pveBattleTypeEntity'; CC.battleType; BattleTypes.PVE_BATTLE"/>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'hardComingSoon'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.hardComingSoon"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="catch" value="'setDifficulty'"/>
		<bind name="watch" value="'opDifficulty'; (userPrefs.uiPVEOperationsDifficulty == null)	? 'normal'
																				: userPrefs.uiPVEOperationsDifficulty"/>
		<bind name="changeDispatch" value="opDifficulty; 'opDifficultyChangedEv'; {}; 2"/>
		<bind name="action" value="'opDifficultyChangedEv'; 'setUserPref'; {value: opDifficulty, name: 'uiPVEOperationsDifficulty'}"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<height value="136px"/>
				<width value="136px"/>
				<marginBottom value="16px"/>
			</style>
			<block className="icon_battletypes_big" type="native">
				<bind name="transition" value="!(operationIsHard); 0.15; {alpha: 0}; {alpha: 1}; {alpha: 0}; (opDifficulty == 'normal') ? 0 : 0.05"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="gotoAndStop!" value="(operationType == 'event' ? 'PVEBattle_event' : 'PVEBattle')"/>
			</block>
			<block className="icon_battletypes_big" type="native">
				<bind name="transition" value="(operationIsHard); 0.15; {alpha: 0}; {alpha: 1}; {alpha: 0}; (opDifficulty == 'hard') ? 0 : 0.05"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="gotoAndStop!" value="(operationType == 'event' ? 'PVEBattle_event_hard' : 'PVEBattle_hard')"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<alpha value="0.7"/>
				<marginTop value="720:30,1080:32ah"/>
			</style>
			<bind name="repeat" value="	[	{_paragraphText: 'IDS_PVE_OPERATION_HINT_0'},
							{_paragraphText: 'IDS_PVE_OPERATION_HINT_1'},
							{_paragraphText: subst('IDS_PVE_OPERATION_HINT_2', [], {minPlayers: pveBattleTypeEntity.divisionRestrictions.shipsCount[0]})}
						];	'RepeatParagraphItem'; {	_maxWidth: 270, _marginBottom: '22px',
														_middleAligned: false, _class: '$TextDefault19NM',
														_textAlign: 'left', _leading: -2}"/>
		</block>
	</block>
	<block className="BattleLoadingMinimap">
		<bind name="name" value="'BattleLoadingMinimap'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'capturePoints'; 'capturePointsCollection'"/>
		<bind name="collectionDH" value="CC.building; 'forts'"/>
		<style>
			<width value="1px"/>
			<height value="1px"/>
		</style>
		<bind name="var" value="{minimapSize: 360}"/>
		<bind name="style" value="'width'; minimapSize + 'px'"/>
		<bind name="style" value="'height'; minimapSize + 'px'"/>
		<bind name="firstEntityDH" value="'minimapEntity'; CC.minimap"/>
		<bind name="watch" value="'mapBorderScale'; minimapEntity.mapBorder.ratio"/>
		<bind name="watch" value="'mapBorderMarginX'; - minimapSize * minimapEntity.mapBorder.relativeMargin.x"/>
		<bind name="watch" value="'mapBorderMarginY'; - minimapSize * minimapEntity.mapBorder.relativeMargin.y"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundStretchY value="true"/>
				<backgroundStretchX value="true"/>
				<alpha value="0.7"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + _battleModeInfo.minimapWaterPath"/>
		</block>
		<block className="universal_mask" type="native">
			<bind name="style" value="'width'; minimapSize + 'px'"/>
			<bind name="style" value="'height'; minimapSize + 'px'"/>
			<bind name="isMask" value="true"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<backgroundStretchY value="true"/>
					<backgroundStretchX value="true"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + _battleModeInfo.minimapPath"/>
				<bind name="style" value="'width'; (minimapSize * mapBorderScale) + 'px'"/>
				<bind name="style" value="'height'; (minimapSize * mapBorderScale) + 'px'"/>
				<bind name="style" value="'left'; (mapBorderMarginX * mapBorderScale) + 'px'"/>
				<bind name="style" value="'top'; (mapBorderMarginY * mapBorderScale) + 'px'"/>
			</block>
		</block>
		<block className="minimap_grid" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<left value="-30px"/>
			</style>
			<bind name="repeat" value="['A','B','C','D','E','F','G','H','I','J']; 'MinimapSectorLabel'; { size: minimapSize / 10}"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<top value="-30px"/>
				<flow value="horizontal"/>
			</style>
			<bind name="repeat" value="[1,2,3,4,5,6,7,8,9,10]; 'MinimapSectorLabel'; { size: minimapSize / 10}"/>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="repeat" value="capturePointsCollection; 'MinimapCircleItem'; { minimapSize: minimapSize}"/>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="repeat" value="capturePointsCollection; 'MinimapPointItem'; { minimapSize: minimapSize, modeId: _battleModeInfo.modeId }"/>
			<bind name="repeat" value="forts; 'MinimapFortsItem'; {minimapSize: minimapSize}"/>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="repeat" value="_allies; 'MinimapShipItem'; { minimapSize: minimapSize }"/>
		</block>
	</block>
	<block className="MinimapShipItem">
		<style>
			<position value="absolute"/>
		</style>
		<bind name="visible" value="(worldPos.x + worldPos.z &gt; 0) &amp;&amp; worldPos.x &lt;= 1 &amp;&amp; worldPos.z &lt;= 1"/>
		<bind name="tooltip" value="'SimpleTooltip'; relation == 0	? {tooltipText: 'IDS_MY_SHIP'}
													: {tooltipText: tr('IDS_ALLY') + ' ' + ((shipTypeIdent == ShipTypes.Auxiliary)	?	toLowerCase(tr('IDS_SHIP'))
																																	:	toLowerCase(tr('IDS_' + toUpperCase(shipTypeIdent))))}"/>
		<bind name="left" value="worldPos.x * minimapSize"/>
		<bind name="top" value="worldPos.z * minimapSize"/>
		<block className="icon_ships_minimap" type="native">
			<bind name="gotoAndStop!" value="relation == 0 ? 'Player' 
										: isInSameDivision ? shipTypeIdent + '_division'
										: tkStatus ? shipTypeIdent + '_teamkiller' : shipTypeIdent"/>
			<bind name="rotation" value="worldYaw * 180 / 3.14"/>
		</block>
	</block>
	<block className="MinimapCircleItem">
		<style>
			<position value="absolute"/>
			<alpha value="1"/>
		</style>
		<bind name="left" value="posX * minimapSize"/>
		<bind name="top" value="posY * minimapSize"/>
		<block className="lesta.display.CapturePointShape" type="native">
			<bind name="radius" value="radius * minimapSize"/>
			<bind name="innerRadius" value="innerRadius * minimapSize"/>
			<bind name="maxRadius" value="maxRadius * minimapSize"/>
			<bind name="relation" value="ownerRelation"/>
			<bind name="visible" value="visible"/>
		</block>
	</block>
	<block className="MinimapPointItem">
		<style>
			<position value="absolute"/>
		</style>
		<bind name="left" value="posX * minimapSize"/>
		<bind name="top" value="posY * minimapSize"/>
		<bind name="visible" value="visible"/>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; ownerRelation == 1 	? {tooltipText: 'IDS_ALLY_BASE'}
															: ownerRelation == 2 ? {tooltipText: 'IDS_ENEMY_BASE'} : null"/>
			<bind name="visible" value="(type == CapturePointType.BASE || type == CapturePointType.MEGABASE)"/>
			<block className="icon_base_minimap" type="native">
				<bind name="gotoAndStop!" value="type == CapturePointType.BASE ? ownerRelation : ownerRelation+3"/>
			</block>
		</block>
		<block>
			<bind name="left" value="linkIndex * 40"/>
			<bind name="var" value="{ capturePointName: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'] }"/>
			<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: (type == CapturePointType.BASE_WITH_POINTS) 	? (ownerRelation == 1) ? 'IDS_ALLY_BASE' : 'IDS_ENEMY_BASE'
																									: tr('IDS_CAPTURE_POINT') + ' ' + capturePointName[id] }"/>
			<bind name="visible" value="(type == CapturePointType.CONTROL || type == CapturePointType.BASE_WITH_POINTS)"/>
			<block className="icon_capture_point_minimap" type="native">
				<bind name="gotoAndStop!" value="type == CapturePointType.BASE_WITH_POINTS ? 11 + ownerRelation : (id + 1)"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="type == CapturePointType.BUILDING_CP"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr('IDS_CAPTURE_SECTOR') + ' ' + (id + 1)}"/>
			<block className="icon_capture_sector_minimap" type="native">
				<bind name="gotoAndStop!" value="'relation_' + ownerRelation"/>
			</block>
			<block type="text">
				<style>
					<position value="absolute"/>
					<top value="-12px"/>
					<left value="-6px"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="ownerRelation == 1 ? '$FontColorComparePositive' :
						 ownerRelation == 2 ? '$FontColorCompareNegative'
											: '$FontColorWhite'"/>
				<bind name="text" value="id + 1"/>
			</block>
		</block>
	</block>
	<block className="MinimapFortsItem">
		<bind name="entityDH" value="'mapFortPoint'; id"/>
		<bind name="watchDH" value="'relation'; ['mapFortPoint.relation.evChanged']; mapFortPoint.relation.value"/>
		<bind name="watchDH" value="'mapVisible'; ['mapFortPoint.visibility.evChanged']; mapFortPoint.visibility.mapVisible"/>
		<bind name="watch" value="'isVisible'; mapVisible &amp;&amp; !!(mapFortPoint.mapPosition)"/>
		<style>
			<position value="absolute"/>
		</style>
		<bind name="visible" value="isVisible"/>
		<bind name="left" value="isVisible ? mapFortPoint.mapPosition.position.x * minimapSize : 0"/>
		<bind name="top" value="isVisible ? mapFortPoint.mapPosition.position.y * minimapSize : 0"/>
		<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: tr(toUpperCase('IDS_' + relation + '_' + mapFortPoint.building.type))}"/>
		<block>
			<block className="icon_forts_minimap" type="native">
				<bind name="gotoAndStop!" value="mapFortPoint.building.type + relation"/>
			</block>
		</block>
	</block>
	<block className="MinimapSectorLabel">
		<style>
			<height value="1px"/>
			<width value="1px"/>
		</style>
		<bind name="style" value="'width'; size + 'px'"/>
		<bind name="style" value="'height'; size + 'px'"/>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextSecondaryBold"/>
			<bind name="text" value="$value"/>
		</block>
	</block>
	<block className="GalleryViewer">
		<bind name="watch" value="'currentSelectedImage'; 	_currentImageIdx ? _currentImageIdx : 1"/>
		<bind name="watch" value="'nextSelectedImage'; 		(currentSelectedImage == _galleryItemRendererParams.length	? 1
																										: currentSelectedImage + 1)"/>
		<bind name="watch" value="'previousSelectedImage';	(currentSelectedImage == 1	? _galleryItemRendererParams.length
																		: currentSelectedImage - 1)"/>
		<bind name="dispatch" value="'imageSelectionEv'; 'changeImage'; null; 1; 0.08"/>
		<bind name="catch" value="'imageSelectionEv'"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="var" value="{ _isAutoSwitchStoped: false }"/>
		<bind name="watch" value="'autoSwitchStopped'; _isAutoSwitchStoped == true || _galleryItemRendererParams.length &lt; 2"/>
		<bind name="catch" value="'nextEv'; 		{ autoSwitchStopped: true }"/>
		<bind name="catch" value="'previousEv'; 	{ autoSwitchStopped: true }"/>
		<bind name="catch" value="'changeImage'; { autoSwitchStopped: true }"/>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="var" value="{ timerTimeStamp: 0 }"/>
		<bind name="catch" value="'addedToStage'; { timerTimeStamp: serverTime - (-_autoSwitchDelay) }"/>
		<bind name="countdown" value="timerTimeStamp; 'countdownText'; 'ss'; (autoSwitchStopped == true) ? null : 'timeoutEvent'"/>
		<bind name="catch" value="'timeoutEvent'; (autoSwitchStopped == true) ? null : { timerTimeStamp: serverTime - (-_autoSwitchDelay), currentSelectedImage: nextSelectedImage}"/>
		<bind name="dispatch" value="'timeoutEvent'; (autoSwitchStopped == true) ? null : 'timeOutEv'; {}; 1"/>
		<block>
			<bind name="visible" value="(_galleryItemRendererParams.length &gt; 1) &amp;&amp; (_arrowsDisabled != true)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<bind name="transition" value="rollOver; 0.15; {alpha: 0.5}; {alpha: 1}"/>
			<bind name="dispatch" value="'click'; 'previousEv'; {}; 1"/>
			<bind name="catch" value="'click'; { currentSelectedImage: previousSelectedImage }"/>
			<bind name="soundOn" value="'mouseDown'; 'press'; 'default_button'"/>
			<bind name="style" value="'height'; _fakeHitboxWidth &gt; 0 ? _galleryImageHeight + 'px' : '100%' "/>
			<style>
				<width value="40px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block className="button_slide_left" type="native">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAligned"/>
			</block>
			<block>
				<bind name="visible" value="_fakeHitboxWidth &gt; 0"/>
				<bind name="style" value="'width'; _fakeHitboxWidth ? _fakeHitboxWidth + 'px' : '0' "/>
				<bind name="style" value="'left'; _fakeHitboxWidth ? -(_fakeHitboxWidth - 40) + 'px' : '0' "/>
				<style>
					<backgroundColor value="0x01000000"/>
					<height value="100%"/>
					<position value="absolute"/>
				</style>
			</block>
		</block>
		<block>
			<block>
				<style>
					<overflow value="scroll"/>
					<scrollbar value="ModernScrollBar"/>
					<scrollbarController value="lesta.unbound.style.UbScrollingControllerModern"/>
					<scrollArea value="ModernScrollArea"/>
					<scrollbarTrackMode value="scrollToCursor"/>
				</style>
				<bind name="style" value="'width'; _galleryImageWidth + 'px'"/>
				<bind name="style" value="'height'; _galleryImageHeight + 'px'"/>
				<bind name="repeat" value="_galleryItemRendererParams; 'GalleryItem'; {	_currentSelectedImage: 	 	currentSelectedImage,
																		_nextSelectedImage: 		nextSelectedImage,
																		_previousSelectedImage: 	previousSelectedImage,
																		_galleryImageWidth: 		_galleryImageWidth, 
																		_galleryImageHeight: 		_galleryImageHeight, 
																		_galleryItemRenderer: 		_galleryItemRenderer, 
																		_galleryItemRendererParams: _galleryItemRendererParams
																	}; true"/>
			</block>
			<block>
				<bind name="visible" value="(_galleryItemRendererParams.length &gt; 1) &amp;&amp; (_indicatorDisabled != true)"/>
				<bind name="style" value="'marginLeft'; _galleryItemRendererImageIndicatorMarginLeft ? (_galleryItemRendererImageIndicatorMarginLeft + 'px') : 0"/>
				<bind name="repeat" value="_galleryItemRendererParams; _galleryItemRendererImageIndicator; 	{	
																							_currentSelectedImage: currentSelectedImage,
																							_imageCount: _galleryItemRendererParams.length,
																							_imageWidth: _galleryImageWidth
																							}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_galleryItemRendererParams.length &gt; 1) &amp;&amp; (_arrowsDisabled != true)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<bind name="transition" value="rollOver; 0.15; {alpha: 0.5}; {alpha: 1}"/>
			<bind name="dispatch" value="'click'; 'nextEv'; {}; 1"/>
			<bind name="catch" value="'click'; { currentSelectedImage: nextSelectedImage }"/>
			<bind name="soundOn" value="'mouseDown'; 'press'; 'default_button'"/>
			<bind name="style" value="'height'; _fakeHitboxWidth &gt; 0 ? _galleryImageHeight + 'px' : '100%' "/>
			<style>
				<width value="40px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block className="button_slide_right" type="native">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAligned"/>
			</block>
			<block>
				<bind name="visible" value="_fakeHitboxWidth &gt; 0"/>
				<bind name="style" value="'width'; _fakeHitboxWidth ? _fakeHitboxWidth + 'px' : '0' "/>
				<style>
					<backgroundColor value="0x01000000"/>
					<height value="100%"/>
					<position value="absolute"/>
				</style>
			</block>
		</block>
	</block>
	<block className="GalleryItem">
		<bind name="var" value="{imageIndex: $index + 1}"/>
		<bind name="appear" value="imageIndex == _nextSelectedImage		?	'timeOutEv'		: null ; 0.35; 0; 	{alpha: 1, left: _galleryImageWidth};		{alpha: 1, left: 0}; 1"/>
		<bind name="appear" value="imageIndex == _currentSelectedImage	?	'timeOutEv'		: null ; 0.35; 0; 	{alpha: 1, left: 0};						{alpha: 1, left: -_galleryImageWidth}; 1"/>
		<bind name="appear" value="imageIndex == _nextSelectedImage		?	'nextEv'		: null ; 0.35; 0; 	{alpha: 1, left: _galleryImageWidth};		{alpha: 1, left: 0}; 1"/>
		<bind name="appear" value="imageIndex == _currentSelectedImage	?	'nextEv'		: null ; 0.35; 0; 	{alpha: 1, left: 0};						{alpha: 1, left: -_galleryImageWidth}; 1"/>
		<bind name="appear" value="imageIndex == _previousSelectedImage 	?	'previousEv'	: null ; 0.35; 0; 	{alpha: 1, left: -_galleryImageWidth};		{alpha: 1, left: 0}; 1"/>
		<bind name="appear" value="imageIndex == _currentSelectedImage 	?	'previousEv'	: null ; 0.35; 0; 	{alpha: 1, left: 0};						{alpha: 1, left: _galleryImageWidth}; 1"/>
		<bind name="appear" value="imageIndex == _currentSelectedImage 	?	'changeImage'	: null ; 0.35; 0; 	{alpha: 1, left: 0};						{alpha: 1, left: 0}; 1"/>
		<bind name="appear" value="imageIndex != _currentSelectedImage	? 	'changeImage'	: null ; 0; 0;		{alpha: 0, left: _galleryImageWidth};		{alpha: 0, left: _galleryImageWidth}; 1"/>
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="style" value="'alpha'; (imageIndex == _currentSelectedImage) ? 1 : 0)"/>
		<bind name="instance" value="_galleryItemRenderer; { _galleryItemRendererParams: _galleryItemRendererParams, _index: $index,
											_galleryImageWidth: _galleryImageWidth, _galleryImageHeight: _galleryImageHeight }"/>
	</block>
	<block className="SelectedImageIndicator">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="watch" value="'indicatorLength'; ((_imageWidth - ((_imageCount - 1)*2)) / _imageCount)"/>
		<bind name="watch" value="'indicatorLengthRemainder'; ((_imageWidth - ((_imageCount - 1)*2)) % _imageCount)"/>
		<bind name="style" value="'marginRight'; (($index + 1) &lt; _imageCount) ? '2px' : '0px'"/>
		<bind name="style" value="'width'; $index &lt; indicatorLengthRemainder ? ((indicatorLength + 1) + 'px') : indicatorLength + 'px'"/>
		<bind name="var" value="{ imageIndex: $index + 1 }"/>
		<bind name="dispatch" value="'click'; 'imageSelectionEv'; { currentSelectedImage: imageIndex }; 0"/>
		<bind name="soundOn" value="'mouseDown'; 'press'; 'default_button'"/>
		<bind name="style" value="'backgroundColor'; ( _currentSelectedImage == imageIndex ) ? '0xCC4CE8AA' : '0x779CBABA'"/>
		<bind name="transition" value="rollOver; 0.05; {height: 5}; {height: 10}"/>
		<style>
			<height value="5px"/>
		</style>
		<block>
			<style>
				<backgroundColor value="0x01000000"/>
				<height value="60px"/>
				<top value="-10px"/>
				<position value="absolute"/>
				<width value="100%"/>
			</style>
		</block>
	</block>
	<block className="SelectedImageIndicatorAccountLeveling">
		<bind name="watch" value="'indicatorState'; _currentSelectedImage == imageIndex ? 'selected' : 'unselected'"/>
		<bind name="var" value="{ imageIndex: $index + 1 }"/>
		<bind name="dispatch" value="'click'; 'imageSelectionEv'; { currentSelectedImage: imageIndex }; 0"/>
		<bind name="soundOn" value="'mouseDown'; 'press'; 'default_button'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; null; 'ct_'"/>
		<bind name="var" value="{ 
		ctRollOver: {
			redMultiplier: 1,
			greenMultiplier: 1,
			blueMultiplier: 1,
			alphaMultiplier: 1,
			redOffset: 30,
			greenOffset: 30,
			blueOffset: 30,
			alphaOffset: 0
		}
	}"/>
		<bind name="var" value="{ 
		ctMouseDown: {
			redMultiplier: 1,
			greenMultiplier: 1,
			blueMultiplier: 1,
			alphaMultiplier: 1,
			redOffset: -30,
			greenOffset: -30,
			blueOffset: -30,
			alphaOffset: 0
		}
	}"/>
		<bind name="colorTransform" value="	true &amp;&amp; (ct_mouseDown)	? ctMouseDown :
							true &amp;&amp; (ct_rollOver)	? ctRollOver
														: {}"/>
		<style>
			<width value="25px"/>
			<height value="25px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="9px"/>
				<height value="9px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../accountLevel/progressBarIcons/account_leveling_gallery_conrol_' + indicatorState + '.png'"/>
		</block>
	</block>
	<block className="BattleGalleryItem">
		<style>
			<width value="900px"/>
			<height value="382px"/>
		</style>
		<block>
			<bind name="child" value="_galleryItemRendererParams[_index].image.type; { 	_galleryItemRendererParams: _galleryItemRendererParams,
																		_galleryImageWidth: 		900, 
																		_galleryImageHeight: 		382, 
																		_index: 					_index
																	}; 
																	{ 	Default: 	'DefaultPngViewer',
																		Hotkey: 	'HotkeyViewer',
																		Indicator: 	'IndicatorViewer'
																	}"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="0px"/>
			</style>
			<bind name="instance" value="'TextRenderer'; { _galleryItemRendererParams: _galleryItemRendererParams, _index: _index}"/>
		</block>
	</block>
	<block className="DefaultPngViewer">
		<bind name="style" value="'width'; _galleryImageWidth + 'px'"/>
		<bind name="style" value="'height'; _galleryImageHeight + 'px'"/>
		<bind name="style" value="'backgroundImage'; _galleryItemRendererParams[_index].image.imagePath"/>
	</block>
	<block className="HotkeyViewer">
		<block>
			<bind name="instance" value="'DefaultPngViewer'; { _galleryImageWidth: _galleryImageWidth, _galleryImageHeight: _galleryImageHeight, _galleryItemRendererParams: _galleryItemRendererParams, _index: _index }"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<left value="108px"/>
				<bottom value="42px"/>
			</style>
			<block type="text">
				<style>
					<marginLeft value="-50%"/>
				</style>
				<bind name="substitute" value="5; null; tr(_galleryItemRendererParams[_index].image.hotkey); '_bg'"/>
			</block>
		</block>
	</block>
	<block className="IndicatorViewer">
		<block>
			<bind name="instance" value="'DefaultPngViewer'; { _galleryImageWidth: _galleryImageWidth, _galleryImageHeight: _galleryImageHeight, _galleryItemRendererParams: _galleryItemRendererParams, _index: _index }"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="377px"/>
				<top value="46px"/>
				<width value="150px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<backgroundImage value="symbol:icon_visibility_ship"/>
				</style>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="27px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="150"/>
						<textAlign value="center"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorUnready'"/>
					<bind name="text" value="toUpperCase(tr(_galleryItemRendererParams[_index].image.indicatorText))"/>
				</block>
			</block>
		</block>
	</block>
	<block className="TextRenderer">
		<style>
			<width value="360px"/>
			<height value="382px"/>
			<backgroundColor value="0x50000000"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="30px"/>
				<marginLeft value="20px"/>
				<marginRight value="20px"/>
			</style>
			<block>
				<block type="text">
					<style>
						<maxWidth value="320"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="text" value="toUpperCase(tr(_galleryItemRendererParams[_index].description.textHeader))"/>
				</block>
			</block>
			<block>
				<styleClass value="$DefaultScrollBar"/>
				<style>
					<width value="100%"/>
					<height value="290px"/>
					<marginTop value="15px"/>
					<overflow value="scroll"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="320"/>
						<leading value="2.5"/>
					</style>
					<styleClass value="$TextHeader"/>
					<bind name="substitute" value="6; null; tr(_galleryItemRendererParams[_index].description.text); '_bg'"/>
				</block>
			</block>
		</block>
	</block>
	<css name="$TextMouseDisable">
		<mouseChildren value="false"/>
		<selectable value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$MouseEnable">
		<hitTest value="true"/>
		<mouseChildren value="true"/>
		<mouseEnabled value="true"/>
	</css>
	<css name="$FontFamilyDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontFamilyDefaultBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontFamilyDefaultBoldTabs">
		<fontFamily value="$WWSDefaultFontBold"/>
		<dropShadowFilter value="0 90 0x000000 1 2 2 1"/>
	</css>
	<css name="$Bold">
		<fontFamily value="$WWSDefaultFontBold"/>
	</css>
	<css name="$FontColorDefault">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorGrey">
		<textColor value="0xDDDDDD"/>
	</css>
	<css name="$FontColorStrongGrey">
		<textColor value="0x636363"/>
	</css>
	<css name="$FontColorWhite">
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$FontColorBlueish">
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$FontColorStrongBlueish">
		<textColor value="0x758b8b"/>
	</css>
	<css name="$FontColorDarkBlueish">
		<textColor value="0x2B393A"/>
	</css>
	<css name="$FontColorSpecialButton">
		<textColor value="0xFFE8D3"/>
	</css>
	<css name="$FontColorTurquoise">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorBuoyancy">
		<textColor value="0x13C9F7"/>
	</css>
	<css name="$FontColorHealth">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontColorGolden">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorGold">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorFreeExp">
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$FontColorExp">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorUnready">
		<textColor value="0xFF9933"/>
	</css>
	<css name="$FontColorAlmostBlack">
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontColorTeamkiller">
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$FontColorTTK">
		<textColor value="0xc8751c"/>
	</css>
	<css name="$FontColorParty">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorDefaultButtonUp">
		<textColor value="0xc7e2e2"/>
	</css>
	<css name="$FontColorTabButtonDown">
		<textColor value="0x999999"/>
	</css>
	<css name="$FontColorTabButtonSelectedUp">
		<textColor value="0xAABFBF"/>
	</css>
	<css name="$FontColorComparePositive">
		<textColor value="0x4CE8AA"/>
	</css>
	<css name="$FontColorCompareNegative">
		<textColor value="0xFF6600"/>
	</css>
	<css name="$FontColorMercenaries">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontSizeThumbelina">
		<fontSize value="7"/>
	</css>
	<css name="$FontSizeNano">
		<fontSize value="11"/>
	</css>
	<css name="$FontSizeSmall">
		<fontSize value="13"/>
	</css>
	<css name="$FontSizeDefault">
		<fontSize value="15"/>
	</css>
	<css name="$FontSizeLarge">
		<fontSize value="17"/>
	</css>
	<css name="$FontSizeHeader6">
		<fontSize value="19"/>
	</css>
	<css name="$FontSizeHeader5">
		<fontSize value="21"/>
	</css>
	<css name="$FontSizeHeader4">
		<fontSize value="23"/>
	</css>
	<css name="$FontSizeHeader3">
		<fontSize value="25"/>
	</css>
	<css name="$FontSizeHeader2">
		<fontSize value="30"/>
	</css>
	<css name="$FontSizeHeader1">
		<fontSize value="36"/>
	</css>
	<css name="$FontAccentSize2">
		<fontSize value="50"/>
	</css>
	<css name="$FontAccentSize1">
		<fontSize value="60"/>
	</css>
	<css name="$LetterSpacingSmall">
		<letterSpacing value="0"/>
	</css>
	<css name="$InvertedTextEffect">
		<dropShadowFilter value="0 90 0xffffff 1.0 3.0 3.0 0.3"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 5.0 3.0 0.9 2"/>
	</css>
	<css name="$BlockGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 4.0 3.0 0.2 2"/>
	</css>
	<css name="$GlowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$DropShadowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$FontDropShadowFilter1">
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontDropShadowWhite">
		<dropShadowFilter value="0 90 0xffffff 1.0 3.0 3.0 0.3"/>
	</css>
	<css name="$BlockDropShadowTabText">
		<dropShadowFilter value="0 90 0x000000 1 2 2 1"/>
	</css>
	<block className="DefaultButton">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="name" value="_containerName ? _containerName : null"/>
		<block className="button_default" type="native">
			<bind name="style" value="'width'; _width ? _width : '100%'"/>
			<bind name="label" value="_label"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="focusable" value="_focusIndex ? true : false"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			<bind name="name" value="_name ? _name : null"/>
			<bind name="input"/>
			<block>
				<bind name="visible" value="_isExternal == true"/>
				<style>
					<position value="absolute"/>
					<top value="7px"/>
					<right value="4px"/>
					<hitTest value="false"/>
				</style>
				<block className="icon_out_grey" type="native"/>
			</block>
		</block>
	</block>
	<block className="DefaultButtonBig">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="name" value="_containerName ? _containerName : null"/>
		<block className="button_default_big" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="name" value="_name ? _name : null"/>
			<bind name="input"/>
			<bind name="label" value="_label"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
		</block>
	</block>
	<css name="$ResizeableButtonLabelWithoutAlignment">
		<marginLeft value="16px"/>
		<marginRight value="16px"/>
	</css>
	<block className="DefaultButtonCostMedium">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="tooltip" value="'DiscountTooltip'; priceInfo.basePrice &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) ? { priceInfo: priceInfo, _isExternal: _isExternal } : null"/>
		<style>
			<width value="1px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="style" value="'height'; _height ? _height : 'auto'"/>
		<bind name="name" value="_name ? _name : null"/>
		<block className="button_default_no_label" type="native">
			<style>
				<width value="1px"/>
			</style>
			<bind name="style" value="'width'; _width ? _width : '100%'"/>
			<bind name="style" value="'height'; _height ? _height : 'auto'"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="dispatch" value="'buttonClick'; _dispatchEvent ? _dispatchEvent : null"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="selected" value="_selected"/>
			<block>
				<bind name="class" value="_width ? '$ResizeableButtonLabelWithoutAlignment' : '$MiddleAligned'"/>
				<style>
					<marginTop value="3px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorDefaultButtonUp'"/>
					<bind name="class" value="_enabled ? '$None' : '$FontColorAlmostBlack'"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<bind name="visible" value="priceInfo.finalPrice &gt; 0"/>
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'PriceTag'; priceInfo.finalPrice &gt; 0 ? {priceInfo: priceInfo, _showDiscountTag: _showDiscountTag } : null"/>
				</block>
				<block>
					<bind name="visible" value="_isExternal == true"/>
					<style>
						<marginTop value="2px"/>
						<marginLeft value="8px"/>
					</style>
					<block className="icon_out_grey" type="native"/>
				</block>
				<block>
					<bind name="fade" value="_isNewMarker; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
					<style>
						<position value="absolute"/>
						<right value="-35px"/>
						<top value="-4px"/>
					</style>
					<bind name="instance" value="'MarkerNewAttention'; { }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ButtonCostSpecial">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<style>
			<width value="130px"/>
		</style>
		<block className="button_default_always_hover" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="enabled" value="(_enabled &amp;&amp; !(operationsAccountLocked))"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="input"/>
			<bind name="label" value="_label"/>
		</block>
	</block>
	<block className="DefaultButtonCostSmall">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="tooltip" value="'DiscountTooltip'; priceInfo.basePrice &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) ? { priceInfo: priceInfo } : null"/>
		<block className="button_default_no_label_small" type="native">
			<bind name="enabled" value="(_enabled &amp;&amp; !(operationsAccountLocked))"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<block>
				<style>
					<marginBottom value="1px"/>
					<marginRight value="18px"/>
					<marginLeft value="18px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="class" value="'$FontColorDefaultButtonUp'"/>
					<bind name="class" value="_enabled ? '$None' : '$FontColorAlmostBlack'"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="2px"/>
					</style>
					<bind name="instance" value="'PriceTag'; priceInfo.finalPrice &gt; 0 ? {priceInfo: priceInfo, _small: true, _showDiscountTag: _showDiscountTag} : null"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ButtonSpecial">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="_name"/>
		<block className="button_special_no_label" type="native">
			<bind name="soundSet" value="'hard_button'"/>
			<bind name="enabled" value="_enabled"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="style" value="'width'; _width ? _width : '100%f'"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="focusable" value="_focusIndex ? true : false"/>
			<block>
				<bind name="class" value="_width ? '$MiddleAligned' : '$None'"/>
				<style>
					<width value="100%f"/>
				</style>
				<block type="text">
					<style>
						<marginRight value="18px"/>
						<marginLeft value="18px"/>
						<marginTop value="3px"/>
						<marginBottom value="4px"/>
						<hitTest value="false"/>
					</style>
					<bind name="class" value="_enabled 	? '$FontDropShadowFilter1' 	: '$FontDropShadowWhite'"/>
					<bind name="class" value="_enabled 	? rollOver &amp;&amp; !(mouseDown) 	? '$FontColorDefault' 
																	: '$FontColorSpecialButton'
										: '$FontColorAlmostBlack'"/>
					<styleClass value="$TextDefaultBold"/>
					<bind name="text" value="_label"/>
				</block>
			</block>
		</block>
	</block>
	<block className="DockButton">
		<style>
			<width value="100%"/>
		</style>
		<block className="button_dock" type="native">
			<bind name="name" value="_name"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<bind name="enabled" value="_enabled"/>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="3px"/>
					<mouseEnabled value="false"/>
					<mouseChildren value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<bind name="text" value="_label"/>
			</block>
		</block>
	</block>
	<block className="ResizableButtonDock">
		<style>
			<width value="100%f"/>
		</style>
		<bind name="watch" value="'enabled'; _enabled != false"/>
		<bind name="name" value="_name"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; null; 'resizableButtonDock_'"/>
		<bind name="clickSplit"/>
		<bind name="request" value="'left_click'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
		<bind name="action" value="'left_click'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
		<bind name="transition" value="resizableButtonDock_rollOver &amp;&amp; !(resizableButtonDock_mouseDown) &amp;&amp; enabled; 0.1; {alpha: 0.65}; {alpha: 1}; {alpha: 0.65}"/>
		<bind name="soundOn" value="'left_click'; 'press'; 'default_button'"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="-10px"/>
				<marginRight value="-10px"/>
				<marginBottom value="-9px"/>
				<marginTop value="-10px"/>
			</style>
			<bind name="style" value="'hitTest'; enabled"/>
			<block className="button_dock_bg" type="native">
				<styleClass value="$Fullsize"/>
				<bind name="gotoAndStop!" value="'down'"/>
			</block>
		</block>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<mouseEnabled value="false"/>
				<mouseChildren value="false"/>
			</style>
			<bind name="style" value="'alpha'; enabled ? 1 : 0.65"/>
			<styleClass value="$TextDefaultBoldNM"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="_label"/>
		</block>
	</block>
	<block className="InfopanelButton">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
		<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
		<bind name="watch" value="'infopanelButtonOverAlpha';	(mouseDown)		? 0.3 :
												(rollOver)		? 1
																: 0.6"/>
		<bind name="tooltip" value="'SimpleTooltip'; _tooltipIDS ? { tooltipText: _tooltipIDS } : null"/>
		<bind name="style" value="'alpha'; infopanelButtonOverAlpha"/>
		<bind name="name" value="_name"/>
		<block className="button_infopanel_no_label" type="native">
			<bind name="style" value="'width'; _width ? _width : '150px'"/>
			<bind name="style" value="'height'; _height ? _height : '40px'"/>
			<block>
				<styleClass value="$Fullsize"/>
				<style>
					<hitTest value="false"/>
				</style>
				<block>
					<bind name="visible" value="_backgroundImage != null"/>
					<bind name="style" value="'width'; _iconWidth"/>
					<bind name="style" value="'height'; _iconHeight"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="8px"/>
						<backgroundStretchX value="true"/>
						<backgroundStretchY value="true"/>
					</style>
					<bind name="style" value="'backgroundImage'; _backgroundImage"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MiddleAlignedAbsolutely"/>
					<block type="text">
						<styleClass value="$TextDefaultBoldNM"/>
						<bind name="text" value="toUpperCase(tr(_label))"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ImageButton">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="request" value="'click'; _request &amp;&amp; _enabled ? _request : null; _requestParams ? _requestParams : {}"/>
		<bind name="action" value="'click'; _action &amp;&amp; _enabled ? _action : null; _actionParams ? _actionParams : {}"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; null; 'ct_'"/>
		<bind name="var" value="{ 
		ctRollOver: {
			redMultiplier: 1,
			greenMultiplier: 1,
			blueMultiplier: 1,
			alphaMultiplier: 1,
			redOffset: 30,
			greenOffset: 30,
			blueOffset: 30,
			alphaOffset: 0
		}
	}"/>
		<bind name="var" value="{ 
		ctMouseDown: {
			redMultiplier: 1,
			greenMultiplier: 1,
			blueMultiplier: 1,
			alphaMultiplier: 1,
			redOffset: -30,
			greenOffset: -30,
			blueOffset: -30,
			alphaOffset: 0
		}
	}"/>
		<bind name="colorTransform" value="	_enabled &amp;&amp; (ct_mouseDown)	? ctMouseDown :
							_enabled &amp;&amp; (ct_rollOver)	? ctRollOver
														: {}"/>
		<bind name="style" value="'width'; _width ? _width : '50px'"/>
		<bind name="style" value="'height'; _height ? _height : '50px'"/>
		<block>
			<bind name="name" value="_name"/>
			<bind name="style" value="'width'; _width ? _width : '50px'"/>
			<bind name="style" value="'height'; _height ? _height : '50px'"/>
			<style>
				<backgroundStretchX value="true"/>
				<backgroundStretchY value="true"/>
			</style>
			<bind name="style" value="'alpha'; _alpha != null ? _alpha : 1.0"/>
			<bind name="style" value="'backgroundImage'; _backgroundImage"/>
		</block>
	</block>
	<css name="$TextDefault12NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="12"/>
		<marginText value="-3px|-3px|-6px|-5px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault13NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<marginText value="-3px|-3px|-6px|-5px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold13NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<marginText value="-3px|-3px|-6px|-5px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultNM">
		<fontFamily value="$WWSDefaultFont"/>
		<leading value="-3"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<marginText value="-3px|-3px|-6px|-5px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBoldNM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<marginText value="-3px|-3px|-6px|-5px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault17NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<marginText value="-3px|-4px|-7px|-6px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold17NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<marginText value="-3px|-3px|-7px|-6px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault19NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<marginText value="-3px|-3px|-7px|-5px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold19NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<marginText value="-3px|-3px|-8px|-6px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault21NM">
		<fontFamily value="$WWSDefaultFont"/>
		<leading value="-4"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<marginText value="-3px|-3px|-8px|-7px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold21NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<marginText value="-3px|-3px|-8px|-7px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold23NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="23"/>
		<marginText value="-3px|-3px|-9px|-6px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault25NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<marginText value="-3px|-3px|-9px|-8px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold25NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<marginText value="-3px|-3px|-9px|-8px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault27NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="27"/>
		<marginText value="-3px|-3px|-10px|-8px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold30NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="30"/>
		<marginText value="-3px|-4px|-11px|-8px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold36NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="36"/>
		<marginText value="-3px|-4px|-12px|-10px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold40NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="40"/>
		<marginText value="-3px|-4px|-13px|-10px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold46NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="46"/>
		<marginText value="-3px|-4px|-12px|-10px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold50NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="50"/>
		<marginText value="-3px|-4px|-15px|-13px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold60NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<marginText value="-3px|-4px|-20px|-15px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextWithoutGlow17NM">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<marginText value="-3px|-4px|-7px|-6px"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextWithoutGlowBold23NM">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="23"/>
		<marginText value="-3px|-3px|-9px|-6px"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<block className="DropdownInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<style>
			<width value="1px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '100px'"/>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="_dropdownContentElement; { _menuScope: _menuScope }"/>
		</block>
	</block>
	<block className="InstructionParagraph">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 220"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InstructionParagraphNM">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<bind name="class" value="_class ? _class : '$TextDefaultNM'"/>
			<style>
				<width value="100%"/>
				<alpha value="0.7"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 220"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InstructionMultiParagraph">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block className="icon_instruction" type="native">
			<bind name="gotoAndStop!" value="_type"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="repeat" value="_instructionArray; 'InstructionParagraph'"/>
		</block>
	</block>
	<block className="InstructionWarning">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_warning_orange" type="native"/>
		<block type="text">
			<style>
				<marginTop value="-4px"/>
				<marginLeft value="4px"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<styleClass value="$WarningTextOrange"/>
			<bind name="style" value="'leading'; _leading ? _leading : -3"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="InstructionRestricion">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_restrict_red" type="native"/>
		<block type="text">
			<style>
				<marginTop value="-3px"/>
				<marginLeft value="4px"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<styleClass value="$WarningTextRed"/>
			<bind name="style" value="'leading'; _leading ? _leading : -3"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="InstructionIsOwned">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_check" type="native"/>
		<block type="text">
			<styleClass value="$TextDefaultNM"/>
			<bind name="class" value="'$FontColorGolden'"/>
			<style>
				<marginTop value="2px"/>
				<marginLeft value="8px"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<bind name="style" value="'leading'; _leading ? _leading : -3"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="MouseInstruction">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="_type!='no_icon'"/>
			<block className="icon_mouse" type="native">
				<bind name="gotoAndStop!" value="_type"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'marginLeft'; (_type=='no_icon') ? '0px' : '4px'"/>
			<style>
				<marginTop value="-2px"/>
			</style>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="MouseInstructionRepeater">
		<bind name="style" value="'marginBottom'; $index != _lastIndex ? '6px' : '0px'"/>
		<bind name="instance" value="'MouseInstruction'; _type == 'warning' || _type == 'restriction'	? null
																						: { _type: _type, _instructionText: _instructionText,
																							_maxWidth: _maxWidth, _leading: _leading}"/>
		<bind name="instance" value="'InstructionWarning'; _type == 'warning' ? {_instructionText: _instructionText, _maxWidth: _maxWidth, _leading: _leading} : null"/>
		<bind name="instance" value="'InstructionRestricion'; _type == 'restriction' ? {_instructionText: _instructionText, _maxWidth: _maxWidth, _leading: _leading} : null"/>
	</block>
	<block className="CheckedLine">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_check" type="native">
			<style>
				<marginLeft value="2px"/>
				<marginTop value="8px"/>
			</style>
			<bind name="visible" value="!_isCheckMarkHidden"/>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<width value="288px"/>
				<marginTop value="-2px"/>
				<multiline value="false"/>
			</style>
			<bind name="class" value="'$FontColorGolden'"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'marginLeft'; _isCheckMarkHidden ? '0' : '5px'"/>
			<bind name="text" value="_checkedLineText"/>
		</block>
	</block>
	<block className="CheckedLineRepeater">
		<bind name="style" value="'marginBottom'; $index != _lastIndex ? '6px' : '-2px'"/>
		<bind name="instance" value="'CheckedLine'; { _isCheckMarkHidden: _isCheckMarkHidden, _checkedLineText: _checkedLineText, _maxWidth: _maxWidth}"/>
	</block>
	<block className="InstructionBigTech">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 500"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="DockTopMenuLinkText">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<block type="text">
			<styleClass value="$TextDockNano"/>
			<bind name="class" value="rollOver &amp;&amp; !(mouseDown) ? '$FontColorDefault' : '$None'"/>
			<bind name="text" value="_label"/>
		</block>
	</block>
	<block className="EmptyStatusParagraph">
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="_sizeClass ? _sizeClass : '$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 250"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InvertableTextLine">
		<block type="text">
			<bind name="name" value="_name"/>
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.35"/>
				<top value="1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.1"/>
				<top value="-1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.2"/>
				<left value="1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.2"/>
				<left value="-1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _invertedClass : _normalClass"/>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="ResizeFrame">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<bind name="visible" value="!(restrict.up)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="6px"/>
				<top value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_top"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="6px"/>
				<bottom value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_bottom"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="6px"/>
				<height value="100%"/>
				<left value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="6px"/>
				<height value="100%"/>
				<right value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_right"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.up || restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<top value="-5px"/>
				<left value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_top_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.up || restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<top value="-5px"/>
				<right value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_top_right"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down || restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<bottom value="-5px"/>
				<left value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_bottom_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down || restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<bottom value="-5px"/>
				<right value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_bottom_right"/>
			</params>
		</block>
	</block>
	<css name="$WarningTextRed">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$WarningTextOrange">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<block className="WarningMessage">
		<bind name="appear" value="'addedToStage'; 0.15; _delay; {alpha: 0, top: _startTop ? _startTop : 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="var" value="{errorStringsToShowSupportLinkFor: [
		tr('IDS_ACCOUNT_ERROR_ALL_SPA_LOGIN_ALREADY_TAKEN')
	]}"/>
		<block type="text">
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 280"/>
			<bind name="class" value="_highWarning ? '$WarningTextRed' : '$WarningTextOrange'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="text" value="_text"/>
		</block>
		<block>
			<bind name="visible" value="errorStringsToShowSupportLinkFor.indexOf(_text) &gt; -1"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="6px"/>
			</style>
			<bind name="instance" value="'LinkText'; errorStringsToShowSupportLinkFor.indexOf(_text) &gt; -1 	? {
																								_label: 'IDS_LINK_SUPPORT', 
																								_urlIdent: URL.SUPPORT, 
																								_tooltipText: 'IDS_LINK_SUPPORT_HINT', 
																								_name: 'ButtonSupport'} 
																							: null"/>
		</block>
	</block>
	<block className="WrongTextInputNotification">
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: _startTop ? _startTop : 10}; {alpha: 1, top: 0}; 2"/>
		<style>
			<width value="100%"/>
			<marginRight value="-1px"/>
			<marginLeft value="-1px"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="1px"/>
				<marginBottom value="0px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block className="button_close" type="native">
			<bind name="visible" value="_showCloseBtn == true"/>
			<style>
				<right value="8"/>
				<top value="7"/>
				<position value="absolute"/>
			</style>
			<bind name="dispatch" value="'buttonClick'; 'hideWrongMessageEv'; {}"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="8px"/>
				<marginBottom value="7px"/>
			</style>
			<bind name="instance" value="'WarningMessage'; true	? { _delay: 0.07, _startTop: _startTop, _messageHiglight: _messageHiglight, _maxWidth: _maxWidth, _text: _text}
												: null"/>
		</block>
		<bind name="dispatch" value="'click'; 'hideWrongMessageEv'; {}"/>
	</block>
	<block className="MultiParagraphHelpTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="330px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '330px'"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="GUIContrast">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="watch" value="'iconType'; _iconType ? _iconType : 'question'"/>
			<block className="icon_question_mark" type="native">
				<bind name="visible" value="iconType == 'question'"/>
				<style>
					<marginRight value="6px"/>
					<marginTop value="4px"/>
				</style>
			</block>
			<block className="icon_info_big" type="native">
				<bind name="visible" value="iconType == 'info'"/>
				<style>
					<marginRight value="6px"/>
					<marginTop value="4px"/>
				</style>
			</block>
			<block className="mc_icon_ship" type="native">
				<bind name="visible" value="iconType == 'ship' &amp;&amp; _shipType != 'premiumShip'"/>
				<style>
					<marginRight value="6px"/>
					<marginTop value="10px"/>
				</style>
				<bind name="style" value="'marginLeft'; _shipType == 'Destroyer' ? '-2px' : '2px'"/>
				<bind name="gotoAndStop!" value="_shipType"/>
			</block>
			<block type="text">
				<style>
					<top value="1px"/>
				</style>
				<bind name="style" value="'maxWidth'; _width ? _width - 60 : 270"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="class" value="_shipType == 'premiumShip' ? '$FontColorGolden' : '$FontColorWhite'"/>
				<bind name="text" value="_tooltipHeader"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<style>
					<marginLeft value="12px"/>
					<marginRight value="12px"/>
					<marginTop value="9px"/>
					<marginBottom value="3px"/>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {_maxWidth: _width - 24}"/>
			</block>
		</block>
	</block>
	<block className="RepeatParagraphItem">
		<bind name="style" value="'marginBottom'; _marginBottom ? _marginBottom : '6px'"/>
		<bind name="class" value="_middleAligned ? '$MiddleAligned' : ''"/>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="_class"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'textAlign'; _textAlign ? _textAlign : 'left'"/>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 300"/>
			<bind name="substitute" value="_substitute.imageOffset ? _substitute.imageOffset : 0;
						  _substitute.map ? _substitute.map : {};
						  (_toUpperCase ? toUpperCase(tr(_paragraphText)) : _paragraphText)"/>
		</block>
	</block>
	<block className="RepeatParagraphItemNM">
		<bind name="style" value="'marginBottom'; _marginBottom ? _marginBottom : '16px'"/>
		<bind name="class" value="_middleAligned ? '$MiddleAligned' : ''"/>
		<bind name="watch" value="'textItem'; _isTextInValue ? $value : _paragraphText"/>
		<bind name="style" value="'width'; _width ? _width : 'auto'"/>
		<block type="text">
			<styleClass value="$TextDefaultNM"/>
			<bind name="class" value="_class"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'textAlign'; _textAlign ? _textAlign : 'left'"/>
			<bind name="style" value="'maxWidth'; _maxWidth	? _maxWidth :
									_width	? 3000
											: 300"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="substitute" value="_substitute.imageOffset ? _substitute.imageOffset : 0;
							_substitute.map ? _substitute.map : {}; (_toUpperCase ? toUpperCase(tr(textItem)) : textItem)"/>
		</block>
	</block>
	<block className="GUIContrast">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
	</block>
	<block className="CheckBox">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="watch" value="'isEnabled'; _disabled != true"/>
		<bind name="style" value="'alpha'; isEnabled ? 1 : 0.7"/>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="enabled" value="isEnabled"/>
			<bind name="selected" value="isEnabled ? switchProperty : false"/>
		</block>
		<block type="text">
			<bind name="style" value="'alpha'; isEnabled ? 1 : 0.4"/>
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<marginLeft value="23px"/>
				<marginTop value="-3px"/>
				<hitTest value="false"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxTfWidth ? _maxTfWidth : 300"/>
			<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) &amp;&amp; isEnabled; 0.07; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="text" value="label"/>
		</block>
	</block>
	<block className="IconSlimClient">
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _isEventLike ? 'IDS_ENTER_IN_FULL_VERSION_FOR_ANNOUNCE_SHIPS' : 'IDS_ENTER_IN_FULL_VERSION_FOR_SHIPS'}"/>
		<block className="game_downloading" type="native"/>
	</block>
	<block className="BannerButtonInstance">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="transition" value="rollOver; 0.07; {alpha: 0.85}; {alpha: 0.95}"/>
		<style>
			<width value="217px"/>
			<height value="60px"/>
			<flow value="horizontal"/>
		</style>
		<bind name="name" value="_input"/>
		<bind name="input"/>
		<bind name="action" value="'click'; _action ? _action : null"/>
		<bind name="action" value="'click'; 'log'; { event: 'click:banner.' + _logItemName }"/>
		<block className="button_infopanel_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="100%"/>
				<marginRight value="8px"/>
				<marginLeft value="12px"/>
				<hitTest value="false"/>
			</style>
			<block>
				<style>
					<width value="37px"/>
					<height value="100%"/>
				</style>
				<block>
					<bind name="style" value="'width'; _iconSize"/>
					<bind name="style" value="'height'; _iconSize"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="style" value="'backgroundImage'; _iconUrl"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="8px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<style>
						<width value="100%"/>
						<leading value="-3"/>
						<hitTest value="false"/>
						<alpha value="0.85"/>
					</style>
					<styleClass value="$TextDefaultBold17NM"/>
					<bind name="text" value="_label"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipTitleWithIconAndSilhouette">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<block>
			<block>
				<bind name="instance" value="'ShipTitleWithIconAndLevel'; {_shipID : _shipID}"/>
			</block>
			<block>
				<style>
					<width value="122px"/>
					<height value="22px"/>
					<marginLeft value="12px"/>
					<marginTop value="-2px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathTinyIcon"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipTitleWithIconAndLevel">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<block>
			<style>
				<height value="27px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="(shipInfo.isPremium || shipInfo.uiSpecial) 	? 'premium' : 'elite'"/>
			</block>
			<block>
				<style>
					<marginLeft value="5px"/>
					<marginTop value="7px"/>
				</style>
				<block className="icon_ship" type="native">
					<styleClass value="$MouseDisable"/>
					<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial 	? shipInfo.subtype + '_P'
																				: shipInfo.subtype"/>
				</block>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="-2px"/>
				</style>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial	? '$FontShipnameGolden'
																		: '$FontShipnameWhite'"/>
					<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CharCounter">
		<bind name="transition" value="_string.length &gt; 0; 0.15; {alpha: 0, top:10}; {alpha: 1, top:0}; {alpha: 0, top:10}; 1; 0"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CHARS_LEFT'}"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_string.length &gt; _maxChars ? '$FontColorUnready' : '$FontColorDefault'"/>
			<bind name="style" value="'alpha'; _string.length &gt; _maxChars ? 1 : 0.6"/>
			<bind name="text" value="_maxChars - _string.length"/>
		</block>
	</block>
	<block className="BusyIndicator">
		<bind name="fade" value="_showBusyIndicator; 0.15; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1; 0.3"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<block className="indicator_busy_small" type="native"/>
		</block>
		<block type="text">
			<bind name="visible" value="_label.length &gt; 0"/>
			<styleClass value="$TextDefaultTech"/>
			<bind name="class" value="'$Bold'"/>
			<style>
				<marginLeft value="6px"/>
				<marginTop value="-2px"/>
			</style>
			<bind name="text" value="toUpperCase(tr(_label))"/>
		</block>
	</block>
	<block className="FormationPlayerIcon">
		<style>
			<width value="15px"/>
		</style>
		<bind name="watch" value="'postfix'; isOtherDivision ? '_other_division' : ''"/>
		<block className="formation_player_status" type="native">
			<style>
				<marginTop value="3px"/>
			</style>
			<bind name="gotoAndStop!" value="_isEmptySlot					?	('empty_slot_' + _formationType) :
							isInBattle						?	('player_in_battle_' + _formationType + postfix) :
							_isWardog &amp;&amp; isReady			?	('player_ready_' + _formationType + '_merc') :
							_isWardog &amp;&amp; !isReady			?	('player_not_ready_' + _formationType + '_merc') :
							isCommander &amp;&amp; isReady			?	('commander_' + _formationType + postfix) :
							isCommander &amp;&amp; !isReady			?	('commander_not_ready_' +_formationType + postfix) :
							!isCommander &amp;&amp; isReady			?	('player_ready_' + _formationType + postfix) :
							!isCommander &amp;&amp; !isReady		?	('player_not_ready_' + _formationType + postfix)
															:	'empty_slot_division'"/>
		</block>
	</block>
	<css name="$TextBackBtn">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="BackButton">
		<style>
			<height value="30px"/>
		</style>
		<block className="button_dock" type="native">
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _text}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="dispatch" value="'buttonClick'; _event	 ? _event  : null; _eventData	 ? _eventData : {}"/>
			<bind name="action" value="'buttonClick'; _action	 ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<params>
				<param name="focusable" value="false"/>
			</params>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<hitTest value="false"/>
			</style>
			<block className="icon_navigate" type="native">
				<bind name="gotoAndStop!" value="'left'"/>
				<style>
					<marginLeft value="6px"/>
				</style>
			</block>
			<block>
				<bind name="name" value="_name ? _name : '' "/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="2px"/>
					<marginRight value="7px"/>
				</style>
				<block>
					<style>
						<marginTop value="-4px"/>
					</style>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.4"/>
							<top value="1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<top value="-1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<left value="1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<left value="-1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="_text"/>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PlayerNameAndClanTag">
		<bind name="watch" value="'clanTagColor'; ('0xff' + _clanTagColor)"/>
		<bind name="watch" value="'haveClanTag'; _clanTag != null &amp;&amp;
								_clanTag != ''"/>
		<bind name="watch" value="'isColoredClanTag'; (haveClanTag &amp;&amp; !_noClanTagColor &amp;&amp; _clanTagColor != null)"/>
		<bind name="watch" value="'playerName'; 	isColoredClanTag 	?	_playerName :
								haveClanTag			?	('[' + _clanTag + ']' + _playerName)
													: _playerName"/>
		<bind name="watch" value="'fontColor'; 	_isAccountButton	?	_ctkStatus			? '$FontColorCompareNegative' :
														_tkStatus 			? '$FontColorTeamkiller' :
														_isPremiumAccount	? '$FontColorGold'
																			: '$FontColorBlueish':
								_isSelf 			? 	_ttkStatus 			? '$FontColorTTK' :
														_ctkStatus			? '$FontColorCompareNegative' :
														_tkStatus 			? '$FontColorTeamkiller'
																			: '$FontColorGolden':
								!_isDead 			?  	_ttkStatus 			? '$FontColorTTK' :
														_isInSameDivision 	? '$FontColorGolden' :
														_tkStatus 			? '$FontColorTeamkiller'												
																			: '$FontColorWhite'
													: '$FontColorAlmostBlack'"/>
		<style>
			<hitTest value="false"/>
			<flow value="horizontal"/>
			<width value="100%f"/>
		</style>
		<block type="text">
			<style>
				<marginLeft value="3px"/>
			</style>
			<bind name="visible" value="isColoredClanTag == true"/>
			<style>
				<multiline value="false"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="style" value="'fontSize'; _fontSize ? _fontSize : 15"/>
			<bind name="class" value="_isSelf ? '$Bold' : '$None'"/>
			<bind name="style" value="'textColor'; clanTagColor"/>
			<bind name="text" value="tr('[' + _clanTag + ']')"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="3px"/>
				<multiline value="false"/>
				<width value="100%f"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="style" value="'fontSize'; _fontSize ? _fontSize : 15"/>
			<bind name="class" value="_isSelf 	? '$Bold' : '$None'"/>
			<bind name="class" value="(_isDead &amp;&amp; !_isSelf ? '$FontDropShadowWhite' : '$None')"/>
			<bind name="class" value="fontColor"/>
			<bind name="text" value="playerName"/>
		</block>
	</block>
	<block className="HotkeyWithText">
		<bind name="dispatch" value="'click'; _event	? _event  	: null; _eventData	 	? _eventData 	: {}"/>
		<bind name="action" value="'click'; _action	? _action 	: null; _actionParams 	? _actionParams : {}"/>
		<bind name="request" value="'click'; _request 	? _request 	: null; _requestParams 	? _requestParams: {}"/>
		<bind name="tooltip" value="'SimpleTooltip'; _tooltipText ? { tooltipText: _tooltipText } : null; 0"/>
		<block className="hotkey_holder_white_9slice" type="native">
			<block type="text">
				<style>
					<marginLeft value="3px"/>
					<marginRight value="3px"/>
					<marginTop value="-1px"/>
					<marginBottom value="-1px"/>
				</style>
				<styleClass value="$BlackLabel"/>
				<bind name="text" value="_text"/>
			</block>
		</block>
	</block>
	<block className="NavigationButton">
		<style>
			<marginBottom value="1px"/>
		</style>
		<block className="button_navigation_small" type="native">
			<bind name="name" value="_name"/>
			<bind name="label" value="_label"/>
			<bind name="selected" value="_selectedIndex == $index"/>
			<bind name="dispatch" value="'click'; 'evClicked'; { selectedIndex: $index }"/>
		</block>
	</block>
	<block className="RewardItemWithStamp">
		<block>
			<style>
				<width value="80px"/>
				<height value="80px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; _backgroundImage"/>
			<bind name="scaleX" value="_scale ? _scale : 1"/>
			<bind name="scaleY" value="_scale ? _scale : 1"/>
			<bind name="ubScaleX" value="_scale ? _scale : 1"/>
			<bind name="ubScaleY" value="_scale ? _scale : 1"/>
		</block>
		<block>
			<bind name="scaleX" value="_scale ? (_scale - 0.14) : 0.86"/>
			<bind name="scaleY" value="_scale ? (_scale - 0.14) : 0.86"/>
			<bind name="ubScaleX" value="_scale ? (_scale - 0.14) : 0.86"/>
			<bind name="ubScaleY" value="_scale ? (_scale - 0.14) : 0.86"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.9"/>
				<hitTest value="false"/>
				<top value="46%"/>
				<left value="42%"/>
			</style>
			<block className="icon_issued" type="native">
				<bind name="gotoAndStop!" value="_issued	? 'issued' : 'not_issued'"/>
				<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
				<bind name="rotation" value="-2"/>
			</block>
		</block>
	</block>
	<block className="GiftBoxIconSmall">
		<block className="icon_giftbox_small" type="native">
			<bind name="scaleX" value="_scale ? _scale : 1"/>
			<bind name="scaleY" value="_scale ? _scale : 1"/>
			<bind name="gotoAndStop!" value="'normal'"/>
		</block>
		<block className="icon_issued_small" type="native">
			<style>
				<position value="absolute"/>
				<top value="55%"/>
				<left value="50%"/>
				<alpha value="0.9"/>
				<hitTest value="false"/>
			</style>
			<bind name="scaleX" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="scaleY" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="rotation" value="-2"/>
			<bind name="gotoAndStop!" value="_issued	? 'issued' : 'not_issued'"/>
			<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
		</block>
	</block>
	<block className="GiftBoxIconBig">
		<block className="icon_giftbox" type="native">
			<bind name="scaleX" value="_scale ? _scale : 1"/>
			<bind name="scaleY" value="_scale ? _scale : 1"/>
			<bind name="gotoAndStop!" value="'normal'"/>
		</block>
		<block className="icon_issued" type="native">
			<style>
				<position value="absolute"/>
				<top value="55%"/>
				<left value="50%"/>
				<alpha value="0.9"/>
				<hitTest value="false"/>
			</style>
			<bind name="scaleX" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="scaleY" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="rotation" value="-2"/>
			<bind name="gotoAndStop!" value="_issued	? 'issued' : 'not_issued'"/>
			<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
		</block>
	</block>
	<block className="ColorTransformPicker">
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 1, _minimum: 0, _step: 0.01, _value:1, _name:'redMultiplier'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 1, _minimum: 0, _step: 0.01, _value:1, _name:'greenMultiplier'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 1, _minimum: 0, _step: 0.01, _value:1, _name:'blueMultiplier'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 1, _minimum: 0, _step: 0.01, _value:1, _name:'alphaMultiplier'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 255, _minimum: -255, _step: 1, _value:0, _name:'redOffset'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 255, _minimum: -255, _step: 1, _value:0, _name:'greenOffset'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 255, _minimum: -255, _step: 1, _value:0, _name:'blueOffset'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 255, _minimum: -255, _step: 1, _value:0, _name:'alphaOffset'}"/>
	</block>
	<block className="ColorTransformSlider">
		<style>
			<marginTop value="20px"/>
		</style>
		<block>
			<bind name="dispatch" value="'value'+varChanged; 'colorTransformChanged'; [_name, value]"/>
			<block>
				<style>
					<maxHeight value="500"/>
					<overflow value="scroll"/>
					<backgroundColor value="0x80000000"/>
				</style>
				<styleClass value="$DefaultScrollBar"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<style>
						<textColor value="0xffffffff"/>
						<maxWidth value="600"/>
						<marginBottom value="3px"/>
					</style>
					<bind name="text" value="'_name: ' + (_name)"/>
				</block>
			</block>
			<block>
				<style>
					<maxHeight value="500"/>
					<overflow value="scroll"/>
					<backgroundColor value="0x80000000"/>
				</style>
				<styleClass value="$DefaultScrollBar"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<style>
						<textColor value="0xffffffff"/>
						<maxWidth value="600"/>
						<marginBottom value="3px"/>
					</style>
					<bind name="text" value="'value: ' + (value)"/>
				</block>
			</block>
			<block>
				<bind name="mc" value="'slider_default'; ['valueChange']; ['value']; {maximum:_maximum, minimum:_minimum, step:_step, value:_value}"/>
			</block>
		</block>
	</block>
	<block className="AchievementRenderer">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'achievements'; (_id ? _id : $value); 'achievement'"/>
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block>
			<bind name="instance" value="'AchievementIcon'; {_id: (_id ? _id : $value)}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<style>
				<marginLeft value="10px"/>
				<marginTop value="-1px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderWhiteBold"/>
				<style>
					<width value="100%"/>
					<maxWidth value="222"/>
					<textAlign value="left"/>
				</style>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="achievement.nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefaultTech"/>
				<style>
					<marginTop value="-3px"/>
					<maxWidth value="220"/>
					<textAlign value="left"/>
				</style>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="achievement.subtypeIDS"/>
			</block>
		</block>
	</block>
	<block className="StatusLine">
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : 'auto'"/>
		<bind name="watch" value="'textColor';	_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.ATTENTION			? SC.Ui_styles.SERVICE_COLORS.ORANGE :
									_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.DATE_ATTENTION	? SC.Ui_styles.SERVICE_COLORS.ORANGE :
									_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.CHECK				? SC.Ui_styles.SERVICE_COLORS.YELLOW :
									_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.NEGATIVE			? SC.Ui_styles.SERVICE_COLORS.RED	:
									_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.WARNING			? SC.Ui_styles.SERVICE_COLORS.RED	:
									_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.DEFAULT			? SC.Ui_styles.SERVICE_COLORS.WHITE
																									: SC.Ui_styles.SERVICE_COLORS.WHITE"/>
		<bind name="watch" value="'textAlpha';	textColor == SC.Ui_styles.SERVICE_COLORS.ORANGE	? 1 :
									textColor == SC.Ui_styles.SERVICE_COLORS.YELLOW	? 1 :
									textColor == SC.Ui_styles.SERVICE_COLORS.RED		? 1
																							: 0.9"/>
		<block>
			<style>
				<width value="19px"/>
				<height value="19px"/>
				<marginTop value="-3px"/>
				<marginLeft value="-3px"/>
				<marginBottom value="-7px"/>
				<marginRight value="5px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../service_kit/unified_status_icons/icon_' + _unifiedStatus + '.png'"/>
		</block>
		<block type="text">
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="class" value="_textClass ? _textClass : '$TextDefaultNM'"/>
			<bind name="style" value="'leading'; _leading ? _leading : -3"/>
			<bind name="style" value="'alpha'; textAlpha"/>
			<bind name="style" value="'textColor'; textColor"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="ModalBattleTypeRenderer">
		<bind name="entityDH" value="'battleTypeEntity'; id"/>
		<bind name="watchDH" value="'type'; []; battleTypeEntity.battleType.type"/>
		<bind name="name" value="'typeItem' + type"/>
		<bind name="child" value="(type == BattleTypes.PVE_BATTLE ? 0 : 1); {_type: type, _isSmallView: _isSmallView}; 'ModalBattleTypeRendererPVE'; 'ModalBattleTypeRendererCommon'"/>
	</block>
	<block className="ModalBattleTypeRendererPVE">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="primaryEntityDH" value="'battleTypeEntity'; CC.battleType; _type"/>
		<bind name="watchDH" value="'status'; 					['battleTypeEntity.battleType.evStatusChanged']; 			battleTypeEntity.battleType.status"/>
		<bind name="watchDH" value="'battleTypeDenyReasons'; 	['battleTypeEntity.battleType.evDisableReasonChanged']; 	battleTypeEntity.battleType.battleTypeReasons"/>
		<bind name="watchDH" value="'description'; 			[]; battleTypeEntity.battleType.description"/>
		<bind name="watchDH" value="'labelIds'; 				[]; battleTypeEntity.battleType.labelIds"/>
		<bind name="watchDH" value="'type'; 					[]; battleTypeEntity.battleType.type"/>
		<bind name="watchDH" value="'label'; 				[]; battleTypeEntity.battleType.label"/>
		<bind name="watchDH" value="'featureId'; 			[]; battleTypeEntity.battleType.featureId"/>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'chosenOperationId'; 	['pveStateEntity.pveState.evStateUpdated']; 	pveStateEntity.pveState.chosenOperation"/>
		<bind name="watchDH" value="'activeOperationId'; 	['pveStateEntity.pveState.evStateUpdated']; 	pveStateEntity.pveState.activeOperation"/>
		<bind name="watchDH" value="'chosenDifficulty';		['pveStateEntity.pveState.evStateUpdated']; 	pveStateEntity.pveState.chosenDifficulty"/>
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; selected ? chosenOperationId : activeOperationId"/>
		<bind name="watchDH" value="'operationType';	['operationEntity.operation.evStatusChanged']; operationEntity.operation.type"/>
		<bind name="watchDH" value="'operationIsHard'; []; operationEntity.operation.isHard"/>
		<bind name="watch" value="'isChosenOperationOfTheWeek'; ((chosenOperationId == activeOperationId) &amp;&amp; (chosenDifficulty == 'normal'))"/>
		<bind name="watchDH" value="'selected'; ['battleTypeEntity.battleType.evSelectionChanged']; battleTypeEntity.battleType.selected)"/>
		<bind name="collectionDH" value="CC.battleType; 'coomonBattleTypes'; 'common'"/>
		<bind name="watch" value="'isVisible'; type != BattleTypes.INTRO_MISSION || coomonBattleTypes.length &lt; 6"/>
		<bind name="feature" value="featureId; isSelectableBattleType ? 'click' : ''"/>
		<bind name="visible" value="isVisible"/>
		<bind name="watch" value="'isSelectableBattleType'; (status != 2)"/>
		<bind name="firstEntityDH" value="'dockDataEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'battleTypeChooserVisible'; ['dockDataEntity.dockData.evBattleChooserChanged']; (dockDataEntity.dockData.battleChooserVisible || _forceVisible)"/>
		<bind name="fade" value="(battleTypeChooserVisible &amp;&amp; isVisible); 0; {alpha: 0}; {alpha: 1, top: 0}; {alpha: 0}"/>
		<bind name="appear" value="selected ? null : 'hideBattleTypesOnBattleTypeChose'; 0.14; 0.02; {alpha: 1, top: 0}; {alpha: 0, top: -5}; 3"/>
		<bind name="appear" value="selected ? 'hideBattleTypesOnBattleTypeChose' : null; 0.11; 0.12;	{alpha: 1};	{alpha: 0}; 2"/>
		<style>
			<width value="220px"/>
			<marginLeft value="1280:8,1920:32aw"/>
			<marginRight value="1280:8,1920:32aw"/>
			<marginBottom value="4px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="watch" value="'isBright'; ((selected || battleType_rollOver || operationInfo_rollOver) &amp;&amp; isSelectableBattleType)"/>
		<block>
			<bind name="style" value="'hitTest'; !(isSelectableBattleType)"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="tooltip" value="'SimpleWarningTooltip'; !(isSelectableBattleType) ? {_text: tr(battleTypeDenyReasons[0])} : null"/>
		</block>
		<block>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; null; 'battleType_'"/>
			<bind name="style" value="'hitTest'; isSelectableBattleType"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="clickSplit"/>
			<bind name="request" value="'right_click'; 'modalPVEOperationInfo'; {operationId: operationEntity.operation.id}"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="dispatch" value="'left_click'; 'battleTypeChose'; null; false"/>
			<bind name="action" value="'left_click'; selected ? null : 'setBattleType'; {battleType: BattleTypes.PVE_BATTLE}"/>
			<bind name="action" value="'left_click'; selected ? null : 'PVEScriptsProxy.chooseOperation'; {	operationId: activeOperationId,
																								difficulty: 'normal', shouldEnterMM: true}"/>
			<bind name="tooltip" value="'PVEOperationTooltip'; {_operationEntityId: operationEntity.id, isOperationCardTooltip: true}"/>
		</block>
		<bind name="watch" value="'pveDifficultyPostfix'; operationIsHard ? '_hard' : ''"/>
		<bind name="watch" value="'pveIconLabel'; (operationType == 'event' ? 'PVEBattle_event' : 'PVEBattle') + pveDifficultyPostfix"/>
		<block>
			<style>
				<width value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="transition" value="isBright &amp;&amp; !(battleType_mouseDown); 0.06; {alpha: 0.85}; {alpha: 1}; {alpha: 0.85}"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="style" value="'marginBottom'; _isSmallView ? '4px' : '16px'"/>
				<bind name="style" value="'width'; _isSmallView ? '80px' : '136px'"/>
				<bind name="style" value="'height'; _isSmallView ? '80px' : '136px'"/>
				<bind name="style" value="'colorMatrixFilter';	!(isSelectableBattleType)	? '0 -100 0 0'
																			: '0 0 0 0'"/>
				<block>
					<bind name="style" value="'width'; _isSmallView ? '170px' : '280px'"/>
					<bind name="style" value="'height'; _isSmallView ? '170px' : '280px'"/>
					<bind name="instance" value="'SelectedBattleTypeAnimation'; selected &amp;&amp; !(operationType == 'event') ? {} : null"/>
					<bind name="instance" value="'SelectedBattleEventTypeAnimation'; selected &amp;&amp; (operationType == 'event') || _forceVisible ? {_isHard: operationIsHard} : null"/>
					<styleClass value="$MiddleAlignedAbsolutely"/>
					<styleClass value="$MiddleVAligned"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="child" value="_isSmallView ? 0 : 1; {_status: status, _type: type, _selected: selected, _pveIconLabel: pveIconLabel}; 'BattleTypeIconSmall'; 'BattleTypeIconBig'"/>
				</block>
				<block>
					<bind name="fade" value="(featureState == 'new') &amp;&amp; (isSelectableBattleType); 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
					<style>
						<position value="absolute"/>
						<top value="3px"/>
					</style>
					<bind name="style" value="'right'; _isSmallView ? '0px' : '3px'"/>
					<bind name="instance" value="'MarkerNewAttention'; { }"/>
				</block>
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="(!(selected) || isChosenOperationOfTheWeek) &amp;&amp; isSelectableBattleType ? true : false"/>
					<style>
						<alpha value="0.9"/>
						<bottom value="-8px"/>
					</style>
					<styleClass value="$MiddleAlignedAbsolutely"/>
					<block>
						<styleClass value="$MiddleAlignedAbsolutely"/>
						<style>
							<width value="145px"/>
							<height value="46px"/>
							<top value="-5px"/>
						</style>
						<block className="BlurMapCustom">
							<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
							<styleClass value="$FullsizeAbsolute"/>
							<style>
								<hitTest value="false"/>
							</style>
							<bind name="visible" value="optionData.blurEnabled"/>
							<block className="mc_blurmap5_feather" type="native">
								<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
								<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
								<styleClass value="$Fullsize"/>
								<bind name="blurMap" value="0"/>
							</block>
						</block>
					</block>
					<bind name="instance" value="'PVEOperationOfTheWeekLabel'; (!(selected) || isChosenOperationOfTheWeek) ? {_noDate: true} : null"/>
				</block>
			</block>
			<block>
				<params>
					<param name="name" value="operationName"/>
				</params>
				<style>
					<marginBottom value="16px"/>
					<width value="100%"/>
				</style>
				<bind name="style" value="'colorMatrixFilter';	!(isSelectableBattleType)	? '0 -100 0 -20'
																			: '0 0 0 0'"/>
				<block type="text">
					<style>
						<alpha value="0.85"/>
						<width value="100%"/>
						<textAlign value="center"/>
						<leading value="-2"/>
					</style>
					<styleClass value="$TextDefaultBold21NM"/>
					<bind name="class" value="(selected == true ? '$FontColorWhite' : '$FontColorBlueish')"/>
					<bind name="text" value="(isSelectableBattleType ? tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME') : 'IDS_PVE_BATTLE')"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="isSelectableBattleType"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; null; 'operationInfo_'"/>
			<bind name="request" value="'click'; 'modalPVEOperationInfo'; {operationId: operationEntity.operation.id}"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_MORE_INFO_ABOUT_PVE_OPERATION_TOOLTIP'}"/>
			<bind name="transition" value="(battleType_rollOver || operationInfo_rollOver); 0.1; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<style>
				<position value="absolute"/>
				<top value="8px"/>
				<right value="24px"/>
			</style>
			<block className="button_info" type="native"/>
		</block>
		<bind name="watch" value="'otherOperationBtnVisible'; !_forceOtherOperationsHide &amp;&amp; isSelectableBattleType"/>
		<block>
			<bind name="visible" value="otherOperationBtnVisible"/>
			<style>
				<marginTop value="12px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_INSTRUCTION_TOOLTIP_GO_TO_OPERATION_CHOOSER'}"/>
			<bind name="instance" value="'ResizableButtonDock'; otherOperationBtnVisible ? {
			_label: toUpperCase(tr('IDS_OTHER_PVE_OPERATIONS')),
			_request: 'modalSelectPVEOperation',
			_name: 'otherOperation'
		} : null"/>
		</block>
	</block>
	<block className="ModalBattleTypeRendererCommon">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="primaryEntityDH" value="'battleTypeEntity'; CC.battleType; _type"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  rankedBattlesStats.rank; 'curRankInfo'"/>
		<bind name="watchDH" value="'status'; ['battleTypeEntity.battleType.evStatusChanged']; battleTypeEntity.battleType.status"/>
		<bind name="watchDH" value="'battleTypeDenyReasons'; ['battleTypeEntity.battleType.evDisableReasonChanged']; battleTypeEntity.battleType.battleTypeReasons"/>
		<bind name="watchDH" value="'description'; []; battleTypeEntity.battleType.description"/>
		<bind name="watchDH" value="'labelIds'; []; battleTypeEntity.battleType.labelIds"/>
		<bind name="watchDH" value="'type'; []; battleTypeEntity.battleType.type"/>
		<bind name="watchDH" value="'label'; []; battleTypeEntity.battleType.label"/>
		<bind name="watchDH" value="'featureId'; []; battleTypeEntity.battleType.featureId"/>
		<bind name="watchDH" value="'selected'; ['battleTypeEntity.battleType.evSelectionChanged']; battleTypeEntity.battleType.selected)"/>
		<bind name="firstEntityDH" value="'userTaskEntity'; CC.userTask"/>
		<bind name="watchDH" value="'currentUserTaskFlag'; ['userTaskEntity.userTask.evFlagChanged']; userTaskEntity.userTask.flag"/>
		<bind name="watch" value="'userDoNotWatchRankRules'; ((currentUserTaskFlag &amp; UserTasksFlags.KNOWS_ABOUT_JUNIOR_RANKED_RULES) == 0)"/>
		<bind name="collectionDH" value="CC.battleType; 'commonBattleTypes'; 'common'"/>
		<bind name="watch" value="'isVisible'; type != BattleTypes.INTRO_MISSION || commonBattleTypes.length &lt; 6"/>
		<bind name="feature" value="featureId; isSelectableBattleType ? 'click' : ''"/>
		<bind name="visible" value="isVisible"/>
		<bind name="watch" value="'isDivisionsAvailableInThisBattleType';	(type == BattleTypes.INTRO_MISSION) ||
															(type == BattleTypes.TRAINING_BATTLE) ||
															((type == BattleTypes.RANKED_BATTLE) &amp;&amp; (rankedBattlesSeason.isDivisionAllowed != true)) ? false : true"/>
		<bind name="watch" value="'isSelectableBattleType'; ((status != 2) &amp;&amp; (!(divisionData.divisionExist) || isDivisionsAvailableInThisBattleType))"/>
		<bind name="firstEntityDH" value="'dockDataEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'battleTypeChooserVisible'; ['dockDataEntity.dockData.evBattleChooserChanged']; dockDataEntity.dockData.battleChooserVisible"/>
		<bind name="fade" value="(battleTypeChooserVisible &amp;&amp; isVisible); 0; {alpha: 0}; {alpha: 1, top: 0}; {alpha: 0}"/>
		<bind name="appear" value="selected ? null : 'hideBattleTypesOnBattleTypeChose'; 0.14; 0.02; {alpha: 1, top: 0}; {alpha: 0, top: -5}; 3"/>
		<bind name="appear" value="selected ? 'hideBattleTypesOnBattleTypeChose' : null; 0.11; 0.12;	{alpha: 1};	{alpha: 0}; 2"/>
		<bind name="firstEntityDH" value="'clanCurrentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="watchDH" value="'isActive'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.active"/>
		<bind name="watchDH" value="'isBrawl'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.isBrawl"/>
		<bind name="watch" value="'isClanStuffVisible'; (type == BattleTypes.CLAN_BATTLE) &amp;&amp; isActive"/>
		<bind name="watch" value="'isBright'; (selected || rollOver) &amp;&amp; isSelectableBattleType"/>
		<style>
			<width value="220px"/>
			<marginLeft value="1280:8,1920:32aw"/>
			<marginRight value="1280:8,1920:32aw"/>
			<marginBottom value="4px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="dispatch" value="'click'; isSelectableBattleType ? 'battleTypeChose' : null; null; false"/>
			<bind name="action" value="'click'; (isSelectableBattleType &amp;&amp; type != BattleTypes.TRAINING_BATTLE) ? 'setBattleType' : null; { battleType: type }"/>
			<bind name="request" value="'click'; (isSelectableBattleType &amp;&amp; type == BattleTypes.TRAINING_BATTLE) ? 'showTrainingRoomsList' : null; {}"/>
			<block>
				<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; null; 'battleType_'"/>
				<bind name="name" value="'isSelectable_' + isSelectableBattleType"/>
				<bind name="countdown" value="rankedBattlesSeason.startTime; 'seasonTimeStart'; 'HIGHEST'; ''; 'ACC'"/>
				<bind name="watch" value="'reasonText'; ((battleTypeDenyReasons[0] == 'IDS_RANK_BATTLES_SEASON_IS_NOT_ACTIVE_SEASON_STARTS_IN') 	? 	(tr(battleTypeDenyReasons[0]) + seasonTimeStart)
																																:	battleTypeDenyReasons[0])"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<backgroundColor value="0x01000000"/>
				</style>
				<bind name="watch" value="'battleTypeLabelIds'; (type == BattleTypes.CLAN_BATTLE &amp;&amp; isBrawl)	? 'IDS_CLANBRAWL'
																							: labelIds"/>
				<bind name="tooltip" value="isClanStuffVisible ? 'ClanBattleTypeTooltip' : 'MouseInstructionTooltip';	{	_multiParagraphArray: [{_paragraphText: ((type == BattleTypes.INTRO_MISSION)	? dockDefaultValues.introMissionDescription : description)}],			
																											_mouseInstructions: !(isSelectableBattleType)									? [{_type: 'warning', _instructionText: reasonText}]
																																															: [{_type: 'left', _instructionText: tr('IDS_CHOOSE') + ' ' + tr(battleTypeLabelIds + '_ACC')}], 
																											_maxWidth: 250 }"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="transition" value="isBright &amp;&amp; !(battleType_mouseDown); 0.06; {alpha: 0.85}; {alpha: 1}; {alpha: 0.85}"/>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<bind name="style" value="'marginBottom'; _isSmallView ? '4px' : '16px'"/>
						<bind name="style" value="'width'; _isSmallView ? '80px' : '136px'"/>
						<bind name="style" value="'height'; _isSmallView ? '80px' : '136px'"/>
						<bind name="style" value="'colorMatrixFilter';	!(isSelectableBattleType)	? '0 -100 0 0' : '0 0 0 0'"/>
						<block>
							<bind name="style" value="'width'; _isSmallView ? '170px' : '280px'"/>
							<bind name="style" value="'height'; _isSmallView ? '170px' : '280px'"/>
							<bind name="instance" value="'SelectedBattleTypeAnimation'; selected ? {} : null"/>
							<styleClass value="$MiddleAlignedAbsolutely"/>
							<styleClass value="$MiddleVAligned"/>
						</block>
						<bind name="child" value="_isSmallView ? 0 : 1; {_status: status, _type: type, _selected: selected}; 'BattleTypeIconSmall'; 'BattleTypeIconBig'"/>
					</block>
				</block>
				<block>
					<bind name="watch" value="'battleTypeLabel'; (type == BattleTypes.CLAN_BATTLE &amp;&amp; isBrawl)	? 'IDS_CLAN_BRAWL'
																								: label"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="style" value="'marginBottom'; _isSmallView ? '8px' : '16px'"/>
					<bind name="style" value="'colorMatrixFilter';isSelectableBattleType	? '0 0 0 0' : '0 -100 0 -20'"/>
					<block type="text">
						<style>
							<alpha value="0.85"/>
							<width value="100%"/>
							<textAlign value="center"/>
							<leading value="-2"/>
						</style>
						<styleClass value="$TextDefaultBold21NM"/>
						<bind name="class" value="(selected == true ? '$FontColorWhite' : '$FontColorBlueish')"/>
						<bind name="text" value="battleTypeLabel"/>
					</block>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'BattleTypeShortDescription'; {_isSmallView: _isSmallView, _selected: selected, _type: type}"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="isDivisionDenyReasonVisible"/>
				<bind name="style" value="'marginTop'; _isSmallView ? '4px' : '0px'"/>
				<bind name="name" value="isDivisionDenyReasonVisible ? type + '_division' : ''"/>
				<bind name="watch" value="'isDivisionDenyReasonVisible'; (divisionData.divisionExist &amp;&amp; isDivisionsAvailableInThisBattleType == false) &amp;&amp;
														 (battleTypeDenyReasons.length &gt; 0) &amp;&amp; (status != 2)"/>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'BattletypeDenyReason'; isDivisionDenyReasonVisible	? { _neutral: false, _textAlign: 'center', _maxWidth: 220,
																					_reasonText: battleTypeDenyReasons[0]}
																				: null"/>
			</block>
		</block>
		<block>
			<style>
				<width value="200px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="visible" value="isClanStuffVisible"/>
			<bind name="instance" value="'ClanBattlePrimeTimeIndicator'; isClanStuffVisible ? {} : null"/>
		</block>
		<block>
			<bind name="visible" value="isClanStuffVisible"/>
			<style>
				<marginTop value="24px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: isBrawl	? 'IDS_INSTRUCTION_TOOLTIP_GO_TO_CLANBRAWL_PRIME_CHOOSER'
																: 'IDS_INSTRUCTION_TOOLTIP_GO_TO_PRIME_CHOOSER'}"/>
			<bind name="instance" value="'ResizableButtonDock'; isClanStuffVisible ? { 	_label: toUpperCase(tr('IDS_SCHEDULLE')),
																		_request: 'showClanBattlesSchedule',
																		_name: 'clanBattlesScheduleBtn'
																	} : null"/>
		</block>
		<block>
			<bind name="watch" value="'isRankedBattle'; (type == BattleTypes.RANKED_BATTLE)"/>
			<bind name="watch" value="'isBrawlBattle'; (isClanStuffVisible) &amp;&amp; (isBrawl)"/>
			<bind name="watch" value="'isRulesBtnVisible'; (isRankedBattle || isBrawlBattle) &amp;&amp; (status != 2)"/>
			<bind name="visible" value="isRulesBtnVisible"/>
			<bind name="watch" value="'urlRules'; isBrawlBattle  ? URL.RULES_ABOUT_CLAN_SEASON
												: URL.RULES_ABOUT_RANKED_SEASON"/>
			<bind name="watch" value="'requestName'; isBrawlBattle  	? 'webBrowser' :
									isRankedBattle 	? 'showRankedRules'
													: null"/>
			<bind name="watch" value="'requestParams'; 	isBrawlBattle 	? {url: urlRules}
														: {}"/>
			<bind name="request" value="'click'; requestName; requestParams"/>
			<bind name="action" value="'click'; (isRankedBattle &amp;&amp; userDoNotWatchRankRules) ? 'ServerUIDataUSS.setUserTaskExecuted' : null; { taskId: UserTasksFlags.KNOWS_ABOUT_JUNIOR_RANKED_RULES }"/>
			<bind name="transition" value="rollOver; 0.1; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="watch" value="'rulesTooltipText'; isBrawlBattle  ? 'IDS_MORE_INFO_ABOUT_CLANB_RAWL_TOOLTIP'
														: 'IDS_MORE_INFO_ABOUT_RANKES_TOOLTIP'"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: rulesTooltipText}"/>
			<style>
				<position value="absolute"/>
				<top value="8px"/>
				<right value="24px"/>
			</style>
			<block className="button_info" type="native"/>
		</block>
		<block>
			<bind name="fade" value="(featureState == 'new') &amp;&amp; isSelectableBattleType &amp;&amp; type != 'CooperativeBattle'; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
			<style>
				<position value="absolute"/>
				<top value="8px"/>
				<right value="53px"/>
			</style>
			<bind name="instance" value="'MarkerNewAttention'; { }"/>
		</block>
		<block>
			<bind name="visible" value="(type == BattleTypes.EVENT_BATTLE) &amp;&amp; (status != 2)"/>
			<bind name="transition" value="rollOver; 0.1; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="request" value="'click';'showEventRules';{}"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_MORE_INFO_ABOUT_EVENT_TOOLTIP'}"/>
			<style>
				<position value="absolute"/>
				<top value="8px"/>
				<right value="24px"/>
			</style>
			<block className="button_info" type="native"/>
		</block>
		<bind name="primaryEntityDH" value="'notificationEntity'; CC.contextGuidingTip; SC.Context_guiding_tip.TIP_TYPES.RANDOM_FIGHT_BTN"/>
		<bind name="watchDH" value="'contextGuidingTipEnabled'; ['notificationEntity.contextGuidingTip.evUpdate']; notificationEntity.contextGuidingTip.active"/>
		<bind name="instance" value="'BattleChooserContextGuidingTip'; !contextGuidingTipEnabled || (_type != BattleTypes.RANDOM_BATTLE)	? null : {} "/>
	</block>
	<block className="ClanBattlePrimeTimeIndicator">
		<bind name="firstEntityDH" value="'chosenPrimeTimeEntity'; CC.clanBattlePrimeTime; 'chosen'"/>
		<bind name="firstEntityDH" value="'fixedPrimeTimeEntity'; CC.clanBattlePrimeTime; 'fixed'"/>
		<bind name="watch" value="'currentEntityId'; !!(fixedPrimeTimeEntity) ? fixedPrimeTimeEntity.id : chosenPrimeTimeEntity.id"/>
		<bind name="watch" value="'showPrimeTimeInfo'; !!(chosenPrimeTimeEntity) || !!(fixedPrimeTimeEntity)"/>
		<style>
			<width value="100%"/>
			<align value="center"/>
		</style>
		<block>
			<bind name="visible" value="showPrimeTimeInfo"/>
			<style>
				<marginBottom value="8px"/>
			</style>
			<bind name="instance" value="'PrimeTimeStereotype'; showPrimeTimeInfo ? { _entityId: currentEntityId, _isBig: true } : null"/>
		</block>
		<block type="text">
			<bind name="visible" value="!showPrimeTimeInfo"/>
			<styleClass value="$TextDefaultNM"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<bind name="text" value="'IDS_CLAN_BATTLES_NO_CHOSEN_PRIMETIME'"/>
		</block>
		<block>
			<bind name="visible" value="showPrimeTimeInfo"/>
			<style>
				<width value="100%f"/>
			</style>
			<bind name="instance" value="'PrimeTimeTillTimeInfo'; showPrimeTimeInfo ? { _entityId: currentEntityId } : null"/>
		</block>
	</block>
	<block className="ClanBattleTypeTooltip">
		<bind name="firstEntityDH" value="'chosenPrimeTimeEntity'; CC.clanBattlePrimeTime; 'chosen'"/>
		<bind name="firstEntityDH" value="'fixedPrimeTimeEntity'; CC.clanBattlePrimeTime; 'fixed'"/>
		<bind name="firstEntityDH" value="'clanCurrentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="watchDH" value="'isBrawl'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.isBrawl"/>
		<bind name="watch" value="'currentEntityId'; !!(fixedPrimeTimeEntity) ? fixedPrimeTimeEntity.id : chosenPrimeTimeEntity.id"/>
		<bind name="watch" value="'showPrimeTimeInfo'; !!(chosenPrimeTimeEntity) || !!(fixedPrimeTimeEntity)"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="280px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="16px"/>
				<marginBottom value="16px"/>
				<marginLeft value="16px"/>
				<marginRight value="16px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="16px"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
						<marginBottom value="8px"/>
					</style>
					<styleClass value="$TextDefaultBold19NM"/>
					<bind name="text" value="isBrawl ? 'IDS_CLAN_BRAWL' : 'IDS_CLAN_BATTLE'"/>
				</block>
				<block type="text">
					<bind name="visible" value="!showPrimeTimeInfo"/>
					<styleClass value="$TextDefault17NM"/>
					<bind name="class" value="'$FontColorUnready'"/>
					<bind name="text" value="'IDS_CLAN_BATTLES_NO_CHOSEN_PRIMETIME'"/>
				</block>
				<block>
					<bind name="visible" value="showPrimeTimeInfo"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'PrimeTimeStereotype'; showPrimeTimeInfo ? { _entityId: currentEntityId, _isBig: true, _textColor: '$FontColorWhite'} : null"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'ClanBattlesPrimeTimeSelectionNotes'; { _useWhiteColor: true }"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_mouseInstructions.length &gt; 0)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_mouseInstructions.length &gt; 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="repeat" value="_mouseInstructions; 'MouseInstructionRepeater'; {_maxWidth: _maxWidth, _lastIndex: _mouseInstructions.length - 1}"/>
		</block>
	</block>
	<block className="BattleTypeIconBig">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="firstEntityDH" value="'clanCurrentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="watchDH" value="'isBrawl'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.isBrawl"/>
		<styleClass value="$MiddleVAligned"/>
		<styleClass value="$MiddleAlignedAbsolutely"/>
		<style>
			<width value="136px"/>
			<height value="136px"/>
			<backgroundSize value="cover"/>
		</style>
		<bind name="transition" value="_selected; 0.09; {width: 128, height: 128}; {width: 136, height: 136}; {width: 128, height: 128}"/>
		<block className="icon_battletypes_big" type="native">
			<styleClass value="$Fullsize"/>
			<bind name="gotoAndStop!" value="_type == BattleTypes.RANKED_BATTLE		?	(_status == 2) 			? 'RankedBattle_disabled'
																	: 	(rankedBattlesSeason.isJuniorSeason == true)	? 'RankedBattle_junior'
																														: 'RankedBattle'
							: _type == BattleTypes.CLAN_BATTLE		?	(_status == 2)				? isBrawl	? 'ClanBrawl_disabled'
																																	: 'ClanBattle_disabled'
																														: isBrawl	? 'ClanBrawl'
																																	: 'ClanBattle'
							: _type == BattleTypes.RANDOM_BATTLE	?	(_status == 2)				? 'CooperativeBattle_disabled'
																														: 'RandomBattle'
							:_type == BattleTypes.PVE_BATTLE 		?	(_status == 2)				? 'PVEBattle_disabled'
																														: 	_pveIconLabel
																	:	_type"/>
		</block>
	</block>
	<block className="BattleTypeIconSmall">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="firstEntityDH" value="'clanCurrentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="watchDH" value="'isBrawl'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.isBrawl"/>
		<styleClass value="$MiddleVAligned"/>
		<styleClass value="$MiddleAlignedAbsolutely"/>
		<style>
			<width value="80px"/>
			<height value="80px"/>
			<backgroundSize value="cover"/>
		</style>
		<bind name="transition" value="_selected; 0.09; {width: 72, height: 72}; {width: 80, height: 80}; {width: 72, height: 72}"/>
		<block className="icon_battletypes" type="native">
			<styleClass value="$Fullsize"/>
			<bind name="gotoAndStop!" value="_type == BattleTypes.RANKED_BATTLE		?	(_status == 2) 			? 'RankedBattle_disabled'
																	: 	(rankedBattlesSeason.isJuniorSeason == true)	? 'RankedBattle_junior'
																														: 'RankedBattle'
							: _type == BattleTypes.CLAN_BATTLE		?	(_status == 2)				? isBrawl	? 'ClanBrawl_disabled'
																																	: 'ClanBattle_disabled'
																														: isBrawl	? 'ClanBrawl'
																																	: 'ClanBattle'
							: _type == BattleTypes.RANDOM_BATTLE	?	(_status == 2)				? 'CooperativeBattle_disabled'
																														: 'RandomBattle'
							:_type == BattleTypes.PVE_BATTLE 		?	(_status == 2)				? 'PVEBattle_disabled'
																														: 	_pveIconLabel
																	:	_type"/>
		</block>
	</block>
	<block className="SelectedBattleEventTypeAnimation">
		<styleClass value="$Fullsize"/>
		<style>
			<marginLeft value="5px"/>
			<marginTop value="-3px"/>
		</style>
		<bind name="watch" value="'colorSettings'; _isHard ? { redOffset: 251, greenOffset: 47, blueOffset: 0 } : { redOffset: 35, greenOffset: 140, blueOffset: 35 }"/>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<width value="340px"/>
				<height value="340px"/>
				<alpha value="1.5"/>
				<top value="-19px"/>
			</style>
			<bind name="colorTransform" value="{	redMultiplier: 0,
								greenMultiplier: 0,
								blueMultiplier: 0,
								alphaMultiplier: 1,
								redOffset: 10,
								greenOffset: 0,
								blueOffset: 0,
								alphaOffset: 0
								}"/>
			<bind name="instance" value="'SelectedBattleTypeAnimation'; {}"/>
		</block>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<width value="300px"/>
				<height value="300px"/>
				<top value="3px"/>
			</style>
			<bind name="colorTransform" value=" {	redMultiplier: 0.1,
									greenMultiplier: 0.1,
									blueMultiplier: 0.1,
									alphaMultiplier: 1,
									redOffset: colorSettings.redOffset,
									greenOffset: colorSettings.greenOffset,
									blueOffset: colorSettings.blueOffset,
									alphaOffset: 0
									}"/>
			<bind name="instance" value="'SelectedBattleTypeAnimation'; {}"/>
		</block>
	</block>
	<block className="SelectedBattleTypeAnimation">
		<styleClass value="$Fullsize"/>
		<block className="lesta.controls.video.VideoResourcePlayer" type="native">
			<styleClass value="$Fullsize"/>
			<params>
				<param name="keepAspectRatio" value="false"/>
			</params>
			<bind name="volume" value="0"/>
			<bind name="play!" value="'./gui/video/selected_battle_type.usm'"/>
		</block>
	</block>
	<block className="BattleTypeShortDescription">
		<bind name="feature" value="24; ''"/>
		<bind name="visible" value="(feature_24 == 'locked')"/>
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
				<textAlign value="center"/>
				<leading value="-2"/>
			</style>
			<bind name="style" value="'marginTop'; _isSmallView ? '8px' : '16px'"/>
			<bind name="style" value="'alpha'; _selected ? 0.8 : 0.6"/>
			<styleClass value="$TextDefaultNM"/>
			<bind name="text" value="_type == BattleTypes.COOPERATIVE_BATTLE	? 'IDS_COOPERATIVE_SHORT_DESCRIPTION' :
					_type == BattleTypes.RANDOM_BATTLE		? 'IDS_RANDOM_SHORT_DESCRIPTION' :
					_type == BattleTypes.INTRO_MISSION		? 'IDS_INTRO_SHORT_DESCRIPTION'
															: null "/>
		</block>
	</block>
	<css name="$DefaultTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$DefaultInstantTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.06,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.06,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$DefaultMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.07,
		appearOffset: 10.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: 10.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$RightSubMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.15,
		appearOffset: 0.0,
		disappearDelay: 0.35,
		disappearDuration: 0.1,
		disappearOffset: 5.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0,
		showDirection: 'right'
	}"/>
	</css>
	<css name="$LeftSubMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.15,
		appearOffset: 0.0,
		disappearDelay: 0.35,
		disappearDuration: 0.1,
		disappearOffset: 5.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0,
		showDirection: 'left'
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviourCenter">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: -8,
		bottomOffset: 0,
		screenBottomOffset: 26,
		isTipCenter: true
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviourCenterUpper">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: -8,
		bottomOffset: 0,
		isTipCenter: true,
		fixedDirectionUp: true
	}"/>
	</css>
	<css name="$ReplaysInfotip">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,

		rightOffset: 300,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$ReplaysInfotipFilter">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,

		rightOffset: 0,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$HorizontalInfotipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.0,
		disappearOffset: -10.0,
		tinyOffset: 0,
		rightOffset: -10,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$FightButtonTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.0,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$WarningTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$ModuleTreeTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$SmallListItem">
		<width value="100%"/>
		<height value="18px"/>
	</css>
	<css name="$SmallListItemValue">
		<position value="absolute"/>
		<right value="0px"/>
	</css>
	<css name="$DefaultTooltipWidth">
		<width value="300px"/>
	</css>
	<block className="EmptyLine"/>
	<block className="MouseInstructionTooltip">
		<style>
			<hitTest value="false"/>
		</style>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<bind name="visible" value="_multiParagraphArray.length &gt; 0"/>
			<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
			<style>
				<marginTop value="9px"/>
			</style>
			<bind name="style" value="'marginBottom'; _marginBottomParagraphs 												? _marginBottomParagraphs :
									(_multiParagraphArray.length &gt; 0) &amp;&amp; (_mouseInstructions.length &gt; 0)	? '0px'
																											: '5px'"/>
			<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {_maxWidth: _maxWidth, _marginBottom: _marginBottom, _leading: _leading}"/>
		</block>
		<block>
			<bind name="visible" value="_checkedLines.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_checkedLines.length &gt; 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="repeat" value="_checkedLines; 'CheckedLineRepeater'; {_maxWidth: _maxWidth, _marginBottom: _marginBottom, _lastIndex: (_checkedLines.length - 1), _leading: _leading}"/>
		</block>
		<block>
			<bind name="visible" value="(_multiParagraphArray.length &gt; 0) &amp;&amp; (_mouseInstructions.length &gt; 0)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_mouseInstructions.length &gt; 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="repeat" value="_mouseInstructions; 'MouseInstructionRepeater'; {_maxWidth: _maxWidth, _lastIndex: (_mouseInstructions.length - 1), _leading: _leading}"/>
		</block>
	</block>
	<block className="SimpleTooltip">
		<block className="SimpleTooltipTemplate">
			<styleClass value="$DefaultTooltipBehaviour"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$Fullsize"/>
			</block>
			<block type="text">
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="style" value="'leading'; (tooltipText.length &gt; 30 ? 0 : -3)"/>
				<style>
					<maxWidth value="300"/>
				</style>
				<bind name="text" value="tooltipText"/>
			</block>
		</block>
	</block>
	<block className="SubTextTooltip">
		<block className="SubTextTooltipTemplate">
			<styleClass value="$DefaultTooltipBehaviour"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<block type="text">
					<styleClass value="$TextHeaderBold"/>
					<style>
						<leading value="-3"/>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="tooltipText"/>
				</block>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<style>
						<marginTop value="3px"/>
						<leading value="-3"/>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="tooltipSubText"/>
				</block>
			</block>
		</block>
	</block>
	<block className="SimpleWarningTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 240"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="MultipleWarningsTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block>
				<bind name="repeat" value="_warningsArr; 'SimpleWarningText'; {}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="SimpleWarningText">
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<style>
				<maxWidth value="240"/>
				<leading value="-3"/>
			</style>
			<bind name="text" value="$value"/>
		</block>
	</block>
	<block className="StartButtonWarningsTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block>
				<params>
					<param name="name" value="MultipleWarningsTooltip"/>
				</params>
				<bind name="repeat" value="_warningsArr; 'StartButtonWarningText'; {}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="StartButtonWarningText">
		<bind name="firstEntityDH" value="'clanCurrentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="watchDH" value="'cbs_primeTimeStartTime'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.primeTimeStartTime"/>
		<bind name="watchDH" value="'cbs_primeTimeFinishTime'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.primeTimeFinishTime"/>
		<bind name="countdown" value="cbs_primeTimeStartTime; 'startPrimeTimeText'; 'HIGHEST,WITH_DAYS'; 'timeoutEvent'"/>
		<bind name="countdown" value="cbs_primeTimeFinishTime; 'finishPrimeTimeText'; 'HIGHEST,WITH_DAYS'; 'timeoutEvent'"/>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<style>
				<maxWidth value="240"/>
				<leading value="-3"/>
			</style>
			<bind name="text" value="$value == 'IDS_CLAN_BATTLES_PRIMETIME_STARTS_IN'	?	subst('IDS_CLAN_BATTLES_PRIMETIME_STARTS_IN', [], {timeLeft: startPrimeTimeText}) 
																		:	$value"/>
		</block>
	</block>
	<block className="TooltipBackground">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'DeclareBlurLayer'; _isInBattle ?  null : {}"/>
			<bind name="instance" value="'BlurMap'; _isInBattle ? null : {}"/>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="(optionData.contrast == true || _isInBattle == true)"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="!(_isInBattle)"/>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
	</block>
	<block className="TimerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block type="text">
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<styleClass value="$TextHeader"/>
			<bind name="class" value="'$FontSizeHeader4'"/>
			<bind name="pureText" value="_text"/>
		</block>
	</block>
	<block className="PlayerTooltipInvitationCountdown">
		<bind name="countdown" value="_expirationTime; 'countdownText'; 'mm:ss'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginLeft value="7px"/>
				<marginRight value="4px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="6px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: _formationType}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
						<maxWidth value="158"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="_text"/>
				</block>
				<block type="text">
					<style>
						<top value="-4px"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<styleClass value="$AlignRight"/>
					<bind name="class" value="'$FontSizeHeader6'"/>
					<bind name="pureText" value="'-' + countdownText"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="TooltipHeaderWithIcon">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
			<margin value="16px"/>
		</style>
		<block>
			<bind name="visible" value="_iconPath"/>
			<style>
				<width value="80px"/>
				<height value="80px"/>
			</style>
			<bind name="style" value="'backgroundImage'; _iconPath"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="16px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold17NM"/>
				<bind name="class" value="_headerClass ? _headerClass : '$None'"/>
				<style>
					<width value="100%"/>
					<leading value="-5"/>
					<marginTop value="2px"/>
				</style>
				<bind name="text" value="_headerText"/>
			</block>
			<block type="text">
				<bind name="visible" value="_subheaderText"/>
				<styleClass value="$TextDefaultNM"/>
				<bind name="class" value="_subheaderClass ? _subheaderClass : '$None'"/>
				<style>
					<width value="100%"/>
					<leading value="-3"/>
					<marginTop value="8px"/>
					<alpha value="0.9"/>
				</style>
				<bind name="text" value="_subheaderText"/>
			</block>
		</block>
	</block>
	<block className="TooltipContentTextBlock">
		<style>
			<width value="100%"/>
		</style>
		<block className="inner_panel" type="native">
			<bind name="visible" value="_withBackground == true"/>
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<marginTop value="1px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<margin value="16px"/>
			</style>
			<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItemNM'; {_maxWidth: _maxWidth, _marginBottom: _marginBottom, _leading: (_leading ? _leading : 0)}"/>
		</block>
	</block>
	<block className="AccountCompletionRewardTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="336px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<margin value="16px|16px|12px|12px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="tooltipText"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<margin value="16px|16px|12px|12px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault17NM"/>
				<style>
					<leading value="-3"/>
					<width value="100%"/>
					<marginBottom value="8px"/>
				</style>
				<bind name="text" value="'IDS_ACCOUNT_COMPLETION_TOOLTIP_SUBHEADER'"/>
			</block>
			<bind name="firstEntityDH" value="'completionRewardsEntity'; CC.completionRewards"/>
			<bind name="watchDH" value="'rewards';[]; completionRewardsEntity.completionRewards.rewards"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="rewards; 'RewardContainerTooltipItemAdapter'"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<margin value="16px|16px|8px|8px"/>
			</style>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_FINISH_ACCOUNT_COMPLETION_TOOLTIP', _maxWidth: 300 }"/>
		</block>
	</block>
	<block className="PlayerAccount">
		<bind name="primaryEntityDH" value="'pageEntity'; CC.insetPage; LobbyConstants.PLAYER_PROFILE"/>
		<bind name="watchDH" value="'page'; ['pageEntity.insetPage.evUpdate']; pageEntity.insetPage.page"/>
		<bind name="watchDH" value="'pageData'; ['pageEntity.dataComponent.evDataChanged']; pageEntity.dataComponent.data"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="catch" value="'evAccountLevelingItemClicked'"/>
		<bind name="firstEntityDH" value="'accountLevelEntity'; CC.accountLevel"/>
		<bind name="watchDH" value="'curAccountLevel'; ['accountLevelEntity.accountLevel.evLevelChanged']; accountLevelEntity.accountLevel.level"/>
		<bind name="firstEntityDH" value="'accountsRewardEntity'; CC.accountLevelingRewards"/>
		<bind name="watchDH" value="'nextReward'; ['accountsRewardEntity.accountLevelingRewards.evNextRewardPointsChanged']; accountsRewardEntity.accountLevelingRewards.nextRewardPoints"/>
		<bind name="catch" value="'addedToStage'; {	carouselItemSelectedIndex: 	pageData.isPortBannerClicked 	? pageData.rewardTypeReason == 'feature'	? curAccountLevel
																								: pageData.rewardTypeReason == 'promo'	? -1*pageData.promoRewardBattles
																																						: (-1*nextReward)
																								: (curAccountLevel - 1),

									carouselScrollIndex: 	pageData.isPortBannerClicked 	? pageData.rewardTypeReason == 'feature'	? (curAccountLevel - 1)
																							: pageData.rewardTypeReason == 'promo'	? (pageData.promoRewardLevel - 1)
																																					: (curAccountLevel - 1)
																							: (curAccountLevel - 2),
									currentImageIdx: 1}"/>
		<styleClass value="$Fullsize"/>
		<style>
			<paddingLeft value="188px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<height value="100%"/>
			</style>
			<block>
				<style>
					<align value="middle"/>
					<marginTop value="720:60,1080:160ah"/>
					<marginBottom value="720:0,1080:90ah"/>
				</style>
				<block>
					<style>
						<width value="10px"/>
						<marginRight value="32px"/>
					</style>
					<block className="button_slide_left" type="native">
						<bind name="name" value="'buttonAccountCarouselLeft'"/>
						<params>
							<param name="focusable" value="false"/>
						</params>
						<bind name="enabled" value="ALCarouselCanScrollLeft"/>
						<bind name="event" value="'click'; scrollLeftByOneUnit"/>
					</block>
				</block>
				<block>
					<params>
						<param name="name" value="AccountCarouselMainBlock"/>
					</params>
					<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerAccountCarousel"/>
					<bind name="event" value="'profileCarousel.scrollOneUnitLeft'; scrollLeftByOneUnit"/>
					<bind name="event" value="'profileCarousel.scrollOneUnitRight'; scrollRightByOneUnit"/>
					<bind name="stageSize"/>
					<bind name="watch" value="'maxStageWidth'; stageWidth &lt; 1920 ? stageWidth : 1920"/>
					<bind name="watch" value="'widthOfItem'; math.round((maxStageWidth-1280)/(1920-1280)*(424-332)+332)"/>
					<style>
						<width value="1280:868,1920:1052aw"/>
						<height value="224px"/>
						<overflow value="scroll"/>
						<scrollArea value="ModernScrollAreaHorizontal"/>
						<scrollbarController value="lesta.unbound.style.UbScrollingControllerCarousel"/>
						<layout value="lesta.unbound.layout.measure.CarouselLayout"/>
						<itemWidth value="1280:332,1920:424aw"/>
						<itemHeight value="164px"/>
						<backgroundColor value="0x01000000"/>
						<wheelScrollSpeed value="1280:332,1920:424aw"/>
						<generatorOffsetLeft value="332"/>
						<generatorOffsetRight value="332"/>
					</style>
					<bind name="event" value="'addedToStage'; setIndex; carouselScrollIndex"/>
					<bind name="catch" value="'evPromoRewardBannerClicked'"/>
					<bind name="dispatch" value="'evPromoRewardBannerClicked'; 'evDelayedPromoRewardBannerClicked'; {}; 2; 0.05"/>
					<bind name="event" value="'evDelayedPromoRewardBannerClicked'; scrollToIndex; carouselScrollIndex"/>
					<bind name="generatorDH" value="CC.accountLevelingStep; 'AccountLevellingProgressBar'; 'sorted'; {_carouselItemSelectedIndex: carouselItemSelectedIndex}"/>
					<bind name="scrollController" value="'ALCarousel'; widthOfItem; 1"/>
					<block>
						<style>
							<marginRight value="1280:-151,1920:-243aw"/>
							<width value="1px"/>
							<height value="1px"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="10px"/>
						<marginLeft value="32px"/>
					</style>
					<block className="button_slide_right" type="native">
						<bind name="name" value="'buttonAccountCarouselRight'"/>
						<params>
							<param name="focusable" value="false"/>
						</params>
						<bind name="enabled" value="ALCarouselCanScrollRight"/>
						<bind name="event" value="'click'; scrollRightByOneUnit"/>
					</block>
				</block>
				<block className="al_carousel_divider" type="native">
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<bottom value="720:30,1080:0ah"/>
						<hitTest value="false"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
							<top value="2px"/>
							<alpha value="1.2"/>
							<height value="300px"/>
							<hitTest value="false"/>
							<position value="absolute"/>
							<backgroundImage value="url:../accountLevel/progressBarIcons/AL_bg_info.png"/>
							<backgroundSize value="fill"/>
						</style>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
				<bind name="watchDH" value="'currentPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
				<bind name="collectionDH" value="CC.accountLevelingStep; 'accountLevelingSteps'"/>
				<bind name="entityDH" value="'accountLevelStepEntity'; accountLevelingSteps[carouselItemSelectedIndex].id"/>
				<bind name="watchDH" value="'stepFeature';			['accountLevelStepEntity.accountLevelingStep.evFeaturesChanged'];
													accountLevelStepEntity.accountLevelingStep.features"/>
				<bind name="watchDH" value="'featureStepPoints';		['accountLevelStepEntity.accountLevelingStep.evThisStepPointsChanged'];
													accountLevelStepEntity.accountLevelingStep.thisStepPoints"/>
				<bind name="watch" value="'rewardStepPoints'; math.abs(carouselItemSelectedIndex)"/>
				<bind name="collectionDH" value="CC.accountPromoRewardBanner; 'promoRewardCollectionSorted'; 'upcoming.sorted'"/>
				<bind name="entityDH" value="'promoRewardEntity'; promoRewardCollectionSorted[0].id"/>
				<bind name="watchDH" value="'promoRewardBattles';	['promoRewardEntity.accountPromoRewardBanner.evChanged'];
													promoRewardEntity.accountPromoRewardBanner.battles"/>
				<bind name="watch" value="'isPromoReward'; promoRewardCollectionSorted.length &gt; 0"/>
				<bind name="watch" value="'isPromoRewardTaken'; promoRewardBattles &lt;= currentPoints"/>
				<bind name="firstEntityDH" value="'accountsRewardEntity'; CC.accountLevelingRewards"/>
				<bind name="watchDH" value="'rewardsDict';		['accountsRewardEntity.accountLevelingRewards.evRewardsDictChanged'];		
												accountsRewardEntity.accountLevelingRewards.rewardsDict[rewardStepPoints]"/>
				<bind name="watch" value="'isFeature'; carouselItemSelectedIndex &gt;= 0"/>
				<bind name="handleEventDH" value="'accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged'; 'currentPointsChanged'; {}; 2"/>
				<bind name="dispatch" value="'currentPointsChanged'; (isFeature || rewardsDict.length &gt; 0) ? null : 'evAccountLevelingItemClicked'; { carouselItemSelectedIndex: curAccountLevel - 1,
																																	 currentImageIdx: 1}; 2; 0.05"/>
				<bind name="watch" value="'galleryItemRendererParams';	isFeature 	?	[{	stepFeature: stepFeature,
																			points: featureStepPoints}]
																		:	rewardsDict"/>
				<bind name="var" value="{ isHackedStep: false }"/>
				<bind name="changeDispatch" value="carouselItemSelectedIndex; 'selectedAccountStepChanged'; null; 2"/>
				<bind name="catch" value="'selectedAccountStepChanged'; {isHackedStep: true}"/>
				<bind name="dispatch" value="'selectedAccountStepChanged'; 'selectedAccountStepChangedDelayed'; {}; 2; 0.05"/>
				<bind name="catch" value="'selectedAccountStepChangedDelayed'; { isHackedStep: false }"/>
				<style>
					<marginLeft value="1280:10,1480:170aw"/>
				</style>
				<bind name="instance" value="'GalleryViewer';	isHackedStep ?	null :	{
																			_galleryItemRenderer: 'AccountLevellingStepInfo',
																			_galleryItemRendererParams: galleryItemRendererParams,
																			_galleryItemRendererImageIndicator: 'SelectedImageIndicatorAccountLeveling',
																			_galleryImageWidth: 844,
																			_galleryImageHeight: 256,
																			_galleryItemRendererImageIndicatorMarginLeft: 298,
																			_autoSwitchDelay: 8,
																			_currentImageIdx: currentImageIdx ? currentImageIdx : 1,
																			_arrowsDisabled: true
																		}"/>
			</block>
		</block>
		<bind name="watch" value="'isPromoBannerVisible'; (isPromoReward &amp;&amp; !isPromoRewardTaken)"/>
		<block>
			<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_MOVE_TO_THE_REWARD'}], _maxWidth: 300}"/>
			<style>
				<position value="absolute"/>
				<right value="20"/>
				<bottom value="46"/>
			</style>
			<bind name="instance" value="'PromoRewardBanner'; isPromoBannerVisible	? {	_carouselItemSelectedIndex: carouselItemSelectedIndex,
																		_isPortBanner: false,
																		_isFromPortPromoBanner: (pageData.isPortBannerClicked &amp;&amp; pageData.rewardTypeReason == 'promo') }
																	: null"/>
		</block>
	</block>
	<block className="AccountLevellingStepInfo">
		<bind name="child" value="_galleryItemRendererParams[_index].type	? _galleryItemRendererParams[_index].type
															: 'feature';
				{	_galleryItemRendererParams: _galleryItemRendererParams, _index: _index};{	promo:	'AccountLevellingPromoRewardStepInfo',
																								common:	'AccountLevellingCommonRewardStepInfo',
																								feature: 'AccountLevellingFeatureStepInfo'}"/>
	</block>
	<block className="AccountLevellingFeatureStepInfo">
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'battlesToStep';	_galleryItemRendererParams[_index].points - currentPoints"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="watch" value="'isAbuseStatusConfirmed'; accountLevelInfo.abuseStatus == 2"/>
		<bind name="primaryEntityDH" value="'featureEntity'; CC.accountFeature; _galleryItemRendererParams[_index].stepFeature"/>
		<bind name="watchDH" value="'headerText';	['featureEntity.accountFeature.evStateChanged']; featureEntity.accountFeature.title"/>
		<bind name="watchDH" value="'subHeaderText';	['featureEntity.accountFeature.evStateChanged']; featureEntity.accountFeature.text"/>
		<bind name="watchDH" value="'iconPath';		['featureEntity.accountFeature.evStateChanged']; featureEntity.accountFeature.iconPath"/>
		<bind name="watch" value="'imageUrl'; battlesToStep &gt; 0 ? 'url:' + iconPath + '_locked_big.png' :  'url:' + iconPath + '_big.png'"/>
		<bind name="var" value="{stepType: 'feature'}"/>
		<bind name="watch" value="'buttonRequest'; 'openModalWindowLevelInfo'"/>
		<bind name="watch" value="'buttonRequestParams'; {	battles: battlesToStep,
											_stepFeature: _galleryItemRendererParams[_index].stepFeature}"/>
		<block className="AccountLevellingStepInfoLayout">
			<bind name="appear" value="'addedToStage'; 0.23; 0.07; {alpha: 0}; {alpha: 1}; 1"/>
			<style>
				<width value="844px"/>
				<height value="256px"/>
				<flow value="horizontal"/>
			</style>
			<block>
				<style>
					<width value="256px"/>
					<height value="100%"/>
				</style>
				<bind name="child" value="stepType ? stepType : 'no_item';	{ _imageURL: imageUrl, _imageData: imageData, _iconSize: '256px' };
																										{	feature:		'IconAlItem',
																											commonReward:	'IconAlItem',
																											promoReward:	'IconAlDataItem',
																											no_item:		'EmptyItem'
																										}"/>
			</block>
			<block>
				<bind name="visible" value="battlesToStep &gt; 0 &amp;&amp; stepType != 'promoReward'"/>
				<style>
					<width value="60px"/>
					<height value="60px"/>
					<position value="absolute"/>
					<left value="98px"/>
					<top value="98px"/>
					<backgroundImage value="url:../accountLevel/progressBarIcons/accountLevelingBigLockIcon.png"/>
					<backgroundSize value="fill"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<height value="100%"/>
					<marginTop value="32"/>
					<marginLeft value="48px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold30NM"/>
					<style>
						<leading value="-6"/>
						<maxWidth value="540"/>
						<marginTop value="12px"/>
					</style>
					<bind name="style" value="'alpha'; battlesToStep &gt; 0 ? 0.7 : 0.9"/>
					<bind name="text" value="headerText"/>
				</block>
				<block>
					<bind name="visible" value="battlesToStep &gt; 0"/>
					<bind name="tooltip" value="'AbuseStatusProfileTooltip'; (battlesToStep &gt; 0) &amp;&amp; isAbuseStatusConfirmed ? {} : null"/>
					<style>
						<width value="100%"/>
						<alpha value="0.7"/>
						<marginTop value="16px"/>
					</style>
					<bind name="instance" value="'AccountLevelingItemAbused'; (battlesToStep &gt; 0) &amp;&amp; isAbuseStatusConfirmed ? {_isSmallIcon: true} : null"/>
					<bind name="instance" value="'AccountLevelingItemUnavailable'; (battlesToStep &gt; 0) &amp;&amp; !isAbuseStatusConfirmed ? {_battlesToStep: battlesToStep} : null"/>
				</block>
				<block>
					<bind name="visible" value="isTimedPromoReward ? true : false"/>
					<style>
						<width value="100%"/>
						<marginTop value="12px"/>
					</style>
					<bind name="instance" value="'TimeLeftIconAndTextLine'; isTimedPromoReward	? { _dueDate: promoRewardDueDate, _substTextIDS: 'IDS_PROMO_REWARD_DAYS_LEFT'}
																			: null"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault19NM"/>
					<style>
						<maxWidth value="500"/>
						<alpha value="0.7"/>
						<marginTop value="24px"/>
					</style>
					<bind name="text" value="subHeaderText"/>
				</block>
				<block>
					<bind name="tooltip" value="'MouseInstructionTooltip'; {	_mouseInstructions: [{_type: 'left', _instructionText: 'IDS_HINT_LEFT_CLICK_FOR_FURTHER_INFO'}],
														_maxWidth: 300}"/>
					<style>
						<marginTop value="32px"/>
					</style>
					<bind name="instance" value="'DefaultButton'; {	_width: '140px',
												_enabled: true,
												_isTransactionBtn: true,
												_label: 'IDS_PRMP_DETAILS_BUTTON', 
												_request: buttonRequest, 
												_requestParams: buttonRequestParams
											}"/>
				</block>
			</block>
		</block>
	</block>
	<block className="AccountLevellingPromoRewardStepInfo">
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'battlesToStep';	_galleryItemRendererParams[_index].points - currentPoints"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="watch" value="'isAbuseStatusConfirmed'; accountLevelInfo.abuseStatus == 2"/>
		<bind name="entityDH" value="'promoRewardEntity'; _galleryItemRendererParams[_index].promoId"/>
		<bind name="watchDH" value="'headerText';			['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.title"/>
		<bind name="watchDH" value="'fullDescription';		['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.fullDescription"/>
		<bind name="watchDH" value="'subHeaderText';			['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.shortDescription"/>
		<bind name="watchDH" value="'promoRewardImageBig';	['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.imageBig"/>
		<bind name="watchDH" value="'promoRewardDueDate';	['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.expirationTime"/>
		<bind name="primaryEntityDH" value="'imageEntity'; CC.byteArrayData; promoRewardImageBig"/>
		<bind name="watchDH" value="'imageData'; ['imageEntity.byteArrayData.evChanged']; imageEntity.byteArrayData.data"/>
		<bind name="watch" value="'isTimedPromoReward'; promoRewardDueDate &gt; 1"/>
		<bind name="entityDH" value="'rewardEntity';		_galleryItemRendererParams[_index].rewardId"/>
		<bind name="var" value="{stepType: 'promoReward'}"/>
		<bind name="watch" value="'buttonRequest'; 'openModalWindowRewardInfo'"/>
		<bind name="watch" value="'buttonRequestParams'; {	battles: battlesToStep,
											rewards: rewardEntity.rewardsContainer.rewardIds,
											headerText: headerText,
											subHeaderText: fullDescription,
											dueDate: isTimedPromoReward ? promoRewardDueDate : ''}"/>
		<block className="AccountLevellingStepInfoLayout">
			<bind name="appear" value="'addedToStage'; 0.23; 0.07; {alpha: 0}; {alpha: 1}; 1"/>
			<style>
				<width value="844px"/>
				<height value="256px"/>
				<flow value="horizontal"/>
			</style>
			<block>
				<style>
					<width value="256px"/>
					<height value="100%"/>
				</style>
				<bind name="child" value="stepType ? stepType : 'no_item';	{ _imageURL: imageUrl, _imageData: imageData, _iconSize: '256px' };
																										{	feature:		'IconAlItem',
																											commonReward:	'IconAlItem',
																											promoReward:	'IconAlDataItem',
																											no_item:		'EmptyItem'
																										}"/>
			</block>
			<block>
				<bind name="visible" value="battlesToStep &gt; 0 &amp;&amp; stepType != 'promoReward'"/>
				<style>
					<width value="60px"/>
					<height value="60px"/>
					<position value="absolute"/>
					<left value="98px"/>
					<top value="98px"/>
					<backgroundImage value="url:../accountLevel/progressBarIcons/accountLevelingBigLockIcon.png"/>
					<backgroundSize value="fill"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<height value="100%"/>
					<marginTop value="32"/>
					<marginLeft value="48px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold30NM"/>
					<style>
						<leading value="-6"/>
						<maxWidth value="540"/>
						<marginTop value="12px"/>
					</style>
					<bind name="style" value="'alpha'; battlesToStep &gt; 0 ? 0.7 : 0.9"/>
					<bind name="text" value="headerText"/>
				</block>
				<block>
					<bind name="visible" value="battlesToStep &gt; 0"/>
					<bind name="tooltip" value="'AbuseStatusProfileTooltip'; (battlesToStep &gt; 0) &amp;&amp; isAbuseStatusConfirmed ? {} : null"/>
					<style>
						<width value="100%"/>
						<alpha value="0.7"/>
						<marginTop value="16px"/>
					</style>
					<bind name="instance" value="'AccountLevelingItemAbused'; (battlesToStep &gt; 0) &amp;&amp; isAbuseStatusConfirmed ? {_isSmallIcon: true} : null"/>
					<bind name="instance" value="'AccountLevelingItemUnavailable'; (battlesToStep &gt; 0) &amp;&amp; !isAbuseStatusConfirmed ? {_battlesToStep: battlesToStep} : null"/>
				</block>
				<block>
					<bind name="visible" value="isTimedPromoReward ? true : false"/>
					<style>
						<width value="100%"/>
						<marginTop value="12px"/>
					</style>
					<bind name="instance" value="'TimeLeftIconAndTextLine'; isTimedPromoReward	? { _dueDate: promoRewardDueDate, _substTextIDS: 'IDS_PROMO_REWARD_DAYS_LEFT'}
																			: null"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault19NM"/>
					<style>
						<maxWidth value="500"/>
						<alpha value="0.7"/>
						<marginTop value="24px"/>
					</style>
					<bind name="text" value="subHeaderText"/>
				</block>
				<block>
					<bind name="tooltip" value="'MouseInstructionTooltip'; {	_mouseInstructions: [{_type: 'left', _instructionText: 'IDS_HINT_LEFT_CLICK_FOR_FURTHER_INFO'}],
														_maxWidth: 300}"/>
					<style>
						<marginTop value="32px"/>
					</style>
					<bind name="instance" value="'DefaultButton'; {	_width: '140px',
												_enabled: true,
												_isTransactionBtn: true,
												_label: 'IDS_PRMP_DETAILS_BUTTON', 
												_request: buttonRequest, 
												_requestParams: buttonRequestParams
											}"/>
				</block>
			</block>
		</block>
	</block>
	<block className="AccountLevellingCommonRewardStepInfo">
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'battlesToStep';	_galleryItemRendererParams[_index].points - currentPoints"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="watch" value="'isAbuseStatusConfirmed'; accountLevelInfo.abuseStatus == 2"/>
		<bind name="entityDH" value="'rewardEntity';		_galleryItemRendererParams[_index].rewardId"/>
		<bind name="watch" value="'isSimilarRewards';	rewardEntity.rewardsContainer.subtype &amp;&amp; rewardEntity.rewardsContainer.rewardIds.length &gt; 1"/>
		<bind name="watch" value="'isSingleRewardType';	rewardEntity.rewardsContainer.rewardIds.length == 1"/>
		<bind name="watch" value="'rewardType';			rewardEntity.rewardComponent.type"/>
		<bind name="watch" value="'rewardAmountFormatted'; rewardEntity.rewardComponent.subtype == 'premium' ? rewardEntity.rewardComponent.params.textFeature
																							: format(rewardEntity.rewardComponent.amount)"/>
		<bind name="watch" value="'rewardIconPath';	isSimilarRewards				? toLowerCase(rewardEntity.rewardComponent.subtype + '_set') :
									isSingleRewardType				?
										rewardType == 	'Exterior' 		? toLowerCase(exteriorConfig.type) :
										rewardType == 	'Resource'		? toLowerCase(rewardEntity.rewardComponent.subtype) :
										rewardType == 	'ResourceCoeff'	? toLowerCase(rewardEntity.rewardComponent.subtype) :
										rewardType == 	'Exchange'		? toLowerCase(rewardEntity.rewardComponent.subtype) :
										rewardType == 	'Lootbox'		? 'lootbox'
																		: toLowerCase(rewardEntity.rewardComponent.type)
																	: 'multiple'"/>
		<bind name="watch" value="'imageUrl'; battlesToStep &gt; 0 ? 'url:../accountLevel/rewards/icon_reward_' + rewardIconPath + '_locked_big.png' :  'url:../accountLevel/rewards/icon_reward_' + rewardIconPath + '_big.png'"/>
		<bind name="watch" value="'rewardHeaderTextWithAmount';	isSimilarRewards			? toUpperCase('IDS_REWARDS_SET_' + rewardEntity.rewardComponent.subtype) :
												isSingleRewardType			?
													rewardType == 	'Ship' 			? 'IDS_SHIP' :
													rewardType == 	'Crew' 			? 'IDS_CREW' :
													rewardType == 	'Exterior' 		? exteriorConfig.type == ExteriorTypes.ENSIGN 	? toUpperCase('IDS_' + exteriorConfig.type + '_TITLE') 
																																	: subst(toUpperCase('IDS_PL_' + exteriorConfig.type + '_TITLE'), [], {_amount: format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
													rewardType == 	'Ability'		? subst('IDS_PL_ABILITY_TITLE', [], {_amount: format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
													rewardType == 	'Modernization'	? subst('IDS_PL_MODERNIZATION_TITLE', [], {_amount: format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
													rewardType == 	'Resource'		? 	rewardEntity.rewardComponent.subtype == 'credits' ||
																						rewardEntity.rewardComponent.subtype == 'gold' ||
																						rewardEntity.rewardComponent.subtype == 'slots' ||
																						rewardEntity.rewardComponent.subtype == 'barCapacity'		? subst(toUpperCase('IDS_REWARDS_PL_' + rewardEntity.rewardComponent.subtype + '_TITLE'), [], {_amount:  format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
																						rewardEntity.rewardComponent.subtype == 'wows_premium' ||    
																						rewardEntity.rewardComponent.subtype == 'premium'			? subst(toUpperCase('IDS_REWARDS_PL_' + rewardEntity.rewardComponent.subtype + '_TITLE'), [], {_amount:  rewardEntity.rewardComponent.params.text})
																																					: subst(toUpperCase('IDS_REWARDS_PL_' + rewardEntity.rewardComponent.subtype + '_TITLE'), [], {_amount:  format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
													rewardType == 	'ResourceCoeff'	? toUpperCase('IDS_REWARD_' + rewardEntity.rewardComponent.subtype + '_TITLE') :
													rewardType == 	'Exchange'		? toUpperCase('IDS_PRMP_ITEM_' + rewardEntity.rewardComponent.subtype) :
													rewardType == 	'Lootbox'		? subst(toUpperCase('IDS_PL_LOOTBOX_' + rewardEntity.rewardComponent.subtype + '_TITLE'), [], {_amount: format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
													rewardType == 	'DogTag'		?  toUpperCase('IDS_DOGTAG_' + rewardEntity.rewardComponent.name + '_NAME') :
													rewardType == 	'Collection'	?  toUpperCase('IDS_' + rewardEntity.rewardComponent.name)
																					: 'IDS_REWARDS_SET'
																			: 'IDS_REWARDS_SET'"/>
		<bind name="watch" value="'headerText';	rewardHeaderTextWithAmount"/>
		<bind name="watch" value="'rewardSubheaderText';	isSimilarRewards				? toUpperCase('IDS_REWARDS_SET_' + rewardEntity.rewardComponent.subtype + '_DESCRIPTION') :
										isSingleRewardType				?
											rewardType == 	'Ship' 			? tr(toUpperCase(shipInfo.nameIDS + '_DESCR')) :
											rewardType == 	'Crew' 			? tr(toUpperCase(rewardEntity.rewardComponent.params.firstNameIDS + '_DESCR')) :
											rewardType == 	'Exterior' 		? tr(toUpperCase('IDS_' + exteriorConfig.name + '_DESCRIPTION')) :
											rewardType == 	'Ability'		? 'IDS_CONSUMABLES' :
											rewardType == 	'Modernization'	? tr(toUpperCase('IDS_MODERNIZATION_' + rewardEntity.rewardComponent.params.item.type)) :
											rewardType == 	'Lootbox'		? 'IDS_LOOTBOX_DESCRIPTION' :
											rewardType == 	'DogTag'		? subtype == unique ? tr(toUpperCase('IDS_DOGTAG_COMPONENT_TOOLTIP_CATEGORY_' + 'unique'))
																								: tr(toUpperCase('IDS_DOGTAG_COMPONENT_TOOLTIP_CATEGORY_' + _categoryId)) :
											rewardType == 	'Collection'	? tr(toUpperCase('IDS_' + rewardEntity.rewardComponent.name + '_DESCRIPTION'))
																			: tr(toUpperCase('IDS_' + rewardEntity.rewardComponent.subtype + '_DESCRIPTION'))
																		: 'IDS_REWARDS_SET_DESCRIPTION'"/>
		<bind name="watch" value="'subHeaderText';	rewardSubheaderText"/>
		<bind name="watch" value="'rewardHeaderText';	isSimilarRewards			? 'IDS_REWARDS_SET_' + toUpperCase(rewardEntity.rewardComponent.subtype) :
										isSingleRewardType			?
											rewardType == 	'Ship' 			? 'IDS_SHIP' :
											rewardType == 	'Crew' 			? 'IDS_CREW' :
											rewardType == 	'Exterior' 		? toUpperCase('IDS_' +  exteriorConfig.type + '_TITLE') :
											rewardType == 	'Resource'		? toUpperCase('IDS_REWARD_' + rewardEntity.rewardComponent.subtype + '_TITLE') :
											rewardType == 	'ResourceCoeff'	? toUpperCase('IDS_REWARD_' + rewardEntity.rewardComponent.subtype + '_TITLE') :
											rewardType == 	'Lootbox'		? 'IDS_LOOTBOX_TITLE' :
											rewardType == 	'DogTag'		? toUpperCase('IDS_DOGTAG_' + rewardEntity.rewardComponent.name + '_NAME') :
											rewardType == 	'Exchange'		? toUpperCase('IDS_PRMP_ITEM_' + rewardEntity.rewardComponent.subtype + '_TITLE') :
											rewardType == 	'Collection'	? toUpperCase('IDS_' + rewardEntity.rewardComponent.name)
																			: toUpperCase(rewardEntity.rewardComponent.type + '_TITLE')
																	: 'IDS_REWARDS_SET'"/>
		<bind name="watch" value="'modalWindowHeaderText';	rewardHeaderText"/>
		<bind name="var" value="{stepType: 'commonReward'}"/>
		<bind name="watch" value="'buttonRequest'; 'openModalWindowRewardInfo'"/>
		<bind name="watch" value="'buttonRequestParams'; {	battles: battlesToStep,
											rewards: rewardEntity.rewardsContainer.rewardIds,
											headerText: modalWindowHeaderText,
											subHeaderText: subHeaderText}"/>
		<block className="AccountLevellingStepInfoLayout">
			<bind name="appear" value="'addedToStage'; 0.23; 0.07; {alpha: 0}; {alpha: 1}; 1"/>
			<style>
				<width value="844px"/>
				<height value="256px"/>
				<flow value="horizontal"/>
			</style>
			<block>
				<style>
					<width value="256px"/>
					<height value="100%"/>
				</style>
				<bind name="child" value="stepType ? stepType : 'no_item';	{ _imageURL: imageUrl, _imageData: imageData, _iconSize: '256px' };
																										{	feature:		'IconAlItem',
																											commonReward:	'IconAlItem',
																											promoReward:	'IconAlDataItem',
																											no_item:		'EmptyItem'
																										}"/>
			</block>
			<block>
				<bind name="visible" value="battlesToStep &gt; 0 &amp;&amp; stepType != 'promoReward'"/>
				<style>
					<width value="60px"/>
					<height value="60px"/>
					<position value="absolute"/>
					<left value="98px"/>
					<top value="98px"/>
					<backgroundImage value="url:../accountLevel/progressBarIcons/accountLevelingBigLockIcon.png"/>
					<backgroundSize value="fill"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<height value="100%"/>
					<marginTop value="32"/>
					<marginLeft value="48px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold30NM"/>
					<style>
						<leading value="-6"/>
						<maxWidth value="540"/>
						<marginTop value="12px"/>
					</style>
					<bind name="style" value="'alpha'; battlesToStep &gt; 0 ? 0.7 : 0.9"/>
					<bind name="text" value="headerText"/>
				</block>
				<block>
					<bind name="visible" value="battlesToStep &gt; 0"/>
					<bind name="tooltip" value="'AbuseStatusProfileTooltip'; (battlesToStep &gt; 0) &amp;&amp; isAbuseStatusConfirmed ? {} : null"/>
					<style>
						<width value="100%"/>
						<alpha value="0.7"/>
						<marginTop value="16px"/>
					</style>
					<bind name="instance" value="'AccountLevelingItemAbused'; (battlesToStep &gt; 0) &amp;&amp; isAbuseStatusConfirmed ? {_isSmallIcon: true} : null"/>
					<bind name="instance" value="'AccountLevelingItemUnavailable'; (battlesToStep &gt; 0) &amp;&amp; !isAbuseStatusConfirmed ? {_battlesToStep: battlesToStep} : null"/>
				</block>
				<block>
					<bind name="visible" value="isTimedPromoReward ? true : false"/>
					<style>
						<width value="100%"/>
						<marginTop value="12px"/>
					</style>
					<bind name="instance" value="'TimeLeftIconAndTextLine'; isTimedPromoReward	? { _dueDate: promoRewardDueDate, _substTextIDS: 'IDS_PROMO_REWARD_DAYS_LEFT'}
																			: null"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault19NM"/>
					<style>
						<maxWidth value="500"/>
						<alpha value="0.7"/>
						<marginTop value="24px"/>
					</style>
					<bind name="text" value="subHeaderText"/>
				</block>
				<block>
					<bind name="tooltip" value="'MouseInstructionTooltip'; {	_mouseInstructions: [{_type: 'left', _instructionText: 'IDS_HINT_LEFT_CLICK_FOR_FURTHER_INFO'}],
														_maxWidth: 300}"/>
					<style>
						<marginTop value="32px"/>
					</style>
					<bind name="instance" value="'DefaultButton'; {	_width: '140px',
												_enabled: true,
												_isTransactionBtn: true,
												_label: 'IDS_PRMP_DETAILS_BUTTON', 
												_request: buttonRequest, 
												_requestParams: buttonRequestParams
											}"/>
				</block>
			</block>
		</block>
	</block>
	<block className="AccountLevellingStepInfoLayout">
		<bind name="appear" value="'addedToStage'; 0.23; 0.07; {alpha: 0}; {alpha: 1}; 1"/>
		<style>
			<width value="844px"/>
			<height value="256px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="256px"/>
				<height value="100%"/>
			</style>
			<bind name="child" value="stepType ? stepType : 'no_item';	{ _imageURL: imageUrl, _imageData: imageData, _iconSize: '256px' };
																										{	feature:		'IconAlItem',
																											commonReward:	'IconAlItem',
																											promoReward:	'IconAlDataItem',
																											no_item:		'EmptyItem'
																										}"/>
		</block>
		<block>
			<bind name="visible" value="battlesToStep &gt; 0 &amp;&amp; stepType != 'promoReward'"/>
			<style>
				<width value="60px"/>
				<height value="60px"/>
				<position value="absolute"/>
				<left value="98px"/>
				<top value="98px"/>
				<backgroundImage value="url:../accountLevel/progressBarIcons/accountLevelingBigLockIcon.png"/>
				<backgroundSize value="fill"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="100%"/>
				<marginTop value="32"/>
				<marginLeft value="48px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold30NM"/>
				<style>
					<leading value="-6"/>
					<maxWidth value="540"/>
					<marginTop value="12px"/>
				</style>
				<bind name="style" value="'alpha'; battlesToStep &gt; 0 ? 0.7 : 0.9"/>
				<bind name="text" value="headerText"/>
			</block>
			<block>
				<bind name="visible" value="battlesToStep &gt; 0"/>
				<bind name="tooltip" value="'AbuseStatusProfileTooltip'; (battlesToStep &gt; 0) &amp;&amp; isAbuseStatusConfirmed ? {} : null"/>
				<style>
					<width value="100%"/>
					<alpha value="0.7"/>
					<marginTop value="16px"/>
				</style>
				<bind name="instance" value="'AccountLevelingItemAbused'; (battlesToStep &gt; 0) &amp;&amp; isAbuseStatusConfirmed ? {_isSmallIcon: true} : null"/>
				<bind name="instance" value="'AccountLevelingItemUnavailable'; (battlesToStep &gt; 0) &amp;&amp; !isAbuseStatusConfirmed ? {_battlesToStep: battlesToStep} : null"/>
			</block>
			<block>
				<bind name="visible" value="isTimedPromoReward ? true : false"/>
				<style>
					<width value="100%"/>
					<marginTop value="12px"/>
				</style>
				<bind name="instance" value="'TimeLeftIconAndTextLine'; isTimedPromoReward	? { _dueDate: promoRewardDueDate, _substTextIDS: 'IDS_PROMO_REWARD_DAYS_LEFT'}
																			: null"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault19NM"/>
				<style>
					<maxWidth value="500"/>
					<alpha value="0.7"/>
					<marginTop value="24px"/>
				</style>
				<bind name="text" value="subHeaderText"/>
			</block>
			<block>
				<bind name="tooltip" value="'MouseInstructionTooltip'; {	_mouseInstructions: [{_type: 'left', _instructionText: 'IDS_HINT_LEFT_CLICK_FOR_FURTHER_INFO'}],
														_maxWidth: 300}"/>
				<style>
					<marginTop value="32px"/>
				</style>
				<bind name="instance" value="'DefaultButton'; {	_width: '140px',
												_enabled: true,
												_isTransactionBtn: true,
												_label: 'IDS_PRMP_DETAILS_BUTTON', 
												_request: buttonRequest, 
												_requestParams: buttonRequestParams
											}"/>
			</block>
		</block>
	</block>
	<block className="AccountLevelingItemUnavailable">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="19px"/>
				<height value="19px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'marginRight'; _iconMarginRight ? _iconMarginRight : 12"/>
			<bind name="style" value="'backgroundImage'; 'url:../service_kit/icons/icon_status_lock.png'"/>
		</block>
		<block type="text">
			<bind name="class" value="_class ? _class : '$TextDefault17NM'"/>
			<style>
				<width value="100%"/>
				<leading value="-3"/>
			</style>
			<bind name="text" value="subst('IDS_BATTLES_TO_NEXT_STEP', [], {battles: _battlesToStep}, _battlesToStep)"/>
		</block>
	</block>
	<block className="AccountLevelingItemAbused">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="class" value="_iconClass ? _iconClass :'$MiddleVAligned'"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; _isSmallIcon	? 'url:../service_kit/icons/icon_warning_red.png'
														: 'url:../service_kit/icons/icon_status_warning.png'"/>
			<bind name="style" value="'width'; _isSmallIcon ? '15px' : '22px'"/>
			<bind name="style" value="'height'; _isSmallIcon ? '13px' : '19px'"/>
		</block>
		<block type="text">
			<bind name="class" value="_class ? _class : '$TextDefault17NM'"/>
			<style>
				<width value="100%"/>
				<leading value="-3"/>
				<textColor value="0xFF6600"/>
			</style>
			<bind name="style" value="'marginLeft'; _isSmallIcon ? '8px' : 'SX8px'"/>
			<bind name="text" value="_abuseText ? _abuseText : 'IDS_ACCOUNT_PROGRESS_ABUSED'"/>
		</block>
	</block>
	<block className="AccountLevelingItemAvailable">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="14px"/>
				<height value="19px"/>
				<marginRight value="12px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../service_kit/icons/icon_status_check.png'"/>
		</block>
		<block type="text">
			<bind name="class" value="_class ? _class : '$TextDefault17NM'"/>
			<style>
				<width value="100%"/>
				<leading value="-3"/>
				<textColor value="0xFFFFCC66"/>
			</style>
			<bind name="text" value="_isFeature ? 'IDS_AVAILABLE_FEATURE' : 'IDS_REWARD_IS_TAKEN'"/>
		</block>
	</block>
	<block className="TimeLeftIconAndTextLine">
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'isTimeRunningOut'; _dueDate - serverTime &lt; 86400"/>
		<bind name="timeFormat" value="_dueDate; 'dd.MM.yy'; 'formattedDueDatePromoReward'; true"/>
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<bind name="style" value="'alpha'; isTimeRunningOut	? '1' : '0.7'"/>
		<block>
			<style>
				<width value="19px"/>
				<height value="19px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'marginRight'; _iconMarginRight ? _iconMarginRight : 12"/>
			<bind name="style" value="'backgroundImage'; isTimeRunningOut	? 'url:../service_kit/icons/icon_status_due_date_orange.png'
															: 'url:../service_kit/icons/icon_status_due_date_white.png'"/>
		</block>
		<block type="text">
			<bind name="class" value="_class ? _class : '$TextDefault17NM'"/>
			<style>
				<width value="100%"/>
				<leading value="-3"/>
				<marginTop value="3px"/>
			</style>
			<bind name="style" value="'textColor'; isTimeRunningOut ? 0xFFFF9933 : '0xFFFFFF'"/>
			<bind name="text" value="subst(_substTextIDS, [], { _timer: formattedDueDatePromoReward })"/>
		</block>
	</block>
	<block className="AccountLevellingProgressBar">
		<bind name="dataRefDH" value="'accountLevelingStepEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'accountLastStep'; ['accountLevelingStepEntity.accountLevelingStep.evIsLastStepChanged']; accountLevelingStepEntity.accountLevelingStep.isLastStep"/>
		<bind name="watch" value="'isSelect'; _carouselItemSelectedIndex == $index"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="20px"/>
				<height value="1px"/>
			</style>
		</block>
		<block>
			<bind name="tooltip" value="'FeatureALTooltip'; {_featureEntityId: accountLevelingStepEntity.id, _isSelect: isSelect}"/>
			<bind name="dispatch" value="'click'; 'evAccountLevelingItemClicked'; 	{ carouselItemSelectedIndex: $index,
																	  currentImageIdx: 1}"/>
			<bind name="instance" value="'AccountLevelingLevelIconItem'; {	_accountLevelingStepEntityID: accountLevelingStepEntity.id, _index: $index,
															_carouselItemSelectedIndex: _carouselItemSelectedIndex}"/>
		</block>
		<block>
			<style>
				<marginTop value="71px"/>
			</style>
			<bind name="instance" value="'AccountLevelingProgressItem'; !accountLastStep ? {	_accountLevelingStepEntityID: accountLevelingStepEntity.id,
																			_carouselItemSelectedIndex: _carouselItemSelectedIndex} : null"/>
		</block>
	</block>
	<block className="AccountLevelingProgressItem">
		<bind name="entityDH" value="'accountLevelingStepEntity'; _accountLevelingStepEntityID"/>
		<bind name="watchDH" value="'accountStepPoints'; ['accountLevelingStepEntity.accountLevelingStep.evThisStepPointsChanged']; accountLevelingStepEntity.accountLevelingStep.thisStepPoints"/>
		<bind name="watchDH" value="'accountNextStepPoints'; ['accountLevelingStepEntity.accountLevelingStep.evNextStepPointsChanged']; accountLevelingStepEntity.accountLevelingStep.nextStepPoints"/>
		<bind name="watch" value="'isProgressBarWithSteps'; accountNextStepPoints - accountStepPoints &lt; 16"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'maxStageWidth'; stageWidth &lt; 1920 ? stageWidth : 1920"/>
		<bind name="watch" value="'widthOfItem'; math.round((maxStageWidth-1280)/(1920-1280)*(424-332)+332)"/>
		<bind name="watch" value="'widthOfImg'; 164"/>
		<bind name="watch" value="'padding'; 0"/>
		<bind name="watch" value="'wholeWidth'; widthOfItem - widthOfImg - padding*2"/>
		<bind name="style" value="'width'; widthOfItem - widthOfImg + 'px'"/>
		<bind name="style" value="'paddingLeft'; padding + 'px'"/>
		<bind name="style" value="'paddingRight'; padding + 'px'"/>
		<bind name="child" value="isProgressBarWithSteps ? 0 : 1; {	_wholeWidth: wholeWidth,
													_carouselItemSelectedIndex: _carouselItemSelectedIndex,
													_accountLevelingStepEntityID: _accountLevelingStepEntityID};	'AccountStepsProgressWithRewards';
																													'AccountLineProgressWithRewards'"/>
	</block>
	<block className="AccountLineProgressWithRewards">
		<bind name="entityDH" value="'accountLevelingStepEntity'; _accountLevelingStepEntityID"/>
		<bind name="watchDH" value="'stepPoints';		['accountLevelingStepEntity.accountLevelingStep.evThisStepPointsChanged']; accountLevelingStepEntity.accountLevelingStep.thisStepPoints"/>
		<bind name="watchDH" value="'nextStepPoints';	['accountLevelingStepEntity.accountLevelingStep.evNextStepPointsChanged']; accountLevelingStepEntity.accountLevelingStep.nextStepPoints"/>
		<bind name="watchDH" value="'rewardsList';		['accountLevelingStepEntity.accountLevelingStep.evRewardsListChanged']; accountLevelingStepEntity.accountLevelingStep.rewardsList"/>
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentProgressPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'isWithRewards'; rewardsList.length &gt; 0"/>
		<bind name="watch" value="'countRewards'; isWithRewards ? rewardsList.length : 0"/>
		<bind name="watch" value="'countSteps'; nextStepPoints - stepPoints"/>
		<bind name="watch" value="'widthStep'; (_wholeWidth-1)/countSteps"/>
		<style>
			<align value="center"/>
			<width value="100%"/>
			<height value="21px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="1px"/>
				<height value="27px"/>
				<backgroundColor value="0xffffffff"/>
				<alpha value="0.5"/>
			</style>
		</block>
		<block>
			<style>
				<height value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<height value="1px"/>
					<width value="100%"/>
					<backgroundImage value="url:../accountLevel/progressBarIcons/accountLevelingProgressRepeaterBG.png"/>
					<backgroundRepeatX value="true"/>
				</style>
			</block>
			<bind name="repeat" value="countRewards; 'LineProgressAndReward'; {	_widthProgressBarStep: widthStep,
																_carouselItemSelectedIndex: _carouselItemSelectedIndex,
																_accountLevelingStepEntityID: _accountLevelingStepEntityID}"/>
			<bind name="instance" value="'LineProgress'; rewardsList[rewardsList.length-1] == nextStepPoints ? null : {_startStepPoints: isWithRewards ? rewardsList[rewardsList.length-1] : stepPoints, _finishStepPoints: nextStepPoints, _currentProgressPoints: currentProgressPoints, _widthStep:widthStep}"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="LineProgressAndReward">
		<bind name="entityDH" value="'accountLevelingStepEntity'; _accountLevelingStepEntityID"/>
		<bind name="watchDH" value="'stepPoints';		['accountLevelingStepEntity.accountLevelingStep.evThisStepPointsChanged']; accountLevelingStepEntity.accountLevelingStep.thisStepPoints"/>
		<bind name="watchDH" value="'rewardsList';		['accountLevelingStepEntity.accountLevelingStep.evRewardsListChanged']; accountLevelingStepEntity.accountLevelingStep.rewardsList"/>
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentProgressPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'previousStep'; $index == 0 ? stepPoints : rewardsList[$index-1]"/>
		<bind name="watch" value="'thisRewardStepPoints'; rewardsList[$index]"/>
		<bind name="watch" value="'deltaDistanceToPreviousStep'; $index == 0 					? 0 : thisRewardStepPoints - rewardsList[$index-1]"/>
		<bind name="watch" value="'deltaDistanceToNextStep'; $index == rewardsList.length - 1	? 0 : rewardsList[$index+1] - thisRewardStepPoints"/>
		<bind name="watch" value="'minDistanceToNearestReward';	deltaDistanceToPreviousStep == 0	? deltaDistanceToNextStep*_widthProgressBarStep :
												deltaDistanceToNextStep == 0 		? deltaDistanceToPreviousStep*_widthProgressBarStep
																					: math.min(deltaDistanceToNextStep, deltaDistanceToPreviousStep)*_widthProgressBarStep"/>
		<style>
			<flow value="horizontal"/>
			<height value="100%"/>
		</style>
		<bind name="instance" value="'LineProgress'; {_startStepPoints: previousStep, _finishStepPoints: thisRewardStepPoints, _currentProgressPoints: currentProgressPoints, _widthStep: _widthProgressBarStep}"/>
		<block>
			<styleClass value="$MiddleVAlignedAbsolutely"/>
			<style>
				<right value="0px"/>
				<width value="1px"/>
				<height value="27px"/>
			</style>
			<bind name="instance" value="'AccountProgressReward'; {	_thisRewardStepPoints: thisRewardStepPoints,
													_isSelect: (_carouselItemSelectedIndex == -1*thisRewardStepPoints),
													_minDistanceToNearestReward: minDistanceToNearestReward}"/>
		</block>
	</block>
	<block className="LineProgress">
		<style>
			<flow value="horizontal"/>
			<align value="middle"/>
			<height value="100%"/>
		</style>
		<block>
			<bind name="style" value="'width'; math.round((_finishStepPoints - _startStepPoints) * _widthStep) - 1 + 'px'"/>
			<style>
				<height value="100%"/>
				<paddingTop value="2px"/>
				<paddingBottom value="2px"/>
				<backgroundImage value="url:../accountLevel/progressBarIcons/accountLevelingProgressBorderBG.png"/>
				<backgroundRepeatX value="true"/>
			</style>
			<block>
				<style>
					<height value="100%"/>
					<backgroundColor value="0xFFFFCC66"/>
				</style>
				<bind name="style" value="'width'; 	_currentProgressPoints &gt;= _finishStepPoints 	? '100%' :
									_currentProgressPoints &gt; _startStepPoints		? math.round((_currentProgressPoints - _startStepPoints) * _widthStep) + 'px'
																					: '0px'"/>
			</block>
		</block>
		<block>
			<style>
				<width value="1px"/>
				<height value="27px"/>
				<backgroundColor value="0xffffffff"/>
				<alpha value="0.5"/>
			</style>
		</block>
	</block>
	<block className="AccountStepsProgressWithRewards">
		<bind name="entityDH" value="'accountLevelingStepEntity'; _accountLevelingStepEntityID"/>
		<bind name="watchDH" value="'stepPoints'; ['accountLevelingStepEntity.accountLevelingStep.evThisStepPointsChanged']; accountLevelingStepEntity.accountLevelingStep.thisStepPoints"/>
		<bind name="watchDH" value="'nextStepPoints'; ['accountLevelingStepEntity.accountLevelingStep.evNextStepPointsChanged']; accountLevelingStepEntity.accountLevelingStep.nextStepPoints"/>
		<style>
			<align value="center"/>
			<width value="100%"/>
			<height value="21px"/>
			<flow value="horizontal"/>
		</style>
		<bind name="watch" value="'stepsCount'; nextStepPoints - stepPoints"/>
		<bind name="watch" value="'progressBarItemWidth'; math.round(_wholeWidth/stepsCount))"/>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="1px"/>
				<height value="27px"/>
				<backgroundColor value="0xffffffff"/>
				<alpha value="0.5"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<height value="1px"/>
				<backgroundImage value="url:../accountLevel/progressBarIcons/accountLevelingProgressRepeaterBG.png"/>
				<backgroundRepeatX value="true"/>
			</style>
			<bind name="style" value="'width'; progressBarItemWidth*stepsCount + 1 + 'px'"/>
		</block>
		<bind name="repeat" value="stepsCount; 'AccountProgressStep'; {	_progressBarItemWidth: progressBarItemWidth,
														_carouselItemSelectedIndex: _carouselItemSelectedIndex,
														_accountLevelingStepEntityID: _accountLevelingStepEntityID}"/>
	</block>
	<block className="AccountProgressStep">
		<bind name="entityDH" value="'accountLevelingStepEntity'; _accountLevelingStepEntityID"/>
		<bind name="watchDH" value="'stepPoints'; ['accountLevelingStepEntity.accountLevelingStep.evThisStepPointsChanged']; accountLevelingStepEntity.accountLevelingStep.thisStepPoints"/>
		<bind name="watchDH" value="'rewardsList'; ['accountLevelingStepEntity.accountLevelingStep.evRewardsListChanged']; accountLevelingStepEntity.accountLevelingStep.rewardsList"/>
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentProgressPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'isUnlocked'; $index &lt; currentProgressPoints - stepPoints"/>
		<style>
			<height value="100%"/>
			<marginRight value="1px"/>
			<paddingTop value="2px"/>
			<paddingBottom value="2px"/>
			<backgroundImage value="url:../accountLevel/progressBarIcons/accountLevelingProgressBorderBG.png"/>
			<backgroundRepeatX value="true"/>
		</style>
		<bind name="style" value="'width'; _progressBarItemWidth - 1 + 'px'"/>
		<block>
			<bind name="visible" value="isUnlocked"/>
			<styleClass value="$Fullsize"/>
			<style>
				<backgroundColor value="0xFFFFCC66"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<right value="-1px"/>
				<width value="1px"/>
				<height value="27px"/>
				<backgroundColor value="0xffffffff"/>
				<alpha value="0.5"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<right value="-1px"/>
				<width value="1px"/>
				<height value="27px"/>
			</style>
			<bind name="watch" value="'thisStepPoints'; stepPoints + $index + 1"/>
			<bind name="watch" value="'indexInRewardsArr'; indexOf(thisStepPoints, rewardsList)"/>
			<bind name="watch" value="'deltaDistanceToPreviousStep'; indexInRewardsArr == -1 || indexInRewardsArr == 0						? 0 : thisStepPoints - rewardsList[indexInRewardsArr-1]"/>
			<bind name="watch" value="'deltaDistanceToNextStep'; indexInRewardsArr == -1 || indexInRewardsArr == rewardsList.length - 1		? 0 : rewardsList[indexInRewardsArr+1] - thisStepPoints"/>
			<bind name="watch" value="'minDistanceToNearestReward';	deltaDistanceToPreviousStep == 0	? deltaDistanceToNextStep*_progressBarItemWidth :
													deltaDistanceToNextStep == 0 		? deltaDistanceToPreviousStep*_progressBarItemWidth
																						: math.min(deltaDistanceToNextStep, deltaDistanceToPreviousStep)*_progressBarItemWidth"/>
			<bind name="instance" value="'AccountProgressReward'; (indexInRewardsArr &gt; -1)	? {	_thisRewardStepPoints: thisStepPoints,
																				_isSelect: (thisStepPoints == -1*_carouselItemSelectedIndex),
																				_minDistanceToNearestReward: minDistanceToNearestReward}
																			: null"/>
		</block>
	</block>
	<block className="AccountProgressReward">
		<bind name="firstEntityDH" value="'accountsRewardEntity'; CC.accountLevelingRewards"/>
		<bind name="watchDH" value="'rewardsDict';	['accountsRewardEntity.accountLevelingRewards.evRewardsDictChanged'];	accountsRewardEntity.accountLevelingRewards.rewardsDict[_thisRewardStepPoints]"/>
		<bind name="indexOf" value="rewardsDict; indexOfPromoReward; { 'type': 'promo' }"/>
		<bind name="watch" value="'isPromo'; indexOfPromoReward &gt; -1"/>
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentProgressPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'isUnlocked'; currentProgressPoints &gt;= _thisRewardStepPoints"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="var" value="{rewardIconSize: 32}"/>
		<bind name="watch" value="'isPromoTooCloseToCommonReward'; isPromo &amp;&amp; _minDistanceToNearestReward &gt; 0 &amp;&amp; _minDistanceToNearestReward &lt; rewardIconSize"/>
		<bind name="soundSet" value="'default_button'"/>
		<block>
			<style>
				<position value="absolute"/>
				<top value="27px"/>
				<width value="1px"/>
				<height value="6px"/>
				<backgroundRepeatY value="true"/>
				<alpha value="0.5"/>
			</style>
			<bind name="style" value="'height'; isPromoTooCloseToCommonReward ? '42px' : '6px'"/>
			<bind name="style" value="'backgroundImage'; 'url:../accountLevel/progressBarIcons/accountLevelingRewardVerticalDottedLine.png'"/>
		</block>
		<block>
			<bind name="tooltip" value="'RewardALTooltip'; {_rewardIndex: _thisRewardStepPoints, _isSelect: _isSelect}"/>
			<bind name="dispatch" value="'click'; 'evAccountLevelingItemClicked'; 	{carouselItemSelectedIndex: -1*_thisRewardStepPoints,
																	 currentImageIdx: currentImageIdx}"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="style" value="'width'; rewardIconSize + 'px'"/>
			<bind name="style" value="'height'; rewardIconSize + 'px'"/>
			<bind name="style" value="'top'; isPromoTooCloseToCommonReward ? '70px' : '35px'"/>
			<bind name="watch" value="'backgroundURL'; 'url:../accountLevel/progressBarIcons/icon_'+ (isPromo ? 'promoreward' : 'reward')
																					+ (isUnlocked ? '' : '_locked')
																					+ '.png'"/>
			<block>
				<styleClass value="$Fullsize"/>
				<bind name="watch" value="'bgOpacity';	_isSelect	? 1 :
										mouseDown 	? 0.6 :
										rollOver	? 0.7
													: 0.6"/>
				<bind name="style" value="'backgroundImage'; backgroundURL"/>
				<bind name="style" value="'alpha'; bgOpacity"/>
			</block>
		</block>
	</block>
	<block className="AccountLevelingLevelIconItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="entityDH" value="'accountLevelingStepEntity'; _accountLevelingStepEntityID"/>
		<bind name="watchDH" value="'accountStepPoints'; ['accountLevelingStepEntity.accountLevelingStep.evThisStepPointsChanged'];
										accountLevelingStepEntity.accountLevelingStep.thisStepPoints"/>
		<bind name="watchDH" value="'stepFeature';	['accountLevelingStepEntity.accountLevelingStep.evFeaturesChanged'];
									accountLevelingStepEntity.accountLevelingStep.features"/>
		<bind name="primaryEntityDH" value="'featureEntity'; CC.accountFeature; stepFeature"/>
		<bind name="watchDH" value="'iconFeaturePath';	['featureEntity.accountFeature.evStateChanged']; featureEntity.accountFeature.iconPath"/>
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'battlesToStep'; accountStepPoints - currentPoints"/>
		<bind name="watch" value="'isSelected'; _carouselItemSelectedIndex == _index"/>
		<bind name="watch" value="'ALIndex'; _index + 1"/>
		<bind name="watch" value="'isLocked'; battlesToStep &gt; 0"/>
		<bind name="soundSet" value="'default_button'"/>
		<style>
			<height value="224px"/>
			<width value="164px"/>
		</style>
		<bind name="var" value="{ 
		ctRollOver: {
			redMultiplier: 1,
			greenMultiplier: 1,
			blueMultiplier: 1,
			alphaMultiplier: 1,
			redOffset: 15,
			greenOffset: 15,
			blueOffset: 15,
			alphaOffset: 0
		}
	}"/>
		<block>
			<bind name="visible" value="!isLocked"/>
			<style>
				<position value="absolute"/>
				<height value="164px"/>
				<width value="164px"/>
				<backgroundSize value="fill"/>
				<hitTest value="false"/>
				<backgroundImage value="url:../accountLevel/progressBarIcons/unlock_shadow.png"/>
			</style>
			<bind name="transition" value="isSelected; 0.07; {alpha: 0.6, scaleX: 0.8, scaleY: 0.8, top: 16, left: 16}; {alpha: 0.8, scaleX: 1, scaleY: 1, top: 0, left: 0}"/>
		</block>
		<block>
			<style>
				<height value="164px"/>
				<width value="164px"/>
				<backgroundSize value="fill"/>
				<hitTest value="false"/>
			</style>
			<bind name="transition" value="isSelected  &amp;&amp; !isLocked; 0.07; {top: 0}; {top: -4}"/>
			<bind name="colorTransform" value="	rollOver &amp;&amp; !isSelected	? ctRollOver
														: {}"/>
			<bind name="style" value="'backgroundImage'; isLocked	? 'url:' + iconFeaturePath + '_locked.png'
													: 'url:' + iconFeaturePath + '.png'"/>
			<block>
				<bind name="visible" value="isLocked"/>
				<style>
					<top value="52px"/>
					<left value="52px"/>
					<width value="60px"/>
					<height value="60px"/>
					<backgroundImage value="url:../accountLevel/progressBarIcons/accountLevelingBigLockIcon.png"/>
					<backgroundSize value="fill"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="stageSize"/>
			<bind name="watch" value="'bottomOffset'; math.round(30 - (stageHeight-720)/12))"/>
			<bind name="style" value="'bottom'; (bottomOffset &gt; 0 ? bottomOffset : 0)+'px'"/>
			<style>
				<position value="absolute"/>
				<left value="31px"/>
			</style>
			<bind name="instance" value="'ALCarouselPointer'; {_isSelected: isSelected}"/>
		</block>
		<block>
			<style>
				<height value="224px"/>
				<width value="140px"/>
				<position value="absolute"/>
				<left value="12px"/>
				<backgroundColor value="0x01000000"/>
			</style>
		</block>
	</block>
	<block className="ALCarouselPointer">
		<style>
			<width value="102px"/>
			<height value="11px"/>
			<backgroundSize value="fill"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'url:../accountLevel/progressBarIcons/carousel_pointer_up.png'"/>
		<block>
			<bind name="transition" value="_isSelected; 0.07; {alpha: 0, scaleY:0, top: 11}; {alpha: 1, scaleY:1, top: 0}"/>
			<style>
				<position value="absolute"/>
				<width value="102px"/>
				<height value="11px"/>
				<backgroundSize value="fill"/>
			</style>
			<bind name="style" value="'backgroundImage';	'url:../accountLevel/progressBarIcons/carousel_pointer_toggle.png'"/>
		</block>
	</block>
	<block className="RewardALTooltip">
		<bind name="collectionDH" value="CC.accountPromoRewardBanner; 'promoRewardCollection';  'byBattles.' + _rewardIndex"/>
		<bind name="entityDH" value="'promoRewardEntity'; promoRewardCollection[0].id"/>
		<bind name="watchDH" value="'promoRewardDueDate'; ['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.expirationTime"/>
		<bind name="watchDH" value="'promoRewardTitle'; ['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.title"/>
		<bind name="watchDH" value="'promoRewardImageSmall';		['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.imageSmall"/>
		<bind name="primaryEntityDH" value="'imageEntity'; CC.byteArrayData; promoRewardImageSmall"/>
		<bind name="watchDH" value="'imageData'; ['imageEntity.byteArrayData.evChanged']; imageEntity.byteArrayData.data"/>
		<bind name="watch" value="'isTimelessPromoReward'; !promoRewardDueDate || promoRewardDueDate &lt; 1"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="watch" value="'isAbuseStatusConfirmed'; accountLevelInfo.abuseStatus == 2"/>
		<bind name="firstEntityDH" value="'accountLevelingRewardsEntity'; CC.accountLevelingRewards"/>
		<bind name="watchDH" value="'rewardsDict'; ['accountLevelingRewardsEntity.accountLevelingRewards.evRewardsDictChanged']; accountLevelingRewardsEntity.accountLevelingRewards.rewardsDict"/>
		<bind name="watch" value="'rewardEntityId'; rewardsDict[_rewardIndex][0].rewardId"/>
		<bind name="entityDH" value="'rewardEntity'; rewardEntityId"/>
		<bind name="watchDH" value="'rewardIds'; []; rewardEntity.rewardsContainer.rewardIds"/>
		<bind name="indexOf" value="rewardsDict[_rewardIndex]; indexOfPromoReward; { 'type': 'promo' }"/>
		<bind name="watch" value="'isPromoReward'; indexOfPromoReward &gt; -1"/>
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentProgressPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'battlesToStep'; _rewardIndex - currentProgressPoints"/>
		<bind name="watch" value="'isSimilarRewards';	rewardEntity.rewardsContainer.subtype &amp;&amp; rewardEntity.rewardsContainer.rewardIds.length &gt; 1"/>
		<bind name="watch" value="'isSingleRewardType';	rewardEntity.rewardsContainer.rewardIds.length == 1"/>
		<bind name="watch" value="'rewardType'; rewardEntity.rewardComponent.type"/>
		<bind name="watch" value="'rewardIconPath';	isSimilarRewards				? toLowerCase(rewardEntity.rewardComponent.subtype + '_set') :
									isSingleRewardType				?
										rewardType == 	'Exterior' 		? toLowerCase(exteriorConfig.type) :
										rewardType == 	'Resource'		? toLowerCase(rewardEntity.rewardComponent.subtype) :
										rewardType == 	'ResourceCoeff'	? toLowerCase(rewardEntity.rewardComponent.subtype) :
										rewardType == 	'Exchange'		? toLowerCase(rewardEntity.rewardComponent.subtype) :
										rewardType == 	'Lootbox'		? 'lootbox'
																		: toLowerCase(rewardEntity.rewardComponent.type)
																	: 'multiple'"/>
		<bind name="watch" value="'rewardHeaderTextWithAmount';	isSimilarRewards			? toUpperCase('IDS_REWARDS_SET_' + rewardEntity.rewardComponent.subtype) :
												isSingleRewardType			?
													rewardType == 	'Ship' 			? 'IDS_SHIP' :
													rewardType == 	'Crew' 			? 'IDS_CREW' :
													rewardType == 	'Exterior' 		? exteriorConfig.type == ExteriorTypes.ENSIGN 	? toUpperCase('IDS_' + exteriorConfig.type + '_TITLE') 
																																	: subst(toUpperCase('IDS_PL_' + exteriorConfig.type + '_TITLE'), [], {_amount: format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
													rewardType == 	'Ability'		? subst('IDS_PL_ABILITY_TITLE', [], {_amount: format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
													rewardType == 	'Modernization'	? subst('IDS_PL_MODERNIZATION_TITLE', [], {_amount: format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
													rewardType == 	'Resource'		? 	rewardEntity.rewardComponent.subtype == 'credits' ||
																						rewardEntity.rewardComponent.subtype == 'gold' ||
																						rewardEntity.rewardComponent.subtype == 'slots' ||
																						rewardEntity.rewardComponent.subtype == 'barCapacity'		? subst(toUpperCase('IDS_REWARDS_PL_' + rewardEntity.rewardComponent.subtype + '_TITLE'), [], {_amount:  format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
																						rewardEntity.rewardComponent.subtype == 'wows_premium' ||    
																						rewardEntity.rewardComponent.subtype == 'premium'			? subst(toUpperCase('IDS_REWARDS_PL_' + rewardEntity.rewardComponent.subtype + '_TITLE'), [], {_amount:  rewardEntity.rewardComponent.params.text})
																																					: subst(toUpperCase('IDS_REWARDS_PL_' + rewardEntity.rewardComponent.subtype + '_TITLE'), [], {_amount:  format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
													rewardType == 	'ResourceCoeff'	? toUpperCase('IDS_REWARD_' + rewardEntity.rewardComponent.subtype + '_TITLE') :
													rewardType == 	'Exchange'		? toUpperCase('IDS_PRMP_ITEM_' + rewardEntity.rewardComponent.subtype) :
													rewardType == 	'Lootbox'		? subst(toUpperCase('IDS_PL_LOOTBOX_' + rewardEntity.rewardComponent.subtype + '_TITLE'), [], {_amount: format(rewardEntity.rewardComponent.amount, -1)}, rewardEntity.rewardComponent.amount) :
													rewardType == 	'DogTag'		?  toUpperCase('IDS_DOGTAG_' + rewardEntity.rewardComponent.name + '_NAME') :
													rewardType == 	'Collection'	?  toUpperCase('IDS_' + rewardEntity.rewardComponent.name)
																					: 'IDS_REWARDS_SET'
																			: 'IDS_REWARDS_SET'"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$ContentIndents"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="instance" value="'IconAlDataItem'; isPromoReward ? {_iconSize: '80px', _imageData: imageData} : null"/>
					<bind name="instance" value="'IconAlItem'; !isPromoReward ? {_iconSize: '80px', _imageURL: 'url:../accountLevel/rewards/icon_reward_' + rewardIconPath + '_small.png'} : null"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="12"/>
						<marginTop value="12"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefaultBold19NM"/>
						<style>
							<width value="100%"/>
							<alpha value="0.9"/>
						</style>
						<bind name="text" value="isPromoReward ? promoRewardTitle : rewardHeaderTextWithAmount"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$ContentIndents"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="child" value="	battlesToStep &lt; 1	? 0 :
						isAbuseStatusConfirmed	? 1
												: 2; { _battlesToStep: battlesToStep }; 'AccountLevelingItemAvailable';
																						'AccountLevelingItemAbused';
																						'AccountLevelingItemUnavailable'"/>
		</block>
		<bind name="watch" value="'isTimeLeftVisible'; (!isTimelessPromoReward &amp;&amp; isPromoReward)"/>
		<block>
			<bind name="visible" value="isTimeLeftVisible"/>
			<styleClass value="$ContentIndents"/>
			<style>
				<width value="100%"/>
				<marginTop value="8px"/>
			</style>
			<bind name="instance" value="'TimeLeftIconAndTextLine'; isTimeLeftVisible	? {_dueDate: promoRewardDueDate, _substTextIDS: 'IDS_PROMO_REWARD_DAYS_LEFT'}
																		: null"/>
		</block>
		<block>
			<bind name="visible" value="!_isSelect"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; !_isSelect ? {_type: 'left', _instructionText: 'IDS_HINT_LEFT_CLICK_FOR_FURTHER_INFO', _maxWidth: 328} : null"/>
			</block>
		</block>
	</block>
	<block className="FeatureALTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="watch" value="'isAbuseStatusConfirmed'; accountLevelInfo.abuseStatus == 2"/>
		<bind name="entityDH" value="'accountLevelingStepEntity'; _featureEntityId"/>
		<bind name="watchDH" value="'accountStepPoints'; ['accountLevelingStepEntity.accountLevelingStep.evThisStepPointsChanged']; accountLevelingStepEntity.accountLevelingStep.thisStepPoints"/>
		<bind name="watchDH" value="'stepFeature'; ['accountLevelingStepEntity.accountLevelingStep.evFeaturesChanged'];	accountLevelingStepEntity.accountLevelingStep.features"/>
		<bind name="primaryEntityDH" value="'featureEntity'; CC.accountFeature; stepFeature"/>
		<bind name="watchDH" value="'iconFeaturePath';	['featureEntity.accountFeature.evStateChanged']; featureEntity.accountFeature.iconPath"/>
		<bind name="watchDH" value="'titleFeature';		['featureEntity.accountFeature.evStateChanged']; featureEntity.accountFeature.title"/>
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentProgressPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'battlesToStep'; accountStepPoints - currentProgressPoints"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$ContentIndents"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="80px"/>
						<height value="80px"/>
						<backgroundSize value="cover"/>
					</style>
					<bind name="style" value="'backgroundImage'; ('url:' + iconFeaturePath + '_small.png')"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="12"/>
						<marginTop value="12"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefaultBold19NM"/>
						<style>
							<width value="100%"/>
							<alpha value="0.9"/>
						</style>
						<bind name="text" value="titleFeature"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$ContentIndents"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="child" value="	battlesToStep &lt; 1 	? 0 :
						isAbuseStatusConfirmed	? 1
												: 2; {	_battlesToStep: battlesToStep,
														_isFeature: true}; 	'AccountLevelingItemAvailable';
																			'AccountLevelingItemAbused';
																			'AccountLevelingItemUnavailable'"/>
		</block>
		<block>
			<bind name="visible" value="!_isSelect"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; !_isSelect ? {_type: 'left', _instructionText: 'IDS_HINT_LEFT_CLICK_FOR_FURTHER_INFO', _maxWidth: 328} : null"/>
			</block>
		</block>
	</block>
	<block className="PromoRewardBanner">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="appear" value="'addedToStage'; 0.2; _isPortBanner ? 0.1 : 0.25; {alpha: 0, top: 5}; {alpha: 1, top: 0}; 1"/>
		<bind name="collectionDH" value="CC.accountPromoRewardBanner; 'promoRewardCollection'; 'upcoming.sorted'"/>
		<bind name="watch" value="'isSinglePromoReward'; promoRewardCollection.length == 1"/>
		<bind name="var" value="{promoRewardIndex: 0}"/>
		<bind name="var" value="{isInited: false, test: 0}"/>
		<bind name="catch" value="'addedToStage'; {	promoRewardIndex:	(isSinglePromoReward 	? 0 :
														_isFromPortPromoBanner	? 1
																				: 0),
									isInited: true}"/>
		<bind name="dispatch" value="(isInited &amp;&amp; !isSinglePromoReward)	? 'evPromoRewardBannerClicked'
														: null; 'carouselRewardIndexChangedEv'; {}; 2; 0.05"/>
		<bind name="catch" value="'carouselRewardIndexChangedEv';	{promoRewardIndex: (_carouselItemSelectedIndex == -1*promoRewardBattles)	? ((promoRewardIndex + 1) == promoRewardCollection.length)	? 0
																																														: (promoRewardIndex + 1)
																																: promoRewardIndex, test: test+1}"/>
		<bind name="entityDH" value="'promoRewardEntity'; promoRewardCollection[promoRewardIndex].id"/>
		<bind name="watchDH" value="'promoRewardBattles';		['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.battles"/>
		<bind name="watchDH" value="'promoRewardLevel';			['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.level"/>
		<bind name="watchDH" value="'promoRewardImageSmall';		['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.imageSmall"/>
		<bind name="watchDH" value="'promoRewardImageMedium';	['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.imageMedium"/>
		<bind name="watch" value="'bannerImageUrl'; _isPortBanner ? promoRewardImageSmall : promoRewardImageMedium"/>
		<bind name="primaryEntityDH" value="'imageEntity'; CC.byteArrayData; bannerImageUrl"/>
		<bind name="watchDH" value="'imageData'; ['imageEntity.byteArrayData.evChanged']; imageEntity.byteArrayData.data"/>
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'battlesToPromoReward'; promoRewardBattles - currentPoints"/>
		<bind name="watch" value="'isBannerVisible'; ((promoRewardBattles != -1*_carouselItemSelectedIndex) &amp;&amp; isSinglePromoReward) || !isSinglePromoReward"/>
		<bind name="collectionDH" value="CC.accountPromoRewardBanner; 'promoRewardCollectionByBattles';  'byBattles.' + promoRewardBattles"/>
		<bind name="indexOf" value="promoRewardCollectionByBattles; indexOfPromoRewardInCollectionByBattles; { 'id': promoRewardEntity.id }"/>
		<bind name="dispatch" value="'click'; _isPortBanner ? null : 'evPromoRewardBannerClicked'; { carouselScrollIndex: promoRewardLevel - 1,
																					carouselItemSelectedIndex: -1*promoRewardBattles,
																					currentImageIdx: indexOfPromoRewardInCollectionByBattles + 1 }"/>
		<bind name="action" value="_isPortBanner ? 'click' : null; 'changeInset'; {	inset:		LobbyConstants.PLAYER_PROFILE,
																	page:		LobbyConstants.PLAYER_PROFILE_ACCOUNT,
																	pageData: { promoRewardBattles: promoRewardBattles,
																				promoRewardLevel: promoRewardLevel,
																				isPortBannerClicked: true,
																				rewardTypeReason: 'promo' } }"/>
		<bind name="watch" value="'bannerSize'; _isPortBanner ? '128px' : '164px'"/>
		<bind name="var" value="{ 
		ctRollOver: {
			redMultiplier: 1,
			greenMultiplier: 1,
			blueMultiplier: 1,
			alphaMultiplier: 1,
			redOffset: 30,
			greenOffset: 30,
			blueOffset: 30,
			alphaOffset: 0
		}
	}"/>
		<bind name="var" value="{ 
		ctMouseDown: {
			redMultiplier: 1,
			greenMultiplier: 1,
			blueMultiplier: 1,
			alphaMultiplier: 1,
			redOffset: -30,
			greenOffset: -30,
			blueOffset: -30,
			alphaOffset: 0
		}
	}"/>
		<block>
			<bind name="fade" value="isBannerVisible; isBannerVisible ? 0.1 : 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 1; 0.1"/>
			<block>
				<bind name="visible" value="!isSinglePromoReward"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="style" value="'width'; bannerSize"/>
				<bind name="style" value="'height'; bannerSize"/>
				<bind name="colorTransform" value="	(mouseDown)		? ctMouseDown :
									(rollOver)		? ctRollOver
													: {}"/>
				<bind name="instance" value="'IconAlItem'; isSinglePromoReward ? null : { 	_imageURL: _isPortBanner	? ('url:../accountLevel/promoRewardBanner/promoreward_bg_small.png')
																										: ('url:../accountLevel/promoRewardBanner/promoreward_bg_big.png'),
																			_iconSize: bannerSize }"/>
			</block>
			<block>
				<style>
					<backgroundSize value="cover"/>
				</style>
				<bind name="style" value="'width'; bannerSize"/>
				<bind name="style" value="'height'; bannerSize"/>
				<bind name="colorTransform" value="	(mouseDown)		? ctMouseDown :
									(rollOver)		? ctRollOver
													: {}"/>
				<bind name="style" value="'backgroundImageData'; imageData"/>
			</block>
			<block className="bg_tile_promo_reward_banner" type="native">
				<style>
					<width value="100%f"/>
					<height value="27px"/>
					<position value="absolute"/>
				</style>
				<bind name="style" value="'right'; _isPortBanner ? 24 : 64"/>
				<bind name="style" value="'bottom'; _isPortBanner ? -2 : 8"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="100%f"/>
						<marginLeft value="12"/>
						<marginRight value="12"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefaultNM"/>
						<bind name="text" value="subst('IDS_BATTLES_TO_NEXT_STEP', [], { battles: battlesToPromoReward }, battlesToPromoReward)"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="PromoBannerTooltip">
		<bind name="collectionDH" value="CC.accountPromoRewardBanner; 'promoRewardCollection'; 'upcoming.sorted'"/>
		<bind name="entityDH" value="'promoRewardEntity'; promoRewardCollection[0].id"/>
		<bind name="watchDH" value="'promoRewardTitle'; 				['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.title"/>
		<bind name="watchDH" value="'promoRewardBattles'; 			['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.battles"/>
		<bind name="watchDH" value="'promoRewardShortDescription'; 	['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.shortDescription"/>
		<bind name="watchDH" value="'promoRewardDueDate';			['promoRewardEntity.accountPromoRewardBanner.evChanged']; promoRewardEntity.accountPromoRewardBanner.expirationTime"/>
		<bind name="watch" value="'isTimedPromoReward'; promoRewardDueDate &gt; 1"/>
		<bind name="watch" value="'isProgressBarWithSteps'; promoRewardBattles &lt; 16 &amp;&amp; promoRewardBattles &gt; 1 ? 0 : 1"/>
		<bind name="watch" value="'stepWidth'; math.floor(276/promoRewardBattles)"/>
		<bind name="watch" value="'stepsCountWithHackedLength'; stepWidth*promoRewardBattles &lt; 276 ? 276 - stepWidth*promoRewardBattles : false"/>
		<bind name="firstEntityDH" value="'accountLevelPointsEntity'; CC.accountLevelPoints"/>
		<bind name="watchDH" value="'currentPoints'; ['accountLevelPointsEntity.accountLevelPoints.evCurrentLevelPointsChanged']; accountLevelPointsEntity.accountLevelPoints.currentLevelPoints"/>
		<bind name="watch" value="'lineProgress'; (currentPoints*100)/promoRewardBattles"/>
		<bind name="watch" value="'battlesToPromoReward'; promoRewardBattles - currentPoints"/>
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<style>
			<width value="300px"/>
			<hitTest value="false"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$ContentIndents"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold19NM"/>
				<style>
					<maxWidth value="276"/>
					<alpha value="0.9"/>
				</style>
				<bind name="text" value="promoRewardTitle"/>
			</block>
		</block>
		<block>
			<style>
				<width value="276px"/>
				<alpha value="0.7"/>
				<marginLeft value="12px"/>
				<marginRight value="12px"/>
			</style>
			<bind name="style" value="'marginBottom'; isTimedPromoReward ? 0 : '12px'"/>
			<bind name="instance" value="'AccountLevelingItemUnavailable'; { _battlesToStep: battlesToPromoReward,
															_class: '$TextDefaultNM',
															_iconMarginRight: '8' }"/>
		</block>
		<block>
			<bind name="visible" value="isTimedPromoReward ? true : false"/>
			<style>
				<width value="276px"/>
				<marginLeft value="12px"/>
				<marginTop value="12px"/>
				<marginRight value="12px"/>
				<marginBottom value="12px"/>
			</style>
			<bind name="instance" value="'TimeLeftIconAndTextLine'; isTimedPromoReward	? { _class: '$TextDefaultNM',
																			_dueDate: promoRewardDueDate,
																			_iconMarginRight: '8',
																			_substTextIDS: 'IDS_PROMO_REWARD_DAYS_LEFT'}
																		: null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$PxHorizontalCorrection"/>
			</block>
			<block>
				<styleClass value="$ContentIndents"/>
				<style>
					<width value="100%"/>
					<alpha value="0.7"/>
				</style>
				<bind name="instance" value="'InstructionParagraphNM'; { _class: '$TextDefault17NM', _text: promoRewardShortDescription, _maxWidth: 276 }"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-2px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_MOVE_TO_THE_PROMO_REWARD_WINDOW', _maxWidth: 256 }"/>
		</block>
	</block>
	<block className="AbuseStatusProfileTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="watch" value="'abuseData'; {	status: 		accountLevelInfo.abuseStatus,
								components: 	accountLevelInfo.abuseComponents,
								battlesToClean: accountLevelInfo.battlesForStatusClean}"/>
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<style>
			<width value="340px"/>
			<hitTest value="false"/>
		</style>
		<bind name="watch" value="'abuseStatusStr';	abuseData.status == 0	? 'NORMAL' :
									abuseData.status == 1	? 'SUSPECT'
																				: 'CONFIRMED'"/>
		<bind name="watch" value="'headerStr';	tr('IDS_ABUSE_STATUS_' + abuseStatusStr)"/>
		<bind name="watch" value="'abuseComponents'; abuseData.status != 0	? abuseData.components[AbuseStatus.SUSPECT]
																				: []"/>
		<bind name="watch" value="'headerClass'; (abuseData.status == 1)	? '$FontColorTeamkiller' :
								(abuseData.status == 2)	? '$FontColorCompareNegative'
																				: '$FontColorWhite'"/>
		<block>
			<style>
				<width value="100%"/>
				<margin value="12px"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="100%"/>
					<leading value="-3"/>
				</style>
				<styleClass value="$TextHeaderBold"/>
				<bind name="class" value="headerClass"/>
				<bind name="text" value="headerStr"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<alpha value="1.4"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="12px"/>
					<marginTop value="8px"/>
					<marginRight value="12px"/>
					<marginBottom value="8px"/>
				</style>
				<bind name="repeat" value="abuseComponents; 'AbuseReasonMessage'; {}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-2px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="12px"/>
				<marginTop value="8px"/>
				<marginRight value="12px"/>
				<marginBottom value="8px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<leading value="-1"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="tr('IDS_ABUSE_STATUS_' + toUpperCase(abuseStatusStr) + '_PUNISHMENT')"/>
			</block>
			<block type="text">
				<bind name="visible" value="abuseData.status == 1"/>
				<style>
					<width value="100%"/>
					<marginTop value="4px"/>
					<marginBottom value="2px"/>
					<leading value="-1"/>
				</style>
				<styleClass value="$TextDefault"/>
				<text value="IDS_ABUSE_STATUS_SUSPECT_INFO"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<alpha value="1.4"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="12px"/>
					<marginTop value="8px"/>
					<marginRight value="12px"/>
					<marginBottom value="12px"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
						<leading value="-2"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="tr('IDS_ABUSE_' + toUpperCase(abuseStatusStr) + '_STATUS_CLEAN')"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="10px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="text" value="abuseData.battlesToClean"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="_mouseInstructionText.length &gt; 0"/>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="-2px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction';  _mouseInstructionText.length &gt; 0 ? {_type: 'left', _instructionText: _mouseInstructionText, _maxWidth: 300	} : null"/>
			</block>
		</block>
		<block className="notification_frame_teamkiller" type="native">
			<bind name="visible" value="abuseData.status == 1"/>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block className="notification_frame" type="native">
			<bind name="visible" value="abuseData.status == 2"/>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
	</block>
	<block className="SlimClientStatusProfileTooltip">
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<style>
			<width value="300px"/>
			<hitTest value="false"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block type="text">
			<styleClass value="$ContentIndents"/>
			<styleClass value="$TextDefault17NM"/>
			<style>
				<maxWidth value="276"/>
				<alpha value="0.9"/>
			</style>
			<bind name="text" value="IDS_TOOLTIP_AL_SLIM_CLIEN_STATUS"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_QUESTION_CONFIRM_EXIT_AND_CONTINUE_DOWNLOADING', _maxWidth: 256 }"/>
		</block>
	</block>
	<block className="ArcEventHeader3">
		<bind name="watch" value="'isMainScreen'; _page &gt; 0"/>
		<style>
			<width value="100%"/>
			<height value="32px"/>
		</style>
		<block>
			<bind name="visible" value="isMainScreen"/>
			<style>
				<position value="absolute"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault17NM"/>
				<styleClass value="$ArcEventTextStyle"/>
				<bind name="text" value="subst('IDS_ARC_EVENT_TITLE_PAGE', [], {page: _page})"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextDefault19NM"/>
			<styleClass value="$ArcEventTextStyle"/>
			<style>
				<width value="100%"/>
				<textAlign value="center"/>
			</style>
			<bind name="text" value="_headerText"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="0"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault17NM"/>
				<styleClass value="$ArcEventTextStyle"/>
				<bind name="text" value="'IDS_ARC_EVENT_TITLE_DECOR'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!isMainScreen"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<position value="absolute"/>
				<width value="336px"/>
				<bottom value="0"/>
			</style>
			<bind name="instance" value="'BlackDivider2'; {}"/>
		</block>
		<block>
			<bind name="visible" value="isMainScreen"/>
			<style>
				<position value="absolute"/>
				<width value="100%px"/>
				<bottom value="0"/>
			</style>
			<bind name="instance" value="'BlackDivider2'; {}"/>
		</block>
	</block>
	<block className="ArcEventHeader2">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
			<style>
				<position value="absolute"/>
				<width value="100%%"/>
				<marginTop value="13px"/>
			</style>
			<bind name="instance" value="'BlackDivider1'; {}"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block>
				<style>
					<height value="1px"/>
					<width value="100%"/>
					<position value="absolute"/>
					<top value="13px"/>
					<backgroundRepeatX value="true"/>
				</style>
				<bind name="style" value="'backgroundImage';  _isFinalScreen ? 'url:../events/arc_event/final_screen/header_line_mask.png' : 'url:../events/arc_event/common/header_line_mask.png'"/>
			</block>
			<block>
				<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
				<style>
					<width value="10px"/>
					<height value="13px"/>
					<marginTop value="7px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:../events/arc_event/common/header_arrow_right.png'"/>
			</block>
			<block>
				<block type="text">
					<style>
						<margin value="24px|0"/>
					</style>
					<styleClass value="$TextDefaultBold30NM"/>
					<styleClass value="$ArcEventTextStyle"/>
					<bind name="text" value="_headerText"/>
				</block>
				<bind name="instance" value="'ArcEventHeaderUnderline'; _showUnderline ? {} : null"/>
			</block>
			<block>
				<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
				<style>
					<width value="10px"/>
					<height value="13px"/>
					<marginTop value="7px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:../events/arc_event/common/header_arrow_left.png'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ArcEventHeaderUnderline">
		<style>
			<flow value="horizontal"/>
			<position value="absolute"/>
			<bottom value="-15px"/>
			<width value="100%"/>
			<height value="10px"/>
		</style>
		<block>
			<style>
				<width value="22px"/>
				<height value="100%"/>
				<backgroundImage value="url:../events/arc_event/common/underline_left.png"/>
			</style>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<backgroundImage value="url:../events/arc_event/common/underline_repeater.png"/>
				<backgroundRepeatX value="true"/>
			</style>
		</block>
		<block>
			<style>
				<width value="19px"/>
				<height value="100%"/>
				<backgroundImage value="url:../events/arc_event/common/underline_right.png"/>
			</style>
		</block>
	</block>
	<block className="ArcEventHeader1">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<bind name="visible" value="!_isFinalScreen"/>
			<style>
				<width value="100%"/>
				<marginTop value="8px"/>
			</style>
			<bind name="instance" value="'ArcEventHeader3'; { _page: _page, _headerText: 'IDS_ARC_EVENT_TITLE' }"/>
		</block>
		<block>
			<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="24px"/>
				<marginBottom value="24px"/>
			</style>
			<block type="text">
				<style>
					<letterSpacing value="2"/>
				</style>
				<styleClass value="$TextDefaultBold50NM"/>
				<styleClass value="$ArcEventTextStyle"/>
				<bind name="text" value="toUpperCase(tr(_headerText))"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!_isFinalScreen"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'BlackDivider4'; {}"/>
		</block>
	</block>
	<block className="ArcEventDecorFooter">
		<styleClass value="$Fullsize"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'BlackDivider2'; {}"/>
		</block>
		<block>
			<style>
				<paddingTop value="16px"/>
				<height value="100%"/>
			</style>
			<block>
				<style>
					<width value="272px"/>
					<height value="100%"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefaultBold30NM"/>
					<styleClass value="$ArcEventTextStyle"/>
					<bind name="text" value="'IDS_ARC_EVENT_FOOTER_'+ _windowName +'_TEXT_0'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="24px"/>
						<textAlign value="justify"/>
						<overflow value="hidden"/>
					</style>
					<styleClass value="$Fullsize"/>
					<styleClass value="$TextDefault17NM"/>
					<styleClass value="$ArcEventTextStyle"/>
					<bind name="text" value="'IDS_ARC_EVENT_FOOTER_'+ _windowName +'_TEXT_1'"/>
				</block>
			</block>
			<block>
				<style>
					<height value="100%"/>
					<margin value="16px|0px"/>
				</style>
				<bind name="instance" value="'BlackDivider1'; { _vertical: true }"/>
			</block>
			<block>
				<style>
					<width value="272px"/>
					<height value="100%"/>
				</style>
				<block type="text">
					<style>
						<textAlign value="justify"/>
						<overflow value="hidden"/>
					</style>
					<styleClass value="$Fullsize"/>
					<styleClass value="$TextDefault17NM"/>
					<styleClass value="$ArcEventTextStyle"/>
					<bind name="text" value="'IDS_ARC_EVENT_FOOTER_'+ _windowName +'_TEXT_2'"/>
				</block>
			</block>
			<block>
				<style>
					<height value="100%"/>
					<margin value="16px|0px"/>
				</style>
				<bind name="instance" value="'BlackDivider1'; { _vertical: true }"/>
			</block>
			<block>
				<style>
					<width value="272px"/>
					<height value="100%"/>
				</style>
				<block type="text">
					<style>
						<textAlign value="justify"/>
						<overflow value="hidden"/>
					</style>
					<styleClass value="$Fullsize"/>
					<styleClass value="$TextDefault17NM"/>
					<styleClass value="$ArcEventTextStyle"/>
					<bind name="text" value="'IDS_ARC_EVENT_FOOTER_'+ _windowName +'_TEXT_3'"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ArcEventSideHeader">
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sides';	[]; arcEventEntity.arcEvent.sides"/>
		<bind name="watchDH" value="'sideId'; ['arcEventEntity.playerArcEventInfo.evSideChanged']; arcEventEntity.playerArcEventInfo.sideId"/>
		<bind name="watchDH" value="'state'; ['arcEventEntity.arcEvent.evChanged']; arcEventEntity.arcEvent.state"/>
		<bind name="watch" value="'isFinalScreen'; state == 2"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="120px"/>
			</style>
		</block>
		<block>
			<bind name="colorTransform" value="isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'BlackDivider2'; {}"/>
		</block>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<block>
				<bind name="instance" value="'ArcEventSideHeaderLogo';	{ _side: sides[0], _sideId: sideId, _isFinalScreen: isFinalScreen }"/>
			</block>
			<block>
				<style>
					<width value="320px"/>
					<height value="120px"/>
				</style>
				<bind name="instance" value="'ArcEventSideHeaderLeft';	{ _side: sides[0], _sideId: sideId, _isFinalScreen: isFinalScreen }"/>
			</block>
			<block>
				<style>
					<width value="320px"/>
					<height value="120px"/>
				</style>
				<bind name="instance" value="'ArcEventSideHeaderRight';	{ _side: sides[1], _sideId: sideId, _isFinalScreen: isFinalScreen }"/>
			</block>
			<block>
				<bind name="instance" value="'ArcEventSideHeaderLogo';	{ _side: sides[1], _sideId: sideId, _isFinalScreen: isFinalScreen }"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; sideId == -1 ? null : {tooltipText: tr('IDS_COMMON_TEAM_VICTORY_POINTS_TOOLTIP')}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<position value="absolute"/>
				<bottom value="18px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault17NM"/>
				<styleClass value="$ArcEventTextStyle"/>
				<bind name="text" value="isFinalScreen 	? 'IDS_COMMON_TEAM_VICTORY_POINTS' 
										: sideId == -1 	? 'IDS_ARC_EVENT_CHOOSE_SIDE' 
																				: 'IDS_COMMON_FINAL_STAT_POINTS'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="(sideId == -1) &amp;&amp; !isFinalScreen"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<position value="absolute"/>
				<width value="247px"/>
				<height value="100px"/>
				<marginTop value="50px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../events/arc_event/common/icon_selected.png'"/>
		</block>
	</block>
	<block className="ArcEventSideHeaderLogo">
		<bind name="watch" value="'isSelected'; _side == _sideId"/>
		<bind name="watch" value="'sideLogoSmall'; 	'url:../events/arc_event/common/side_icon_' + _side + '.png'"/>
		<bind name="watch" value="'sideLogoBig'; 	'url:../events/arc_event/common/side_icon_' + _side + '_selected.png'"/>
		<block>
			<style>
				<width value="120px"/>
				<height value="120px"/>
			</style>
			<bind name="style" value="'alpha'; isSelected ? 0 : 1"/>
			<bind name="style" value="'backgroundImage'; sideLogoSmall"/>
			<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="visible" value="isSelected &amp;&amp; !_isFinalScreen"/>
			<style>
				<width value="200px"/>
				<height value="200px"/>
				<position value="absolute"/>
				<marginTop value="-70px"/>
			</style>
			<bind name="style" value="'backgroundImage'; sideLogoBig"/>
		</block>
	</block>
	<block className="ArcEventSideHeaderLeft">
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; _side"/>
		<bind name="watchDH" value="'sideDailyProgress'; ['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.sideDailyProgress"/>
		<bind name="watchDH" value="'sideVictoryDays'; ['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.sideVictoryDays"/>
		<bind name="watchDH" value="'myTotalBattles'; ['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.myTotalBattles"/>
		<bind name="watchDH" value="'state'; ['arcEventEntity.arcEvent.evChanged']; arcEventEntity.arcEvent.state"/>
		<bind name="watch" value="'isSelected'; _side == _sideId"/>
		<styleClass value="$Fullsize"/>
		<block>
			<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
			<style>
				<position value="absolute"/>
				<height value="100%"/>
				<margin value="0px|8px"/>
			</style>
			<bind name="instance" value="'BlackDivider2'; { _vertical: true }"/>
		</block>
		<block>
			<style>
				<height value="70px"/>
			</style>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr('IDS_ARC_EVENT_SIDE_TOOLTIP_0')}"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="240px"/>
					<paddingLeft value="32px"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
						<multiline value="false"/>
					</style>
					<styleClass value="$TextDefaultBold40NM"/>
					<styleClass value="$ArcEventTextStyle"/>
					<bind name="text" value="toUpperCase(tr('IDS_ARC_EVENT_SIDE_' + _side))"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="isSelected &amp;&amp; !(state == 2)"/>
				<style>
					<position value="absolute"/>
					<width value="135px"/>
					<height value="11px"/>
					<top value="55px"/>
					<left value="25px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:../events/arc_event/common/side_selected.png'"/>
			</block>
			<block>
				<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
				<style>
					<height value="100%"/>
					<margin value="0px|8px"/>
				</style>
				<bind name="instance" value="'BlackDivider2'; { _vertical: true }"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="80px"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<align value="right"/>
						<paddingRight value="20px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefaultBold40NM"/>
						<styleClass value="$ArcEventTextStyle"/>
						<bind name="text" value="sideVictoryDays"/>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
			<style>
				<width value="100%"/>
				<paddingLeft value="8px"/>
			</style>
			<bind name="instance" value="'BlackDivider1'; {}"/>
		</block>
		<block>
			<style>
				<height value="50px"/>
			</style>
			<block>
				<bind name="visible" value="(_sideId != -1) || (_isFinalScreen == true)"/>
				<style>
					<marginLeft value="32px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextDefault21NM"/>
					<styleClass value="$ArcEventTextStyle"/>
					<bind name="class" value="isSelected	? '$Bold' : '$None'"/>
					<bind name="text" value="_isFinalScreen ? format(myTotalBattles) : format(sideDailyProgress)"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ArcEventSideHeaderRight">
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; _side"/>
		<bind name="watchDH" value="'sideDailyProgress'; ['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.sideDailyProgress"/>
		<bind name="watchDH" value="'sideVictoryDays'; ['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.sideVictoryDays"/>
		<bind name="watchDH" value="'myTotalBattles'; ['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.myTotalBattles"/>
		<bind name="watchDH" value="'state'; ['arcEventEntity.arcEvent.evChanged']; arcEventEntity.arcEvent.state"/>
		<bind name="watch" value="'isSelected'; _side == _sideId"/>
		<styleClass value="$Fullsize"/>
		<block>
			<style>
				<height value="70px"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="-1px"/>
					<position value="absolute"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold40NM"/>
					<styleClass value="$ArcEventTextStyle"/>
					<bind name="text" value="':'"/>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="80px"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<align value="left"/>
						<paddingLeft value="20px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefaultBold40NM"/>
						<styleClass value="$ArcEventTextStyle"/>
						<bind name="text" value="sideVictoryDays"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<left value="-80px"/>
					<width value="160px"/>
					<height value="100%"/>
					<backgroundColor value="0x01000000"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr('IDS_COMMON_STAT_POINTS_TOOLTIP')}"/>
			</block>
			<block>
				<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
				<style>
					<height value="100%"/>
					<margin value="0px|8px"/>
				</style>
				<bind name="instance" value="'BlackDivider2'; { _vertical: true }"/>
			</block>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr('IDS_ARC_EVENT_SIDE_TOOLTIP_1')}"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="240px"/>
					<paddingRight value="32px"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
						<multiline value="false"/>
						<textAlign value="right"/>
					</style>
					<styleClass value="$TextDefaultBold40NM"/>
					<styleClass value="$ArcEventTextStyle"/>
					<bind name="text" value="toUpperCase(tr('IDS_ARC_EVENT_SIDE_' + _side))"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="isSelected &amp;&amp; !(state == 2)"/>
				<style>
					<position value="absolute"/>
					<width value="135px"/>
					<height value="11px"/>
					<top value="55px"/>
					<right value="25px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:../events/arc_event/common/side_selected.png'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
			<style>
				<width value="100%"/>
				<paddingRight value="8px"/>
			</style>
			<bind name="instance" value="'BlackDivider1'; {}"/>
		</block>
		<block>
			<style>
				<height value="50px"/>
				<width value="100%"/>
			</style>
			<block>
				<bind name="visible" value="(_sideId != -1) || (_isFinalScreen == true)"/>
				<style>
					<align value="right"/>
					<width value="100%"/>
					<marginRight value="32px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextDefault21NM"/>
					<style>
						<textAlign value="right"/>
					</style>
					<styleClass value="$ArcEventTextStyle"/>
					<bind name="class" value="isSelected	? '$Bold' : '$None'"/>
					<bind name="text" value="_isFinalScreen ? format(myTotalBattles) : format(sideDailyProgress)"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="colorTransform" value="_isFinalScreen ? {redOffset:119,greenOffset:44,blueOffset:-29} : {}"/>
			<style>
				<position value="absolute"/>
				<right value="0px"/>
				<height value="100%"/>
				<margin value="0px|8px"/>
			</style>
			<bind name="instance" value="'BlackDivider2'; { _vertical: true }"/>
		</block>
	</block>
	<block className="ArcEventPlayerLoyalty">
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sides';[]; arcEventEntity.arcEvent.sides"/>
		<bind name="firstEntityDH" value="'arcEventConfigEntity'; CC.arcEventConfig"/>
		<bind name="watchDH" value="'stagesNumberForEventLoyalty';[]; arcEventConfigEntity.arcEventConfig.stagesNumberForEventLoyalty"/>
		<bind name="primaryEntityDH" value="'arcEventFirstSideEntity'; CC.arcEventSide; sides[0]"/>
		<bind name="watchDH" value="'myLoyaltyFirstSide';['arcEventFirstSideEntity.arcEventSide.evLoyaltyChanged']; arcEventFirstSideEntity.arcEventSide.myLoyalty"/>
		<bind name="primaryEntityDH" value="'arcEventSecondSideEntity'; CC.arcEventSide; sides[1]"/>
		<bind name="watchDH" value="'myLoyaltySecondSide';['arcEventSecondSideEntity.arcEventSide.evLoyaltyChanged']; arcEventSecondSideEntity.arcEventSide.myLoyalty"/>
		<bind name="watch" value="'gainedReward'; (myLoyaltyFirstSide &gt;= stagesNumberForEventLoyalty) &amp;&amp; (myLoyaltySecondSide &gt;= stagesNumberForEventLoyalty)"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'ArcEventPlayerLoyaltyRow'; { _side: sides[0] }"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="16px"/>
			</style>
			<bind name="instance" value="'ArcEventPlayerLoyaltyRow'; { _side: sides[1] }"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="80px"/>
				<height value="80px"/>
				<position value="absolute"/>
				<right value="140px"/>
			</style>
			<bind name="tooltip" value="'ArcEventEventLoyaltyTooltip'; { _isEventLoyalty: true, _isEventLoyaltyReward: true }"/>
			<bind name="style" value="'backgroundImage'; gainedReward 	? 'url:../events/arc_event/personal_progress/loyalty_event_reward_full.png'
														: 'url:../events/arc_event/personal_progress/loyalty_event_reward_empty.png'"/>
		</block>
		<block>
			<bind name="visible" value="gainedReward"/>
			<style>
				<width value="25px"/>
				<height value="25px"/>
				<position value="absolute"/>
				<right value="125px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../events/arc_event/personal_progress/icon_done.png'"/>
		</block>
		<block type="text">
			<style>
				<position value="absolute"/>
				<marginTop value="7px"/>
				<right value="655px"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<styleClass value="$ArcEventTextStyle"/>
			<bind name="text" value="'IDS_ARC_EVENT_SIDE_TOOLTIP_0'"/>
		</block>
		<block type="text">
			<style>
				<position value="absolute"/>
				<marginTop value="53px"/>
				<right value="655px"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<styleClass value="$ArcEventTextStyle"/>
			<bind name="text" value="'IDS_ARC_EVENT_SIDE_TOOLTIP_1'"/>
		</block>
	</block>
	<block className="ArcEventPlayerLoyaltyRow">
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sides';[]; arcEventEntity.arcEvent.sides"/>
		<bind name="firstEntityDH" value="'arcEventConfigEntity'; CC.arcEventConfig"/>
		<bind name="watchDH" value="'stagesNumberForTeamLoyalty';[]; arcEventConfigEntity.arcEventConfig.stagesNumberForTeamLoyalty"/>
		<bind name="watchDH" value="'stagesNumberForEventLoyalty';[]; arcEventConfigEntity.arcEventConfig.stagesNumberForEventLoyalty"/>
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; sides[_side]"/>
		<bind name="watchDH" value="'myLoyalty';['arcEventSideEntity.arcEventSide.evLoyaltyChanged']; arcEventSideEntity.arcEventSide.myLoyalty"/>
		<bind name="watch" value="'teamLoyaltyCounter'; 	stagesNumberForTeamLoyalty[_side] / myLoyalty"/>
		<bind name="watch" value="'teamLoyaltyPercent'; 10 / teamLoyaltyCounter"/>
		<bind name="watch" value="'eventLoyaltyCounter'; (stagesNumberForEventLoyalty - stagesNumberForTeamLoyalty[_side]) / (myLoyalty - stagesNumberForTeamLoyalty[_side])"/>
		<bind name="watch" value="'eventLoyaltyPercent'; 10 / eventLoyaltyCounter"/>
		<bind name="watch" value="'teamLoyalty'; 	(myLoyalty &gt; 0) 	? teamLoyaltyPercent  : 0"/>
		<bind name="watch" value="'eventLoyalty'; 	(teamLoyalty &gt;= 10) ? eventLoyaltyPercent : 0"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="tooltip" value="'ArcEventEventLoyaltyTooltip'; { _side: _side }"/>
			<style>
				<height value="30px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block className="indicator_progress_bar_dark_bg" type="native">
					<style>
						<width value="170px"/>
						<height value="8px"/>
					</style>
				</block>
				<block className="indicator_progress_bar_dark_mask" type="native">
					<style>
						<width value="170px"/>
						<height value="6px"/>
						<position value="absolute"/>
					</style>
					<bind name="value" value="teamLoyalty"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="tooltip" value="'ArcEventEventLoyaltyTooltip'; { _side: _side }"/>
			<style>
				<height value="30px"/>
				<marginLeft value="8px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="30px"/>
					<height value="30px"/>
				</style>
				<bind name="style" value="'backgroundImage'; (_side == 0) 	? 	(teamLoyalty &gt;= 10) ? 'url:../events/arc_event/personal_progress/loyalty_reward_honor_full.png'
																					: 'url:../events/arc_event/personal_progress/loyalty_reward_honor_empty.png'
															: 	(teamLoyalty &gt;= 10) ? 'url:../events/arc_event/personal_progress/loyalty_reward_glory_full.png'
																					: 'url:../events/arc_event/personal_progress/loyalty_reward_glory_empty.png'"/>
			</block>
			<block>
				<bind name="visible" value="(teamLoyalty &gt;= 10)"/>
				<style>
					<width value="25px"/>
					<height value="25px"/>
					<position value="absolute"/>
					<left value="20px"/>
					<top value="-20px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:../events/arc_event/personal_progress/icon_done.png'"/>
			</block>
		</block>
		<block>
			<bind name="tooltip" value="'ArcEventEventLoyaltyTooltip'; { _side: _side, _isEventLoyalty: true }"/>
			<style>
				<height value="30px"/>
				<marginLeft value="8px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block className="indicator_progress_bar_dark_bg" type="native">
					<style>
						<width value="170px"/>
						<height value="8px"/>
					</style>
				</block>
				<block className="indicator_progress_bar_dark_mask" type="native">
					<style>
						<width value="170px"/>
						<height value="6px"/>
						<position value="absolute"/>
					</style>
					<bind name="value" value="eventLoyalty"/>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="11px"/>
					<height value="19px"/>
					<marginLeft value="8px"/>
				</style>
				<bind name="style" value="'backgroundImage'; (eventLoyalty &gt;= 10) 	? 'url:../events/arc_event/personal_progress/loyalty_reward_unlocked.png'
																	: 'url:../events/arc_event/personal_progress/loyalty_reward_locked.png'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ArcEventEventLoyaltyTooltip">
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sides'; []; arcEventEntity.arcEvent.sides"/>
		<bind name="watchDH" value="'stagesNumberForTeamLoyalty'; []; arcEventEntity.arcEventConfig.stagesNumberForTeamLoyalty"/>
		<bind name="watchDH" value="'stagesNumberForEventLoyalty'; []; arcEventEntity.arcEventConfig.stagesNumberForEventLoyalty"/>
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; sides[_side]"/>
		<bind name="watchDH" value="'myLoyalty'; ['arcEventSideEntity.arcEventSide.evLoyaltyChanged']; arcEventSideEntity.arcEventSide.myLoyalty"/>
		<bind name="watch" value="'totalPoints'; _isEventLoyalty ? stagesNumberForEventLoyalty : stagesNumberForTeamLoyalty[_side]"/>
		<bind name="watchDH" value="'teamLoyaltyRewardIds';  []; arcEventEntity.arcEventConfig.teamLoyaltyRewardIds"/>
		<bind name="watchDH" value="'eventLoyaltyRewardIds'; []; arcEventEntity.arcEventConfig.eventLoyaltyRewardIds"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$ArcEventTooltipMargins"/>
			<styleClass value="$TextDefaultBold19NM"/>
			<bind name="text" value="_isEventLoyalty ? 'IDS_ARC_EVENT_LOYALTY' : tr('IDS_ARC_EVENT_SIDE_' + _side + '_LOYALTY')"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefault17NM"/>
			<styleClass value="$ArcEventTooltipMargins"/>
			<bind name="text" value="_isEventLoyalty ? 'IDS_ARC_EVENT_LOYALTY_DESCR' : tr('IDS_ARC_EVENT_TEAM_LOYALTY_DESCR_' + _side)"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!_isEventLoyaltyReward"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<margin value="16px|8px"/>
				</style>
				<bind name="instance" value="'ArcEventEventLoyaltyPoints'; { _text: 'IDS_ARC_EVENT_LOYALTY_PROGRESS_COUNTER', _playerPointsCounter: myLoyalty, _totalPointsCounter: totalPoints }"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginBottom value="5px"/>
				<marginLeft value="16px"/>
			</style>
			<bind name="repeat" value="_isEventLoyalty ? eventLoyaltyRewardIds : teamLoyaltyRewardIds[_side]; 'RewardContainerTooltipItemAdapter'"/>
		</block>
	</block>
	<block className="ArcEventEventLoyaltyPoints">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<marginTop value="8px"/>
			<marginBottom value="8px"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefault17NM"/>
			<bind name="text" value="_text"/>
		</block>
		<block>
			<bind name="instance" value="'DefaultDividedCounter'; {	_curValueTextClass: '$TextDefaultBold17NM',
													_curValue: _playerPointsCounter,
													_maxValue: _totalPointsCounter}"/>
		</block>
	</block>
	<block className="ArcEventSideModifier">
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'yesterdayWinnerSideId'; ['arcEventEntity.arcEvent.evChanged']; arcEventEntity.arcEvent.yesterdayWinnerSideId"/>
		<bind name="watchDH" value="'sideId';['arcEventEntity.playerArcEventInfo.evSideChanged']; arcEventEntity.playerArcEventInfo.sideId"/>
		<bind name="primaryEntityDH" value="'arcEventSide'; CC.arcEventSide; _sideId"/>
		<bind name="watchDH" value="'complexity'; ['arcEventSide.arcEventSide.evChanged']; arcEventSide.arcEventSide.complexity"/>
		<bind name="watchDH" value="'sideModifierTeam';   ['arcEventSide.arcEventSide.evChanged']; arcEventSide.arcEventSide.sideModifierTeam"/>
		<bind name="watch" value="'arcEventSideModifierItems'; [
			{_text: tr('IDS_ARC_EVENT_SIDE_MODIFIER_COMPLEXITY_' + complexity)}, 
			{_text: (complexity &gt; 0 								? 'IDS_ARC_EVENT_SIDE_MODIFIER_REWARD_1'	: 'IDS_ARC_EVENT_SIDE_MODIFIER_REWARD_0')}, 
			{_text: (complexity &gt; 0 || yesterdayWinnerSideId == -1	? 'IDS_ARC_EVENT_SIDE_MODIFIER_TEAM_1' 		: subst('IDS_SUBST_ARC_EVENT_SIDE_MODIFIER_TEAM_0', [], {modifier: sideModifierTeam}))}
		]
	"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="tooltip" value="'ArcEventSideModifierTooltip'; {_sideId: _sideId}"/>
		<bind name="repeat" value="arcEventSideModifierItems; 'ArcEventSideModifierItemRenderer'; {}"/>
	</block>
	<block className="ArcEventSideModifierItemRenderer">
		<style>
			<width value="100%"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<bind name="visible" value="($index &gt; 0) &amp;&amp; _text"/>
			<style>
				<width value="100%"/>
				<marginLeft value="8px"/>
				<marginRight value="8px"/>
				<marginBottom value="16px"/>
			</style>
			<bind name="instance" value="'BlackDivider1'; {}"/>
		</block>
		<block type="text">
			<bind name="class" value="$index ? '$TextDefault17NM' : '$TextDefaultBold17NM'"/>
			<bind name="class" value="'$ArcEventTextStyle'"/>
			<style>
				<width value="100%"/>
				<textAlign value="center"/>
				<marginBottom value="16px"/>
			</style>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="ArcEventSideModifierTooltip">
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'yesterdayWinnerSideId'; []; arcEventEntity.arcEvent.yesterdayWinnerSideId"/>
		<bind name="primaryEntityDH" value="'arcEventWinnerSideEntity'; CC.arcEventSide; yesterdayWinnerSideId"/>
		<bind name="watchDH" value="'complexityWinner'; ['arcEventWinnerSideEntity.arcEventSide.evChanged']; arcEventWinnerSideEntity.arcEventSide.complexity"/>
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; _sideId"/>
		<bind name="watchDH" value="'complexity'; ['arcEventSideEntity.arcEventSide.evChanged']; arcEventSideEntity.arcEventSide.complexity"/>
		<bind name="watchDH" value="'stageProgressRules';	['arcEventEntity.arcEvent.evChanged']; arcEventEntity.arcEventConfig.stageProgressRules"/>
		<bind name="watch" value="'sideScoreModifier'; stageProgressRules[complexityWinner][1][1]"/>
		<bind name="watch" value="'isLastDayWinner'; yesterdayWinnerSideId == _sideId"/>
		<bind name="watch" value="'rewards1'; stageProgressRules[complexity][0][0][1][_sideId]"/>
		<bind name="watch" value="'rewards2'; stageProgressRules[complexity][0][1][1][_sideId]"/>
		<bind name="watch" value="'rewards3'; stageProgressRules[complexity][0][2][1][_sideId]"/>
		<bind name="watch" value="'rewards4'; stageProgressRules[complexity][0][3][1][_sideId]"/>
		<bind name="watch" value="'rewards5'; stageProgressRules[complexity][0][4][1][_sideId]"/>
		<bind name="watch" value="'rewards'; [rewards1, rewards2, rewards3, rewards4, rewards5]"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="352px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<margin value="16px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold19NM"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="tr('IDS_ARC_EVENT_SIDE_MODIFIER_COMPLEXITY_' + complexity)"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<margin value="16px|16px|16px|0"/>
			</style>
			<bind name="repeat" value="isLastDayWinner	? [{_paragraphText: 'IDS_ARC_EVENT_SIDE_MODIFIER_TOOLTIP_DESCRIPTION_COMPLEXITY'}, {_paragraphText: 'IDS_ARC_EVENT_SIDE_MODIFIER_TOOLTIP_DESCRIPTION_COMPLEXITY_WINNER'}]
										: [{_paragraphText: 'IDS_ARC_EVENT_SIDE_MODIFIER_TOOLTIP_DESCRIPTION_COMPLEXITY'}]; 
			'RepeatParagraphItemNM'; {_class: '$TextDefault17NM', _maxWidth: 320}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$PxHorizontalCorrection"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<margin value="16px|16px|16px|0"/>
				</style>
				<bind name="repeat" value="rewards; 'ArcEventSideModifierTooltipParamsWrapper'; {_sideId: _sideId}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="yesterdayWinnerSideId &gt; -1"/>
			<style>
				<width value="100%"/>
				<margin value="16px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="isLastDayWinner ? 'IDS_ARC_EVENT_SIDE_MODIFIER_TOOLTIP_DESCRIPTION_MODIFIER_WINNER' : 'IDS_ARC_EVENT_SIDE_MODIFIER_TOOLTIP_DESCRIPTION_MODIFIER_LOSER'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isLastDayWinner == false &amp;&amp; sideScoreModifier &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$PxHorizontalCorrection"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<margin value="16px|16px|16px|0"/>
				</style>
				<bind name="instance" value="'ParamsModifierList'; { _attributesPositive: [ {
				attributeIDS: 'IDS_ARC_EVENT_SIDE_MODIFIER_TOOLTIP_PARAM_LOSER_MODIFIER_TEAM',
				measuredValue: '+'+ sideScoreModifier   +'%',
				category: 'positive'} ] }"/>
			</block>
		</block>
	</block>
	<block className="ArcEventSideModifierTooltipParamsWrapper">
		<bind name="entityDH" value="'rewardEntity'; $value"/>
		<bind name="watch" value="'rewardSubtype'; rewardEntity.rewardComponent.subtype"/>
		<bind name="watch" value="'rewardAmount'; rewardEntity.rewardComponent.amount"/>
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; _sideId"/>
		<bind name="watchDH" value="'complexity'; ['arcEventSideEntity.arcEventSide.evChanged']; arcEventSideEntity.arcEventSide.complexity"/>
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'stageProgressRules'; []; arcEventEntity.arcEventConfig.stageProgressRules"/>
		<bind name="watch" value="'points'; stageProgressRules[complexity][0][$index][0]"/>
		<bind name="watch" value="'paramsObject'; {
		attributeIDS: subst('IDS_SUBST_POINTS', [], {points: points}, points),
		measuredValue: format(rewardAmount),
		measure: ' ' + subst( (rewardSubtype != 'credits' ? 'IDS_PL_REWARD_'+toUpperCase(tr(rewardSubtype)) : 'IDS_PL_CREDITS'), [], {}, rewardAmount) }"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="instance" value="'ParamsModifierItem'; paramsObject"/>
	</block>
	<block className="ArcEventSideResultsTooltip">
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; _side"/>
		<bind name="watchDH" value="'sideDailyProgress'; ['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.sideDailyProgress"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="340px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<margin value="16px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold19NM"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="tr('IDS_ARC_EVENT_SIDE_TOOLTIP_' + _side)"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<margin value="16px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="'IDS_ARC_EVENT_SIDE_RESULTS_COUNTER'"/>
			</block>
			<block type="text">
				<style>
					<textAlign value="right"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="format(sideDailyProgress, -1)"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PVEOperationItemBig">
		<params>
			<param name="name" value="PVEOperationItemBig"/>
		</params>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="entityDH" value="'operationEntity'; _operationEntityId"/>
		<bind name="watchDH" value="'map'; []; operationEntity.operation.map"/>
		<bind name="watchDH" value="'operationIsHard'; []; operationEntity.operation.isHard"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'opDifficulty'; (userPrefs.uiPVEOperationsDifficulty == null) ? 'normal' : userPrefs.uiPVEOperationsDifficulty"/>
		<bind name="watch" value="'difficultiesCollectionPath'; 'byOperation.' + operationEntity.operation.id"/>
		<bind name="collectionDH" value="CC.operationDifficulty; 'operationDifficultiesCollection'; difficultiesCollectionPath"/>
		<bind name="watch" value="'opDifficultyComponent'; opDifficulty == 'normal' ? operationDifficultiesCollection[1] : operationDifficultiesCollection[0]"/>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'activeOperationId';	['pveStateEntity.pveState.evStateUpdated'];	pveStateEntity.pveState.activeOperation"/>
		<bind name="watchDH" value="'chosenOperationId';	['pveStateEntity.pveState.evStateUpdated'];	pveStateEntity.pveState.chosenOperation"/>
		<bind name="watchDH" value="'chosenDifficulty';	['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenDifficulty"/>
		<bind name="watch" value="'selected';	((chosenOperationId == operationEntity.operation.id) &amp;&amp;
									(chosenDifficulty == opDifficulty) &amp;&amp;
									isPveBattleTypeSelected)"/>
		<bind name="watchDH" value="'bestResultsTime'; ['opDifficultyComponent.operationDifficulty.evBestResultsChanged']; opDifficultyComponent.operationDifficulty.bestResultsTime"/>
		<bind name="primaryEntityDH" value="'pveBattleTypeEntity'; CC.battleType; BattleTypes.PVE_BATTLE"/>
		<bind name="watchDH" value="'isPveBattleTypeSelected'; ['pveBattleTypeEntity.battleType.evSelectionChanged']; pveBattleTypeEntity.battleType.selected"/>
		<style>
			<width value="400px"/>
			<height value="454px"/>
			<marginLeft value="1280:24,1920:32aw"/>
			<marginRight value="1280:24,1920:32aw"/>
			<marginBottom value="32px"/>
		</style>
		<bind name="firstEntityDH" value="'dockDataEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'pveOperationChooserVisible'; ['dockDataEntity.dockData.evOperationChooserChanged']; dockDataEntity.dockData.operationChooserVisible"/>
		<bind name="fade" value="pveOperationChooserVisible; 0; {alpha: 0}; {alpha: 1, top: 0}; {alpha: 0}"/>
		<bind name="appear" value="selected ? null : 'hideOperationsOnPveOperationChose'; 0.14; 0.02;	{alpha: 1, top: 0}; {alpha: 0, top: -5}; 3"/>
		<bind name="appear" value="selected ? 'hideOperationsOnPveOperationChose' : null; 0.11; 0.12;	{alpha: 1};	{alpha: 0}; 2"/>
		<block>
			<bind name="name" value="'PVEOperationItemBig_' + operationEntity.operation.gpName"/>
			<bind name="clickSplit"/>
			<bind name="request" value="'right_click'; 'modalPVEOperationInfo'; {operationId: operationEntity.operation.id}"/>
			<bind name="dispatch" value="'left_click'; 'pveOperationChose'; null; false"/>
			<bind name="action" value="'left_click'; isPveBattleTypeSelected ? null : 'setBattleType'; {battleType: BattleTypes.PVE_BATTLE}"/>
			<bind name="action" value="'left_click'; 'PVEScriptsProxy.chooseOperation'; {operationId: operationEntity.operation.id, difficulty: opDifficulty, shouldEnterMM: true}"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="400px"/>
				<height value="454px"/>
			</style>
			<bind name="transition" value="selected; 0.1; {width: 400, height: 454}; {width: (400 + 16), height: (454 + 16)}; {width: 400, height: 454}"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; {_mouseInstructions: [{_type: 'right', _instructionText: 'IDS_MORE_INFO_ABOUT_PVE_OPERATION_TOOLTIP'},
																			{_type: 'left', _instructionText: 'IDS_CHOOSE_PVE_OPERATION_MOUSE_INSTRUCTION'}], _msaxWidth: 250}"/>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<backgroundSize value="cover"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:../pve/operation_bg/' + map + '.png'"/>
					<block className="inner_panel" type="native">
						<style>
							<alpha value="3"/>
						</style>
						<styleClass value="$FullsizeAbsolute"/>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<height value="130px"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<backgroundSize value="cover"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:../pve/operation_bg/' + map + '.png'"/>
					<block className="shadow_h_zero_edge_fullsize" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<hitTest value="false"/>
					<marginTop value="16px"/>
					<marginLeft value="16px"/>
					<width value="100%"/>
					<alpha value="0.9"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold23NM"/>
					<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME')"/>
				</block>
				<block type="text">
					<bind name="visible" value="operationIsHard"/>
					<style>
						<marginTop value="8px"/>
						<alpha value="0.75"/>
					</style>
					<styleClass value="$TextDefault19NM"/>
					<bind name="text" value="'IDS_OPERATION_HARD_DIFFICULTY_TITLE'"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<hitTest value="false"/>
					<top value="127px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<style>
					<marginTop value="130px"/>
					<paddingRight value="16px"/>
					<paddingLeft value="16px"/>
					<paddingBottom value="16px"/>
					<paddingTop value="16px"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
						<marginBottom value="8px"/>
						<alpha value="0.75"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$TextDefault19NM"/>
					<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName)+'_GOAL')"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginBottom value="16px"/>
						<hitTest value="false"/>
						<marginRight value="-16px"/>
						<marginLeft value="-16px"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<block type="text">
					<style>
						<hitTest value="false"/>
						<marginBottom value="4px"/>
					</style>
					<styleClass value="$TextDefault19NM"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="'IDS_PVE_TECH_CONDITIONS'"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="watch" value="'compatibleShipsCollectionPath'; 'operation' + operationEntity.operation.id"/>
					<bind name="collectionDH" value="CC.ownShip; 'compatibleShipList'; compatibleShipsCollectionPath "/>
					<bind name="tooltip" value="'ShipListTooltip'; {_shipList: compatibleShipList}"/>
					<bind name="instance" value="'ShipRestrictions'; {_restrictionsEntityId: operationEntity.id, _withShipTypeCounters: false,
													 _flow: 'htile', _width: '100%'}"/>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<style>
					<alpha value="0.9"/>
					<hitTest value="false"/>
					<bottom value="16px"/>
				</style>
				<bind name="instance" value="'PVEOperationOfTheWeekLabel'; {}"/>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<top value="75px"/>
					<left value="12px"/>
				</style>
				<bind name="instance" value="'OperationRewardsContainerAdapter'; {	_operationId: operationEntity.operation.id, _difficulty: opDifficulty, _smallIcons: true,
																	_noAnimation: true, _rMargin: (8+'px')}"/>
			</block>
			<block className="white_panel_gradient" type="native">
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="transition" value="rollOver; 0.1; {alpha: 0}; {alpha: 0.2}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block className="hint_panel_bold" type="native">
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="transition" value="selected; 0.07; {alpha: 0}; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<bind name="request" value="'click'; 'modalPVEOperationInfo'; {operationId: operationEntity.operation.id}"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_MORE_INFO_ABOUT_PVE_OPERATION_TOOLTIP'}"/>
			<bind name="transition" value="rollOver; 0.1; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<style>
				<position value="absolute"/>
				<top value="91px"/>
				<right value="16px"/>
			</style>
			<block className="button_info" type="native"/>
		</block>
	</block>
	<block className="PVEOperationItemSmall">
		<style>
			<marginLeft value="1280:24,1920:32aw"/>
			<marginRight value="1280:24,1920:32aw"/>
			<marginBottom value="32px"/>
		</style>
		<block className="PVEOperationItemSmallNoMargins">
			<bind name="name" value="'small_operation_' + operationEntity.operation.gpName"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<bind name="dataRefDH" value="'operationEntity'; '$dataRef.ref'"/>
			<bind name="entityDH" value="'operationEntity'; _operationEntityId"/>
			<bind name="watchDH" value="'pveOperationStatus';		['operationEntity.operation.evStatusChanged'];	operationEntity.operation.status"/>
			<bind name="watchDH" value="'operationUnlockTimeStamp';	['operationEntity.operation.evPeriodsChanged'];	operationEntity.operation.unlockTime"/>
			<bind name="timeFormat" value="operationUnlockTimeStamp; 'dd.MM.yyyy'; 'operationUnlockTime'; true"/>
			<bind name="watchDH" value="'operationIsHard'; []; operationEntity.operation.isHard"/>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="watch" value="'opDifficulty'; (userPrefs.uiPVEOperationsDifficulty == null) ? 'normal' : userPrefs.uiPVEOperationsDifficulty"/>
			<bind name="watch" value="'difficultiesCollectionPath'; 'byOperation.' + operationEntity.operation.id"/>
			<bind name="collectionDH" value="CC.operationDifficulty; 'operationDifficultiesCollection'; difficultiesCollectionPath"/>
			<bind name="watch" value="'opDifficultyComponent'; opDifficulty == 'normal' ? operationDifficultiesCollection[1] : operationDifficultiesCollection[0]"/>
			<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
			<bind name="watchDH" value="'activeOperationId';	['pveStateEntity.pveState.evStateUpdated'];	pveStateEntity.pveState.activeOperation"/>
			<bind name="watchDH" value="'chosenOperationId';	['pveStateEntity.pveState.evStateUpdated'];	pveStateEntity.pveState.chosenOperation"/>
			<bind name="watchDH" value="'chosenDifficulty';	['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenDifficulty"/>
			<bind name="watch" value="'selected';	((chosenOperationId == operationEntity.operation.id) &amp;&amp;
									(chosenDifficulty == opDifficulty) &amp;&amp;
									isPveBattleTypeSelected &amp;&amp;
									_isTooltip != true)"/>
			<bind name="watchDH" value="'bestResultsTime'; ['opDifficultyComponent.operationDifficulty.evBestResultsChanged']; opDifficultyComponent.operationDifficulty.bestResultsTime"/>
			<bind name="primaryEntityDH" value="'pveBattleTypeEntity'; CC.battleType; BattleTypes.PVE_BATTLE"/>
			<bind name="watchDH" value="'isPveBattleTypeSelected'; ['pveBattleTypeEntity.battleType.evSelectionChanged']; pveBattleTypeEntity.battleType.selected"/>
			<style>
				<width value="400px"/>
				<height value="130px"/>
			</style>
			<bind name="style" value="'hitTest'; (	pveOperationStatus == 2 || 
								pveOperationStatus == 3) &amp;&amp; !(_isTooltip)"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="400px"/>
					<height value="130px"/>
				</style>
				<bind name="transition" value="selected; 0.1; {width: 400, height: 130}; {width: (400 + 16), height: (130 + 16)}; {width: 400, height: 130}"/>
				<bind name="firstEntityDH" value="'dockDataEntity'; CC.dockDataMarker"/>
				<bind name="watchDH" value="'pveOperationChooserVisible'; ['dockDataEntity.dockData.evOperationChooserChanged']; dockDataEntity.dockData.operationChooserVisible"/>
				<bind name="fade" value="(pveOperationChooserVisible || (_isTooltip == true)); 0; {alpha: 0}; {alpha: 1, top: 0}; {alpha: 0}"/>
				<bind name="appear" value="selected || (_isTooltip == true) ? null : 'hideOperationsOnPveOperationChose'; 0.14; 0.02;	{alpha: 1, top: 0}; {alpha: 0, top: -5}; 3"/>
				<bind name="appear" value="(selected &amp;&amp; (_isTooltip != true)) ? 'hideOperationsOnPveOperationChose' : null; 0.11; 0.12;	{alpha: 1};	{alpha: 0}; 2"/>
				<bind name="clickSplit"/>
				<bind name="request" value="'right_click'; 'modalPVEOperationInfo'; {operationId: operationEntity.operation.id}"/>
				<bind name="dispatch" value="'left_click'; 'pveOperationChose'; null; false"/>
				<bind name="action" value="'left_click'; isPveBattleTypeSelected ? null : 'setBattleType'; {battleType: BattleTypes.PVE_BATTLE}"/>
				<bind name="action" value="'left_click'; 'PVEScriptsProxy.chooseOperation'; {operationId: operationEntity.operation.id, difficulty: opDifficulty, shouldEnterMM: true}"/>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="tooltip" value="'PVEOperationTooltip'; {_operationEntityId: operationEntity.id, isOperationCardTooltip: true}"/>
					<style>
						<backgroundSize value="cover"/>
					</style>
					<bind name="style" value="'colorMatrixFilter'; (	pveOperationStatus == 1 ||
												pveOperationStatus == 0)	? '0 -100 0 -15'
																										: '0 0 0 0'"/>
					<bind name="style" value="'backgroundImage'; 'url:../pve/operation_bg/' + operationEntity.operation.map + '.png'"/>
					<block className="shadow_h_zero_edge_fullsize" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<hitTest value="false"/>
						<marginTop value="16px"/>
						<marginLeft value="16px"/>
						<marginRight value="16px"/>
						<width value="100%"/>
					</style>
					<bind name="style" value="'alpha'; (	pveOperationStatus == 1 ||
									pveOperationStatus == 0 ? 0.7 : 0.9)"/>
					<block type="text">
						<style>
							<width value="100%"/>
						</style>
						<styleClass value="$TextDefaultBold23NM"/>
						<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME')"/>
					</block>
					<block type="text">
						<bind name="visible" value="operationIsHard"/>
						<style>
							<marginTop value="8px"/>
							<alpha value="0.75"/>
						</style>
						<styleClass value="$TextDefault19NM"/>
						<bind name="text" value="'IDS_OPERATION_HARD_DIFFICULTY_TITLE'"/>
					</block>
					<block>
						<bind name="visible" value="(	(pveOperationStatus == 1 || 
									pveOperationStatus == 0) ? true : false)"/>
						<style>
							<hitTest value="false"/>
							<width value="100%"/>
							<marginTop value="16px"/>
						</style>
						<block type="text">
							<style>
								<width value="100%"/>
							</style>
							<styleClass value="$TextDefault19NM"/>
							<bind name="text" value="(pveOperationStatus == 1	? (tr('IDS_OPERATION_WILL_BE_AVAILABLE_ON') + ' ' + operationUnlockTime) :
								pveOperationStatus == 0	? tr('IDS_OPERATION_CLOSED_ON_RECONSTRUCTION')
																						: 'smth goes wrong' )"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="16px"/>
						<left value="12px"/>
					</style>
					<bind name="instance" value="'OperationRewardsContainerAdapter'; (	pveOperationStatus == 2 || 
																	pveOperationStatus == 3)	? {	_operationId: operationEntity.operation.id,
																																_difficulty: opDifficulty, _smallIcons: true,
																																_noAnimation: true, _rMargin: (8+'px')}
																															: null"/>
				</block>
				<block className="white_panel_gradient" type="native">
					<style>
						<hitTest value="false"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="transition" value="rollOver; 0.1; {alpha: 0}; {alpha: 0.2}; {alpha: 0}"/>
				</block>
				<block className="hint_panel_bold" type="native">
					<style>
						<hitTest value="false"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="transition" value="selected; 0.07; {alpha: 0}; {alpha: 1}; {alpha: 0}"/>
				</block>
			</block>
			<block>
				<bind name="request" value="'click'; 'modalPVEOperationInfo'; {operationId: operationEntity.operation.id}"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_MORE_INFO_ABOUT_PVE_OPERATION_TOOLTIP'}"/>
				<bind name="transition" value="rollOver; 0.1; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<style>
					<position value="absolute"/>
					<bottom value="16px"/>
					<right value="16px"/>
				</style>
				<block className="button_info" type="native"/>
			</block>
		</block>
	</block>
	<block className="PVEOperationItemSmallNoMargins">
		<bind name="name" value="'small_operation_' + operationEntity.operation.gpName"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="dataRefDH" value="'operationEntity'; '$dataRef.ref'"/>
		<bind name="entityDH" value="'operationEntity'; _operationEntityId"/>
		<bind name="watchDH" value="'pveOperationStatus';		['operationEntity.operation.evStatusChanged'];	operationEntity.operation.status"/>
		<bind name="watchDH" value="'operationUnlockTimeStamp';	['operationEntity.operation.evPeriodsChanged'];	operationEntity.operation.unlockTime"/>
		<bind name="timeFormat" value="operationUnlockTimeStamp; 'dd.MM.yyyy'; 'operationUnlockTime'; true"/>
		<bind name="watchDH" value="'operationIsHard'; []; operationEntity.operation.isHard"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'opDifficulty'; (userPrefs.uiPVEOperationsDifficulty == null) ? 'normal' : userPrefs.uiPVEOperationsDifficulty"/>
		<bind name="watch" value="'difficultiesCollectionPath'; 'byOperation.' + operationEntity.operation.id"/>
		<bind name="collectionDH" value="CC.operationDifficulty; 'operationDifficultiesCollection'; difficultiesCollectionPath"/>
		<bind name="watch" value="'opDifficultyComponent'; opDifficulty == 'normal' ? operationDifficultiesCollection[1] : operationDifficultiesCollection[0]"/>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'activeOperationId';	['pveStateEntity.pveState.evStateUpdated'];	pveStateEntity.pveState.activeOperation"/>
		<bind name="watchDH" value="'chosenOperationId';	['pveStateEntity.pveState.evStateUpdated'];	pveStateEntity.pveState.chosenOperation"/>
		<bind name="watchDH" value="'chosenDifficulty';	['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenDifficulty"/>
		<bind name="watch" value="'selected';	((chosenOperationId == operationEntity.operation.id) &amp;&amp;
									(chosenDifficulty == opDifficulty) &amp;&amp;
									isPveBattleTypeSelected &amp;&amp;
									_isTooltip != true)"/>
		<bind name="watchDH" value="'bestResultsTime'; ['opDifficultyComponent.operationDifficulty.evBestResultsChanged']; opDifficultyComponent.operationDifficulty.bestResultsTime"/>
		<bind name="primaryEntityDH" value="'pveBattleTypeEntity'; CC.battleType; BattleTypes.PVE_BATTLE"/>
		<bind name="watchDH" value="'isPveBattleTypeSelected'; ['pveBattleTypeEntity.battleType.evSelectionChanged']; pveBattleTypeEntity.battleType.selected"/>
		<style>
			<width value="400px"/>
			<height value="130px"/>
		</style>
		<bind name="style" value="'hitTest'; (	pveOperationStatus == 2 || 
								pveOperationStatus == 3) &amp;&amp; !(_isTooltip)"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="400px"/>
				<height value="130px"/>
			</style>
			<bind name="transition" value="selected; 0.1; {width: 400, height: 130}; {width: (400 + 16), height: (130 + 16)}; {width: 400, height: 130}"/>
			<bind name="firstEntityDH" value="'dockDataEntity'; CC.dockDataMarker"/>
			<bind name="watchDH" value="'pveOperationChooserVisible'; ['dockDataEntity.dockData.evOperationChooserChanged']; dockDataEntity.dockData.operationChooserVisible"/>
			<bind name="fade" value="(pveOperationChooserVisible || (_isTooltip == true)); 0; {alpha: 0}; {alpha: 1, top: 0}; {alpha: 0}"/>
			<bind name="appear" value="selected || (_isTooltip == true) ? null : 'hideOperationsOnPveOperationChose'; 0.14; 0.02;	{alpha: 1, top: 0}; {alpha: 0, top: -5}; 3"/>
			<bind name="appear" value="(selected &amp;&amp; (_isTooltip != true)) ? 'hideOperationsOnPveOperationChose' : null; 0.11; 0.12;	{alpha: 1};	{alpha: 0}; 2"/>
			<bind name="clickSplit"/>
			<bind name="request" value="'right_click'; 'modalPVEOperationInfo'; {operationId: operationEntity.operation.id}"/>
			<bind name="dispatch" value="'left_click'; 'pveOperationChose'; null; false"/>
			<bind name="action" value="'left_click'; isPveBattleTypeSelected ? null : 'setBattleType'; {battleType: BattleTypes.PVE_BATTLE}"/>
			<bind name="action" value="'left_click'; 'PVEScriptsProxy.chooseOperation'; {operationId: operationEntity.operation.id, difficulty: opDifficulty, shouldEnterMM: true}"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="tooltip" value="'PVEOperationTooltip'; {_operationEntityId: operationEntity.id, isOperationCardTooltip: true}"/>
				<style>
					<backgroundSize value="cover"/>
				</style>
				<bind name="style" value="'colorMatrixFilter'; (	pveOperationStatus == 1 ||
												pveOperationStatus == 0)	? '0 -100 0 -15'
																										: '0 0 0 0'"/>
				<bind name="style" value="'backgroundImage'; 'url:../pve/operation_bg/' + operationEntity.operation.map + '.png'"/>
				<block className="shadow_h_zero_edge_fullsize" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<hitTest value="false"/>
					<marginTop value="16px"/>
					<marginLeft value="16px"/>
					<marginRight value="16px"/>
					<width value="100%"/>
				</style>
				<bind name="style" value="'alpha'; (	pveOperationStatus == 1 ||
									pveOperationStatus == 0 ? 0.7 : 0.9)"/>
				<block type="text">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefaultBold23NM"/>
					<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME')"/>
				</block>
				<block type="text">
					<bind name="visible" value="operationIsHard"/>
					<style>
						<marginTop value="8px"/>
						<alpha value="0.75"/>
					</style>
					<styleClass value="$TextDefault19NM"/>
					<bind name="text" value="'IDS_OPERATION_HARD_DIFFICULTY_TITLE'"/>
				</block>
				<block>
					<bind name="visible" value="(	(pveOperationStatus == 1 || 
									pveOperationStatus == 0) ? true : false)"/>
					<style>
						<hitTest value="false"/>
						<width value="100%"/>
						<marginTop value="16px"/>
					</style>
					<block type="text">
						<style>
							<width value="100%"/>
						</style>
						<styleClass value="$TextDefault19NM"/>
						<bind name="text" value="(pveOperationStatus == 1	? (tr('IDS_OPERATION_WILL_BE_AVAILABLE_ON') + ' ' + operationUnlockTime) :
								pveOperationStatus == 0	? tr('IDS_OPERATION_CLOSED_ON_RECONSTRUCTION')
																						: 'smth goes wrong' )"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<bottom value="16px"/>
					<left value="12px"/>
				</style>
				<bind name="instance" value="'OperationRewardsContainerAdapter'; (	pveOperationStatus == 2 || 
																	pveOperationStatus == 3)	? {	_operationId: operationEntity.operation.id,
																																_difficulty: opDifficulty, _smallIcons: true,
																																_noAnimation: true, _rMargin: (8+'px')}
																															: null"/>
			</block>
			<block className="white_panel_gradient" type="native">
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="transition" value="rollOver; 0.1; {alpha: 0}; {alpha: 0.2}; {alpha: 0}"/>
			</block>
			<block className="hint_panel_bold" type="native">
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="transition" value="selected; 0.07; {alpha: 0}; {alpha: 1}; {alpha: 0}"/>
			</block>
		</block>
		<block>
			<bind name="request" value="'click'; 'modalPVEOperationInfo'; {operationId: operationEntity.operation.id}"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_MORE_INFO_ABOUT_PVE_OPERATION_TOOLTIP'}"/>
			<bind name="transition" value="rollOver; 0.1; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<style>
				<position value="absolute"/>
				<bottom value="16px"/>
				<right value="16px"/>
			</style>
			<block className="button_info" type="native"/>
		</block>
	</block>
	<block className="PVEOperationOfTheWeekLabel">
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'activeOperationId';	['pveStateEntity.pveState.evStateUpdated'];	pveStateEntity.pveState.activeOperation"/>
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; activeOperationId"/>
		<bind name="watchDH" value="'operationType';	['operationEntity.operation.evStatusChanged']; operationEntity.operation.type"/>
		<bind name="watchDH" value="'startTime';		['operationEntity.operation.evPeriodsChanged'];	operationEntity.operation.startTime"/>
		<bind name="watchDH" value="'finishTime';	['operationEntity.operation.evPeriodsChanged'];	operationEntity.operation.finishTime"/>
		<bind name="timeFormat" value="startTime; 'dd.MM'; 'startOperationOfTheWeekDate'; true"/>
		<bind name="timeFormat" value="finishTime; 'dd.MM'; 'finishOperationOfTheWeekDate'; true"/>
		<style>
			<alpha value="0.95"/>
		</style>
		<block type="text">
			<bind name="visible" value="(_noDate ? false : true)"/>
			<bind name="rotation" value="-3"/>
			<styleClass value="$TextDefaultBold30NM"/>
			<bind name="text" value="startOperationOfTheWeekDate + '' + finishOperationOfTheWeekDate"/>
		</block>
		<block>
			<style>
				<marginTop value="18px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block className="icon_issued" type="native">
				<style>
					<left value="50%"/>
				</style>
				<bind name="scaleX" value="0.75"/>
				<bind name="scaleY" value="0.8"/>
				<innerBind elementName="item.item" name="text" value="(operationType == 'event') 	? 'IDS_PVE_EVENT_NAME'
																					: toUpperCase(tr('IDS_OPERATION_OF_THE_WEEK_OPERATION_STATUS'))"/>
				<bind name="gotoAndPlay!" value="'issued'"/>
			</block>
		</block>
	</block>
	<block className="PVEOperationBestResultTime">
		<block type="text">
			<styleClass value="$TextDefaultNM"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="((_bestResultsTime == 0) ? tr('IDS_PVE_OPERATION_IS_NOT_DONE')
											: subst('IDS_PVE_OPERATION_BEST_RESULT_DATE', [], {bestDoneDate: _bestResultsTime}))"/>
		</block>
	</block>
	<block className="PVEOperationTooltip">
		<style>
			<width value="400px"/>
			<hitTest value="false"/>
		</style>
		<bind name="var" value="{_isTooltip: true}"/>
		<block>
			<style>
				<marginBottom value="-1px"/>
				<marginTop value="-1px"/>
				<marginLeft value="-1px"/>
				<marginRight value="-1px"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: false}"/>
		</block>
		<block>
			<style>
				<width value="400px"/>
				<height value="130px"/>
			</style>
			<block className="PVEOperationItemSmallNoMargins">
				<bind name="name" value="'small_operation_' + operationEntity.operation.gpName"/>
				<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
				<bind name="dataRefDH" value="'operationEntity'; '$dataRef.ref'"/>
				<bind name="entityDH" value="'operationEntity'; _operationEntityId"/>
				<bind name="watchDH" value="'pveOperationStatus';		['operationEntity.operation.evStatusChanged'];	operationEntity.operation.status"/>
				<bind name="watchDH" value="'operationUnlockTimeStamp';	['operationEntity.operation.evPeriodsChanged'];	operationEntity.operation.unlockTime"/>
				<bind name="timeFormat" value="operationUnlockTimeStamp; 'dd.MM.yyyy'; 'operationUnlockTime'; true"/>
				<bind name="watchDH" value="'operationIsHard'; []; operationEntity.operation.isHard"/>
				<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
				<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
				<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
				<bind name="watch" value="'opDifficulty'; (userPrefs.uiPVEOperationsDifficulty == null) ? 'normal' : userPrefs.uiPVEOperationsDifficulty"/>
				<bind name="watch" value="'difficultiesCollectionPath'; 'byOperation.' + operationEntity.operation.id"/>
				<bind name="collectionDH" value="CC.operationDifficulty; 'operationDifficultiesCollection'; difficultiesCollectionPath"/>
				<bind name="watch" value="'opDifficultyComponent'; opDifficulty == 'normal' ? operationDifficultiesCollection[1] : operationDifficultiesCollection[0]"/>
				<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
				<bind name="watchDH" value="'activeOperationId';	['pveStateEntity.pveState.evStateUpdated'];	pveStateEntity.pveState.activeOperation"/>
				<bind name="watchDH" value="'chosenOperationId';	['pveStateEntity.pveState.evStateUpdated'];	pveStateEntity.pveState.chosenOperation"/>
				<bind name="watchDH" value="'chosenDifficulty';	['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenDifficulty"/>
				<bind name="watch" value="'selected';	((chosenOperationId == operationEntity.operation.id) &amp;&amp;
									(chosenDifficulty == opDifficulty) &amp;&amp;
									isPveBattleTypeSelected &amp;&amp;
									_isTooltip != true)"/>
				<bind name="watchDH" value="'bestResultsTime'; ['opDifficultyComponent.operationDifficulty.evBestResultsChanged']; opDifficultyComponent.operationDifficulty.bestResultsTime"/>
				<bind name="primaryEntityDH" value="'pveBattleTypeEntity'; CC.battleType; BattleTypes.PVE_BATTLE"/>
				<bind name="watchDH" value="'isPveBattleTypeSelected'; ['pveBattleTypeEntity.battleType.evSelectionChanged']; pveBattleTypeEntity.battleType.selected"/>
				<style>
					<width value="400px"/>
					<height value="130px"/>
				</style>
				<bind name="style" value="'hitTest'; (	pveOperationStatus == 2 || 
								pveOperationStatus == 3) &amp;&amp; !(_isTooltip)"/>
				<block>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="400px"/>
						<height value="130px"/>
					</style>
					<bind name="transition" value="selected; 0.1; {width: 400, height: 130}; {width: (400 + 16), height: (130 + 16)}; {width: 400, height: 130}"/>
					<bind name="firstEntityDH" value="'dockDataEntity'; CC.dockDataMarker"/>
					<bind name="watchDH" value="'pveOperationChooserVisible'; ['dockDataEntity.dockData.evOperationChooserChanged']; dockDataEntity.dockData.operationChooserVisible"/>
					<bind name="fade" value="(pveOperationChooserVisible || (_isTooltip == true)); 0; {alpha: 0}; {alpha: 1, top: 0}; {alpha: 0}"/>
					<bind name="appear" value="selected || (_isTooltip == true) ? null : 'hideOperationsOnPveOperationChose'; 0.14; 0.02;	{alpha: 1, top: 0}; {alpha: 0, top: -5}; 3"/>
					<bind name="appear" value="(selected &amp;&amp; (_isTooltip != true)) ? 'hideOperationsOnPveOperationChose' : null; 0.11; 0.12;	{alpha: 1};	{alpha: 0}; 2"/>
					<bind name="clickSplit"/>
					<bind name="request" value="'right_click'; 'modalPVEOperationInfo'; {operationId: operationEntity.operation.id}"/>
					<bind name="dispatch" value="'left_click'; 'pveOperationChose'; null; false"/>
					<bind name="action" value="'left_click'; isPveBattleTypeSelected ? null : 'setBattleType'; {battleType: BattleTypes.PVE_BATTLE}"/>
					<bind name="action" value="'left_click'; 'PVEScriptsProxy.chooseOperation'; {operationId: operationEntity.operation.id, difficulty: opDifficulty, shouldEnterMM: true}"/>
					<block>
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="tooltip" value="'PVEOperationTooltip'; {_operationEntityId: operationEntity.id, isOperationCardTooltip: true}"/>
						<style>
							<backgroundSize value="cover"/>
						</style>
						<bind name="style" value="'colorMatrixFilter'; (	pveOperationStatus == 1 ||
												pveOperationStatus == 0)	? '0 -100 0 -15'
																										: '0 0 0 0'"/>
						<bind name="style" value="'backgroundImage'; 'url:../pve/operation_bg/' + operationEntity.operation.map + '.png'"/>
						<block className="shadow_h_zero_edge_fullsize" type="native">
							<styleClass value="$FullsizeAbsolute"/>
						</block>
					</block>
					<block>
						<style>
							<position value="absolute"/>
							<hitTest value="false"/>
							<marginTop value="16px"/>
							<marginLeft value="16px"/>
							<marginRight value="16px"/>
							<width value="100%"/>
						</style>
						<bind name="style" value="'alpha'; (	pveOperationStatus == 1 ||
									pveOperationStatus == 0 ? 0.7 : 0.9)"/>
						<block type="text">
							<style>
								<width value="100%"/>
							</style>
							<styleClass value="$TextDefaultBold23NM"/>
							<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME')"/>
						</block>
						<block type="text">
							<bind name="visible" value="operationIsHard"/>
							<style>
								<marginTop value="8px"/>
								<alpha value="0.75"/>
							</style>
							<styleClass value="$TextDefault19NM"/>
							<bind name="text" value="'IDS_OPERATION_HARD_DIFFICULTY_TITLE'"/>
						</block>
						<block>
							<bind name="visible" value="(	(pveOperationStatus == 1 || 
									pveOperationStatus == 0) ? true : false)"/>
							<style>
								<hitTest value="false"/>
								<width value="100%"/>
								<marginTop value="16px"/>
							</style>
							<block type="text">
								<style>
									<width value="100%"/>
								</style>
								<styleClass value="$TextDefault19NM"/>
								<bind name="text" value="(pveOperationStatus == 1	? (tr('IDS_OPERATION_WILL_BE_AVAILABLE_ON') + ' ' + operationUnlockTime) :
								pveOperationStatus == 0	? tr('IDS_OPERATION_CLOSED_ON_RECONSTRUCTION')
																						: 'smth goes wrong' )"/>
							</block>
						</block>
					</block>
					<block>
						<style>
							<position value="absolute"/>
							<bottom value="16px"/>
							<left value="12px"/>
						</style>
						<bind name="instance" value="'OperationRewardsContainerAdapter'; (	pveOperationStatus == 2 || 
																	pveOperationStatus == 3)	? {	_operationId: operationEntity.operation.id,
																																_difficulty: opDifficulty, _smallIcons: true,
																																_noAnimation: true, _rMargin: (8+'px')}
																															: null"/>
					</block>
					<block className="white_panel_gradient" type="native">
						<style>
							<hitTest value="false"/>
						</style>
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="transition" value="rollOver; 0.1; {alpha: 0}; {alpha: 0.2}; {alpha: 0}"/>
					</block>
					<block className="hint_panel_bold" type="native">
						<style>
							<hitTest value="false"/>
						</style>
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="transition" value="selected; 0.07; {alpha: 0}; {alpha: 1}; {alpha: 0}"/>
					</block>
				</block>
				<block>
					<bind name="request" value="'click'; 'modalPVEOperationInfo'; {operationId: operationEntity.operation.id}"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_MORE_INFO_ABOUT_PVE_OPERATION_TOOLTIP'}"/>
					<bind name="transition" value="rollOver; 0.1; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
					<style>
						<position value="absolute"/>
						<bottom value="16px"/>
						<right value="16px"/>
					</style>
					<block className="button_info" type="native"/>
				</block>
			</block>
			<block>
				<style>
					<bottom value="0px"/>
					<width value="100%"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="16px"/>
				<marginRight value="16px"/>
				<marginTop value="16px"/>
				<marginBottom value="16px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<alpha value="0.75"/>
					<leading value="-2"/>
				</style>
				<styleClass value="$TextDefault19NM"/>
				<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName)+'_GOAL')"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="16px"/>
				<marginBottom value="12px"/>
				<marginTop value="12px"/>
			</style>
			<block type="text">
				<style>
					<marginBottom value="4"/>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault19NM"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="'IDS_PVE_TECH_CONDITIONS'"/>
			</block>
			<bind name="instance" value="'ShipRestrictions'; {_restrictionsEntityId: operationEntity.id, _withShipTypeCounters: false,
											 _flow: 'htile', _width: '100%'}"/>
		</block>
		<block>
			<bind name="visible" value="(pveOperationStatus == 3)"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<alpha value="0.9"/>
				<hitTest value="false"/>
				<marginTop value="4px"/>
				<marginBottom value="-8px"/>
			</style>
			<bind name="instance" value="'PVEOperationOfTheWeekLabel'; pveOperationStatus == 3 ? {} : null"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<marginLeft value="13px"/>
				<marginTop value="16px"/>
				<marginBottom value="16px"/>
			</style>
			<bind name="repeat" value="[	{_type: 'right', _instructionText: 'IDS_MORE_INFO_ABOUT_PVE_OPERATION_TOOLTIP'},
						{_type: 'left', _instructionText: 'IDS_CHOOSE_PVE_OPERATION_MOUSE_INSTRUCTION'}];
						'MouseInstructionRepeater'; {_maxWidth: 320, _lastIndex: 1}"/>
		</block>
	</block>
	<css name="$TextDefault17NMTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<marginText value="-3px|-4px|-7px|-6px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="ClanMainInset">
		<bind name="name" value="'ClansHomePage'"/>
		<styleClass value="$Fullsize"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'inset'; ['dockEntity.insetComponent.evUpdate']; dockEntity.insetComponent.inset"/>
		<bind name="primaryEntityDH" value="'pageEntity'; CC.insetPage; LobbyConstants.CLAN"/>
		<bind name="watchDH" value="'page'; ['pageEntity.insetPage.evUpdate']; pageEntity.insetPage.page"/>
		<bind name="watchDH" value="'pageData'; ['pageEntity.dataComponent.evDataChanged']; pageEntity.dataComponent.data"/>
		<bind name="changeDispatch" value="pageData; 'evPageDataChanged'"/>
		<bind name="action" value="'addedToStage'; 'openClansWindow'; pageData"/>
		<bind name="action" value="'evPageDataChanged'; 'navigateClansWindow' : ''; { 'urlParams': pageData}"/>
		<bind name="action" value="'removedFromStage'; 'closeClansWindow'; {}"/>
	</block>
	<block className="LeadingClanSquadIcon">
		<style>
			<backgroundSize value="cover"/>
		</style>
		<bind name="style" value="'width'; _isBig ? '30px' : '18px'"/>
		<bind name="style" value="'height'; _isBig ? '30px' : '18px'"/>
		<bind name="style" value="'backgroundImage'; 'url:../service_kit/icons/icon_leading_squad_' + (_isGolden ? 'golden_' : 'white_') + (_isBig ? 'big' : 'small') + '.png'"/>
	</block>
	<block className="ClanBattlePrimeTimeItem">
		<bind name="collectionDH" value="CC.clanBattlePrimeTime; 'primeTimesPerDay'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'primeTimesPerDay'+'ROOT'; 'primeTimesPerDay'; {'filter':entityDay.day.id == $entity.clanBattlePrimeTime.dateId, 'sort':['clanBattlePrimeTime.primeTimeStartTime']}; []"/>
		<bind name="dataRefDH" value="'entityDay'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'isToday'; ['entityDay.day.evUpdate']; entityDay.day.isToday"/>
		<bind name="watch" value="'havePrimeTimes'; primeTimesPerDay.length &gt; 0"/>
		<bind name="appear" value="'addedToStage'; 0.15; 1 + $index * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
		<bind name="appear" value="'startHide'; 0.15; $index * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="150px"/>
				</style>
				<bind name="style" value="'height'; havePrimeTimes ? (primeTimesPerDay.length * 32) + 'px' : '60px'"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="16"/>
					</style>
					<bind name="style" value="'alpha'; isToday ? 1 : 0.4"/>
					<block type="text">
						<styleClass value="$TextDefault19NM"/>
						<style>
							<styleSheet value="h2
							{
								font-family: $WWSDefaultFontBold;
							}"/>
						</style>
						<bind name="text" value="'&lt;body&gt;' + tr(toUpperCase('IDS_' + entityDay.day.weekDayName)) + ' ' + '&lt;h2&gt;' + (entityDay.day.day) + ' ' + (tr('IDS_MONTH_SHORTCUT_' + entityDay.day.month)) + '&lt;/h2&gt;&lt;/body&gt;'"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="!(havePrimeTimes)"/>
				<block type="text">
					<styleClass value="$TextDefaultBold17NM"/>
					<style>
						<width value="250px"/>
						<marginLeft value="275px"/>
						<marginTop value="24px"/>
						<marginBottom value="24px"/>
					</style>
					<bind name="text" value="toUpperCase(tr('IDS_CLAN_BATTLES_HAS_NO_PRIMETIME'))"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="8px"/>
				</style>
				<bind name="repeat" value="primeTimesPerDay; 'DailyPrimeTimesStr'; 	{	_day: entityDay.day.weekDay,
																		_currentServerDay: seasonEntity.clanBattleSeason.currentServerDay,
																		_selectedPrimeTimeId: _selectedPrimeTimeId,
																		_hasClanPermissions: _hasClanPermissions,
																		_beforeBattle: _beforeBattle,
																	}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<marginRight value="8px"/>
					<marginTop value="-2px"/>
					<alpha value="1.5"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<marginRight value="8px"/>
					<bottom value="-1px"/>
					<alpha value="1.5"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="DailyPrimeTimesStr">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="firstEntityDH" value="'clientBuildInfoEntity'; CC.clientBuildInfo"/>
		<bind name="dataRefDH" value="'entityPrimeTime'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'primeTimeStartTime'; 		['entityPrimeTime.clanBattlePrimeTime.evChanged']; entityPrimeTime.clanBattlePrimeTime.primeTimeStartTime"/>
		<bind name="watchDH" value="'primeTimeFinishTime'; 		['entityPrimeTime.clanBattlePrimeTime.evChanged']; entityPrimeTime.clanBattlePrimeTime.primeTimeFinishTime"/>
		<bind name="watchDH" value="'currentRealmDayType'; 		['entityPrimeTime.clanBattlePrimeTime.evChanged']; entityPrimeTime.clanBattlePrimeTime.currentRealmDayType"/>
		<bind name="watchDH" value="'primeTimeRealm'; 			['entityPrimeTime.clanBattlePrimeTime.evChanged']; entityPrimeTime.clanBattlePrimeTime.realm"/>
		<bind name="watchDH" value="'primeTimeDay'; 				['entityPrimeTime.clanBattlePrimeTime.evChanged']; entityPrimeTime.clanBattlePrimeTime.day"/>
		<bind name="watchDH" value="'primeTimeIsChosen'; 		['entityPrimeTime.clanBattlePrimeTime.evChanged']; entityPrimeTime.clanBattlePrimeTime.isChosen"/>
		<bind name="watchDH" value="'primeTimeIsFixed'; 			['entityPrimeTime.clanBattlePrimeTime.evChanged']; entityPrimeTime.clanBattlePrimeTime.isFixed"/>
		<bind name="watchDH" value="'daylightshift'; 			['entityPrimeTime.clanBattlePrimeTime.evChanged']; entityPrimeTime.clanBattlePrimeTime.daylightshift"/>
		<bind name="timeFormat" value="primeTimeStartTime - daylightshift; 'hh:mm'; 'localStartTime'; true"/>
		<bind name="timeFormat" value="primeTimeFinishTime - daylightshift; 'hh:mm'; 'localFinishTime'; true"/>
		<bind name="firstEntityDH" value="'primeTimeEntityChosen'; CC.clanBattlePrimeTime; 'chosen'"/>
		<bind name="firstEntityDH" value="'primeTimeEntityFixed'; CC.clanBattlePrimeTime; 'fixed'"/>
		<bind name="watch" value="'textAlpha'; 	isCurrentServerDay 	? isCurrentPrimeTimeFixed 	? 1 : (primeTimeEntityFixed != null) ? 0.3 : 1 :
								isUpcoming 			? 0.6 : 0.3"/>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'isCurrentServerDay'; currentRealmDayType != ''"/>
		<bind name="watch" value="'isUpcoming';  serverTime &lt; primeTimeStartTime"/>
		<bind name="watch" value="'isActive'; (serverTime &gt; primeTimeStartTime) &amp;&amp; (serverTime &lt; primeTimeFinishTime)"/>
		<bind name="watch" value="'beforeBattleFlag'; !(isActive) &amp;&amp; _beforeBattle"/>
		<bind name="watch" value="'canBeChosen'; !isCurrentPrimeTimeChosen &amp;&amp; !isCurrentPrimeTimeFixed &amp;&amp; (isUpcoming || isCurrentServerDay) &amp;&amp; !(beforeBattleFlag)"/>
		<bind name="watch" value="'isCurrentPrimeTimeChosen'; (primeTimeEntityChosen != null) &amp;&amp; (primeTimeEntityChosen.clanBattlePrimeTime.realm == primeTimeRealm)"/>
		<bind name="watch" value="'isCurrentPrimeTimeFixed'; (primeTimeEntityFixed != null) &amp;&amp; (primeTimeEntityFixed.clanBattlePrimeTime.realm == primeTimeRealm) &amp;&amp; isCurrentServerDay"/>
		<bind name="dispatch" value="'click'; (_hasClanPermissions &amp;&amp; canBeChosen) ? 'evSelectPrimeTimeChanged' : ''; {selectedPrimeTimeId: entityPrimeTime.clanBattlePrimeTime.id}"/>
		<style>
			<width value="100%"/>
			<height value="32px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="style" value="'hitTest'; (textAlpha &gt; 0.3)"/>
			<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 	isCurrentPrimeTimeChosen 	? 'IDS_PRIME_TIME_FIXED_DESCR':
														isCurrentPrimeTimeFixed		? 'IDS_CLAN_BATTLES_ACTIVE_PRIME_TIME_FIXED'
																					: 'IDS_CLAN_BATTLES_SCHEDULE_SELECT_PRIME_TOOLTIP'}; 0"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$Fullsize"/>
				<params>
					<param name="doubleClickEnabled" value="true"/>
				</params>
				<bind name="name" value="'primeRimeItem_' + $index"/>
				<bind name="selected" value="entityPrimeTime.clanBattlePrimeTime.id == _selectedPrimeTimeId"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="(toUpperCase(clientBuildInfoEntity.clientBuildInfo.realmName) != toUpperCase(primeTimeRealm)) &amp;&amp; (currentRealmDayType != '')"/>
			<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_PRIME_TIME_HIGH_PING_WARNING' }"/>
			<style>
				<position value="absolute"/>
				<right value="0px"/>
				<marginTop value="7px"/>
				<width value="35px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="scaleX" value="0.8"/>
			<bind name="scaleY" value="0.8"/>
			<bind name="ubScaleX" value="0.8"/>
			<bind name="ubScaleY" value="0.8"/>
			<block className="icon_warning_orange_big" type="native"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="100%"/>
				<hitTest value="false"/>
			</style>
			<block className="icon_check" type="native">
				<bind name="visible" value="isCurrentPrimeTimeFixed"/>
				<style>
					<position value="absolute"/>
					<marginTop value="-1px"/>
					<marginLeft value="7px"/>
				</style>
			</block>
			<block className="icon_task_status" type="native">
				<bind name="visible" value="isCurrentPrimeTimeChosen &amp;&amp; (!(primeTimeEntityFixed) || !(isCurrentServerDay)) &amp;&amp; (isUpcoming || isCurrentServerDay)"/>
				<bind name="style" value="'alpha'; isCurrentServerDay ? 1 : 0.6"/>
				<style>
					<position value="absolute"/>
					<marginLeft value="8px"/>
				</style>
				<bind name="gotoAndStop!" value="'success'"/>
			</block>
			<block type="text">
				<style>
					<width value="110px"/>
					<marginLeft value="28px"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="style" value="'alpha'; textAlpha"/>
				<bind name="class" value="isCurrentPrimeTimeFixed ? '$FontColorGolden' : '$FontColorWhite'"/>
				<bind name="text" value="(localStartTime + '  ' + localFinishTime) + ' / '"/>
			</block>
			<block type="text">
				<style>
					<width value="150px"/>
				</style>
				<styleClass value="$TextDefaultBold17NM"/>
				<bind name="style" value="'alpha'; textAlpha"/>
				<bind name="class" value="isCurrentPrimeTimeFixed ? '$FontColorGolden' : '$FontColorWhite'"/>
				<bind name="text" value="primeTimeRealm"/>
			</block>
			<block>
				<style>
					<width value="270px"/>
				</style>
				<bind name="style" value="'alpha'; textAlpha"/>
				<bind name="instance" value="'PrimeTimeTillTimeInfo'; { _entityId: entityPrimeTime.id, _showNearest: !(isCurrentServerDay) }"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<top value="-2px"/>
				<paddingRight value="2px"/>
				<paddingLeft value="2px"/>
				<alpha value="0.5"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="-1px"/>
				<paddingRight value="2px"/>
				<paddingLeft value="2px"/>
				<alpha value="0.5"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="100%"/>
				<position value="absolute"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="100%"/>
				<position value="absolute"/>
				<right value="0px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<alpha value="0.8"/>
			</style>
			<bind name="visible" value="isIn(currentRealmDayType, ['one', 'first'])"/>
			<bind name="instance" value="'TableDivider'; { _height: '1px' }"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<alpha value="0.8"/>
				<bottom value="0px"/>
			</style>
			<bind name="visible" value="isIn(currentRealmDayType, ['last', 'one'])"/>
			<bind name="instance" value="'TableDivider'; { _height: '1px' }"/>
		</block>
		<block>
			<style>
				<height value="100%"/>
				<position value="absolute"/>
				<alpha value="0.8"/>
			</style>
			<bind name="visible" value="isIn(currentRealmDayType, ['last', 'one', 'middle', 'first'])"/>
			<bind name="instance" value="'TableDivider'; { _width: '1px' }"/>
		</block>
		<block>
			<style>
				<height value="100%"/>
				<position value="absolute"/>
				<alpha value="0.8"/>
				<right value="0px"/>
			</style>
			<bind name="visible" value="isIn(currentRealmDayType, ['last', 'one', 'middle', 'first'])"/>
			<bind name="instance" value="'TableDivider'; { _width: '1px' }"/>
		</block>
	</block>
	<block className="TableDivider">
		<bind name="style" value="'width'; 	_width  ? _width  : '100%'"/>
		<bind name="style" value="'height'; 	_height ? _height : '100%'"/>
		<style>
			<backgroundColor value="0xffffffff"/>
		</style>
	</block>
	<block className="PrimeTimeTillTimeInfo">
		<bind name="entityDH" value="'_entityPrimeTime'; _entityId"/>
		<bind name="watchDH" value="'primeTimeStartTime'; 	['_entityPrimeTime.clanBattlePrimeTime.evChanged']; _entityPrimeTime.clanBattlePrimeTime.primeTimeStartTime"/>
		<bind name="watchDH" value="'primeTimeFinishTime'; 	['_entityPrimeTime.clanBattlePrimeTime.evChanged']; _entityPrimeTime.clanBattlePrimeTime.primeTimeFinishTime"/>
		<bind name="watchDH" value="'daylightshift'; 		['_entityPrimeTime.clanBattlePrimeTime.evChanged']; _entityPrimeTime.clanBattlePrimeTime.daylightshift"/>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'timeTillStart'; primeTimeStartTime - serverTime - daylightshift"/>
		<bind name="watch" value="'timeTillEnd'; primeTimeFinishTime - serverTime - daylightshift"/>
		<bind name="countdown" value="primeTimeStartTime - daylightshift ; 'formattedPrimeTimeTillStart'; 'HIGHEST,WITH_DAYS'"/>
		<bind name="countdown" value="primeTimeFinishTime - daylightshift; 'formattedPrimeTimeTillEnd'; 'HIGHEST,WITH_DAYS'"/>
		<bind name="watch" value="'isCurrent'; ((primeTimeStartTime - daylightshift)  &lt;= serverTime) &amp;&amp; (serverTime &lt;= (primeTimeFinishTime - daylightshift))"/>
		<bind name="watch" value="'isUpcoming';  serverTime &lt; (primeTimeStartTime - daylightshift)"/>
		<bind name="watch" value="'textClass'; _textClass ? _textClass : '$TextDefault17NM'"/>
		<style>
			<width value="100%f"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="100%f"/>
			</style>
			<bind name="fade" value="(isUpcoming &amp;&amp; !(_showNearest)) || (isUpcoming &amp;&amp; timeTillStart &lt; 900); 0.15; {alpha: 0, top: 20}; {alpha: 1, top: 0}"/>
			<block type="text">
				<bind name="class" value="textClass"/>
				<bind name="text" value="'IDS_PRIME_TIME_TILL_START'"/>
			</block>
			<block type="text">
				<bind name="class" value="textClass"/>
				<style>
					<marginLeft value="8px"/>
					<width value="100%f"/>
					<multiline value="false"/>
				</style>
				<bind name="text" value="formattedPrimeTimeTillStart"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%f"/>
			</style>
			<bind name="fade" value="isCurrent; 0.15; {alpha: 0, top: 20}; {alpha: 1, top: 0}"/>
			<block type="text">
				<bind name="class" value="textClass"/>
				<bind name="text" value="'IDS_PRIME_TIME_TILL_END'"/>
			</block>
			<block type="text">
				<style>
					<marginLeft value="8px"/>
					<width value="100%f"/>
					<multiline value="false"/>
				</style>
				<bind name="class" value="textClass"/>
				<bind name="class" value="(timeTillEnd &lt; 900) ? '$FontColorUnready' : '$None'"/>
				<bind name="text" value="formattedPrimeTimeTillEnd"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%f"/>
			</style>
			<bind name="fade" value="!(isCurrent) &amp;&amp; !(isUpcoming); 0.15; {alpha: 0, top: 20}; {alpha: 1, top: 0}"/>
			<block type="text">
				<style>
					<width value="100%f"/>
					<multiline value="false"/>
				</style>
				<bind name="class" value="textClass"/>
				<bind name="text" value="'IDS_PRIME_TIME_IS_OVER'"/>
			</block>
		</block>
	</block>
	<block className="ClanBattlesPrimeTimeSelectionNotes">
		<bind name="firstEntityDH" value="'clanCurrentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="watchDH" value="'cbs_startTime'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.startTime"/>
		<bind name="watchDH" value="'cbs_shipLevelMin'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.shipLevelMin"/>
		<bind name="watchDH" value="'cbs_shipLevelMax'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.shipLevelMax"/>
		<bind name="watchDH" value="'cbs_isBrawl'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.isBrawl"/>
		<bind name="timeFormat" value="cbs_startTime; 'hh:mm'; 'localStartTime'; true"/>
		<bind name="timeFormat" value="cbs_startTime; 'hh:mm'; 'startTime'; false"/>
		<bind name="watch" value="'textClass'; _useWhiteColor ? '$TextDefault17NM' : '$TextDefault17NMTech'"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<leading value="-2"/>
			</style>
			<bind name="instance" value="'TextWithAccent'; {	_text: tr('IDS_TIMEZONE_IS_LOCAL') + ' ', 
											_accentText: startTime_TimeZoneName + (localStartTime_TimeZone == '+0' ? '' : (' ' + localStartTime_TimeZone))
										}"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<leading value="-2"/>
				<marginTop value="16px"/>
			</style>
			<styleClass value="$TextDefault17NM"/>
			<bind name="watch" value="'battleType'; cbs_isBrawl ? 'BRAWL' : 'BATTLES'"/>
			<bind name="watch" value="'shipsRestrictionString';		cbs_shipLevelMin == cbs_shipLevelMax			?	'IDS_CLAN_' + battleType + '_ALLOWED_SHIPS_SINGLE' :
													cbs_shipLevelMin &lt;= 1 &amp;&amp; cbs_shipLevelMax &lt; 10	?	'IDS_CLAN_' + battleType + '_ALLOWED_SHIPS_TO' :
													cbs_shipLevelMin &gt; 1 &amp;&amp; cbs_shipLevelMax &gt;= 10	?	'IDS_CLAN_' + battleType + '_ALLOWED_SHIPS_FROM' :
																										'IDS_CLAN_' + battleType + '_ALLOWED_SHIPS_FROM_TO'"/>
			<bind name="text" value="subst(shipsRestrictionString, [], {levelMin: RDigits.rdigits[cbs_shipLevelMin], levelMax: RDigits.rdigits[cbs_shipLevelMax]})"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<alpha value="0.5"/>
				<marginTop value="16px"/>
			</style>
			<block>
				<bind name="visible" value="cbs_isBrawl != true"/>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefault17NM"/>
					<style>
						<width value="100%"/>
						<leading value="-2"/>
						<marginTop value="16px"/>
					</style>
					<bind name="text" value="'IDS_CLAN_BATTLES_SCHEDULE_NOTES_1'"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault17NM"/>
					<style>
						<width value="100%"/>
						<leading value="-2"/>
						<marginTop value="16px"/>
					</style>
					<bind name="text" value="'IDS_CLAN_BATTLES_SCHEDULE_NOTES_2'"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault17NM"/>
					<style>
						<width value="100%"/>
						<leading value="-2"/>
						<marginTop value="16px"/>
					</style>
					<bind name="text" value="'IDS_CLAN_BATTLES_SCHEDULE_NOTES_3'"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="cbs_isBrawl == true"/>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefault17NM"/>
					<style>
						<width value="100%"/>
						<leading value="-2"/>
					</style>
					<bind name="text" value="'IDS_CLAN_BATTLES_SCHEDULE_NOTES_2'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="TextWithAccent">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
				<leading value="-3"/>
			</style>
			<bind name="class" value="_textClass ? _textClass : '$TextDefault17NM'"/>
			<style>
				<styleSheet value="h2
				{
					font-family: $WWSDefaultFontBold;
				}"/>
			</style>
			<bind name="text" value="'&lt;body&gt;' + _text + '&lt;h2&gt;' + _accentText + '&lt;/h2&gt;&lt;/body&gt;'"/>
		</block>
	</block>
	<block className="PrimeTimeStereotype">
		<bind name="entityDH" value="'primeTimeEntity'; _entityId"/>
		<bind name="watchDH" value="'primeTimeRealm'; 		['primeTimeEntity.clanBattlePrimeTime.evChanged']; primeTimeEntity.clanBattlePrimeTime.realm"/>
		<bind name="watchDH" value="'primeTimeStartTime'; 	['primeTimeEntity.clanBattlePrimeTime.evChanged']; primeTimeEntity.clanBattlePrimeTime.primeTimeStartTime"/>
		<bind name="watchDH" value="'primeTimeFinishTime'; 	['primeTimeEntity.clanBattlePrimeTime.evChanged']; primeTimeEntity.clanBattlePrimeTime.primeTimeFinishTime"/>
		<bind name="watchDH" value="'primeTimeIsChosen'; 	['primeTimeEntity.clanBattlePrimeTime.evChanged']; primeTimeEntity.clanBattlePrimeTime.isChosen"/>
		<bind name="watchDH" value="'primeTimeIsFixed'; 		['primeTimeEntity.clanBattlePrimeTime.evChanged']; primeTimeEntity.clanBattlePrimeTime.isFixed"/>
		<bind name="watchDH" value="'daylightshift'; 		['primeTimeEntity.clanBattlePrimeTime.evChanged']; primeTimeEntity.clanBattlePrimeTime.daylightshift"/>
		<bind name="watch" value="'textColorClass'; primeTimeIsFixed ? '$FontColorGolden' : _textColor"/>
		<bind name="timeFormat" value="primeTimeFinishTime - daylightshift; 'hh:mm'; 'localFinishTime'; true"/>
		<bind name="timeFormat" value="primeTimeStartTime - daylightshift; 'hh:mm'; 'localStartTime'; true"/>
		<style>
			<width value="100%f"/>
		</style>
		<block>
			<style>
				<width value="100%f"/>
			</style>
			<block type="text">
				<style>
					<multiline value="false"/>
				</style>
				<styleClass value="$TextDefaultNM"/>
				<bind name="class" value="_isBig ? '$FontSizeLarge' : '$None'"/>
				<bind name="class" value="_isBold ? '$Bold' : '$None'"/>
				<bind name="class" value="textColorClass"/>
				<bind name="text" value="localStartTime + '' + localFinishTime + ' / ' + primeTimeRealm"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ClanBattlePrimeTimesTableHeader">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<style>
				<width value="155px"/>
				<marginLeft value="16px"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="'IDS_CLAN_BATTLES_SCHEDULE_DAY'"/>
		</block>
		<block type="text">
			<style>
				<width value="250px"/>
				<marginLeft value="16"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="'IDS_CLAN_BATTLES_SCHEDULE_HEADER'"/>
		</block>
		<block type="text">
			<style>
				<width value="275px"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="'IDS_PRIME_TIME_STATUS'"/>
		</block>
	</block>
	<css name="$ContextGuidingTipTextMargins">
		<width value="100%"/>
		<marginTop value="16"/>
		<marginLeft value="16"/>
		<marginBottom value="12"/>
		<marginRight value="16"/>
	</css>
	<block className="ContextGuidingTipPointerAnimation">
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="colorTransform" value=" {	redMultiplier: 0,
								greenMultiplier: 0,
								blueMultiplier: 0,
								alphaMultiplier: 0.5,
								redOffset: 255,
								greenOffset: 204,
								blueOffset: 102,
								alphaOffset: 0
							}"/>
		<style>
			<hitTest value="false"/>
		</style>
		<block className="contextGuidingTipAnimation" type="native"/>
	</block>
	<block className="ContextGuidingTipPointerPanel_up">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="context_guiding_tip_line_up" type="native">
				<style>
					<width value="50%"/>
					<marginLeft value="1px"/>
				</style>
			</block>
			<block>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginTop value="-7px"/>
						<alpha value="3.5"/>
						<marginLeft value="2px"/>
						<marginRight value="2px"/>
					</style>
					<block className="BlurMapCustomOutbound">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
						<style>
							<position value="absolute"/>
							<width value="100%"/>
							<height value="100%"/>
							<hitTest value="false"/>
						</style>
						<bind name="visible" value="optionData.blurEnabled"/>
						<block className="mc_blurmap5_feather" type="native">
							<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
							<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
							<style>
								<width value="110%"/>
								<height value="110%"/>
								<left value="-5%"/>
								<top value="-5%"/>
							</style>
							<bind name="blurMap" value="0"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<marginTop value="-19px"/>
						<marginLeft value="11px"/>
					</style>
					<block className="ContextGuidingTipPointerAnimation">
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="colorTransform" value=" {	redMultiplier: 0,
								greenMultiplier: 0,
								blueMultiplier: 0,
								alphaMultiplier: 0.5,
								redOffset: 255,
								greenOffset: 204,
								blueOffset: 102,
								alphaOffset: 0
							}"/>
						<style>
							<hitTest value="false"/>
						</style>
						<block className="contextGuidingTipAnimation" type="native"/>
					</block>
				</block>
				<block className="context_guiding_tip_pointer_up" type="native">
					<style>
						<top value="-10px"/>
					</style>
				</block>
			</block>
			<block className="context_guiding_tip_line_up" type="native">
				<style>
					<width value="50%"/>
					<marginRight value="1px"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="context_guiding_tip_panel_up" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
	</block>
	<block className="ContextGuidingTipPointerPanel_down">
		<styleClass value="$FullsizeAbsolute"/>
		<block className="context_guiding_tip_panel_down" type="native">
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<marginTop value="-2px"/>
			</style>
			<block className="context_guiding_tip_line_down" type="native">
				<style>
					<width value="50%"/>
					<marginLeft value="1px"/>
				</style>
			</block>
			<block>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginTop value="0px"/>
						<alpha value="3.5"/>
						<marginLeft value="2px"/>
						<marginRight value="2px"/>
					</style>
					<block className="BlurMapCustomOutbound">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
						<style>
							<position value="absolute"/>
							<width value="100%"/>
							<height value="100%"/>
							<hitTest value="false"/>
						</style>
						<bind name="visible" value="optionData.blurEnabled"/>
						<block className="mc_blurmap5_feather" type="native">
							<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
							<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
							<style>
								<width value="110%"/>
								<height value="110%"/>
								<left value="-5%"/>
								<top value="-5%"/>
							</style>
							<bind name="blurMap" value="0"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<marginTop value="22px"/>
						<marginLeft value="11px"/>
					</style>
					<block className="ContextGuidingTipPointerAnimation">
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="colorTransform" value=" {	redMultiplier: 0,
								greenMultiplier: 0,
								blueMultiplier: 0,
								alphaMultiplier: 0.5,
								redOffset: 255,
								greenOffset: 204,
								blueOffset: 102,
								alphaOffset: 0
							}"/>
						<style>
							<hitTest value="false"/>
						</style>
						<block className="contextGuidingTipAnimation" type="native"/>
					</block>
				</block>
				<block className="context_guiding_tip_pointer_down" type="native"/>
			</block>
			<block className="context_guiding_tip_line_down" type="native">
				<style>
					<width value="50%"/>
					<marginRight value="1px"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ContextGuidingTipPointerPanel_right">
		<styleClass value="$FullsizeAbsolute"/>
		<block className="context_guiding_tip_panel_right" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="context_guiding_tip_line_right" type="native">
				<style>
					<height value="50%"/>
					<marginTop value="2px"/>
					<right value="0px"/>
				</style>
			</block>
			<block>
				<style>
					<right value="-10px"/>
				</style>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginRight value="3px"/>
						<alpha value="3.5"/>
						<marginTop value="2px"/>
						<marginBottom value="2px"/>
					</style>
					<block className="BlurMapCustomOutbound">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
						<style>
							<position value="absolute"/>
							<width value="100%"/>
							<height value="100%"/>
							<hitTest value="false"/>
						</style>
						<bind name="visible" value="optionData.blurEnabled"/>
						<block className="mc_blurmap5_feather" type="native">
							<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
							<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
							<style>
								<width value="110%"/>
								<height value="110%"/>
								<left value="-5%"/>
								<top value="-5%"/>
							</style>
							<bind name="blurMap" value="0"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<marginTop value="11px"/>
						<marginLeft value="22px"/>
					</style>
					<block className="ContextGuidingTipPointerAnimation">
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="colorTransform" value=" {	redMultiplier: 0,
								greenMultiplier: 0,
								blueMultiplier: 0,
								alphaMultiplier: 0.5,
								redOffset: 255,
								greenOffset: 204,
								blueOffset: 102,
								alphaOffset: 0
							}"/>
						<style>
							<hitTest value="false"/>
						</style>
						<block className="contextGuidingTipAnimation" type="native"/>
					</block>
				</block>
				<block className="context_guiding_tip_pointer_right" type="native"/>
			</block>
			<block className="context_guiding_tip_line_right" type="native">
				<style>
					<height value="50%"/>
					<marginBottom value="2px"/>
					<right value="0px"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ContextGuidingTipPointerPanel_left">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="context_guiding_tip_line_left" type="native">
				<style>
					<height value="50%"/>
					<marginTop value="2px"/>
				</style>
			</block>
			<block>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginLeft value="-7px"/>
						<alpha value="3.5"/>
						<marginTop value="2px"/>
						<marginBottom value="2px"/>
					</style>
					<block className="BlurMapCustomOutbound">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
						<style>
							<position value="absolute"/>
							<width value="100%"/>
							<height value="100%"/>
							<hitTest value="false"/>
						</style>
						<bind name="visible" value="optionData.blurEnabled"/>
						<block className="mc_blurmap5_feather" type="native">
							<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
							<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
							<style>
								<width value="110%"/>
								<height value="110%"/>
								<left value="-5%"/>
								<top value="-5%"/>
							</style>
							<bind name="blurMap" value="0"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<marginTop value="11px"/>
						<marginLeft value="-21px"/>
					</style>
					<block className="ContextGuidingTipPointerAnimation">
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="colorTransform" value=" {	redMultiplier: 0,
								greenMultiplier: 0,
								blueMultiplier: 0,
								alphaMultiplier: 0.5,
								redOffset: 255,
								greenOffset: 204,
								blueOffset: 102,
								alphaOffset: 0
							}"/>
						<style>
							<hitTest value="false"/>
						</style>
						<block className="contextGuidingTipAnimation" type="native"/>
					</block>
				</block>
				<block className="context_guiding_tip_pointer_left" type="native">
					<style>
						<left value="-10px"/>
					</style>
				</block>
			</block>
			<block className="context_guiding_tip_line_left" type="native">
				<style>
					<height value="50%"/>
					<marginBottom value="1px"/>
				</style>
			</block>
		</block>
		<block className="context_guiding_tip_panel_left" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
	</block>
	<block className="ContextGuidingTip">
		<bind name="var" value="{inPort: true}"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="var" value="{invisible: false}"/>
		<bind name="visible" value="!invisible"/>
		<bind name="catch" value="'evContextGuidingTipHide'; {invisible: true}"/>
		<bind name="catch" value="'evContextGuidingTipUnHide'; {invisible: false}"/>
		<style>
			<position value="absolute"/>
			<width value="340px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="mc_blurmap5" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="blurMap" value="0"/>
		</block>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="child" value="_direction ? _direction : 'no_item'; {}; {
																up: 	'ContextGuidingTipPointerPanel_up',
																down: 	'ContextGuidingTipPointerPanel_down',
																left: 	'ContextGuidingTipPointerPanel_left',
																right: 	'ContextGuidingTipPointerPanel_right',
																no_item	:'EmptyItem'}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="_notification_desc != null &amp;&amp; _notification_header != null"/>
			<block className="button_close" type="native">
				<style>
					<top value="16"/>
					<right value="16"/>
					<marginTop value="2px"/>
					<position value="absolute"/>
					<alpha value="0.9"/>
				</style>
				<bind name="dispatch" value="'click'; 'ContextGuidingTipClose'"/>
				<bind name="action" value="'click'; 'buttonCloseClicked'; {notification_id:_notification_id}"/>
			</block>
			<block>
				<styleClass value="$ContextGuidingTipTextMargins"/>
				<block type="text">
					<styleClass value="$TextDefaultBold19NM"/>
					<styleClass value="$FontColorGolden"/>
					<style>
						<alpha value="0.9"/>
						<width value="100%"/>
						<marginRight value="16"/>
					</style>
					<bind name="text" value="(tr(_notification_header))"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<marginLeft value="2px"/>
					<marginRight value="2px"/>
					<marginBottom value="3px"/>
				</style>
			</block>
			<block>
				<styleClass value="$ContextGuidingTipTextMargins"/>
				<block type="text">
					<styleClass value="$TextDefault17NM"/>
					<style>
						<alpha value="0.7"/>
						<width value="100%"/>
						<marginBottom value="8"/>
					</style>
					<bind name="text" value="_notification_desc == null ? (tr(_notification_header)) : (tr(_notification_desc))"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ContextGuidingTipHub">
		<bind name="var" value="{reasonOnStage: _customOnStageEvent ? false : true, dhNotificationEnabled: false}"/>
		<bind name="catch" value="'addedToStage'; 		!_customOnStageEvent ? {reasonOnStage: true}  : {}"/>
		<bind name="catch" value="'removedFromStage'; 	!_customOnStageEvent ? {reasonOnStage: false} : {}"/>
		<bind name="catch" value="'ContextGuidingReasonOpen'; {reasonOnStage: true}"/>
		<bind name="catch" value="'ContextGuidingReasonClose'; {reasonOnStage: false}"/>
		<bind name="var" value="{coachScreenActive: false}"/>
		<bind name="collectionDH" value="CC.coach; 'coachCollection'"/>
		<bind name="entityDH" value="'coachEntity'; coachCollection[0].id"/>
		<bind name="watchDH" value="'coachScreenActive'; ['coachEntity.coach.evShow']; coachEntity.coach.show"/>
		<bind name="catch" value="'evHideCoachScreen'; {coachScreenActive: false}"/>
		<bind name="firstEntityDH" value="'dockStateEntity'; CC.dockState"/>
		<bind name="watchDH" value="'dockStateName'; ['dockStateEntity.dockState.evUpdate']; dockStateEntity.dockState.stateName"/>
		<bind name="primaryEntityDH" value="'notificationEntity'; CC.contextGuidingTip; _tooltipID"/>
		<bind name="watch" value="'notificationEnabled'; dhNotificationEnabled &amp;&amp; reasonOnStage &amp;&amp; _extraCondition &amp;&amp; dockStateName == 'dock' &amp;&amp; !coachScreenActive"/>
		<bind name="changeDispatch" value="notificationEnabled; notificationEnabled ? 'ContextGuidingTipOpen' : 'ContextGuidingTipClose'; {}; SC.Common.UBSCOPE_EVENT_DIRECTIONS.NONE"/>
		<bind name="watchDH" value="'dhNotificationEnabled'; ['notificationEntity.contextGuidingTip.evActiveChanged'] ; notificationEntity.contextGuidingTip.active == true ? true : false "/>
		<bind name="action" value="'ContextGuidingTipOpen'; 		'ContextGuidingTipOpen';	 							{ notification_id:_tooltipID }"/>
		<bind name="action" value="'ContextGuidingTipClose'; 	'ContextGuidingTipClose';							 	{ notification_id:_tooltipID }"/>
		<bind name="action" value="'ContextGuidingTipComplete';	'ContextGuidingTipComplete'; 							{ notification_id:_tooltipID }"/>
		<bind name="action" value="'removedFromStage'; 			!_customOnStageEvent ? 'ContextGuidingTipClose' : '';	{ notification_id:_tooltipID }"/>
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="popupNoCache" value="'ContextGuidingTip';
								{
									_notification_id:		_tooltipID,
									_notification_header:	notificationEntity.contextGuidingTip.header,
									_notification_desc:		notificationEntity.contextGuidingTip.desc,
									_direction:				_tipPositioning == 'top'	?	'down' :
															_tipPositioning == 'bottom'	?	'up' :
															_tipPositioning == 'left'	?	'right'
																						:	'left'
								};

								1;
								{
									type: 'lesta.unbound.bindings.popup.UbNativeReasonPopupSpacingComponent',
									params:
									{
										directionsPriority: _keepOnNotFit ? [_tipPositioning] : [_tipPositioning, 'empty'],
										reasonOffsetTop:	_offset,
										reasonOffsetBottom: _offset,
										reasonOffsetRight:	_offset,
										reasonOffsetLeft:	_offset,

										screenOffsetTop:	_tipPositioning == 'bottom'	? _screenOffset : 0,
										screenOffsetBottom: _tipPositioning == 'top'	? _screenOffset : 0,
										screenOffsetRight:	_tipPositioning == 'left'	? _screenOffset : 0,
										screenOffsetLeft:	_tipPositioning == 'right'	? _screenOffset : 0
									}
								};
								{
									reason:
									{



										click:					{ 	action: _hideOnReasonClick ? 'hide' : 'none', 
																	params: { duration:0.1, startProps: { alpha:1, x:0, y:0 }, finishProps: { alpha:0, x:0, y: -5 }}
																}
									},

									reasonScope:
									{
										ContextGuidingTipOpen: 		{ 	action: 'show', 
																		params: { duration:0.3, startProps: { alpha:0, x:0, y:10 }, finishProps: { alpha:1, x:0, y: 0 }, delay: _onShowDelay ? _onShowDelay : 0.5}},

										ContextGuidingTipClose: 	{ 	action: 'hide',
																		params: { duration:0.0, startProps: { alpha:1, x:0, y:0 }, finishProps: { alpha:0, x:0, y: -5 }}},

										ContextGuidingTipComplete: 	{ 	action: 'hide',
																		params: { duration:0.0, startProps: { alpha:1, x:0, y:0 }, finishProps: { alpha:0, x:0, y: -5 }}}

									}
								}
	"/>
	</block>
	<block className="BattleChooserContextGuidingTip">
		<bind name="var" value="{randomFightCGT : SC.Context_guiding_tip.TIP_TYPES.RANDOM_FIGHT_BTN}"/>
		<bind name="firstEntityDH" value="'dockDataEntity'; CC.dockData"/>
		<bind name="var" value="{wasBattleChooserOpened : false}"/>
		<bind name="watchDH" value="'wasBattleChooserOpened'; ['dockDataEntity.dockData.evBattleChooserChanged'] ; dockDataEntity.dockData.battleChooserVisible || wasBattleChooserOpened ? true : false"/>
		<bind name="watchDH" value="'battleChooserVisible'; ['dockDataEntity.dockData.evBattleChooserChanged'] ; dockDataEntity.dockData.battleChooserVisible"/>
		<bind name="changeDispatch" value="wasBattleChooserOpened == battleChooserVisible; wasBattleChooserOpened ? 'ContextGuidingTipComplete' : ''; {_eventTooltipID: randomFightCGT}; SC.Common.UBSCOPE_EVENT_DIRECTIONS.DOWN"/>
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="instance" value="'ContextGuidingTipHub'; battleChooserVisible ? {
																	_tooltipID: randomFightCGT,
																	_tipPositioning: 'bottom', 
																	_extraCondition: true, 
																	_offset: -3, 
																	_screenOffset : 0,
																	_customOnStageEvent : false
																	}
																: null
	"/>
	</block>
	<block className="ContextGuidingTipModuleTreeElement">
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="dispatch" value="'addedToStage'; 'evModulesScrollToIndexEvent'; {moduleScrollIndex: _moduleIndex}; SC.Common.UBSCOPE_EVENT_DIRECTIONS.UP; 0.05"/>
		<bind name="dispatch" value="'evModuleMouseWheel'; 'evContextGuidingTipHide'; {invisible: true}; SC.Common.UBSCOPE_EVENT_DIRECTIONS.DOWN"/>
		<bind name="dispatch" value="'evModuleMouseWheelReset'; 'evContextGuidingTipUnHide'; {invisible: false}; SC.Common.UBSCOPE_EVENT_DIRECTIONS.DOWN"/>
		<bind name="primaryEntityDH" value="'notificationEntity'; CC.contextGuidingTip; _tooltipID"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'inset'; ['dockEntity.insetComponent.evUpdate']; dockEntity.insetComponent.inset"/>
		<bind name="watchDH" value="'dhNotificationEnabled'; ['notificationEntity.contextGuidingTip.evActiveChanged'] ; notificationEntity.contextGuidingTip.active &amp;&amp; inset == LobbyConstants.SHIP_MODULES "/>
		<bind name="changeDispatch" value="dhNotificationEnabled; 'evModulesScrollToIndexEvent'; {moduleScrollIndex: _moduleIndex}; SC.Common.UBSCOPE_EVENT_DIRECTIONS.UP; true"/>
		<bind name="instance" value=" 'ContextGuidingTipHub'; {
												_tooltipID: _tooltipID,
												_tipPositioning: _tipPositioning, 
												_extraCondition: true,
												_offset: _offset
											}"/>
	</block>
	<css name="$TextCarouselShipStatus">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<block className="CarouselItem">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="watch" value="'formationType'; !!trainingRoomEntity ? 'TRAINING_ROOM' : 'DIVISION'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="dataRefDH" value="'shipEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'excludedMain'; ['shipEntity.mainShipFilter.evUpdate']; shipEntity.mainShipFilter.excluded"/>
		<bind name="watch" value="'excluded'; excludedMain"/>
		<bind name="watchDH" value="'isNeedRepair'; ['shipEntity.ownShip.evUpdateDockState']; shipEntity.ownShip.isNeedRepair"/>
		<bind name="watchDH" value="'isNeedShell'; ['shipEntity.ownShip.evUpdateDockState']; shipEntity.ownShip.isNeedShell"/>
		<bind name="watchDH" value="'isLocked'; ['shipEntity.ownShip.evUpdateLock']; shipEntity.ownShip.isLocked"/>
		<bind name="watchDH" value="'isInFormation'; ['shipEntity.ownShip.evUpdateLock']; shipEntity.ownShip.isInFormation"/>
		<bind name="watchDH" value="'isDownloaded'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent.isDownloaded"/>
		<bind name="watchDH" value="'flagName'; ['shipEntity.ship.evUpdate']; shipEntity.ship.flagName"/>
		<bind name="watchDH" value="'shipType'; ['shipEntity.ship.evUpdate']; shipEntity.ship.shipType"/>
		<bind name="watchDH" value="'levelRome'; ['shipEntity.ship.evUpdate']; shipEntity.ship.levelRome"/>
		<bind name="watchDH" value="'fullName'; ['shipEntity.ship.evUpdate']; shipEntity.ship.fullName"/>
		<bind name="watchDH" value="'shipId'; []; shipEntity.ship.id"/>
		<bind name="name" value="'carouselItem' + fullName"/>
		<bind name="watch" value="'isSelected'; shipId == _selectedShipId"/>
		<bind name="feature" value="'17'; ''"/>
		<bind name="action" value="'click'; isDownloaded ? 'selectShip' : null; {shipId: shipId}"/>
		<style>
			<width value="216px"/>
		</style>
		<bind name="style" value="'height'; _isSmallCarouselView ? '63px' : '126px'"/>
		<block>
			<bind name="name" value="'carouselItem' + $index"/>
			<bind name="name" value="shipEntity.mainShipFilter.excluded ? 'excluded' : 'included'"/>
			<bind name="style" value="'alpha'; !excluded ? 1 : 0.3"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<block className="BlurMapLow">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.2"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="dock_thumb_normal_9s" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="popup" value="'ShipExtendedTooltipUB2';
											{shipId: shipId,
											_needService: (isNeedRepair || isNeedShell),
											_isLocked: isLocked
											};
											
											1;{type:'lesta.unbound.bindings.popup.ReasonPopupSpacingComponent',params:{directionsPriority:['top'],reasonOffsetTop:10,}};{reason:{mouseOver:{action:'show',params:{duration:0.3,startProps:{alpha:0,x:0,y:10},finishProps:{alpha:1,x:0,y:0},delay:0.7}},mouseOut:{action:'hide',params:{duration:0.1,startProps:{alpha:1,x:0,y:0},finishProps:{alpha:0,x:0,y:-5}}},removedFromStage:{action:'hide',params:{duration:0.1,startProps:{alpha:1,x:0,y:0},finishProps:{alpha:0,x:0,y:-5}}},popup_opened:{action:'hideByPriority',params:{duration:0.1,startProps:{alpha:1,x:0,y:0},finishProps:{alpha:0,x:0,y:-5}}}},reasonScope:{onLostTop:{action:'hide',params:{duration:0.1,startProps:{alpha:1,x:0,y:0},finishProps:{alpha:0,x:0,y:-5}}}}}
											"/>
				<bind name="menu" value="'ShipTreeMenu'; { shipId: shipId, _disableShipActions: _disableShipActions }"/>
				<bind name="doubleClickEnabled" value="feature_17 != 'locked' ? true : false"/>
				<bind name="action" value="'doubleClick'; !_disableShipActions ? 'changeInset' : ''; { inset: LobbyConstants.SHIP_MODULES }"/>
				<bind name="soundSet" value="'carousel_item'"/>
				<bind name="selected" value="isSelected"/>
				<bind name="name" value="'carouselItem' + fullName + '_indicator'"/>
			</block>
			<block>
				<bind name="instance" value="'ShipCarouselSlotWrapper';
				{
					_isSmallCarouselView : _isSmallCarouselView,
					_data : {
						isNeedRepair: isNeedRepair,
						isNeedShell: isNeedShell,
						isLocked: isLocked,
						shipCountry: flagName,
						shipId: shipId,
						shipType: shipType,
						shipLevelRome: levelRome,
						rollOver: rollOver,
						isInFormation: isInFormation,
						_formationType: formationType,
						_selected: isSelected,
						_rollOver: rollOver,
						_mouseDown: mouseDown
					}
				}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(isDownloaded)"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="action" value="'click'; 'exitGameAndContinueDownloading'"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; !(isDownloaded)	? { _mouseInstructions:		[{_type: 'warning', _instructionText: shipInfo.isEventLike	? 'IDS_ENTER_IN_FULL_VERSION_FOR_ANNOUNCE_SHIPS'
																																							: 'IDS_ENTER_IN_FULL_VERSION_FOR_SHIPS'},
																								 {_type: 'left', _instructionText: 'IDS_EXIT_AND_CONTINUE_DOWNLOADING_MOUSE_INSTRUCTION'}], 
																								  _maxWidth: 250 }
																	: null"/>
			<block>
				<bind name="transition" value="rollOver; 0.07; {alpha: 0.7}; {alpha: 1}"/>
				<style>
					<hitTest value="false"/>
					<width value="39px"/>
					<height value="39px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="style" value="'backgroundImage'; 'url:../service_kit/icons/icon_download.png'"/>
			</block>
		</block>
	</block>
	<block className="ShipCarouselSlotWrapper">
		<bind name="child" value="_isSmallCarouselView; _data; 'ShipCarouselDefaultSlot'; 'ShipCarouselSmallSlot'"/>
	</block>
	<block className="ShipCarousel">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="watch" value="'rowsCount'; 	(!isSmallCarouselView)	? 1	:
								_fixedCarouselRows		? _fixedCarouselRows :
								curRowCountIndex == 0 	? 2 : 
								curRowCountIndex == 1 	? 3
														: 4"/>
		<bind name="watch" value="'carouselHeight'; !isSmallCarouselView	? 126 + 6
														: (rowsCount * 63) + 6"/>
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="1px"/>
			<marginBottom value="-6px"/>
		</style>
		<bind name="style" value="'height'; carouselHeight +  'px'"/>
		<bind name="name" value="'carouselPlayerShips'"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'maxSlotsOnScreen'; isSmallCarouselView ? ((stageWidth - 58) / 214) / 2 : ((stageWidth - 58) / 214) "/>
		<block>
			<style>
				<width value="20px"/>
				<height value="100%"/>
			</style>
			<block className="button_slide_left" type="native">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAligned"/>
				<params>
					<param name="focusable" value="false"/>
				</params>
				<bind name="enabled" value="ShipsCarouselCanScrollLeft"/>
				<bind name="name" value="'buttonCarouselLeft'"/>
				<bind name="dispatch" value="'buttonClick'; 'ShipsCarouselScrollPrev'"/>
			</block>
		</block>
		<bind name="collectionDH" value="_shipFilterId; 'filteredCarouselShips'; 'filtered.sorted'"/>
		<block>
			<style>
				<backgroundColor value="0x01000000"/>
				<width value="100%f"/>
				<height value="100%"/>
				<overflow value="scroll"/>
				<scrollArea value="ModernScrollAreaHorizontal"/>
				<scrollbarController value="lesta.unbound.style.UbScrollingControllerTouch"/>
				<wheelScrollSpeed value="216"/>
				<layout value="lesta.unbound.layout.measure.CarouselLayout"/>
				<itemWidth value="216px"/>
				<itemHeight value="126px"/>
			</style>
			<bind name="style" value="'flow'; isSmallCarouselView ? 'vtile' : 'horizontal'"/>
			<bind name="style" value="'itemHeight'; isSmallCarouselView ? '63px' : '126px'"/>
			<bind name="name" value="'shipCarouseContaner'"/>
			<bind name="generatorDH" value="_shipFilterId; 'CarouselItem'; _isFilteredShipsHided ? 'filtered.sorted'
																				: 'sorted'; {	shipFilterId: _shipFilterId,
																								_selectedShipId: shipIdForModuleInset,
																								_isSmallCarouselView: isSmallCarouselView,
																								_disableShipActions: _disableShipActions}"/>
			<bind name="scrollController" value="'ShipsCarousel'; 216; rowsCount"/>
			<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerShipsCarousel; _shipFilterId; 'sorted'; 'ShipsCarousel'; _scrollToStart"/>
			<bind name="dispatch" value="'addedToStage'; 'ShipsCarouselScrollToSelected'"/>
			<block>
				<bind name="visible" value="(filteredCarouselShips.length == 0 &amp;&amp; _isFilteredShipsHided)"/>
				<block className="ShipCarouselNoCompatibleShips">
					<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
					<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
					<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
					<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
					<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CAROUSEL_NO_COMPATIBLE_SHIPS_TOOLTIP'}; 0"/>
					<block className="inner_panel" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<styleClass value="$MiddleVAligned"/>
						<block type="text">
							<style>
								<width value="100%"/>
								<textAlign value="center"/>
								<marginRight value="8px"/>
								<marginLeft value="8px"/>
								<leading value="0"/>
							</style>
							<styleClass value="$TextDefaultBold17NM"/>
							<bind name="class" value="'$FontColorUnready'"/>
							<text value="IDS_CAROUSEL_NO_COMPATIBLE_SHIPS"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="_addShipSlotsBuyBlocks"/>
				<block className="ShipCarouselPurchaseShip">
					<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
					<bind name="watchDH" value="'accountSlotsNum'; ['resourceEntity.accountResource.evChangedSlotsNum']; resourceEntity.accountResource.slotsNum"/>
					<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
					<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
					<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
					<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
					<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
					<block className="inner_panel" type="native">
						<styleClass value="$Fullsize"/>
						<style>
							<position value="absolute"/>
						</style>
					</block>
					<block>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$MiddleVAligned"/>
						<block>
							<style>
								<width value="190px"/>
							</style>
							<block className="button_dock" type="native">
								<bind name="tooltip" value="'PurchaseShipTooltip'; {}; 1"/>
								<style>
									<width value="100%"/>
									<height value="30px"/>
								</style>
								<bind name="enabled" value="_enabled"/>
								<bind name="action" value="'buttonClick'; 'changeInset'; { inset: LobbyConstants.SHIP_RESEARCH_TREE}"/>
								<bind name="dispatch" value="'buttonClick'; 'hideCrew'"/>
								<block>
									<style>
										<marginTop value="8px"/>
										<hitTest value="false"/>
									</style>
									<styleClass value="$MiddleAligned"/>
									<block type="text">
										<styleClass value="$TextDefaultBold"/>
										<styleClass value="$MiddleVAligned"/>
										<text value="IDS_PURCHASE_SHIP_UPPER_CASE"/>
									</block>
									<style>
										<flow value="horizontal"/>
									</style>
								</block>
							</block>
						</block>
						<block>
							<bind name="visible" value="accountSlotsNum &gt; 0"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<hitTest value="false"/>
								<marginTop value="-6px"/>
							</style>
							<block type="text">
								<bind name="name" value="'ShipCarouselFreeSlots'"/>
								<styleClass value="$TextDefault"/>
								<bind name="class" value="'$FontColorBlueish'"/>
								<bind name="text" value="tr('IDS_FREE_SLOTS')  + ' ' + accountSlotsNum"/>
							</block>
						</block>
						<block>
							<bind name="visible" value="accountSlotsNum == 0"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<hitTest value="false"/>
								<marginTop value="-8px"/>
							</style>
							<block type="text">
								<styleClass value="$TextDefaultBold"/>
								<styleClass value="$FontColorUnready"/>
								<style>
									<maxWidth value="170"/>
									<textAlign value="center"/>
								</style>
								<bind name="substitute" value="5; {'[icon]': 'icon_warning_orange_bm'}; '[icon] ' + tr('IDS_NO_FREE_SLOTS')"/>
							</block>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="_addShipSlotsBuyBlocks"/>
				<block className="ShipCarouselPurchaseShipSlot">
					<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'SLOT_COST'; 'slotPrice'"/>
					<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
					<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
					<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
					<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
					<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
					<block className="inner_panel" type="native">
						<styleClass value="$Fullsize"/>
						<style>
							<position value="absolute"/>
						</style>
					</block>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<styleClass value="$MiddleAligned"/>
						<block>
							<style>
								<width value="190px"/>
							</style>
							<block className="button_dock" type="native">
								<bind name="tooltip" value="'PurchaseSlotTooltip'; {}; 1"/>
								<style>
									<width value="100%"/>
									<height value="30px"/>
								</style>
								<bind name="enabled" value="_enabled"/>
								<bind name="name" value="'buttonBuySlots'"/>
								<bind name="input"/>
								<block>
									<style>
										<marginTop value="8px"/>
									</style>
									<styleClass value="$MiddleAligned"/>
									<style>
										<mouseEnabled value="false"/>
										<mouseChildren value="false"/>
									</style>
									<block type="text">
										<styleClass value="$TextDefaultBold"/>
										<styleClass value="$MiddleVAligned"/>
										<text value="IDS_PURCHASE_SLOT_FOR_UPPER_CASE"/>
									</block>
									<style>
										<flow value="horizontal"/>
									</style>
								</block>
							</block>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<style>
								<marginTop value="-6px"/>
							</style>
							<bind name="instance" value="'PriceTag'; { priceInfo: slotPrice.prices[0], _showDiscountTag:true}"/>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<height value="100%"/>
				<width value="20px"/>
			</style>
			<block className="button_slide_right" type="native">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAligned"/>
				<params>
					<param name="focusable" value="false"/>
				</params>
				<bind name="enabled" value="ShipsCarouselCanScrollRight"/>
				<bind name="name" value="'buttonCarouselRight'"/>
				<bind name="dispatch" value="'buttonClick'; 'ShipsCarouselScrollNext'"/>
			</block>
		</block>
	</block>
	<css name="$CarouselServiceBlock">
		<marginBottom value="3px"/>
		<height value="120px"/>
		<width value="204px"/>
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
		<marginTop value="3px"/>
	</css>
	<css name="$CarouselServiceBlockSmall">
		<marginBottom value="3px"/>
		<height value="88px"/>
		<width value="204px"/>
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
		<marginTop value="3px"/>
	</css>
	<css name="$CarouselServiceBlock3rows">
		<marginBottom value="3px"/>
		<height value="182px"/>
		<width value="204px"/>
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
		<marginTop value="3px"/>
	</css>
	<css name="$CarouselServiceBlock4rows">
		<marginBottom value="3px"/>
		<height value="246px"/>
		<width value="204px"/>
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
		<marginTop value="3px"/>
	</css>
	<css name="$ShipSlotBottomDarkPanel">
		<bottom value="0px"/>
		<height value="28px"/>
		<hitTest value="false"/>
		<width value="100%"/>
		<backgroundColor value="0xFF000000"/>
		<position value="absolute"/>
		<alpha value="0.3"/>
	</css>
	<block className="ShipCarouselPurchaseShip">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountSlotsNum'; ['resourceEntity.accountResource.evChangedSlotsNum']; resourceEntity.accountResource.slotsNum"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
		<block className="inner_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<style>
					<width value="190px"/>
				</style>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'PurchaseShipTooltip'; {}; 1"/>
					<style>
						<width value="100%"/>
						<height value="30px"/>
					</style>
					<bind name="enabled" value="_enabled"/>
					<bind name="action" value="'buttonClick'; 'changeInset'; { inset: LobbyConstants.SHIP_RESEARCH_TREE}"/>
					<bind name="dispatch" value="'buttonClick'; 'hideCrew'"/>
					<block>
						<style>
							<marginTop value="8px"/>
							<hitTest value="false"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<block type="text">
							<styleClass value="$TextDefaultBold"/>
							<styleClass value="$MiddleVAligned"/>
							<text value="IDS_PURCHASE_SHIP_UPPER_CASE"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="accountSlotsNum &gt; 0"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<hitTest value="false"/>
					<marginTop value="-6px"/>
				</style>
				<block type="text">
					<bind name="name" value="'ShipCarouselFreeSlots'"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="tr('IDS_FREE_SLOTS')  + ' ' + accountSlotsNum"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="accountSlotsNum == 0"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<hitTest value="false"/>
					<marginTop value="-8px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$FontColorUnready"/>
					<style>
						<maxWidth value="170"/>
						<textAlign value="center"/>
					</style>
					<bind name="substitute" value="5; {'[icon]': 'icon_warning_orange_bm'}; '[icon] ' + tr('IDS_NO_FREE_SLOTS')"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipCarouselNoCompatibleShips">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CAROUSEL_NO_COMPATIBLE_SHIPS_TOOLTIP'}; 0"/>
		<block className="inner_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="center"/>
					<marginRight value="8px"/>
					<marginLeft value="8px"/>
					<leading value="0"/>
				</style>
				<styleClass value="$TextDefaultBold17NM"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<text value="IDS_CAROUSEL_NO_COMPATIBLE_SHIPS"/>
			</block>
		</block>
	</block>
	<block className="ShipCarouselPurchaseShipSlot">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'SLOT_COST'; 'slotPrice'"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
		<block className="inner_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAligned"/>
			<block>
				<style>
					<width value="190px"/>
				</style>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'PurchaseSlotTooltip'; {}; 1"/>
					<style>
						<width value="100%"/>
						<height value="30px"/>
					</style>
					<bind name="enabled" value="_enabled"/>
					<bind name="name" value="'buttonBuySlots'"/>
					<bind name="input"/>
					<block>
						<style>
							<marginTop value="8px"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<style>
							<mouseEnabled value="false"/>
							<mouseChildren value="false"/>
						</style>
						<block type="text">
							<styleClass value="$TextDefaultBold"/>
							<styleClass value="$MiddleVAligned"/>
							<text value="IDS_PURCHASE_SLOT_FOR_UPPER_CASE"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="-6px"/>
				</style>
				<bind name="instance" value="'PriceTag'; { priceInfo: slotPrice.prices[0], _showDiscountTag:true}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipCarouselDefaultSlot">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<style>
			<width value="204px"/>
			<height value="120px"/>
		</style>
		<bind name="transition" value="_selected; 0.15; {width: 204, height: 120}; {width: 216, height: 126}"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watchDH" value="'crewId';		['shipEntity.ownShip.evCrewChanged'];			shipEntity.ownShip.crewId"/>
		<bind name="watchDH" value="'isPrimary';		['shipEntity.ownShip.evIsPrimaryChanged'];		shipEntity.ownShip.isPrimary"/>
		<bind name="watchDH" value="'costTotal';		['shipEntity.ownShip.evUpdateDockState'];		shipEntity.ownShip.costTotal"/>
		<bind name="watchDH" value="'timeRent';		['shipEntity.ownShip.evUpdateDockState'];		shipEntity.ownShip.timeRent"/>
		<bind name="watchDH" value="'expMultiply';	['shipEntity.ownShip.evExpMultiplyChanged'];	shipEntity.ownShip.expMultiply"/>
		<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
		<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
		<bind name="watch" value="'freezeListPath'; shipEntity.ownShip.id + '_' + selectedBattle.type"/>
		<bind name="primaryEntityDH" value="'shipFreezeListEntity'; CC.freezeList; freezeListPath"/>
		<bind name="watchDH" value="'freezeListArr'; ['shipFreezeListEntity.freezeList.evUpdate']; shipFreezeListEntity.freezeList.items"/>
		<bind name="watch" value="'isShipFrozen'; (shipFreezeListEntity ? true : false)"/>
		<block className="thumb_hl_red" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
				<alpha value="1.2"/>
			</style>
			<bind name="selected" value="_selected"/>
			<bind name="visible" value="((isNeedRepair || isNeedShell || !shipInfoSlim.isDownloaded || isShipFrozen) ? true : false)"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<block>
				<style>
					<position value="absolute"/>
					<left value="2px"/>
					<top value="2px"/>
					<width value="196px"/>
					<height value="118px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (!shipInfoSlim.isDownloaded) || (crewId == 0) || isShipFrozen) ? 0.3 : 0.5"/>
				<bind name="transition" value="!_selected; 0.15; {width: 208, height: 126}; {width: 196, height: 118} "/>
				<bind name="instance" value="'NationFlagsBig'; {_width: '100%', _height: '100%', shipCountry: shipInfo.flagName}"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (!shipInfoSlim.isDownloaded) || (crewId == 0) || isShipFrozen) ? 0.4 : 1"/>
				<style>
					<width value="204px"/>
					<height value="120px"/>
					<backgroundStretchX value="true"/>
					<backgroundStretchY value="true"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
				<bind name="transition" value="_selected; 0.15; {width: 204, height: 120}; {width: 214, height: 126}"/>
			</block>
			<block>
				<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_TOOLTIP_PRIMARY_SHIP', tooltipSubText: 'IDS_TOOLTIP_PRIMARY_SHIP_DESCRIPTION'}"/>
				<style>
					<position value="absolute"/>
					<right value="-1px"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="isPrimary"/>
				<block className="icon_primary_ribbon" type="native"/>
			</block>
			<block>
				<bind name="visible" value="timeRent &gt; 0"/>
				<bind name="name" value="'timeRent_' + shipInfo.fullName"/>
				<style>
					<position value="absolute"/>
					<right value="3px"/>
					<top value="3px"/>
				</style>
				<bind name="instance" value="'RentTimer'; (timeRent &gt; 0)  ? {_timeRent: timeRent, _shipGroup: shipEntity.ship.group} : null"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="instance" value="'ShipSlotNameBackPanel'; {_selected: _selected, _rollOver: _rollOver}"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || !shipInfoSlim.isDownloaded || (crewId == 0) || isShipFrozen) ? 0.3 : 1"/>
				<styleClass value="$Fullsize"/>
				<style>
					<marginLeft value="8px"/>
					<marginTop value="4px"/>
					<marginRight value="8px"/>
					<marginBottom value="4px"/>
				</style>
				<block>
					<style>
						<height value="20px"/>
						<hitTest value="false"/>
						<left value="-2px"/>
					</style>
					<block className="icon_wreath" type="native">
						<bind name="name" value="upgradableShipInfo.isElite ? 'CarouselShipElite_' + shipInfo.fullName : '' "/>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<position value="absolute"/>
							<left value="-5px"/>
						</style>
						<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
						<bind name="gotoAndStop!" value="(shipInfo.isPremium || shipInfo.uiSpecial) 	? 'premium' : 'elite'"/>
					</block>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<block className="icon_ship" type="native">
							<style>
								<marginBottom value="2px"/>
							</style>
							<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: shipTypeIDS}; 0"/>
						</block>
					</block>
					<block type="text">
						<styleClass value="$TextSecondaryBold"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<style>
							<marginTop value="-1px"/>
							<marginLeft value="5px"/>
							<marginRight value="3px"/>
						</style>
						<bind name="text" value="shipLevelRome"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="-1px"/>
						<right value="0"/>
						<hitTest value="false"/>
					</style>
					<block type="text">
						<style>
							<width value="128px"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextDefaultBold"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS))"/>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="2px"/>
					</style>
					<bind name="watchDH" value="'bonusTagsVisible'; ['shipEntity.ship.evBonusTagsChanged']; (shipEntity.ship.bonusTags.length &gt; 0 || expMultiply &gt; 1)"/>
					<bind name="instance" value="'ShipBonusTags'; bonusTagsVisible	? {_shipEntityId: shipEntity.id}
																	: null"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(isAlterablePriceMenuVisible == false)"/>
			<bind name="name" value="'isLockedShip_' + shipInfo.fullName + '_' + isLocked"/>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<hitTest value="false"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'ShipCarouselSlotStatus';	(isShipFrozen &amp;&amp; !(_rollOver))			? { _status:  toUpperCase(tr('IDS_SHIP_FROZEN_FOR_PVE')), isPositive: false, _small: true} :
														(isNeedRepair || isNeedShell) &amp;&amp; 
														!(_rollOver) &amp;&amp; !(_mouseDown) &amp;&amp; 
														crewId != 0								? { _status: toUpperCase(tr('IDS_NEED_SERVICE')), isPositive: false, _small: true} :
														isInFormation							? { _status: toUpperCase(tr('IDS_READY_TO_BATTLE_IN_' + toUpperCase(_formationType))), isPositive: true, _small: true } :
														isLocked								? { _status: toUpperCase(tr('IDS_IN_BATTLE')), isPositive: false, _small: true} :
														crewId == 0								? { _status: toUpperCase(tr('IDS_NO_CREW')), isPositive: false, _small: true}
																								: null "/>
			</block>
			<block>
				<bind name="name" value="isShipFrozen ? 'CarouselShipFreeze_' + shipInfo.fullName : ''"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="8px"/>
				</style>
				<bind name="instance" value="'CarouselShipFreeze'; (isShipFrozen &amp;&amp; !(_rollOver)) ? {_freezeListArr: freezeListArr} : null"/>
			</block>
		</block>
		<block className="ServiceUnfreezeButtons">
			<style>
				<width value="190px"/>
			</style>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="watch" value="'unFreezePriceIndex'; (userPrefs.unFreezePriceIndex == null) ? 0 : userPrefs.unFreezePriceIndex"/>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'CANCEL_BATTLE_LOCK_COOLDOWN_Cost'; 'pveCooldownCost'"/>
			<bind name="watch" value="'selectedPriceIndex'; (pveCooldownCost.prices.length &gt; 1 ? unFreezePriceIndex : 0)}"/>
			<bind name="catch" value="'selectedPriceChanged'"/>
			<bind name="dispatch" value="'selectedPriceChanged';'selectedPriceChangedDelayed'; {}; 2; 0.05"/>
			<bind name="action" value="'selectedPriceChangedDelayed'; 'setUserPref' ; {value: selectedPriceIndex, name: 'unFreezePriceIndex'}"/>
			<bind name="var" value="{isAlterablePriceMenuVisible: false}"/>
			<bind name="catch" value="'alterablePriceTagMenuVisibleChanged'"/>
			<bind name="watch" value="'isUnfreezeButtonVisible'; (isAlterablePriceMenuVisible || _rollOver) &amp;&amp; isShipFrozen"/>
			<bind name="watch" value="'isServiceButtonVisible';	(isAlterablePriceMenuVisible || _rollOver) &amp;&amp; !(isShipFrozen) &amp;&amp;
											(isNeedRepair || isNeedShell) &amp;&amp; crewId != 0"/>
			<bind name="fade" value="isServiceButtonVisible || isUnfreezeButtonVisible; 0.15; {alpha: 0, top: -10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2; 0.1"/>
			<bind name="instance" value="'DockButtonCostMedium'; isServiceButtonVisible 	? 	{	_label: 'IDS_SERVICE_C', _tooltipText: 'IDS_SERVICE_C', _prices: [{finalPrice: costTotal, currency: 'credits'}],
																			_action: 'serveShip', _actionParams: {shipId : shipEntity.ownShip.id}, _selectedPriceIndex: 0, _deficitLabel: 'IDS_SERVICE_COST'} :
											isUnfreezeButtonVisible	?	{	_label: 'IDS_UNFREEZE_FOR_PVE_BTN',
																			_deficitLabel: 'IDS_PVE_UNFREEZE_COST',
																			_tooltipText: 'IDS_UNFREEZE_COST_TOOLTIP',
																			_prices: pveCooldownCost.prices,
																			_selectedPriceIndex: selectedPriceIndex,
																			_request: 'openUnfreezeShipWindow',
																			_requestParams: {shipId: shipEntity.ownShip.id, battleType: selectedBattle.type}
																		}
																	:	null"/>
		</block>
	</block>
	<block className="ShipCarouselSmallSlot">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="watchDH" value="'crewId';		['shipEntity.ownShip.evCrewChanged'];			shipEntity.ownShip.crewId"/>
		<bind name="watchDH" value="'isPrimary';		['shipEntity.ownShip.evIsPrimaryChanged'];		shipEntity.ownShip.isPrimary"/>
		<bind name="watchDH" value="'costTotal';		['shipEntity.ownShip.evUpdateDockState'];		shipEntity.ownShip.costTotal"/>
		<bind name="watchDH" value="'timeRent';		['shipEntity.ownShip.evUpdateDockState'];		shipEntity.ownShip.timeRent"/>
		<bind name="watchDH" value="'expMultiply';	['shipEntity.ownShip.evExpMultiplyChanged'];	shipEntity.ownShip.expMultiply"/>
		<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
		<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
		<bind name="watch" value="'freezeListPath'; shipEntity.ownShip.id + '_' + selectedBattle.type"/>
		<bind name="primaryEntityDH" value="'shipFreezeListEntity'; CC.freezeList; freezeListPath"/>
		<bind name="watchDH" value="'freezeListArr'; ['shipFreezeListEntity.freezeList.evUpdate']; shipFreezeListEntity.freezeList.items"/>
		<bind name="watch" value="'isShipFrozen'; (shipFreezeListEntity ? true : false)"/>
		<style>
			<width value="204px"/>
			<height value="56px"/>
		</style>
		<bind name="transition" value="_selected; 0.15; {width: 204, height: 56}; {width: 216, height: 60}"/>
		<block className="thumb_hl_red" type="native">
			<bind name="visible" value="((isNeedRepair || isNeedShell || !shipInfoSlim.isDownloaded || isShipFrozen) ? true : false)"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
				<alpha value="1.2"/>
			</style>
			<bind name="selected" value="_selected"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<block>
				<style>
					<position value="absolute"/>
					<alpha value="0.6"/>
					<top value="2px"/>
					<width value="95px"/>
					<height value="56px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; ((isNeedRepair || isNeedShell || isLocked || (crewId == 0) || !shipInfoSlim.isDownloaded || isShipFrozen) ? 0.4 : 0.6)"/>
				<bind name="transition" value="!_selected; 0.15; {width: 99, height: 60}; {width: 95, height: 56}"/>
				<bind name="instance" value="'NationFlagsSmall'; {_width: '100%', _height: '100%', shipCountry: shipCountry}"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="instance" value="'ShipSlotNameBackPanel'; {_selected: _selected, _rollOver: _rollOver}"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (crewId == 0) || !shipInfoSlim.isDownloaded || isShipFrozen) ? 0.4 : 1"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
					<marginLeft value="8px"/>
					<marginTop value="4px"/>
					<marginRight value="8px"/>
					<marginBottom value="4px"/>
					<marginBottom value="4px"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<height value="20px"/>
						<marginTop value="2px"/>
						<hitTest value="false"/>
					</style>
					<block className="icon_wreath" type="native">
						<bind name="name" value="upgradableShipInfo.isElite ? 'CarouselShipElite_' + shipInfo.fullName : '' "/>
						<styleClass value="$MiddleVAlignedAbsolutely"/>
						<style>
							<left value="-5px"/>
						</style>
						<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
						<bind name="gotoAndStop!" value="(shipInfo.isPremium || shipInfo.uiSpecial) 	? 'premium' : 'elite'"/>
					</block>
					<block className="icon_ship" type="native">
						<styleClass value="$MiddleVAligned"/>
						<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: shipTypeIDS}; 0"/>
					</block>
					<block type="text">
						<styleClass value="$TextSecondaryBold"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<style>
							<marginTop value="-1px"/>
							<marginLeft value="5px"/>
							<marginRight value="3px"/>
							<width value="40px"/>
						</style>
						<bind name="text" value="shipLevelRome"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<right value="0px"/>
						<hitTest value="false"/>
					</style>
					<bind name="instance" value="'ShipSilhouetteRightAligned'; {_shipID: shipInfo.id}"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="-1px"/>
						<right value="0"/>
						<hitTest value="false"/>
					</style>
					<block type="text">
						<style>
							<width value="115px"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextDefaultBold"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS))"/>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="2px"/>
					</style>
					<bind name="watchDH" value="'bonusTagsVisible'; ['shipEntity.ship.evBonusTagsChanged']; (shipEntity.ship.bonusTags.length &gt; 0 || expMultiply &gt; 1)"/>
					<bind name="instance" value="'ShipBonusTags'; bonusTagsVisible	? {_shipEntityId: shipEntity.id}
																	: null"/>
				</block>
			</block>
			<block>
				<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_TOOLTIP_PRIMARY_SHIP', tooltipSubText: 'IDS_TOOLTIP_PRIMARY_SHIP_DESCRIPTION'}"/>
				<style>
					<position value="absolute"/>
					<right value="-1px"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="isPrimary"/>
				<block className="icon_primary_ribbon" type="native"/>
			</block>
			<block>
				<bind name="visible" value="(timeRent &gt; 0)"/>
				<bind name="name" value="'timeRent_' + shipInfo.fullName"/>
				<style>
					<position value="absolute"/>
					<right value="3px"/>
					<top value="3px"/>
				</style>
				<bind name="instance" value="'RentTimer'; (timeRent &gt; 0) ? {_timeRent: timeRent} : null"/>
			</block>
		</block>
		<block>
			<bind name="name" value="'isLockedShip_' + shipInfo.fullName + '_' + isLocked"/>
			<bind name="visible" value="(isAlterablePriceMenuVisible == false)"/>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<hitTest value="false"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'ShipCarouselSlotStatus';	(isShipFrozen &amp;&amp; !(_rollOver))		? { _status:  toUpperCase(tr('IDS_SHIP_FROZEN_FOR_PVE')), isPositive: false, _small: true} :
														(isNeedRepair || isNeedShell) &amp;&amp; 
														!(_rollOver) &amp;&amp; !(_mouseDown) &amp;&amp; 
														crewId != 0							? { _status: toUpperCase(tr('IDS_NEED_SERVICE')), isPositive: false, _small: true} :
														isInFormation						? { _status: toUpperCase(tr('IDS_READY_TO_BATTLE_IN_' + toUpperCase(_formationType))), isPositive: true, _small: true } :
														isLocked							? { _status: toUpperCase(tr('IDS_IN_BATTLE')), isPositive: false, _small: true} :
														crewId == 0							? { _status: toUpperCase(tr('IDS_NO_CREW')), isPositive: false, _small: true}
																							: null "/>
			</block>
			<block>
				<bind name="name" value="isShipFrozen ? 'CarouselShipFreeze_' + shipInfo.fullName : ''"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="8px"/>
				</style>
				<bind name="instance" value="'CarouselShipFreeze'; (isShipFrozen &amp;&amp; !(_rollOver)) ? {_freezeListArr: freezeListArr, _small: true} : null"/>
			</block>
		</block>
		<block className="ServiceUnfreezeButtons">
			<style>
				<width value="190px"/>
			</style>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="watch" value="'unFreezePriceIndex'; (userPrefs.unFreezePriceIndex == null) ? 0 : userPrefs.unFreezePriceIndex"/>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'CANCEL_BATTLE_LOCK_COOLDOWN_Cost'; 'pveCooldownCost'"/>
			<bind name="watch" value="'selectedPriceIndex'; (pveCooldownCost.prices.length &gt; 1 ? unFreezePriceIndex : 0)}"/>
			<bind name="catch" value="'selectedPriceChanged'"/>
			<bind name="dispatch" value="'selectedPriceChanged';'selectedPriceChangedDelayed'; {}; 2; 0.05"/>
			<bind name="action" value="'selectedPriceChangedDelayed'; 'setUserPref' ; {value: selectedPriceIndex, name: 'unFreezePriceIndex'}"/>
			<bind name="var" value="{isAlterablePriceMenuVisible: false}"/>
			<bind name="catch" value="'alterablePriceTagMenuVisibleChanged'"/>
			<bind name="watch" value="'isUnfreezeButtonVisible'; (isAlterablePriceMenuVisible || _rollOver) &amp;&amp; isShipFrozen"/>
			<bind name="watch" value="'isServiceButtonVisible';	(isAlterablePriceMenuVisible || _rollOver) &amp;&amp; !(isShipFrozen) &amp;&amp;
											(isNeedRepair || isNeedShell) &amp;&amp; crewId != 0"/>
			<bind name="fade" value="isServiceButtonVisible || isUnfreezeButtonVisible; 0.15; {alpha: 0, top: -10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2; 0.1"/>
			<bind name="instance" value="'DockButtonCostMedium'; isServiceButtonVisible 	? 	{	_label: 'IDS_SERVICE_C', _tooltipText: 'IDS_SERVICE_C', _prices: [{finalPrice: costTotal, currency: 'credits'}],
																			_action: 'serveShip', _actionParams: {shipId : shipEntity.ownShip.id}, _selectedPriceIndex: 0, _deficitLabel: 'IDS_SERVICE_COST'} :
											isUnfreezeButtonVisible	?	{	_label: 'IDS_UNFREEZE_FOR_PVE_BTN',
																			_deficitLabel: 'IDS_PVE_UNFREEZE_COST',
																			_tooltipText: 'IDS_UNFREEZE_COST_TOOLTIP',
																			_prices: pveCooldownCost.prices,
																			_selectedPriceIndex: selectedPriceIndex,
																			_request: 'openUnfreezeShipWindow',
																			_requestParams: {shipId: shipEntity.ownShip.id, battleType: selectedBattle.type}
																		}
																	:	null"/>
		</block>
	</block>
	<block className="ServiceUnfreezeButtons">
		<style>
			<width value="190px"/>
		</style>
		<styleClass value="$MiddleAlignedAbsolutely"/>
		<styleClass value="$MiddleVAligned"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'unFreezePriceIndex'; (userPrefs.unFreezePriceIndex == null) ? 0 : userPrefs.unFreezePriceIndex"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'CANCEL_BATTLE_LOCK_COOLDOWN_Cost'; 'pveCooldownCost'"/>
		<bind name="watch" value="'selectedPriceIndex'; (pveCooldownCost.prices.length &gt; 1 ? unFreezePriceIndex : 0)}"/>
		<bind name="catch" value="'selectedPriceChanged'"/>
		<bind name="dispatch" value="'selectedPriceChanged';'selectedPriceChangedDelayed'; {}; 2; 0.05"/>
		<bind name="action" value="'selectedPriceChangedDelayed'; 'setUserPref' ; {value: selectedPriceIndex, name: 'unFreezePriceIndex'}"/>
		<bind name="var" value="{isAlterablePriceMenuVisible: false}"/>
		<bind name="catch" value="'alterablePriceTagMenuVisibleChanged'"/>
		<bind name="watch" value="'isUnfreezeButtonVisible'; (isAlterablePriceMenuVisible || _rollOver) &amp;&amp; isShipFrozen"/>
		<bind name="watch" value="'isServiceButtonVisible';	(isAlterablePriceMenuVisible || _rollOver) &amp;&amp; !(isShipFrozen) &amp;&amp;
											(isNeedRepair || isNeedShell) &amp;&amp; crewId != 0"/>
		<bind name="fade" value="isServiceButtonVisible || isUnfreezeButtonVisible; 0.15; {alpha: 0, top: -10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2; 0.1"/>
		<bind name="instance" value="'DockButtonCostMedium'; isServiceButtonVisible 	? 	{	_label: 'IDS_SERVICE_C', _tooltipText: 'IDS_SERVICE_C', _prices: [{finalPrice: costTotal, currency: 'credits'}],
																			_action: 'serveShip', _actionParams: {shipId : shipEntity.ownShip.id}, _selectedPriceIndex: 0, _deficitLabel: 'IDS_SERVICE_COST'} :
											isUnfreezeButtonVisible	?	{	_label: 'IDS_UNFREEZE_FOR_PVE_BTN',
																			_deficitLabel: 'IDS_PVE_UNFREEZE_COST',
																			_tooltipText: 'IDS_UNFREEZE_COST_TOOLTIP',
																			_prices: pveCooldownCost.prices,
																			_selectedPriceIndex: selectedPriceIndex,
																			_request: 'openUnfreezeShipWindow',
																			_requestParams: {shipId: shipEntity.ownShip.id, battleType: selectedBattle.type}
																		}
																	:	null"/>
	</block>
	<block className="CarouselShipFreeze">
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="repeat" value="_freezeListArr; 'CarouselShipFreezeRenderer'; {_small: _small}"/>
	</block>
	<block className="CarouselShipFreezeRenderer">
		<bind name="entityDH" value="'shipFreezeEntity'; $value"/>
		<block type="text">
			<styleClass value="$TextDefaultBold17NM"/>
			<styleClass value="$FontColorUnready"/>
			<bind name="countdown" value="shipFreezeEntity.shipFreeze.freezeEnd; 'freezeTimer'; 'hh:mm:ss'"/>
			<bind name="pureText" value="freezeTimer"/>
		</block>
	</block>
	<block className="RentTimer">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="appear" value="'addedToStage'; 0.1; 0.1; {alpha: 0}; {alpha: 1}; 0"/>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'isRentOver'; (serverTime &gt; _timeRent)"/>
		<bind name="watch" value="'daysTimeRent';	_rentDuration 									? _rentDuration :
									(((_timeRent - serverTime) / 86400) &gt;= 1)		? (((_timeRent - serverTime) - ((_timeRent - serverTime) % 86400)) / 86400)
																					: 0"/>
		<bind name="watch" value="'secondsToHours';	((_timeRent - serverTime) % 86400)"/>
		<bind name="watch" value="'hoursTimeRent'; 	((secondsToHours / 3600) &gt; 1)	? ((secondsToHours - (secondsToHours % 3600)) / 3600) :
									((secondsToHours / 3600) &gt; 0)	? 1
																	: 0"/>
		<bind name="watch" value="'minutesTimeRent'; ((secondsToHours / 60) &gt; 1)	? ((secondsToHours - (secondsToHours % 60)) / 60) :
									((secondsToHours / 60) &gt; 0)	? 1
																: 0"/>
		<bind name="countdown" value="_timeRent; 'fullTimeRent'; 'hh:mm:ss'"/>
		<bind name="timeFormat" value="_rentUntil; 'dd.MM.yy'; 'formattedRentTill'; true"/>
		<bind name="watch" value="'isClanRent'; _shipGroup == 'clan'"/>
		<bind name="watch" value="'textColorClass'; isClanRent ? '$None' : '$FontColorGolden'"/>
		<bind name="tooltip" value="	isClanRent 	? 'CvcRentTimerTooltip' : 'RentTimerTooltip'; { _timeRent: _timeRent, _isRentOver: isRentOver }"/>
		<style>
			<flow value="horizontal"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<bind name="visible" value="!(isRentOver) || _rentDuration"/>
			<bind name="transition" value="rollOver || !(isClanRent) || (isClanRent &amp;&amp; daysTimeRent &lt; 2) || _forceShow; 0.07; {alpha: 0, left: 20}; {alpha: 1, left: 0}; {alpha: 0, left: 20}"/>
			<block>
				<bind name="visible" value="(daysTimeRent != 0)"/>
				<style>
					<marginRight value="2px"/>
					<marginTop value="-2px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$FontColorGolden"/>
					<bind name="text" value="daysTimeRent"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="-2px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$FontColorGolden"/>
					<bind name="pluralText" value="'IDS_PL_DAY_FULL_ACC'; daysTimeRent"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="((daysTimeRent &lt; 2) &amp;&amp; (daysTimeRent != 0) &amp;&amp; (hoursTimeRent != 0))"/>
				<style>
					<marginRight value="2px"/>
					<marginLeft value="-2px"/>
					<marginTop value="-2px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$FontColorGolden"/>
					<bind name="text" value="hoursTimeRent"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="-2px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$FontColorGolden"/>
					<bind name="pluralText" value="'IDS_PL_HOUR_FULL_ACC'; hoursTimeRent"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block type="text">
				<bind name="visible" value="(daysTimeRent == 0)"/>
				<style>
					<width value="58px"/>
					<marginRight value="-2px"/>
					<marginTop value="-2px"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$FontColorGolden"/>
				<bind name="text" value="_rentUntil ? formattedRentTill : fullTimeRent"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="21px"/>
				<height value="21px"/>
			</style>
			<bind name="style" value="'backgroundImage'; (daysTimeRent == 0) ? 'url:../service_kit/icons/icon_rent_orange.png'
															: 'url:../service_kit/icons/icon_rent_white.png'"/>
		</block>
	</block>
	<block className="ShipCarouselSlotStatus">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="visible" value="!(dockDefaultValues.goToBattleState)"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<block type="text">
			<style>
				<maxWidth value="180"/>
				<textAlign value="center"/>
				<leading value="-3"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextCarouselShipStatus"/>
			<bind name="class" value="_small ? '$FontSizeDefault' : '$None'"/>
			<bind name="class" value="isPositive ? '$FontColorComparePositive' : '$None'"/>
			<bind name="text" value="_status"/>
		</block>
	</block>
	<block className="CarouselNaturalIndicator">
		<block>
			<block type="text">
				<styleClass value="$TextSmallWhite"/>
				<bind name="text" value="_label"/>
			</block>
			<block>
				<bind name="instance" value="'PriceTag'; { priceInfo: _priceInfo, _showDiscountTag: true, _small: true}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'GoldDeficitNano';	(_priceInfo.currency == 'gold')		?	{ _goldDeficit: _deficit } : null"/>
			<bind name="instance" value="'CRDeficitNano';	(_priceInfo.currency == 'credits')	?	{ _creditsDeficit: _deficit } : null"/>
		</block>
	</block>
	<block className="DockButtonCostMedium">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountResource';	['resourceEntity.accountResource.evChangedGold, resourceEntity.accountResource.credits']; resourceEntity.accountResource"/>
		<bind name="watch" value="'priceIndex'; (_prices.length &gt; 1 ? _selectedPriceIndex : 0)"/>
		<bind name="watch" value="'priceDeficit'; 	_prices[priceIndex].finalPrice -
									accountResource[_prices[priceIndex].currency]"/>
		<styleClass value="$MiddleVAligned"/>
		<styleClass value="$MiddleAligned"/>
		<bind name="watch" value="'isButtonEnabled'; (_prices.length &gt; 1 || priceDeficit &lt;= 0)"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block className="button_dock" type="native">
				<style>
					<marginBottom value="-8px"/>
					<marginLeft value="-16px"/>
					<marginRight value="-16px"/>
					<marginTop value="-8px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="enabled" value="isButtonEnabled"/>
				<bind name="style" value="'hitTest'; isButtonEnabled"/>
				<bind name="event" value="'buttonClick'; _method ? _method : null"/>
				<bind name="request" value="'buttonClick'; _request ? _request : null; _request ? _requestParams : null"/>
				<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			</block>
			<bind name="watch" value="'isDeficitLabel'; (_prices.length == 1 &amp;&amp; priceDeficit &gt; 0)"/>
			<block>
				<style>
					<hitTest value="false"/>
				</style>
				<block type="text">
					<style>
						<alpha value="0.9"/>
					</style>
					<bind name="class" value="(isDeficitLabel ? '$TextDefaultNM': '$TextDefaultBoldNM')"/>
					<styleClass value="$TextDefaultBoldNM"/>
					<bind name="text" value="isDeficitLabel ? _deficitLabel : _label"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="style" value="'marginTop'; isDeficitLabel ? '0px' : '4px'"/>
			<style>
				<marginBottom value="-9px"/>
			</style>
			<bind name="instance" value="'AlterablePriceTag'; {	_tooltipText: _tooltipText,
												_prices: _prices, _showDiscountTag: true,
												_selectedPriceIndex: priceIndex}"/>
		</block>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<block>
			<bind name="visible" value="_prices.length == 1"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<hitTest value="false"/>
				<marginBottom value="-3px"/>
			</style>
			<bind name="instance" value="'PriceDeficit'; priceDeficit &gt; 0 ? { priceInfo: _prices[priceIndex], _deficit: priceDeficit} : null"/>
		</block>
	</block>
	<block className="CvcRentTimerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="timeFormat" value="_timeRent; 'hh:mmdd.MM.yyyy'; 'formattedRentTime'; true"/>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginTop value="16px"/>
				<marginBottom value="16px"/>
				<marginLeft value="16px"/>
				<marginRight value="16px"/>
				<leading value="-1"/>
			</style>
			<styleClass value="$TextDefaultBold17NM"/>
			<bind name="text" value="'IDS_TOOLTIP_CVC_RENT_SHIP'"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginTop value="12px"/>
				<marginLeft value="16px"/>
				<marginRight value="16px"/>
				<marginBottom value="16px"/>
				<leading value="1"/>
			</style>
			<styleClass value="$TextDefault17NM"/>
			<bind name="text" value="_isRentOver ? 'IDS_TOOLTIP_CVC_RENT_SHIP_CHANGE_SOON'
								: subst('IDS_TOOLTIP_CVC_RENT_SHIP_TIME_CHANGE', [], {time_date: formattedRentTime})"/>
		</block>
	</block>
	<block className="RentTimerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="320px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'secondsUntil'; _timeRent - serverTime - 1"/>
		<bind name="watch" value="'seconds'; secondsUntil &gt; 0 ? secondsUntil : 0"/>
		<bind name="watch" value="'minutes'; (seconds - (seconds % 60)) / 60"/>
		<bind name="watch" value="'hours'; (seconds - (seconds % 3600)) / 3600"/>
		<bind name="watch" value="'days'; (seconds - (seconds % 86400)) / 86400"/>
		<bind name="watch" value="'tooltipText'; tr('IDS_TOOLTIP_RENT_SHIP') +
								(days != 0						? ' ' + days + '' + subst('IDS_PL_DAY_FULL_ACC', [], {}, days) : '') +
								(hours != 0	&amp;&amp; days == 0		? ' ' + hours + '' + subst('IDS_PL_HOUR_FULL', [], {}, hours) : '') + 
								(minutes != 0 &amp;&amp; hours == 0 	? ' ' + minutes + '' + subst('IDS_PL_MINUTE_FULL_ACC', [], {}, minutes) : '') + 
								(seconds != 0 &amp;&amp; minutes == 0 	? ' ' + seconds + '' + subst('IDS_PL_SECOND_FULL', [], {}, seconds) 
																: '')"/>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginTop value="16px"/>
				<marginLeft value="16px"/>
				<marginRight value="16px"/>
				<marginBottom value="16px"/>
				<leading value="1"/>
			</style>
			<styleClass value="$TextDefault17NM"/>
			<bind name="text" value="tooltipText"/>
		</block>
	</block>
	<block className="PeculiarityFiltersContent">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextDefaultBold17NM"/>
				<bind name="text" value="'IDS_ADDITIONAL_CONTENT'"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<bind name="watch" value="'categoryArray'; [{category: 'event'}, {category: 'historical'}, {category: 'author'}]"/>
		<bind name="repeat" value="categoryArray; 'PeculiarityFiltersCategory'; {}"/>
	</block>
	<block className="PeculiarityFiltersCategory">
		<bind name="tooltip" value="'PeculiarityFiltersCategorySubMenu'; {_category: category}; TooltipBehaviour.contextSubmenuNoClickHide"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$ContextMenuListItem"/>
			<block>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="'IDS_SHIP_FILTER_' + toUpperCase(category)"/>
				</block>
			</block>
			<block className="button_expand_h" type="native">
				<style>
					<position value="absolute"/>
					<right value="12px"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
			</block>
		</block>
	</block>
	<block className="PeculiarityFiltersCategorySubMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$LeftSubMenuBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="collectionDH" value="CC.peculiarityEye; 'peculiaritiesEyeCategoryTypes'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'peculiaritiesEyeCategoryTypes'+'ROOT'; 'peculiaritiesEyeCategoryTypes'; {'filter': $entity.peculiarityEye.category == _category}; []"/>
		<bind name="repeat" value="peculiaritiesEyeCategoryTypes; 'PeculiarityFilterItem'; {}"/>
	</block>
	<block className="PeculiarityFilterItem">
		<bind name="entityDH" value="'peculiarityEyeEntity'; id"/>
		<bind name="watchDH" value="'ids'; []; peculiarityEyeEntity.peculiarityEye.ids"/>
		<bind name="watchDH" value="'value'; []; peculiarityEyeEntity.peculiarityEye.value"/>
		<bind name="watchDH" value="'enabled'; ['peculiarityEyeEntity.peculiarityEye.evEnabledChanged']; peculiarityEyeEntity.peculiarityEye.enabled"/>
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked'; ['resourceEntity.accountResource.evOperationsLockChanged']; resourceEntity.accountResource.operationsLocked"/>
		<bind name="clickSplit"/>
		<style>
			<width value="300px"/>
		</style>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: enabled ? tr(ids + '_TAKE_OFF_SKIN_TOOLTIP') : tr(ids + '_SET_SKIN_TOOLTIP')}"/>
		<bind name="action" value="'left_click'; 'ServerUIDataUSS.setPecularity'; { pecId: value }"/>
		<bind name="name" value="'CarouselCheckBoxEye_pecularity_' + ids"/>
		<block className="dock_submenu_item" type="native">
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<style>
						<maxWidth value="250"/>
					</style>
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="ids"/>
				</block>
			</block>
			<block className="icon_eye_visible" type="native">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<right value="12px"/>
					<hitTest value="false"/>
				</style>
				<bind name="enabled" value="!operationsAccountLocked"/>
				<bind name="selected" value="enabled"/>
			</block>
		</block>
	</block>
	<block className="ShipSlotNameBackPanel">
		<styleClass value="$ShipSlotBottomDarkPanel"/>
		<bind name="style" value="'margin'; (_selected || _rollOver) ? '1px' : '0px'"/>
		<bind name="style" value="'bottom'; (_selected || _rollOver) ? '2px' : '0px'"/>
		<bind name="style" value="'height'; (_selected || _rollOver)? '26px': '27px'"/>
	</block>
	<block className="BlackDivider1">
		<bind name="class" value="'$ArcEventBackgroundColorDark'"/>
		<bind name="style" value="'width'; 	_vertical ? '1px' : '100%'"/>
		<bind name="style" value="'height'; 	_vertical ? '100%' : '1px'"/>
	</block>
	<block className="BlackDivider2">
		<bind name="class" value="'$ArcEventBackgroundColorDark'"/>
		<bind name="style" value="'width'; 	_vertical ? '2px' : '100%'"/>
		<bind name="style" value="'height'; 	_vertical ? '100%' : '2px'"/>
	</block>
	<block className="BlackDivider4">
		<bind name="class" value="'$ArcEventBackgroundColorDark'"/>
		<bind name="style" value="'width'; 	_vertical ? '4px' : '100%'"/>
		<bind name="style" value="'height'; 	_vertical ? '100%' : '4px'"/>
	</block>
	<css name="$ArcEventTooltipMargins">
		<margin value="16px|12px"/>
	</css>
	<css name="$ArcEventBackgroundColorLight">
		<backgroundColor value="0xffb5a98f"/>
	</css>
	<css name="$ArcEventTextColorLight">
		<textColor value="0xffe8d8b9"/>
	</css>
	<css name="$ArcEventBackgroundColorDark">
		<backgroundColor value="0xff2f3034"/>
	</css>
	<css name="$ArcEventTextColorDark">
		<textColor value="0xff2f3034"/>
	</css>
	<css name="$ArcEventTextStyle">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
		<textColor value="0xff2f3034"/>
	</css>
	<css name="$TextModernizationCostCr">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextModernizationCostGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextModernizationCostDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="ModernizationSlotInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId"/>
		<bind name="watchDH" value="'isLocked';			['shipOwnEntity.ownShip.evUpdateLock'];		shipOwnEntity.ownShip.isLocked"/>
		<bind name="watchDH" value="'isInFormation';	['shipOwnEntity.ownShip.evUpdateLock'];		shipOwnEntity.ownShip.isInFormation"/>
		<styleClass value="$VerticalInfotipBehaviourCenter"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="-13px"/>
				<marginRight value="-13px"/>
				<marginTop value="-9px"/>
				<marginBottom value="-18px"/>
			</style>
		</block>
		<block className="dock_panel_pin" type="native">
			<bind name="gotoAndStop!" value="'up'"/>
			<params>
				<param name="name" value="pinTop"/>
			</params>
			<style>
				<position value="absolute"/>
				<top value="-10px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="350px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="list; 'ModernizationSlotInfotipItem'"/>
			</block>
			<block>
				<bind name="visible" value="!(isLocked || isInFormation)"/>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorStrongBlueish'"/>
					<text value="IDS_CHOOSE_MODERNIZATION"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!!(isLocked || isInFormation)"/>
				<styleClass value="$InfoBlockIndent"/>
				<block className="icon_warning_orange" type="native">
					<style>
						<marginTop value="4px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<style>
						<maxWidth value="300"/>
					</style>
					<bind name="class" value="'$FontColorUnready'"/>
					<bind name="text" value="isInFormation				? (divisionEntranceData.divisionType == 'party')	? 'IDS_SET_UNREADY_PARTY_FIRST_TO_BUY_MODERNIZATION'
																											: 'IDS_SET_UNREADY_DIVISION_FIRST_TO_BUY_MODERNIZATION'
														 : 'IDS_LEAVE_BATTLE_FIRST_TO_BUY_MODERNIZATION'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="dock_panel_pin" type="native">
				<bind name="gotoAndStop!" value="'down'"/>
				<params>
					<param name="name" value="pinBottom"/>
				</params>
				<style>
					<position value="absolute"/>
					<bottom value="-9"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ModernizationEmptySlotTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId"/>
		<bind name="watchDH" value="'isLocked';			['shipOwnEntity.ownShip.evUpdateLock'];		shipOwnEntity.ownShip.isLocked"/>
		<bind name="watchDH" value="'isInFormation';	['shipOwnEntity.ownShip.evUpdateLock'];		shipOwnEntity.ownShip.isInFormation"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap3" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="350px"/>
				<marginTop value="9px"/>
			</style>
			<bind name="repeat" value="list; 'ModernizationSlotInfotipItem'; {_showInTooltip: true}"/>
		</block>
		<block>
			<bind name="visible" value="!(isLocked || isInFormation)"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_TOOLTIP_EMPTY_SLOT', _maxWidth: 300 }"/>
		</block>
		<block>
			<bind name="visible" value="(isLocked || isInFormation)"/>
			<styleClass value="$InfoBlockIndent"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<style>
					<maxWidth value="300"/>
				</style>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="text" value="isInFormation				? (divisionEntranceData.divisionType == 'party')	? 'IDS_SET_UNREADY_PARTY_FIRST_TO_BUY_MODERNIZATION'
																										: 'IDS_SET_UNREADY_DIVISION_FIRST_TO_BUY_MODERNIZATION'
													 : 'IDS_LEAVE_BATTLE_FIRST_TO_BUY_MODERNIZATION'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ModernizationSlotInfotipItem">
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId"/>
		<bind name="watchDH" value="'isLocked';			['shipOwnEntity.ownShip.evUpdateLock'];		shipOwnEntity.ownShip.isLocked"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'MODS_COST_Demontage'; 'unmountPrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + modNumericId; 'priceInfoSet'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_INFO + 'SELL_COEF'; 'sellCoef'"/>
		<bind name="var" value="{unmountCost:unmountPrice.prices[0].finalPrice}"/>
		<bind name="catch" value="'selectedPriceChanged'"/>
		<bind name="var" value="{ selectedPriceIndex: 0 }"/>
		<bind name="watch" value="'validSelectedPriceIndex'; selectedPriceIndex &gt;= priceInfoSet.prices.length ? 0 : selectedPriceIndex"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="title"/>
		<style>
			<width value="100%"/>
			<height value="70px"/>
		</style>
		<block>
			<bind name="tooltip" value="'ModernizationTooltip'; {installed:installed, iconPath: iconPath, title: title, _attributesPositive: attributesPositive, _attributesNegative: attributesNegative,
												_attributesNeutral: attributesNeutral, numInStorage:numInStorage, tooltiptype: 0, priceInfoSet: priceInfoSet, _modId: modId, 
												type:type, description: description}; 0"/>
			<styleClass value="$Fullsize"/>
			<block>
				<bind name="request" value="'click'; !isLocked ? 'modernizationClicked' : null; {modId:modId, slotId:slotId, selectedCurrency: priceInfoSet.prices[validSelectedPriceIndex].currencyID, selectedPriceIndex: validSelectedPriceIndex}"/>
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<bind name="menu" value="'SelectUnmountTypeInfotip'; !isLocked					? {sellCoef: sellCoef, numInStorage:numInStorage, installed:installed, modId:modId, slotId:slotId, _unmountPriceInfo: unmountPrice.prices[0], purchasePriceInfo: priceInfoSet.prices[validSelectedPriceIndex], selectedPriceIndex: validSelectedPriceIndex }
																					: null; null; 'selectUnmountTypeInfotipVisible'"/>
					<bind name="selected" value="(installed || selectUnmountTypeInfotipVisible)"/>
					<styleClass value="$Fullsize"/>
					<params>
						<param name="soundSet" value="dropmenu_button"/>
					</params>
					<bind name="action" value="'rollOver'; 'ServerUIDataUSS.setModernizationSeen'; { modId: modId }"/>
				</block>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<style>
					<position value="absolute"/>
					<marginTop value="10px"/>
				</style>
				<block>
					<style>
						<width value="70px"/>
						<marginTop value="-6px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="style" value="'backgroundImage'; 'url:' + iconPath"/>
						<styleClass value="$MiddleAligned"/>
						<style>
							<width value="60px"/>
							<height value="60px"/>
							<backgroundStretchX value="true"/>
							<backgroundStretchY value="true"/>
							<hitTest value="false"/>
						</style>
					</block>
				</block>
				<block>
					<bind name="class" value="isLocked ? '$MouseDisable' : '$MouseEnable'"/>
					<style>
						<width value="100%"/>
					</style>
					<block>
						<style>
							<width value="150px"/>
							<marginTop value="-5px"/>
						</style>
						<block type="text">
							<style>
								<width value="100%"/>
								<leading value="-2"/>
								<hitTest value="false"/>
							</style>
							<styleClass value="$TextDefaultBold"/>
							<bind name="text" value="'IDS_TITLE_' + toUpperCase(title)"/>
							<bind name="class" value="installed ? '$FontColorGolden' : '$FontColorWhite'"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="class" value="isLocked ? '$MouseDisable' : '$MouseEnable'"/>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<right value="10px"/>
			</style>
			<block>
				<style>
					<right value="0px"/>
					<marginTop value="6px"/>
					<width value="24px"/>
					<height value="24px"/>
				</style>
				<bind name="visible" value="installed &amp;&amp; rollOver &amp;&amp; !isLocked"/>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:2, slotId:slotId, modId:modId, selectedCurrency:priceInfoSet.prices[validSelectedPriceIndex].currencyID, selectedPriceIndex: validSelectedPriceIndex}"/>
				<block className="button_cross" type="native">
					<bind name="name" value="'ButtonUnmount'"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_UNMOUNT'}], _maxWidth: 250 }"/>
					<params>
						<param name="soundSet" value="dropmenu_button"/>
					</params>
				</block>
			</block>
			<block>
				<bind name="name" value="'installed_' + title"/>
				<style>
					<right value="6px"/>
					<marginTop value="12px"/>
				</style>
				<block className="icon_check" type="native"/>
				<bind name="visible" value="(installed &amp;&amp; !rollOver) || (isLocked &amp;&amp; installed)"/>
			</block>
			<block>
				<bind name="name" value="'bought_' + title"/>
				<bind name="visible" value="numInStorage &gt; 0 &amp;&amp; !installed"/>
				<style>
					<right value="0px"/>
					<marginTop value="6px"/>
					<hitTest value="false"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<text value="IDS_IN_WAREHOUSE"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="text" value="numInStorage"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="class" value="$parent.isLocked ? '$MouseDisable' : '$MouseEnable'"/>
			<bind name="visible" value="!installed &amp;&amp; (numInStorage == 0) &amp;&amp; !(_showInTooltip)"/>
			<style>
				<position value="absolute"/>
				<right value="12px"/>
				<marginTop value="5px"/>
			</style>
			<block>
				<style>
					<right value="0"/>
				</style>
				<bind name="instance" value="'AlterablePriceTag'; {_prices: priceInfoSet.prices, _showDiscountTag: true, _selectedPriceIndex: validSelectedPriceIndex}"/>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="12px"/>
				<marginTop value="6px"/>
			</style>
			<bind name="visible" value="!installed &amp;&amp; (numInStorage == 0) &amp;&amp; _showInTooltip"/>
			<block>
				<style>
					<right value="0px"/>
				</style>
				<bind name="visible" value="priceInfoSet.prices[0].finalPrice &gt; 0"/>
				<bind name="instance" value="'PriceTag'; { priceInfo:priceInfoSet.prices[0], _showDiscountTag:true}"/>
			</block>
			<block>
				<style>
					<marginTop value="3px"/>
				</style>
				<block type="text">
					<style>
						<marginRight value="3px"/>
					</style>
					<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<text value="IDS_OR"/>
				</block>
				<block>
					<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'PriceTag'; { priceInfo:priceInfoSet.prices[1], _showDiscountTag:true }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<bottom value="0px"/>
				<position value="absolute"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModernizationTooltip">
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId"/>
		<bind name="watchDH" value="'isLocked';			['shipOwnEntity.ownShip.evUpdateLock'];			shipOwnEntity.ownShip.isLocked"/>
		<bind name="watchDH" value="'_playerShipParams';	['shipOwnEntity.ownShip.evShipParamsUpdate'];	shipOwnEntity.ownShip.params"/>
		<bind name="changeDispatch" value="shipId + _modId; 'evCompareChanged'"/>
		<bind name="dispatch" value="'Tooltip.selfOpened'; 'evCompareChanged'"/>
		<bind name="action" value="'evCompareChanged'; 'getShipWithUpgrade'; {id: _modId, type : 'modernization', shipId: shipId}"/>
		<bind name="primaryEntityDH" value="'compareItemEntity'; CC.compareItem; 'modernization_' + _modId"/>
		<bind name="watchDH" value="'modernizationCompare'; ['compareItemEntity.compareItem.evUpdate']; compareItemEntity.dataComponent.data"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="340px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<paddingTop value="8px"/>
					<paddingBottom value="8px"/>
					<paddingLeft value="6px"/>
					<paddingRight value="6px"/>
				</style>
				<block>
					<bind name="style" value="'backgroundImage'; 'url:' + iconPath"/>
					<style>
						<width value="60px"/>
						<height value="60px"/>
						<backgroundStretchX value="true"/>
						<backgroundStretchY value="true"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="6px"/>
						<marginTop value="-1px"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeaderBold"/>
						<style>
							<width value="100%"/>
							<leading value="-5"/>
						</style>
						<bind name="text" value="'IDS_TITLE_' + toUpperCase(title)"/>
						<bind name="class" value="installed ? '$FontColorGolden' : '$FontColorWhite'"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<style>
							<width value="100%"/>
							<marginTop value="-4px"/>
						</style>
						<bind name="class" value="installed ? '$FontColorGolden' : '$FontColorWhite'"/>
						<bind name="text" value="'IDS_MODERNIZATION_' + toUpperCase(type)"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<bind name="visible" value="(numInStorage &gt; 0) &amp;&amp; !(installed)"/>
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="text" value="tr('IDS_IN_WAREHOUSE') + ' ' + numInStorage"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="2px"/>
					</style>
					<bind name="visible" value="installed"/>
					<block className="icon_check" type="native">
						<styleClass value="$MiddleVAligned"/>
					</block>
					<block type="text">
						<style>
							<marginLeft value="4px"/>
						</style>
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="class" value="'$FontColorGolden'"/>
						<text value="IDS_MODERNIZATION_IS_INSTALLED"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="visible" value="numInStorage == 0 &amp;&amp; !(installed)"/>
					<block>
						<bind name="visible" value="priceInfoSet.prices[0].finalPrice &gt; 0"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="instance" value="'PriceTagWithLabel'; { priceInfo:priceInfoSet.prices[0], _showDiscountTag:true, _label: 'IDS_PURCHASE_COST'}"/>
					</block>
					<block type="text">
						<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<text value="IDS_OR"/>
					</block>
					<block>
						<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="instance" value="'PriceTag'; { priceInfo:priceInfoSet.prices[1], _showDiscountTag:true }"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<style>
						<maxWidth value="315"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="'IDS_DESC_' + toUpperCase(description)"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$Fullsize"/>
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<paddingTop value="16px"/>
						<paddingLeft value="12px"/>
						<paddingRight value="12px"/>
					</style>
					<bind name="instance" value="'ParamsModifierList'; { _attributesPositive: _attributesPositive,
														_attributesNegative: _attributesNegative,
														_attributesNeutral:	_attributesNeutral}"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 0; null; 'tooltipShipParams'; _playerShipParams; modernizationCompare; 1; 0; null; 1; 1; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'ParamsAfterMount'; !installed &amp;&amp; viewParams.hasDiff ? { _viewParams: 	viewParams,
																									_title: 'IDS_AFTER_MOUNT'}
																								 	: null"/>
			</block>
			<block>
				<bind name="visible" value="!isLocked &amp;&amp; (tooltiptype!='modalWindow')"/>
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; !installed &amp;&amp; numInStorage == 0 ? { _type: 'left', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_PURCHASE_AND_INSTALL', _maxWidth: '270'} :
												installed &amp;&amp; tooltiptype == 0	? { _type: 'right', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_INSTALLED_ITEM', _maxWidth: '270'} :
												installed &amp;&amp; tooltiptype == 1	? { _type: 'left', _instructionText: 'IDS_TOOLTIP_EMPTY_SLOT', _maxWidth: '270'} :
												!installed &amp;&amp; numInStorage &gt; 0	? { _type: 'left', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_INSTALL', _maxWidth: '270'}
																				: null"/>
			</block>
		</block>
	</block>
	<block className="SelectUnmountTypeInfotip">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountGold';		['resourceEntity.accountResource.evChangedGold'];	resourceEntity.accountResource.gold"/>
		<bind name="watchDH" value="'accountCredits';	['resourceEntity.accountResource.evChangedCredit'];	resourceEntity.accountResource.credits"/>
		<bind name="watch" value="'curCurrencyResource'; ((_unmountPriceInfo.currency == 'gold') ? accountGold : accountCredits)"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<bind name="visible" value="installed"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<bind name="name" value="'RemoveInSelectUnmountTypeInfotip'"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:2, modId:modId, slotId:slotId, selectedCurrency: purchasePriceInfo.currencyID, selectedPriceIndex: selectedPriceIndex }"/>
				<styleClass value="$ContextMenuListItem"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<right value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<text value="IDS_UNMOUNT"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; { 	priceInfo: _unmountPriceInfo, 
													_showDiscountTag: true, 
													_deficit: _unmountPriceInfo.finalPrice - curCurrencyResource}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="dock_submenu_item" type="native">
				<bind name="name" value="'DestroyInSelectUnmountTypeInfotip'"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:8, slotId:slotId, modId:modId, selectedCurrency: purchasePriceInfo.currencyID, selectedPriceIndex: selectedPriceIndex }"/>
				<styleClass value="$ContextMenuListItem"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<right value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<style>
							<hitTest value="false"/>
						</style>
						<text value="IDS_SELL"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; { priceInfo:  {finalPrice: (purchasePriceInfo.finalPrice) * (sellCoef.prices[0].finalPrice), currency: 'credits'}}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="!installed"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:1, slotId:slotId, modId:modId, selectedCurrency: purchasePriceInfo.currencyID, selectedPriceIndex: selectedPriceIndex }"/>
				<styleClass value="$ContextMenuListItem"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<right value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<text value="IDS_INSTALL"/>
					</block>
					<block>
						<bind name="visible" value="numInStorage == 0"/>
						<bind name="instance" value="'PriceTag'; { priceInfo: purchasePriceInfo, _showDiscountTag:true }"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="SelectModarnizationActionInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountGold';		['resourceEntity.accountResource.evChangedGold'];	resourceEntity.accountResource.gold"/>
		<bind name="watchDH" value="'accountCredits';	['resourceEntity.accountResource.evChangedCredit'];	resourceEntity.accountResource.credits"/>
		<bind name="watch" value="'curCurrencyResource'; ((unmountPrice.prices[0].currency == 'gold') ? accountGold : accountCredits)"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'MODS_COST_Demontage'; 'unmountPrice'"/>
		<bind name="var" value="{unmountCost: unmountPrice.prices[0].finalPrice}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="168px"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="dispatch" value="'click'; 'unmountTypeChanged'; {unmountFlag: LobbyConstants.MODERNIZATION_UNSET}"/>
				<bind name="selected" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_UNSET"/>
				<style>
					<width value="100%"/>
					<height value="24px"/>
				</style>
				<block>
					<style>
						<right value="2px"/>
						<hitTest value="false"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_UNSET ? '$Bold' : '$None'"/>
						<text value="IDS_UNMOUNT"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; { 	priceInfo: unmountPrice.prices[0], _showDiscountTag: true, 
													_deficit: unmountPrice.prices[0].finalPrice - curCurrencyResource}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="dispatch" value="'click'; 'unmountTypeChanged'; {unmountFlag: LobbyConstants.MODERNIZATION_SELL}"/>
				<bind name="selected" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_SELL"/>
				<style>
					<width value="100%"/>
					<height value="24px"/>
				</style>
				<block>
					<bind name="visible" value="action == 0"/>
					<style>
						<right value="4px"/>
						<hitTest value="false"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_SELL ? '$Bold' : '$None'"/>
						<text value="IDS_SELL"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; {priceInfo: {finalPrice: sellCost, currency: 'credits'}}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="ModernizationsParams">
		<bind name="controller" value="lesta.unbound.core.UbController"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="6px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="percent &gt; 0 ? '+' + percent + '%' + ' ' + ids
									: percent &lt; 0 	? percent + '%' + ' '+ ids
													: percent == 0 ? ids
																	: ' '"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CarouselFilters">
		<bind name="stageSize"/>
		<bind name="watch" value="'isFourRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 160)) : true"/>
		<bind name="watch" value="'isThreeRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 88)) : true"/>
		<bind name="watch" value="'curCarouselRows';	(userPrefs.curRowCountIndex == null)															? 0 :
									(userPrefs.curRowCountIndex == 2 &amp;&amp; isFourRowsEnabled)											? 2 :
									((userPrefs.curRowCountIndex == 2 || userPrefs.curRowCountIndex == 1) &amp;&amp; isThreeRowsEnabled)	? 1
																																	: 0"/>
		<bind name="action" value="'carouselRowsCountChangedByStageHeight'; 'setUserPref' ; {value : curCarouselRows, name: 'curRowCountIndex'}"/>
		<bind name="changeDispatch" value="curCarouselRows; 'carouselRowsCountChangedByStageHeight'"/>
		<bind name="feature" value="13;''"/>
		<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITH_COMMANDER', value: false, ident: 0 }"/>
		<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITHOUT_COMMANDER', value: false, ident: 0 }"/>
		<style>
			<marginLeft value="7px"/>
			<height value="30px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="name" value="'CarouselFiltersButton'"/>
			<block className="button_carousel_filters" type="native">
				<bind name="tooltip" value="'CarouselFiltersInfotip'; {	_isSmallCarouselView: isSmallCarouselView,
														_isFilteredShipsHided: isFilteredShipsHided}; TooltipBehaviour.verticalInfotipSwitch; null; 'carouselFiltersInfotipIsVIsible'"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_TOOLTIP_CAROUSEL_FILTERS'}], _maxWidth: 240 }"/>
				<bind name="selected" value="carouselFiltersInfotipIsVIsible"/>
			</block>
		</block>
		<bind name="catch" value="'shipNameFIlterInfotipSelectedChanged'"/>
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<bind name="watchDH" value="'selectedFilters'; ['panelEntity.shipRestrictions.evUpdate']; panelEntity.shipRestrictions.selectedFilters"/>
		<block>
			<style>
				<height value="32px"/>
				<marginTop value="-4px"/>
				<marginRight value="12px"/>
				<marginLeft value="4px"/>
			</style>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
			<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
			<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
			<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
			<block>
				<block className="HasTrainingRoomRestrictions">
					<bind name="watchDH" value="'shipRestrictions' ; ['trainingRoomEntity.shipRestrictions.evUpdate']; trainingRoomEntity.shipRestrictions.selectedFilters"/>
					<bind name="watchDH" value="'shipsCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.shipsCount"/>
					<bind name="watchDH" value="'typesCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.typesCount"/>
					<bind name="primaryEntityDH" value="'defaultRestrictionsEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
					<bind name="watchDH" value="'defaultTypesCount' ; ['defaultRestrictionsEntity.divisionRestrictions.evUpdate']; defaultRestrictionsEntity.divisionRestrictions.typesCount"/>
					<bind name="collectionDH" value="CC.shipFilterItem; 'idsfilters'+'ROOT'"/>
					<bind name="collectionDesign" value="'DES_'+'idsfilters'+'ROOT'; 'idsfilters'; {'filter':$entity.shipFilterItem.type == 'shipId' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
					<bind name="collectionDH" value="CC.shipFilterItem; 'levelfilters'+'ROOT'"/>
					<bind name="collectionDesign" value="'DES_'+'levelfilters'+'ROOT'; 'levelfilters'; {'filter':$entity.shipFilterItem.type == 'level' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
					<bind name="collectionDH" value="CC.shipFilterItem; 'nationfilters'+'ROOT'"/>
					<bind name="collectionDesign" value="'DES_'+'nationfilters'+'ROOT'; 'nationfilters'; {'filter':$entity.shipFilterItem.type == 'nation' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
					<bind name="collectionFields" value="levelfilters; ['shipFilterItem.field']"/>
					<bind name="contains" value="typesCount; $item[1] == -1; 'isAnyShipTypeNotAllowed'"/>
					<bind name="watch" value="'isCarriersRestricted'; typesCount[ShipTypes.AircraftCarrier] &amp;&amp; typesCount[ShipTypes.AircraftCarrier][1] != defaultTypesCount[ShipTypes.AircraftCarrier][1]"/>
					<bind name="watch" value="'isBattleShipsRestricted'; typesCount[ShipTypes.BattleShip] &amp;&amp; typesCount[ShipTypes.BattleShip][1] != defaultTypesCount[ShipTypes.BattleShip][1]"/>
					<bind name="watch" value="'isCruisersRestricted'; typesCount[ShipTypes.Cruiser] &amp;&amp; typesCount[ShipTypes.Cruiser][1] != defaultTypesCount[ShipTypes.Cruiser][1]"/>
					<bind name="watch" value="'isDestroyersRestricted'; typesCount[ShipTypes.Destroyer] &amp;&amp; typesCount[ShipTypes.Destroyer][1] != defaultTypesCount[ShipTypes.Destroyer][1]"/>
					<bind name="watch" value="'isAnyShipTypeRestricted'; isCarriersRestricted || isBattleShipsRestricted || isCruisersRestricted || isDestroyersRestricted"/>
					<bind name="watch" value="'hasTrainingRoomRestrictions'; (idsfilters.length &gt; 0)			||
												(shipTypefilters.length &gt; 0)	||
												(levelfilters.length &gt; 0)		||
												(nationfilters.length &gt; 0)		||
												isShipFilterRestrictionsVisible"/>
					<bind name="watch" value="'isShipFilterRestrictionsVisible'; isAnyShipTypeRestricted &amp;&amp; isAnyShipTypeNotAllowed"/>
				</block>
				<bind name="watch" value="'pveFilterVisible'; selectedBattle.type == BattleTypes.PVE_BATTLE"/>
				<bind name="watch" value="'trainingFilterVisible'; trainingRoomEntity &amp;&amp; hasTrainingRoomRestrictions"/>
				<bind name="watch" value="'rankedFilterVisible'; selectedBattle.type == BattleTypes.RANKED_BATTLE"/>
				<bind name="watch" value="'eventFilterVisible'; selectedBattle.type == BattleTypes.EVENT_BATTLE"/>
				<bind name="watch" value="'clanFilterVisible'; selectedBattle.type == BattleTypes.CLAN_BATTLE"/>
				<bind name="watch" value="'battleTypeFilterVisible'; pveFilterVisible || trainingFilterVisible || rankedFilterVisible ||
													eventFilterVisible || clanFilterVisible"/>
				<bind name="instance" value="'AppliedHardSystemFilter'; battleTypeFilterVisible ? {}	: null"/>
			</block>
			<block>
				<bind name="instance" value="'AppliedFilterText'; {shipNameFilterInfotipSelected: shipNameFilterInfotipSelected, _panelEntityId: panelEntity.id}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'level', _panelEntityId: panelEntity.id}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipType', _panelEntityId: panelEntity.id}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'nation', _panelEntityId: panelEntity.id}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'special', _panelEntityId: panelEntity.id}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<bind name="instance" value="'ResetAllFilters'; selectedFilters.length &gt; 0 ? {} : null"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CarouselFiltersInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'selectedFilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'selectedFilters'+'ROOT'; 'selectedFilters'; {'filter':isIn($entity.id, panelEntity.shipRestrictions.selectedFilters)}; []"/>
		<styleClass value="$VerticalInfotipBehaviourCenterUpper"/>
		<bind name="dispatch" value="'carouselRowsCountChanged'; 'Tooltip.Place'; {}; 2; 0.15"/>
		<bind name="dispatch" value="'carouselViewChanged'; 'Tooltip.Place'; {}; 2; 0.15"/>
		<bind name="name" value="CarouselFiltersInfotipClip"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="8px"/>
				<marginRight value="13px"/>
				<marginTop value="9px"/>
				<marginBottom value="11px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-6px"/>
				<marginLeft value="-6px"/>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<style>
				<marginLeft value="9px"/>
				<marginRight value="13px"/>
				<marginTop value="10px"/>
			</style>
			<bind name="var" value="{isSearchingShipByName: false}"/>
			<bind name="catch" value="'searchShipButtonClicked'; {isSearchingShipByName: true}"/>
			<bind name="catch" value="'closeSearchField'; {isSearchingShipByName: false}"/>
			<bind name="catch" value="'TextInputWithCancel.shipSearchCancelled'; {isSearchingShipByName: false, inputStr: ''}"/>
			<bind name="watch" value="'shipSearchStringValue'; searchStr ? searchStr : false"/>
			<bind name="dispatch" value="'Tooltip.selfOpened'; shipSearchStringValue ? 'searchShipButtonClicked' : 'closeSearchField'"/>
			<bind name="dispatch" value="'Tooltip.selfClosed'; shipSearchStringValue ? null : 'closeSearchField'"/>
			<block>
				<style>
					<height value="34px"/>
					<width value="100%"/>
					<position value="absolute"/>
				</style>
				<block type="text">
					<style>
						<marginLeft value="12px"/>
						<marginTop value="3px"/>
					</style>
					<styleClass value="$TextHeaderBold"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<text value="IDS_FILTERS"/>
				</block>
				<block>
					<style>
						<marginTop value="1px"/>
						<marginLeft value="6px"/>
					</style>
					<bind name="instance" value="'ResetAllFilters'; selectedFilters.length &gt; 0 ? {} : null"/>
				</block>
				<block className="button_search" type="native">
					<style>
						<right value="12px"/>
						<marginTop value="6px"/>
						<position value="absolute"/>
					</style>
					<bind name="visible" value="!(isSearchingShipByName)"/>
					<bind name="dispatch" value="'buttonClick';'searchShipButtonClicked'"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SEARCH_SHIP_BY_NAME'}"/>
				</block>
				<block>
					<bind name="visible" value="isSearchingShipByName"/>
					<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
					<bind name="watchDH" value="'searchStr'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.searchString"/>
					<style>
						<width value="284px"/>
						<position value="absolute"/>
						<top value="15px"/>
						<right value="0"/>
					</style>
					<bind name="instance" value="'TextInputWithCancelCustom'; isSearchingShipByName	?	{	onEnterEvent: 'startShipSearch',
																						onCancelEvent: 'shipSearchCancelled',
																						onInputStrChangedEvent: 'inputStrChanged',
																						_onEnterTooltipText: 'IDS_HINT_FIND',
																						_closeButtonTooltipText: 'IDS_HINT_RESET_FILTER',
																						_defaultInputValue: searchStr,
																						_maxChars: 20,
																						_tfWidth: '250px'}
																				: null"/>
					<bind name="watch" value="'strForSearch'; inputStr"/>
					<bind name="catch" value="'TextInputWithCancel.inputStrChanged'"/>
					<bind name="changeDispatch" value="strForSearch; 'strForChanged'"/>
					<bind name="action" value="'strForChanged'; 'setSearchString' ; {value: strForSearch}"/>
				</block>
				<block>
					<style>
						<bottom value="0px"/>
						<position value="absolute"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<marginTop value="34px"/>
					<marginBottom value="80px"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_LEVEL', _filterType: 'level', needDivider: false, _panelEntityId: panelEntity.id, _ident: 0, _inCarousel: true}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_CLASS', _filterType: 'shipType', needDivider: true, _panelEntityId: panelEntity.id, _ident: 0, _inCarousel: true}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_NATION', _filterType: 'nation', needDivider: true, _panelEntityId: panelEntity.id, _ident: 0, _inCarousel: true}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_SPECIAL', _filterType: 'special', needDivider: true, _panelEntityId: panelEntity.id, _ident: 0, _inCarousel: true}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<bottom value="-1px"/>
						<position value="absolute"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<bottom value="0px"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="14px"/>
						<marginBottom value="2px"/>
					</style>
					<block>
						<style>
							<marginTop value="7px"/>
						</style>
						<bind name="name" value="'SmallCarouselView'"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText:	(_isSmallCarouselView ?	'IDS_HINT_CHECKBOX_DISABLE_SMALL_VIEW' :
																							'IDS_HINT_CHECKBOX_ENABLE_SMALL_VIEW')}"/>
						<bind name="instance" value="'CheckBox'; {switchProperty: _isSmallCarouselView, label: 'IDS_SMALL_CAROUSEL_VIEW'}"/>
						<bind name="dispatch" value="'left_click'; 'carouselViewChanged'"/>
						<bind name="clickSplit"/>
					</block>
					<block>
						<bind name="style" value="'hitTest'; _isSmallCarouselView == true ? true : false"/>
						<bind name="transition" value="_isSmallCarouselView == true; 0.1; {alpha: 0}; {alpha: 1}"/>
						<bind name="instance" value="'CarouselRowsChooser'; {}"/>
					</block>
					<block>
						<style>
							<right value="14px"/>
							<position value="absolute"/>
						</style>
						<block type="text">
							<style>
								<marginTop value="4px"/>
							</style>
							<styleClass value="$TextHeaderBold"/>
							<bind name="class" value="'$FontColorBlueish'"/>
							<bind name="text" value="tr('IDS_SORTING_TYPE')+tr('IDS_COLON')"/>
						</block>
						<block>
							<bind name="name" value="'CarouselOrdering'"/>
							<style>
								<marginLeft value="2px"/>
								<marginTop value="3px"/>
							</style>
							<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
							<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
							<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
							<bind name="watchDH" value="'_direction'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.reverse"/>
							<bind name="watchDH" value="'_curItemIndex'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.sortFieldIndex"/>
							<bind name="watchDH" value="'shipSorter'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.sortFields"/>
							<bind name="catch" value="'ItemChooser.shipsSortSelected'"/>
							<bind name="instance" value="'ItemChooser'; {	_items: [shipSorter[0].ids, shipSorter[1].ids, shipSorter[2].ids, shipSorter[3].ids], curIndex: _curItemIndex, curDirection: _direction,
															_choosedItemRenderer: 'BluishTextChoosedItemRenderer', _listItemRenderer: 'TextListItemRenderer',
															onItemSelectedEvent: 'shipsSortSelected', _itemChooserTooltipText: 'IDS_HINT_SHIP_CAROUSEL_SORT'}"/>
							<bind name="changeDispatch" value="_curItemIndex; 'shipSortChanged'"/>
							<bind name="changeDispatch" value="_direction; 'shipSortChanged'"/>
							<bind name="action" value="'shipSortChanged'; 'setSortOrder'; {sortFieldIndex: _curItemIndex, reverse: _direction}"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<marginLeft value="14px"/>
						<marginBottom value="13px"/>
					</style>
					<bind name="name" value="'HideFilteredShips'"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText:	(_isFilteredShipsHided	?	'IDS_TURN_OFF_HIDE_FILTERED_SHIPS'
																						:	'IDS_TURN_ON_HIDE_FILTERED_SHIPS')}"/>
					<bind name="instance" value="'CheckBox'; {switchProperty: _isFilteredShipsHided, label: 'IDS_HIDE_FILTERED_SHIPS'}"/>
					<bind name="dispatch" value="'left_click'; 'carouselHideFilteredChanged'"/>
					<bind name="clickSplit"/>
				</block>
			</block>
		</block>
		<block className="dock_panel_pin" type="native">
			<style>
				<marginLeft value="10px"/>
				<marginBottom value="3px"/>
				<alpha value="0.5"/>
			</style>
			<bind name="gotoAndStop!" value="'down'"/>
		</block>
	</block>
	<block className="TextInputWithCancelCustom">
		<styleClass value="$Fullsize"/>
		<bind name="var" value="{textInput: ''}"/>
		<bind name="catch" value="'removedFromStage'; {textInput: ''}"/>
		<bind name="changeDispatch" value="_defaultInputValue; 'setDefaultValue'"/>
		<bind name="catch" value="'setDefaultValue'; {textInput: _defaultInputValue}"/>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block className="text_input_caps_enter" type="native">
				<bind name="tooltip" value="'SimpleTooltip'; _tooltipText ? {tooltipText: _tooltipText} : null"/>
				<bind name="style" value="'width'; _tfWidth ? _tfWidth : '270px'"/>
				<params>
					<param name="actAsButton" value="true"/>
				</params>
				<bind name="maxChars" value="_maxChars ? _maxChars : 32"/>
				<bind name="defaultText" value="defaultText"/>
				<bind name="focus" value="0; true"/>
				<bind name="restrict" value="restrict"/>
				<bind name="text" value="textInput"/>
				<bind name="sync" value="'text'; 'change'; textInput"/>
				<bind name="dispatch" value="'change'; 'TextInputWithCancel.'+ onInputStrChangedEvent; {inputStr: textInput}"/>
				<bind name="dispatch" value="'textInputEnter'; 'TextInputWithCancel.' + onEnterEvent; {inputStr: textInput}"/>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'SimpleTooltip'; _onEnterTooltipText ? {tooltipText: _onEnterTooltipText} : null"/>
					<styleClass value="$TextInputEnterButton"/>
					<bind name="enabled" value="textInput"/>
					<bind name="dispatch" value="'buttonClick'; 'TextInputWithCancel.' + onEnterEvent; {inputStr: textInput}"/>
				</block>
			</block>
			<block className="button_close" type="native">
				<bind name="tooltip" value="'SimpleTooltip'; _closeButtonTooltipText ? {tooltipText: _closeButtonTooltipText} : null"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="6px"/>
				</style>
				<bind name="dispatch" value="'buttonClick'; 'TextInputWithCancel.' + onCancelEvent"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CarouselRowsChooser">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'_curItemIndex';	(userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="action" value="'carouselRowsCountChanged'; 'setUserPref' ; {value : _curItemIndex, name: 'curRowCountIndex'}"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="name" value="'CarouselRows'"/>
			<style>
				<marginLeft value="2px"/>
				<marginRight value="6px"/>
				<marginTop value="3px"/>
			</style>
			<bind name="catch" value="'ItemChooser.carouselRowsSelected'"/>
			<bind name="instance" value="'ItemChooser'; {	_items: ['2', '3', '4'], curIndex: _curItemIndex, _dropDownWidth: '50px',
											_choosedItemRenderer: 'BluishTextChoosedItemRenderer', _listItemRenderer: 'CarouselShipRowsListItemRenderer',
											onItemSelectedEvent: 'carouselRowsSelected', _itemChooserTooltipText: 'IDS_HINT_ROWS_IN_CAROUSEL'}"/>
			<bind name="changeDispatch" value="_curItemIndex; 'carouselRowsCountChanged'"/>
		</block>
	</block>
	<block className="CarouselAppliedFilterInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="class" value="(_arrow == 'top') ? '$ReplaysInfotipFilter' : '$VerticalInfotipBehaviourCenterUpper'"/>
		<bind name="name" value="'CarouselAppliedFilterInfotip'"/>
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<block className="dock_panel_pin" type="native">
			<bind name="visible" value="_arrow == 'top'"/>
			<bind name="gotoAndStop!" value="'up'"/>
			<params>
				<param name="name" value="pinTop"/>
			</params>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="8px"/>
				<marginRight value="13px"/>
				<marginTop value="9px"/>
				<marginBottom value="11px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-6px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
		<block>
			<style>
				<marginLeft value="9px"/>
				<marginRight value="13px"/>
				<marginTop value="10px"/>
			</style>
			<bind name="instance" value="'FilterBlock'; {_title: _title, _filterType: _filterType, needDivider: false, _panelEntityId: panelEntity.id, _ident: 0, _inCarousel: true}"/>
		</block>
		<block className="dock_panel_pin" type="native">
			<bind name="style" value="'alpha'; _arrow != 'top' ? '0.5' : '0'"/>
			<style>
				<marginBottom value="3px"/>
			</style>
			<bind name="gotoAndStop!" value="'down'"/>
			<params>
				<param name="name" value="pinBottom"/>
			</params>
		</block>
	</block>
	<block className="CarouselAppliedFilterShipNameInfotip">
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<bind name="watchDH" value="'searchStr'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.searchString"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$VerticalInfotipBehaviourCenterUpper"/>
		<bind name="name" value="'CarouselAppliedFilterShipNameInfotip'"/>
		<style>
			<width value="305px"/>
			<height value="65px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="8px"/>
				<marginRight value="13px"/>
				<marginTop value="9px"/>
				<marginBottom value="11px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-6px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="284px"/>
				<height value="40px"/>
				<marginTop value="11px"/>
				<right value="6px"/>
			</style>
			<bind name="instance" value="'TextInputWithCancelCustom'; {	onEnterEvent: 'startShipSearch',
													onCancelEvent: 'shipSearchCancelled',
													onInputStrChangedEvent: 'inputStrChanged',													
													_onEnterTooltipText: 'IDS_HINT_FIND',
													_closeButtonTooltipText: 'IDS_HINT_RESET_FILTER',
													_defaultInputValue: searchStr,
													_maxChars: 20,
													_tfWidth: '250px'}"/>
			<bind name="watch" value="'strForSearch'; inputStr"/>
			<bind name="catch" value="'TextInputWithCancel.inputStrChanged'"/>
			<bind name="changeDispatch" value="strForSearch; 'strForChanged'"/>
			<bind name="catch" value="'TextInputWithCancel.shipSearchCancelled'; {inputStr: ''}"/>
			<bind name="action" value="'strForChanged'; 'setSearchString' ; {value: strForSearch}"/>
			<bind name="dispatch" value="'TextInputWithCancel.shipSearchCancelled'; 'Tooltip.Close'; {}; false; 0.1"/>
		</block>
		<block className="dock_panel_pin" type="native">
			<style>
				<position value="absolute"/>
				<bottom value="3px"/>
				<alpha value="0.5"/>
			</style>
			<bind name="gotoAndStop!" value="'down'"/>
			<params>
				<param name="name" value="pinBottom"/>
			</params>
		</block>
	</block>
	<block className="FilterBlock">
		<bind name="collectionDH" value="CC.shipFilterItem; 'filters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'filters'+'ROOT'; 'filters'; {'filter':$entity.shipFilterItem.type == _filterType}; []"/>
		<block type="text">
			<style>
				<marginTop value="5px"/>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="_title"/>
		</block>
		<block>
			<bind name="name" value="'FilterBlockValues'"/>
			<style>
				<flow value="vtile"/>
				<height value="155px"/>
				<marginLeft value="30px"/>
				<marginRight value="6px"/>
			</style>
			<bind name="repeat" value="filters; 'FilterItem'; {_panelEntityId: _panelEntityId, _ident: _ident, _tooltipPrefix: _tooltipPrefix, _inCarousel: _inCarousel}"/>
		</block>
		<block>
			<bind name="visible" value="needDivider == true"/>
			<style>
				<height value="100%"/>
				<position value="absolute"/>
			</style>
			<block className="divider_v" type="native">
				<style>
					<height value="100%"/>
				</style>
			</block>
		</block>
	</block>
	<block className="FilterItem">
		<bind name="entityDH" value="'entity'; id"/>
		<bind name="entityDH" value="'panelEntity'; _panelEntityId"/>
		<bind name="watchDH" value="'_value'; ['panelEntity.shipRestrictions.evUpdate']; isIn(entity.id, panelEntity.shipRestrictions.selectedFilters)"/>
		<bind name="watchDH" value="'_enabledFilters'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.enabledFilters"/>
		<bind name="watchDH" value="'_filterType'; ['entity.shipFilterItem.evUpdate']; entity.shipFilterItem.type"/>
		<bind name="watchDH" value="'_field'; ['entity.shipFilterItem.evUpdate']; entity.shipFilterItem.field"/>
		<bind name="watch" value="'_enabled'; isIn(id, _enabledFilters)"/>
		<bind name="instance" value="(_filterType == 'level')	? 'ShipLevelCheckBox'	:
                    (_filterType == 'shipType')	? 'ShipClassCheckBox'	:
                    (_filterType == 'nation')	? (_field != 'Events' ? 'ShipNationCheckBox' : 'EmptyItem') :
                    (_filterType == 'special')	? 'ShipSpecialCheckBox'
                                          		: 'FilterCheckBox'; {_filterType: _filterType, value: _value, field: _field, _ident: _ident, _tooltipPrefix: _tooltipPrefix, _disabled: _inCarousel ? ! _enabled : false}"/>
	</block>
	<block className="FilterCheckBox">
		<style>
			<marginRight value="44px"/>
			<marginBottom value="8px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: value, label: field, _maxTfWidth: 150, _disabled: _disabled}"/>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value, ident: _ident}"/>
		<bind name="clickSplit"/>
	</block>
	<block className="ShipLevelCheckBox">
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
		</style>
		<bind name="action" value="'left_click'; _disabled ? null : 'setFilterValue' ; {type: _filterType, field: field, value: !value, ident: _ident}"/>
		<bind name="clickSplit"/>
		<bind name="watch" value="'tooltipPrefix'; _tooltipPrefix ? _tooltipPrefix : 'IDS_'"/>
		<bind name="tooltip" value="'SimpleTooltip'; _disabled			? null
														: { tooltipText: subst(tooltipPrefix + 'HINT_CHECKBOX_FILTER_LEVEL', [], {level: field})}"/>
		<bind name="tooltip" value="'SimpleWarningTooltip'; _disabled 	? { _text: subst('IDS_HINT_CHECKBOX_FILTER_LEVEL_NOT_AVAILABLE', [], {level: field})}
														: null"/>
		<bind name="instance" value="'CheckBox'; {switchProperty: !!(value), label: ShipLevels.RLEVELS[field], _maxTfWidth: 150, _disabled: _disabled}"/>
	</block>
	<block className="ShipClassCheckBox">
		<bind name="visible" value="field != ShipTypes.Submarine"/>
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="watch" value="'isEnabled'; _disabled != true"/>
		<bind name="action" value="'left_click'; _disabled ? null : 'setFilterValue' ; {type: _filterType, field: field, value: !value, ident: _ident}"/>
		<bind name="clickSplit"/>
		<bind name="watch" value="'tooltipPrefix'; _tooltipPrefix ? _tooltipPrefix : 'IDS_'"/>
		<bind name="tooltip" value="'SimpleTooltip';			isEnabled	? { tooltipText: toUpperCase(tooltipPrefix + 'HINT_CHECKBOX_FILTER_CLASS_' + field)}
														: null"/>
		<bind name="tooltip" value="'SimpleWarningTooltip';	isEnabled	? null
														: { _text: tr(toUpperCase('IDS_HINT_CHECKBOX_FILTER_CLASS_NOT_AVAILABLE_' + field))}"/>
		<bind name="style" value="'alpha'; isEnabled ? 1 : 0.7"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
			<height value="21px"/>
			<flow value="horizontal"/>
		</style>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="!!(value)"/>
			<bind name="enabled" value="isEnabled"/>
		</block>
		<block>
			<style>
				<marginTop value="5px"/>
				<hitTest value="false"/>
			</style>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown &amp;&amp; isEnabled; 0.07; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="style" value="'marginLeft'; 	field == ShipTypes.Submarine 	? '29px' :
									field == ShipTypes.Destroyer 	? '24px'
																	: '27px'"/>
			<block className="icon_ship" type="native">
				<bind name="style" value="'alpha'; isEnabled ? 1 : 0.4"/>
				<bind name="gotoAndStop!" value="field"/>
			</block>
		</block>
	</block>
	<block className="ShipNationCheckBox">
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="action" value="'left_click'; _disabled ? null : 'setFilterValue' ; {type: _filterType, field: field, value: !value, ident: _ident}"/>
		<bind name="clickSplit"/>
		<bind name="watch" value="'tooltipPrefix'; _tooltipPrefix ? _tooltipPrefix : 'IDS_'"/>
		<bind name="tooltip" value="'SimpleTooltip';			isEnabled	? { tooltipText: tr(toUpperCase(tooltipPrefix + 'HINT_CHECKBOX_FILTER_NATION_' + field))}
														: null"/>
		<bind name="tooltip" value="'SimpleWarningTooltip';	isEnabled	? null
														: { _text: tr(toUpperCase('IDS_HINT_CHECKBOX_FILTER_NATION_NOT_AVAILABLE_' + field))}"/>
		<bind name="watch" value="'isEnabled'; _disabled != true"/>
		<bind name="style" value="'alpha'; isEnabled ? 1 : 0.7"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
			<flow value="horizontal"/>
		</style>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="!!(value)"/>
			<bind name="enabled" value="isEnabled"/>
		</block>
		<block>
			<style>
				<marginLeft value="27px"/>
				<hitTest value="false"/>
			</style>
			<bind name="style" value="'alpha'; isEnabled ? 1 : 0.4"/>
			<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) &amp;&amp; isEnabled; 0.07; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: field}"/>
		</block>
	</block>
	<block className="ShipSpecialCheckBox">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; field == 'IDS_RANKED_BATTLES' ? 'rankedBattlesSeason' : null"/>
		<bind name="collectionDH" value="CC.clubsCommon; 'clubsCommonCollection'"/>
		<bind name="entityDH" value="'clubsCommonEntity'; clubsCommonCollection[0].id"/>
		<bind name="watchDH" value="'clubBattlesSeasonId'; ['clubsCommonEntity.clubsCommon.evRulesChanged']; clubsCommonEntity.clubsCommon.seasonId"/>
		<bind name="watchDH" value="'clubBattlesSeasonStage'; ['clubsCommonEntity.clubsCommon.evRulesChanged']; clubsCommonEntity.clubsCommon.stage"/>
		<bind name="collectionDH" value="CC.ownShip; 'shipsWithSnowflakes'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'shipsWithSnowflakes'+'ROOT'; 'shipsWithSnowflakes'; {'filter':$entity.ownShip.bonusTags.length &gt; 0}; []"/>
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<bind name="feature" value="13; ''"/>
		<bind name="feature" value="16; ''"/>
		<bind name="feature" value="19; ''"/>
		<bind name="watch" value="'isEnabled'; _disabled != true"/>
		<bind name="watch" value="'isVisible';	(field == 'IDS_RANKED_BATTLES'		&amp;&amp;	(feature_16 == 'locked' || rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON))			? false :
								(field == 'IDS_CLUB_BATTLES'		&amp;&amp;	(feature_19 == 'locked' || clubBattlesSeasonId &lt;= 0 || clubBattlesSeasonStage != 2))	? false :
								((field == 'IDS_WITH_COMMANDER'		||	field == 'IDS_WITHOUT_COMMANDER') &amp;&amp; feature_13 == 'locked')							? false :
								((field == 'IDS_SNOWFLAKES_FILTER' 	|| field == 'IDS_PARAGON_BONUS')	&amp;&amp; _disabled)												? false
																																								: true"/>
		<bind name="watch" value="'tooltipTextType'; ((field == 'IDS_SELECTED_BY_USER')	? 'SELECTED_BY_USER'	:
									(field == 'IDS_FILTER_PREMIUM')		? 'PREMIUM'				:
									(field == 'IDS_WITH_COMMANDER')		? 'WITH_COMMANDER'		:
									(field == 'IDS_WITHOUT_COMMANDER')	? 'WITHOUT_COMMANDER'	:
									(field == 'IDS_FILTER_ELITE')		? 'ELITE'				:
									(field == 'IDS_FILTER_NOT_ELITE')	? 'NOT_ELITE'			:
									(field == 'IDS_RANKED_BATTLES')		? 'RANKED'				:
									(field == 'IDS_PVE_BATTLES')		? 'PVE'					:
									(field == 'IDS_CLUB_BATTLES')		? 'CLUB'				:
									(field == 'IDS_PROMO_FILTER')		? 'SHARE'				:
									(field == 'IDS_PARAGON_BONUS')		? 'PARAGON_BONUS'		:
									(field == 'IDS_SNOWFLAKES_FILTER')	? 'SNOWFLAKES'
																		: 'UNKNOWN')}"/>
		<bind name="tooltip" value="'SimpleTooltip';			isEnabled	? { tooltipText: tr('IDS_HINT_CHECKBOX_FILTER_' + tooltipTextType)}
														: null"/>
		<bind name="tooltip" value="'SimpleWarningTooltip';	isEnabled	? null
														: { _text: tr('IDS_HINT_CHECKBOX_FILTER_NOT_AVAILABLE_' + tooltipTextType)}"/>
		<bind name="action" value="'left_click'; isEnabled ? 'setFilterValue' : null; {type: _filterType, field: field, value: !value, ident: _ident}"/>
		<bind name="clickSplit"/>
		<bind name="visible" value="isVisible"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
			<height value="21px"/>
			<flow value="horizontal"/>
		</style>
		<bind name="style" value="'alpha'; isEnabled ? 1 : 0.7"/>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="!!(value)"/>
			<bind name="enabled" value="isEnabled"/>
		</block>
		<block>
			<bind name="style" value="'alpha'; isEnabled ? 1 : 0.4"/>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown &amp;&amp; isEnabled; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<style>
				<marginTop value="-2px"/>
				<marginLeft value="27px"/>
				<hitTest value="false"/>
			</style>
			<bind name="child" value="field; {_isCheckBox: true}; {	IDS_SELECTED_BY_USER: 'PrimaryIcon',
													IDS_FILTER_NOT_ELITE: 'NotEliteIcon',
													IDS_FILTER_ELITE: 'EliteIcon',
													IDS_FILTER_PREMIUM: 'PremiumIcon',
													IDS_RANKED_BATTLES: 'RankedIcon',
													IDS_PVE_BATTLES	: 'PVEIcon',
													IDS_CLUB_BATTLES: 'ClubIcon',
													IDS_PROMO_FILTER: 'ShareIcon',
													IDS_WITH_COMMANDER: 'WithCrewIcon',
													IDS_WITHOUT_COMMANDER: 'WithoutCrewIcon',
													IDS_PARAGON_BONUS: 'ParagonBonusTagIcon',
													IDS_SNOWFLAKES_FILTER: 'SnowflakesIcon'
													}"/>
		</block>
	</block>
	<block className="AppliedHardSystemFilter">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
		<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
		<bind name="primaryEntityDH" value="'selectedBattleTypeEntity'; CC.battleType; selectedBattle.type"/>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'chosenOperationId'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenOperation"/>
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
		<bind name="watchDH" value="'operationType';	['operationEntity.operation.evStatusChanged']; operationEntity.operation.type"/>
		<bind name="watchDH" value="'operationIsHard'; []; operationEntity.operation.isHard"/>
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="primaryEntityDH" value="'defaultRestrictionsEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
		<bind name="primaryEntityDH" value="'rankedRestrictionsEntity'; CC.shipRestrictions; 7"/>
		<bind name="watch" value="'pveDifficultyPostfix'; operationIsHard ? '_hard' : ''"/>
		<bind name="watch" value="'pveIconLabel'; (operationType == 'event' ? 'PVEBattle_event' : 'PVEBattle') + pveDifficultyPostfix"/>
		<bind name="firstEntityDH" value="'currentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="firstEntityDH" value="'currentEventStateEntity'; CC.selectedEventBattle"/>
		<bind name="watchDH" value="'currentEventId'; ['currentEventStateEntity.eventBattleState.evChanged']; currentEventStateEntity.eventBattleState.eventId"/>
		<bind name="primaryEntityDH" value="'eventBattleParamsEntity'; CC.eventBattleParams; currentEventId"/>
		<bind name="firstEntityDH" value="'clanCurrentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="watchDH" value="'isBrawl'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.isBrawl"/>
		<bind name="watch" value="'restrictionsEntityId';	selectedBattle.type == BattleTypes.PVE_BATTLE 		? 	operationEntity.id :
											selectedBattle.type == BattleTypes.TRAINING_BATTLE	?	trainingRoomEntity.id :
											selectedBattle.type == BattleTypes.RANKED_BATTLE	?	rankedRestrictionsEntity.id :
											selectedBattle.type == BattleTypes.CLAN_BATTLE		?	currentSeasonEntity.id :
											selectedBattle.type == BattleTypes.EVENT_BATTLE		?	eventBattleParamsEntity.id
																								:	selectedBattleTypeEntity.id"/>
		<bind name="watch" value="'filterIcons';	selectedBattle.type == BattleTypes.PVE_BATTLE 		? 	pveIconLabel :
								selectedBattle.type == BattleTypes.TRAINING_BATTLE	?	'training_room':
								selectedBattle.type == BattleTypes.RANKED_BATTLE	?	(rankedBattlesSeason.isJuniorSeason == true) 	? 'rank_junior' 
																																		: 'rank' :
								selectedBattle.type == BattleTypes.EVENT_BATTLE		?	'event' :
								selectedBattle.type == BattleTypes.CLAN_BATTLE		?	isBrawl ? 'brawl'
																								: 'club'
																					:	'no_icon'"/>
		<bind name="watch" value="'filterText';	selectedBattle.type == BattleTypes.PVE_BATTLE		? tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME') :
								selectedBattle.type == BattleTypes.TRAINING_BATTLE	? 'IDS_CUSTOM_ROOM' :
								selectedBattle.type == BattleTypes.RANKED_BATTLE 	? 'IDS_RANKED_BATTLES' :
								selectedBattle.type == BattleTypes.CLAN_BATTLE 		? isBrawl ? 'IDS_CLAN_BRAWL'
																							  : 'IDS_CLANBATTLE' :
								selectedBattle.type == BattleTypes.EVENT_BATTLE 	? 'IDS_EVENTBATTLE'
																					: 'UNKNOWN_BATTLE_TYPE'"/>
		<style>
			<height value="30px"/>
			<flow value="horizontal"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="tooltip" value="'SimpleTooltip'; selectedBattle.type != BattleTypes.CLAN_BATTLE	? {tooltipText: tr(toUpperCase('IDS_CAROUSEL_' + selectedBattle.type + '_FILTER'))}
																					: null"/>
		<block className="button_dock_bg" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="gotoAndStop!" value="'down'"/>
		</block>
		<block className="icon_filters" type="native">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="4px"/>
			</style>
			<bind name="gotoAndStop!" value="filterIcons"/>
		</block>
		<block type="text">
			<style>
				<marginTop value="2px"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="filterText"/>
		</block>
		<block>
			<style>
				<marginLeft value="16px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'ShipRestrictions'; 
			selectedBattle.type == BattleTypes.TRAINING_BATTLE 	? {	_restrictionsEntityId: restrictionsEntityId, 
																	_defaultRestrictionsEntityId: defaultRestrictionsEntity.id }
																: { _restrictionsEntityId: restrictionsEntityId }"/>
		</block>
	</block>
	<css name="$HugeFilterMargins">
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
	</css>
	<css name="$TinyFilterMargins">
		<marginLeft value="4px"/>
		<marginRight value="4px"/>
	</css>
	<block className="AppliedFilter">
		<bind name="visible" value="selectedItems.length &gt; 0"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="entityDH" value="'panelEntity'; _panelEntityId"/>
		<bind name="watchDH" value="'selectedFilters'; ['panelEntity.shipRestrictions.evUpdate']; panelEntity.shipRestrictions.selectedFilters"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'selectedItems'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'selectedItems'+'ROOT'; 'selectedItems'; {'filter':isIn($entity.id, selectedFilters) &amp;&amp; ($entity.shipFilterItem.type == _filterType)}; []"/>
		<bind name="collectionFields" value="selectedItems; ['shipFilterItem.field']"/>
		<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) || appliedFiltersInfotipSelected || shipNameFilterInfotipSelected; 0.15; {alpha: 0.7}; {alpha: 1}"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 0.7, top: 0}; 2"/>
		<style>
			<height value="30px"/>
		</style>
		<block className="button_dock_bg" type="native">
			<bind name="gotoAndStop!" value="'down'"/>
			<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || (mouseDown)) || appliedFiltersInfotipSelected || shipNameFilterInfotipSelected; 0.15; {alpha: 0}; {alpha: 0.7}"/>
			<style>
				<height value="100%"/>
			</style>
			<bind name="tooltip" value="'CarouselAppliedFilterInfotip';	_filterType == 'level' 		? {_title: 'IDS_LEVEL', _filterType: _filterType, _arrow: _arrow} :
														_filterType == 'shipType'	? {_title: 'IDS_CLASS', _filterType: _filterType, _arrow: _arrow} :
														_filterType == 'nation' 	? {_title: 'IDS_NATION', _filterType: _filterType, _arrow: _arrow} :
														_filterType == 'special'	? {_title: 'IDS_SPECIAL', _filterType: _filterType, _arrow: _arrow}
																					: null; TooltipBehaviour.verticalInfotip; null; 'appliedFiltersInfotipSelected'"/>
			<bind name="tooltip" value="'CarouselAppliedFilterShipNameInfotip'; (_filterType == 'shipName')	? {}
																							: null;	 TooltipBehaviour.verticalInfotip; null; 'shipNameFIlterInfotipSelected'"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; (_filterType != 'shipName') ? { _mouseInstructions: [{_type: 'left', _instructionText: tr('IDS_CAROUSEL_APPLIED_FILTER_HINT_'+toUpperCase(_filterType))}], _maxWidth: 240 }
																				: null"/>
			<bind name="changeDispatch" value="shipNameFilterInfotipSelected; 'shipNameFIlterInfotipSelectedChanged';{shipNameFilterInfotipSelected: shipNameFilterInfotipSelected}"/>
			<block>
				<style>
					<height value="100%"/>
					<marginTop value="1px"/>
				</style>
				<bind name="class" value="_disableReset ? '$TinyFilterMargins' : '$HugeFilterMargins'"/>
				<block>
					<bind name="visible" value="_filterType == 'level'"/>
					<style>
						<hitTest value="false"/>
						<marginTop value="1px"/>
					</style>
					<bind name="repeat" value="reduceAppliedValues(selectedItems_shipFilterItem_field); 'ShipLevelRome'"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="_filterType != 'level'"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="repeat" value="selectedItems;	(_filterType == 'shipName')	? 'CarouselSortingText' :
												(_filterType == 'shipType')	? 'ShipTypeIcon' :
												(_filterType == 'nation')	? 'TinyNationFlag' :
												(_filterType == 'special')	? 'SpecialSortingIcon'
																			: 'CarouselSortingText'"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<height value="100%"/>
					</style>
					<bind name="visible" value="_needDivider == true"/>
					<block className="VerticalDivider">
						<style>
							<height value="100%"/>
							<width value="3px"/>
						</style>
						<block className="divider_v" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<block>
					<bind name="visible" value="_disableReset != true"/>
					<style>
						<height value="100%"/>
						<width value="12px"/>
					</style>
					<block>
						<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || mouseDown) || appliedFiltersInfotipSelected || shipNameFilterInfotipSelected; 0.15; {alpha: 0}; {alpha: 0.7}"/>
						<bind name="action" value="'click'; 'resetFilterType' ; {type: _filterType, ident: 0}"/>
						<block className="button_close" type="native">
							<style>
								<marginRight value="1px"/>
								<marginTop value="8px"/>
							</style>
							<bind name="name" value="'CarouselFilterClose_' + _filterType"/>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_RESET_FILTER'}"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="AppliedFilterText">
		<bind name="visible" value="searchStr.length &gt; 0"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="entityDH" value="'panelEntity'; _panelEntityId"/>
		<bind name="watchDH" value="'searchStr'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.searchString"/>
		<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) || appliedFiltersInfotipSelected || shipNameFilterInfotipSelected; 0.15; {alpha: 0.7}; {alpha: 1}"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 0.7, top: 0}; 2"/>
		<style>
			<height value="30px"/>
		</style>
		<block className="button_dock_bg" type="native">
			<bind name="gotoAndStop!" value="'down'"/>
			<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || (mouseDown)) || appliedFiltersInfotipSelected || shipNameFilterInfotipSelected; 0.15; {alpha: 0}; {alpha: 0.7}"/>
			<style>
				<height value="100%"/>
			</style>
			<bind name="tooltip" value="'CarouselAppliedFilterShipNameInfotip'; {};	 TooltipBehaviour.verticalInfotip; null; 'shipNameFIlterInfotipSelected'"/>
			<bind name="changeDispatch" value="shipNameFilterInfotipSelected; 'shipNameFIlterInfotipSelectedChanged';{shipNameFilterInfotipSelected: shipNameFilterInfotipSelected}"/>
			<block>
				<style>
					<height value="100%"/>
					<marginTop value="1px"/>
				</style>
				<bind name="class" value="'$HugeFilterMargins'"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="instance" value="'CarouselSortingText'; {}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<height value="100%"/>
						<width value="12px"/>
					</style>
					<block>
						<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || mouseDown) || appliedFiltersInfotipSelected || shipNameFilterInfotipSelected; 0.15; {alpha: 0}; {alpha: 0.7}"/>
						<bind name="action" value="'click'; 'setSearchString' ; {value:''}"/>
						<block className="button_close" type="native">
							<style>
								<marginRight value="1px"/>
								<marginTop value="8px"/>
							</style>
							<bind name="name" value="'CarouselFilterClose_' + _filterType"/>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_RESET_FILTER'}"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ResetAllFilters">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<style>
			<height value="30px"/>
			<marginRight value="4px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="action" value="'click'; 'resetAllFilters'; {ident: 0}"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_HINT_RESET_ALL_FILTERS'}], _maxWidth: 250}"/>
		<bind name="soundSet" value="'resetallfilters_item'"/>
		<block className="button_dock_bg" type="native">
			<bind name="gotoAndStop!" value="'down'"/>
			<style>
				<height value="100%"/>
			</style>
			<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || (mouseDown)); 0.15; {alpha: 0}; {alpha: 0.7}"/>
			<block>
				<style>
					<height value="100%"/>
					<marginLeft value="8px"/>
					<marginRight value="8px"/>
				</style>
				<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.7}; {alpha: 1}"/>
				<block type="text">
					<style>
						<marginTop value="2px"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="'IDS_RESET_ALL_FILTERS'"/>
				</block>
				<block>
					<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || mouseDown); 0.15; {alpha: 0}; {alpha: 0.7}"/>
					<style>
						<marginLeft value="2px"/>
						<marginRight value="1px"/>
						<marginTop value="10px"/>
						<hitTest value="false"/>
					</style>
					<block className="button_close" type="native"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipLevelRome">
		<style>
			<marginRight value="2px"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="ShipLevels.RLEVELS[$value]"/>
		</block>
	</block>
	<block className="CarouselSortingText">
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<bind name="watchDH" value="'searchStr'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.searchString"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<hitTest value="false"/>
				<marginTop value="2px"/>
				<marginRight value="1px"/>
			</style>
			<block className="button_search" type="native"/>
		</block>
		<block type="text">
			<style>
				<marginRight value="4px"/>
				<marginTop value="-1px"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="searchStr"/>
		</block>
	</block>
	<block className="ShipTypeIcon">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<block>
			<style>
				<marginRight value="4px"/>
			</style>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="_field"/>
			</block>
		</block>
	</block>
	<block className="TinyNationFlag">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<block>
			<style>
				<marginRight value="2px"/>
			</style>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: _field}"/>
		</block>
	</block>
	<block className="SpecialSortingIcon">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<style>
			<marginLeft value="-2px"/>
		</style>
		<bind name="child" value="_field; {}; {	IDS_SELECTED_BY_USER: 'PrimaryIcon',
								IDS_FILTER_NOT_ELITE: 'NotEliteIcon',
								IDS_FILTER_ELITE: 'EliteIcon',
								IDS_FILTER_PREMIUM: 'PremiumIcon',
								IDS_RANKED_BATTLES: 'RankedIcon',
								IDS_PVE_BATTLES: 'PVEIcon', 
								IDS_CLUB_BATTLES: 'ClubIcon',
								IDS_PROMO_FILTER: 'ShareIcon',
								IDS_WITH_COMMANDER: 'WithCrewIcon',
								IDS_WITHOUT_COMMANDER: 'WithoutCrewIcon',
								IDS_PARAGON_BONUS: 'ParagonBonusTagIcon',
                                IDS_SNOWFLAKES_FILTER: 'SnowflakesIcon'
								}"/>
	</block>
	<block className="ParagonBonusTagIcon">
		<style>
			<height value="21px"/>
			<width value="39px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<hitTest value="false"/>
				<height value="39px"/>
				<width value="39px"/>
				<top value="-9px"/>
				<left value="-2px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../service_kit/bonus_tags/bonus_paragon.png'"/>
		</block>
	</block>
	<block className="NotEliteIcon">
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'default'"/>
		</block>
	</block>
	<block className="EliteIcon">
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'elite'"/>
		</block>
	</block>
	<block className="PrimaryIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'primary'"/>
		</block>
	</block>
	<block className="WithCrewIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '1px': '2px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'withCrew'"/>
		</block>
	</block>
	<block className="WithoutCrewIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'withoutCrew'"/>
		</block>
	</block>
	<block className="PremiumIcon">
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'premium'"/>
		</block>
	</block>
	<block className="ShareIcon">
		<style>
			<height value="21px"/>
			<width value="39px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<hitTest value="false"/>
				<height value="39px"/>
				<width value="39px"/>
				<top value="-9px"/>
				<left value="-2px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../service_kit/bonus_tags/bonus_exp.png'"/>
		</block>
	</block>
	<block className="SnowflakesIcon">
		<style>
			<marginTop value="1px"/>
		</style>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'snowflakes'"/>
		</block>
	</block>
	<block className="RankedIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'rank'"/>
		</block>
	</block>
	<block className="PVEIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'pve'"/>
		</block>
	</block>
	<block className="ClubIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'club'"/>
		</block>
	</block>
	<block className="CarouselShipRowsListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<bind name="var" value="{_toLowerCase: true}"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'isFourRowsEnabled'; (stageHeight &gt; (720 + 160))"/>
		<bind name="watch" value="'isThreeRowsEnabled'; (stageHeight &gt; (720 + 88))"/>
		<bind name="watch" value="'isEnabled';	($index == 0)							? true :
								(isThreeRowsEnabled &amp;&amp; ($index == 1))	? true :
								(isFourRowsEnabled &amp;&amp; ($index == 2))	? true
																		: false"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="tooltip" value="'SimpleWarningTooltip'; isEnabled ? null : {_text: tr('IDS_NOT_ENABLED_ON_LOW_RESOLUTION')}"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="style" value="'alpha'; isEnabled ? 1 : 0.5"/>
			<bind name="style" value="'hitTest'; isEnabled"/>
			<block className="MenuItemWithSelection">
				<styleClass value="$Fullsize"/>
				<bind name="name" value="$value"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="selected" value="(_curItemIndex == $index)"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
					<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
				</block>
			</block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 	($index == 0)	? tr('IDS_SHOW_TWO_ROWS_IN_CAROUSEL') :
														($index == 1)	? tr('IDS_SHOW_THREE_ROWS_IN_CAROUSEL') :
														($index == 2)	? tr('IDS_SHOW_FOUR_ROWS_IN_CAROUSEL')
																		: ''}"/>
			<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
			<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
		</block>
	</block>
	<block className="HasTrainingRoomRestrictions">
		<bind name="watchDH" value="'shipRestrictions' ; ['trainingRoomEntity.shipRestrictions.evUpdate']; trainingRoomEntity.shipRestrictions.selectedFilters"/>
		<bind name="watchDH" value="'shipsCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.shipsCount"/>
		<bind name="watchDH" value="'typesCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.typesCount"/>
		<bind name="primaryEntityDH" value="'defaultRestrictionsEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
		<bind name="watchDH" value="'defaultTypesCount' ; ['defaultRestrictionsEntity.divisionRestrictions.evUpdate']; defaultRestrictionsEntity.divisionRestrictions.typesCount"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'idsfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'idsfilters'+'ROOT'; 'idsfilters'; {'filter':$entity.shipFilterItem.type == 'shipId' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'levelfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'levelfilters'+'ROOT'; 'levelfilters'; {'filter':$entity.shipFilterItem.type == 'level' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'nationfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'nationfilters'+'ROOT'; 'nationfilters'; {'filter':$entity.shipFilterItem.type == 'nation' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionFields" value="levelfilters; ['shipFilterItem.field']"/>
		<bind name="contains" value="typesCount; $item[1] == -1; 'isAnyShipTypeNotAllowed'"/>
		<bind name="watch" value="'isCarriersRestricted'; typesCount[ShipTypes.AircraftCarrier] &amp;&amp; typesCount[ShipTypes.AircraftCarrier][1] != defaultTypesCount[ShipTypes.AircraftCarrier][1]"/>
		<bind name="watch" value="'isBattleShipsRestricted'; typesCount[ShipTypes.BattleShip] &amp;&amp; typesCount[ShipTypes.BattleShip][1] != defaultTypesCount[ShipTypes.BattleShip][1]"/>
		<bind name="watch" value="'isCruisersRestricted'; typesCount[ShipTypes.Cruiser] &amp;&amp; typesCount[ShipTypes.Cruiser][1] != defaultTypesCount[ShipTypes.Cruiser][1]"/>
		<bind name="watch" value="'isDestroyersRestricted'; typesCount[ShipTypes.Destroyer] &amp;&amp; typesCount[ShipTypes.Destroyer][1] != defaultTypesCount[ShipTypes.Destroyer][1]"/>
		<bind name="watch" value="'isAnyShipTypeRestricted'; isCarriersRestricted || isBattleShipsRestricted || isCruisersRestricted || isDestroyersRestricted"/>
		<bind name="watch" value="'hasTrainingRoomRestrictions'; (idsfilters.length &gt; 0)			||
												(shipTypefilters.length &gt; 0)	||
												(levelfilters.length &gt; 0)		||
												(nationfilters.length &gt; 0)		||
												isShipFilterRestrictionsVisible"/>
		<bind name="watch" value="'isShipFilterRestrictionsVisible'; isAnyShipTypeRestricted &amp;&amp; isAnyShipTypeNotAllowed"/>
	</block>
	<block className="ShipBonusTags">
		<bind name="entityDH" value="'shipEntity'; _shipEntityId"/>
		<bind name="watchDH" value="'expMultiply';	['shipEntity.ownShip.evExpMultiplyChanged'];	shipEntity.ownShip.expMultiply"/>
		<bind name="watchDH" value="'bonusTagIds'; ['shipEntity.ship.evBonusTagsChanged']; shipEntity.ship.bonusTags"/>
		<bind name="entityDH" value="'firstBonusTag'; bonusTagIds[0]"/>
		<style>
			<flow value="horizontal"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="tooltip" value="'BonusTagsTooltip'; {_shipEntityId: _shipEntityId, _isInShipResearch: _isInShipResearch}"/>
		<bind name="watch" value="'entityBonusTagVisible'; (!(_isInShipResearch) || firstBonusTag.bonusTag.type == 'paragon') &amp;&amp; bonusTagIds.length &gt; 0"/>
		<bind name="watch" value="'expBonusTagVisible'; (expMultiply &gt; 1) &amp;&amp; !(bonusTagIds.length) &amp;&amp; !(_isInShipResearch)"/>
		<block>
			<bind name="visible" value="entityBonusTagVisible"/>
			<bind name="instance" value="'BonusTagItem'; entityBonusTagVisible ? { _bonusTagEntityId: bonusTagIds[0] } : null"/>
		</block>
		<block>
			<bind name="instance" value="'DoubleExperienceBonusTag'; expBonusTagVisible ? { _expMultiplyPercentsString: subst('%m',[expMultiply]) } : null"/>
		</block>
	</block>
	<block className="DoubleExperienceBonusTag">
		<style>
			<flow value="horizontal"/>
			<height value="27px"/>
			<width value="27px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<hitTest value="false"/>
				<height value="39px"/>
				<width value="39px"/>
				<left value="-12px"/>
				<bottom value="-12px"/>
				<backgroundImage value="url:../service_kit/bonus_tags/bonus_exp.png"/>
			</style>
		</block>
		<block type="text">
			<style>
				<marginLeft value="23px"/>
				<marginTop value="8px"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="text" value="_expMultiplyPercentsString"/>
		</block>
	</block>
	<block className="BonusTagsTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<hitTest value="false"/>
			<width value="320px"/>
		</style>
		<bind name="entityDH" value="'shipEntity'; _shipEntityId"/>
		<bind name="watchDH" value="'expMultiply';	['shipEntity.ownShip.evExpMultiplyChanged'];	shipEntity.ownShip.expMultiply"/>
		<bind name="watchDH" value="'shipEntityBonusTags'; ['shipEntity.ship.evBonusTagsChanged'];	shipEntity.ship.bonusTags"/>
		<bind name="watch" value="'bonusTagIds'; _bonusTagId 		? [_bonusTagId] :
								_isInShipResearch 	? [shipEntityBonusTags[0]]
													: shipEntityBonusTags"/>
		<bind name="watch" value="'isDoubleExpBlockVisible'; (!(_isInShipResearch) &amp;&amp; (expMultiply &gt; 1))"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<margin value="-1px"/>
			</style>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<paddingRight value="12px"/>
				<paddingLeft value="12px"/>
				<paddingBottom value="12px"/>
				<paddingTop value="12px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="bonusTagIds; 'BonusTagTooltipItem'; {_itemsLength: bonusTagIds.length}"/>
			</block>
			<block className="TooltipSystemHorizontalDivider">
				<bind name="visible" value="isDoubleExpBlockVisible &amp;&amp; (bonusTagIds.length &gt; 0)"/>
				<style>
					<width value="100%"/>
					<height value="2px"/>
					<marginTop value="12px"/>
					<marginBottom value="12px"/>
					<marginRight value="-12px"/>
					<marginLeft value="-12px"/>
					<backgroundSize value="fill"/>
					<backgroundImage value="url:../service_kit/dividers/divider_h.png"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'DoubleExperienceTooltipItem'; 	isDoubleExpBlockVisible ? {_shipEntityId: _shipEntityId}
																				: null"/>
			</block>
		</block>
	</block>
	<block className="BonusTagItem">
		<bind name="entityDH" value="'bonusTagEntity'; _bonusTagEntityId"/>
		<style>
			<height value="27px"/>
			<width value="27px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<hitTest value="false"/>
				<height value="39px"/>
				<width value="39px"/>
				<left value="-12px"/>
				<bottom value="-12px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../service_kit/bonus_tags/bonus_' + bonusTagEntity.bonusTag.type + '.png'"/>
		</block>
	</block>
	<block className="BonusTagTooltipItem">
		<bind name="entityDH" value="'bonusTagEntity'; $value"/>
		<bind name="watch" value="'bonusTagType'; bonusTagEntity.bonusTag.type"/>
		<bind name="watch" value="'rewards'; bonusTagEntity.bonusTag.rewards"/>
		<bind name="watch" value="'expirationDate'; bonusTagEntity.bonusTag.finishTime"/>
		<bind name="watch" value="'bonusTagsLeft'; bonusTagEntity.bonusTag.left"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'TooltipSystemHeaderWithIconAndText'; {	_imageUrl: 'url:../service_kit/bonus_tags/bonus_' + bonusTagType + '_big.png',
																_imageWidth: '80px',
																_imageHeight: '80px',
																_headerText: tr(toUpperCase('IDS_BONUSTAG_' + bonusTagType + '_HEADER')),
																_subheaderText: 'IDS_BATTLE_BONUS'}"/>
		</block>
		<block>
			<bind name="visible" value="bonusTagsLeft &gt; 1"/>
			<style>
				<position value="absolute"/>
				<width value="80px"/>
				<height value="80px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold17NM"/>
				<style>
					<position value="absolute"/>
					<bottom value="0"/>
					<width value="100%"/>
					<textAlign value="right"/>
				</style>
				<bind name="text" value="'x' + bonusTagsLeft"/>
			</block>
		</block>
		<block className="TooltipSystemHorizontalDivider">
			<bind name="visible" value="expirationDate"/>
			<style>
				<width value="100%"/>
				<height value="2px"/>
				<marginTop value="12px"/>
				<marginBottom value="12px"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
				<backgroundSize value="fill"/>
				<backgroundImage value="url:../service_kit/dividers/divider_h.png"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'TooltipSystemDueDateStatusLine'; expirationDate 	? {	_dueDateTimeStamp: expirationDate,
																				_substTextIDS: 'IDS_BONUS_TAG_EXPIRATION_DATE'}
																			: null"/>
		</block>
		<block className="TooltipSystemHorizontalDivider">
			<bind name="visible" value="true"/>
			<style>
				<width value="100%"/>
				<height value="2px"/>
				<marginTop value="12px"/>
				<marginBottom value="12px"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
				<backgroundSize value="fill"/>
				<backgroundImage value="url:../service_kit/dividers/divider_h.png"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'TooltipSystemDescriptionText'; {	_descriptionText: 'IDS_TOOLTIP_BATTLE_BONUS_ONCE_DESCRIPTION'}"/>
		</block>
		<block className="TooltipSystemHorizontalDivider">
			<bind name="visible" value="true"/>
			<style>
				<width value="100%"/>
				<height value="2px"/>
				<marginTop value="12px"/>
				<marginBottom value="12px"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
				<backgroundSize value="fill"/>
				<backgroundImage value="url:../service_kit/dividers/divider_h.png"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'TooltipSystemRewardsList'; {_rewards: rewards}"/>
		</block>
		<block className="TooltipSystemHorizontalDivider">
			<bind name="visible" value="_itemsLength &gt; $index + 1"/>
			<style>
				<width value="100%"/>
				<height value="2px"/>
				<marginTop value="12px"/>
				<marginBottom value="12px"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
				<backgroundSize value="fill"/>
				<backgroundImage value="url:../service_kit/dividers/divider_h.png"/>
			</style>
		</block>
	</block>
	<block className="DoubleExperienceTooltipItem">
		<bind name="entityDH" value="'shipOwnEntity'; _shipEntityId"/>
		<bind name="watchDH" value="'expMultiply';			['shipOwnEntity.ownShip.evExpMultiplyChanged'];	shipOwnEntity.ownShip.expMultiply"/>
		<bind name="watchDH" value="'remainingExpBonusWins';	['shipOwnEntity.ownShip.evUpdateConfig'];		shipOwnEntity.ownShip.remainingExpBonusWins"/>
		<bind name="watch" value="'attributesPositive'; 	[{	attributeIDS: 'IDS_REWARD_EXPCOEFF_TITLE',
											measuredValue: '+' + ((expMultiply - 1) *100),
											measure: 'IDS_PERCENT',
											category: 'positive'
										}]"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'TooltipSystemHeaderWithIconAndText'; {	_imageUrl: 'url:../service_kit/bonus_tags/bonus_exp_big.png',
																_imageWidth: '80px',
																_imageHeight: '80px',
																_headerText: 'IDS_BONUSTAG_FIRST_WIN',
																_subheaderText: 'IDS_BATTLE_BONUS'}"/>
		</block>
		<block className="TooltipSystemHorizontalDivider">
			<bind name="visible" value="true"/>
			<style>
				<width value="100%"/>
				<height value="2px"/>
				<marginTop value="12px"/>
				<marginBottom value="12px"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
				<backgroundSize value="fill"/>
				<backgroundImage value="url:../service_kit/dividers/divider_h.png"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'TooltipSystemDescriptionText'; {	_descriptionText: (remainingExpBonusWins &gt; 1)	? subst('IDS_TOOLTIP_BATTLE_BONUS_MULTIPLE_DESCRIPTION', [], {_battleAmount: remainingExpBonusWins}, remainingExpBonusWins)
																											: 'IDS_TOOLTIP_BATTLE_BONUS_DAILY_DESCRIPTION'}"/>
		</block>
		<block className="TooltipSystemHorizontalDivider">
			<bind name="visible" value="true"/>
			<style>
				<width value="100%"/>
				<height value="2px"/>
				<marginTop value="12px"/>
				<marginBottom value="12px"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
				<backgroundSize value="fill"/>
				<backgroundImage value="url:../service_kit/dividers/divider_h.png"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'TooltipSystemParamsModifiersList'; {	_attributesPositive: attributesPositive}"/>
		</block>
	</block>
	<block className="ParamsModifierItem">
		<style>
			<width value="100%"/>
			<marginBottom value="16px"/>
		</style>
		<bind name="style" value="'paddingTop'; (_shrinkHeight == true) ? '-8px' : '0'"/>
		<bind name="watch" value="'textColor';	category == 'positive'	? 0xFF4CE8AA :
								category == 'negative'	? 0xFFFF6600
														: 0xFFFFFFFF"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<bind name="class" value="_fontClass ? _fontClass : '$TextDefaultNM'"/>
				<style>
					<leading value="-3"/>
					<alpha value="0.8"/>
					<width value="100%"/>
				</style>
				<bind name="text" value="attributeIDS"/>
			</block>
			<block type="text">
				<bind name="class" value="_fontClass ? _fontClass : '$TextDefaultNM'"/>
				<style>
					<marginLeft value="12px"/>
				</style>
				<bind name="style" value="'textColor'; textColor"/>
				<bind name="substitute" value="5;	{	'[battleship]'	: 'battleship_small_own',
										'[aircarrier]'	: 'carrier_small_own',
										'[destroyer]'	: 'destroyer_small_own',
										'[submarine]'	: 'submarine_small_own'
									}; measuredValue"/>
			</block>
			<block type="text">
				<bind name="class" value="_fontClass ? _fontClass : '$TextDefaultNM'"/>
				<style>
					<marginLeft value="4px"/>
				</style>
				<bind name="style" value="'alpha'; category == 'positive' ? 0.65 : 0.8"/>
				<bind name="style" value="'textColor'; textColor"/>
				<bind name="text" value="measure"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="_dottedDivider ? true : false"/>
			<style>
				<width value="100%"/>
				<marginTop value="1px"/>
				<alpha value="0.5"/>
			</style>
			<block className="DottedLine">
				<style>
					<backgroundImage value="symbol:dotted_line"/>
					<backgroundRepeatX value="true"/>
					<width value="100%"/>
					<height value="1px"/>
					<alpha value="0.5"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ParamsModifierList">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_attributesPositive; 'ParamsModifierItem'; {_shrinkHeight: _shrinkHeight, _dottedDivider: _dottedDivider, _fontClass: _fontClass}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_attributesNegative; 'ParamsModifierItem'; {_shrinkHeight: _shrinkHeight, _dottedDivider: _dottedDivider, _fontClass: _fontClass}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_attributesNeutral; 'ParamsModifierItem'; {_shrinkHeight: _shrinkHeight, _dottedDivider: _dottedDivider, _fontClass: _fontClass}"/>
		</block>
	</block>
	<css name="$TextDockBig">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="ItemChooser">
		<bind name="watch" value="'_curItemIndex'; curIndex"/>
		<bind name="watch" value="'_direction'; curDirection"/>
		<bind name="watch" value="'isEnabled'; _disabled != true"/>
		<bind name="name" value="_name"/>
		<bind name="var" value="{_lastItemIndex: curIndex}"/>
		<bind name="style" value="'width'; _width ? _width : 'auto'"/>
		<bind name="catch" value="('ItemChooserInnerEvent.' + onItemSelectedEvent)"/>
		<block type="text">
			<bind name="name" value="_items[curIndex]"/>
		</block>
		<bind name="catch" value="('ItemChooserInnerEventDublicate.' + onItemSelectedEvent); {	_direction: (_curItemIndex==_lastItemIndex) ? !_direction : false,
																			_lastItemIndex: _curItemIndex}"/>
		<bind name="dispatch" value="('ItemChooserInnerEventDublicate.' + onItemSelectedEvent); ('ItemChooser.'+onItemSelectedEvent); {_curItemIndex: _curItemIndex, _direction: _direction}; false; 0.001"/>
		<bind name="tooltip" value="_customDropdown ? _customDropdown : 'ItemChooserDropdown';
											_items.length &gt; 1 	? {	_items: _items, _listItemRenderer: _listItemRenderer, _listItemRendererData: _listItemRendererData, _onItemSelectedEvent: onItemSelectedEvent,
																	_curItemIndex: _curItemIndex, _maxDropDownHeight: _maxDropDownHeight, _dropDownWidth: _dropDownWidth, _showHint: _showHint, _text: _text}
																: null;
											TooltipBehaviour.verticalInfoWidget; null; 'dropdownChooserListIsVisible'"/>
		<bind name="var" value="{ _tooltipData: !_itemChooserTooltipText || (_items.length &lt;= 1) ? null : { tooltipText: _itemChooserTooltipText } }"/>
		<bind name="tooltip" value="'SimpleTooltip'; _tooltipData"/>
		<bind name="style" value="'hitTest'; _items.length &gt; 1 &amp;&amp; isEnabled"/>
		<bind name="watch" value="'isItemNavigateVisible'; (_items.length &gt; 1 &amp;&amp; isEnabled)"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="style" value="'marginRight'; isItemNavigateVisible ? '-8px' : '0px'"/>
		<block className="button_dock" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginTop value="1px"/>
				<marginBottom value="1px"/>
			</style>
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<bind name="enabled" value="_items.length &gt; 1"/>
			<bind name="selected" value="dropdownChooserListIsVisible"/>
		</block>
		<block>
			<bind name="style" value="'width'; _width ? '100%f' : 'auto'"/>
			<bind name="instance" value="_choosedItemRenderer; {_item: _items[curIndex], _choosedItemRendererParams: _choosedItemRendererParams}"/>
		</block>
		<block>
			<bind name="visible" value="isItemNavigateVisible"/>
			<style>
				<marginLeft value="5px"/>
				<marginRight value="4px"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_navigate" type="native">
				<bind name="gotoAndStop!" value="'down'"/>
			</block>
		</block>
	</block>
	<block className="ItemChooserDropdown">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<bind name="style" value="'width'; _dropDownWidth ? _dropDownWidth : '180px'"/>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<bind name="visible" value="optionData.contrast &amp;&amp; !(true)"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(true)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="true"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<backgroundColor value="0x01000000"/>
				<hitTest value="false"/>
			</style>
			<params>
				<param name="name" value="ItemChooserDropdown"/>
			</params>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<bind name="style" value="'maxHeight'; _maxDropDownHeight ? _maxDropDownHeight : 220"/>
			<style>
				<width value="100%"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="_items; _listItemRenderer; {_onItemSelectedEvent: _onItemSelectedEvent, _curItemIndex: _curItemIndex, _listItemRendererData: _listItemRendererData}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON) &amp;&amp; (_showHint == true)"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'StatusLineWithIcon'; { _text: _text, _maxWidth: 140}"/>
		</block>
	</block>
	<block className="BluishTextChoosedItemRenderer">
		<style>
			<height value="32px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="(tr(_item))"/>
		</block>
	</block>
	<block className="LowerCaseTextListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<bind name="var" value="{_toLowerCase: true}"/>
		<block className="MenuItemWithSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="$value"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="LargeTextChoosedItemRenderer">
		<style>
			<height value="35px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextDockBig"/>
			<bind name="text" value="(tr(_item))"/>
		</block>
	</block>
	<block className="TextListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<block className="MenuItemWithSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="$value"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="TextChoosedItemRenderer">
		<style>
			<height value="33px"/>
		</style>
		<bind name="style" value="'width'; _choosedItemRendererParams.width ? _choosedItemRendererParams.width : 'auto'"/>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="5px"/>
				<marginTop value="4px"/>
			</style>
			<bind name="class" value="_choosedItemRendererParams.fontClass ? _choosedItemRendererParams.fontClass : '$TextDockBig'"/>
			<bind name="text" value="(tr(_item))"/>
		</block>
	</block>
	<block className="ShipRestrictions">
		<style>
			<height value="21px"/>
			<flow value="horizontal"/>
			<marginRight value="4px"/>
		</style>
		<bind name="style" value="'flow'; _flow ? _flow : 'horizontal'"/>
		<bind name="style" value="'width'; _width ? _width : 'auto'"/>
		<bind name="entityDH" value="'restrictionsEntity'; _restrictionsEntityId"/>
		<bind name="watchDH" value="'shipRestrictions' ; ['restrictionsEntity.shipRestrictions.evUpdate']; restrictionsEntity.shipRestrictions.selectedFilters"/>
		<bind name="watchDH" value="'shipsCount' ; ['restrictionsEntity.divisionRestrictions.evUpdate']; restrictionsEntity.divisionRestrictions.shipsCount"/>
		<bind name="watchDH" value="'typesCount' ; ['restrictionsEntity.divisionRestrictions.evUpdate']; restrictionsEntity.divisionRestrictions.typesCount"/>
		<bind name="entityDH" value="'defaultRestrictionsEntity'; _defaultRestrictionsEntityId"/>
		<bind name="watchDH" value="'defaultTypesCount' ; ['defaultRestrictionsEntity.divisionRestrictions.evUpdate']; defaultRestrictionsEntity.divisionRestrictions.typesCount"/>
		<bind name="watch" value="'isAllShipTypesAllowed'; 	shipTypefilters.length == ShipTypes.AVAILABLE_TYPES.length"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'idsfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'idsfilters'+'ROOT'; 'idsfilters'; {'filter':$entity.shipFilterItem.type == 'shipId' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'shipTypefilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'shipTypefilters'+'ROOT'; 'shipTypefilters'; {'filter':$entity.shipFilterItem.type == 'shipType' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'levelfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'levelfilters'+'ROOT'; 'levelfilters'; {'filter':$entity.shipFilterItem.type == 'level' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'nationfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'nationfilters'+'ROOT'; 'nationfilters'; {'filter':$entity.shipFilterItem.type == 'nation' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionFields" value="levelfilters; ['shipFilterItem.field']"/>
		<bind name="contains" value="typesCount; $item[1] == -1; 'isAnyShipTypeNotAllowed'"/>
		<bind name="watch" value="'isCarriersRestricted'; typesCount[ShipTypes.AircraftCarrier] &amp;&amp; typesCount[ShipTypes.AircraftCarrier][1] != (defaultRestrictionsEntity ? defaultTypesCount[ShipTypes.AircraftCarrier][1] : 0)"/>
		<bind name="watch" value="'isBattleShipsRestricted'; typesCount[ShipTypes.BattleShip] &amp;&amp; typesCount[ShipTypes.BattleShip][1] != (defaultRestrictionsEntity ? defaultTypesCount[ShipTypes.BattleShip][1] : 0)"/>
		<bind name="watch" value="'isCruisersRestricted'; typesCount[ShipTypes.Cruiser] &amp;&amp; typesCount[ShipTypes.Cruiser][1] != (defaultRestrictionsEntity ? defaultTypesCount[ShipTypes.Cruiser][1] : 0)"/>
		<bind name="watch" value="'isDestroyersRestricted'; typesCount[ShipTypes.Destroyer] &amp;&amp; typesCount[ShipTypes.Destroyer][1] != (defaultRestrictionsEntity ? defaultTypesCount[ShipTypes.Destroyer][1] : 0)"/>
		<bind name="watch" value="'isSubmarinesRestricted'; typesCount[ShipTypes.Submarine] &amp;&amp; typesCount[ShipTypes.Submarine][1] != (defaultRestrictionsEntity ? defaultTypesCount[ShipTypes.Submarine][1] : 0)"/>
		<bind name="watch" value="'isAnyShipTypeRestricted'; isCarriersRestricted || isBattleShipsRestricted || isCruisersRestricted || isDestroyersRestricted || isSubmarinesRestricted"/>
		<bind name="watch" value="'hasRestrictions'; (idsfilters.length &gt; 0)			||
									(shipTypefilters.length &gt; 0)	||
									(levelfilters.length &gt; 0)		||
									(nationfilters.length &gt; 0)		||
									(isAnyShipTypeRestricted)"/>
		<bind name="watch" value="'shipTypeFiltersEnabled'; shipTypefilters.length &gt; 0"/>
		<bind name="watch" value="'isShipFilterRestrictionsVisible'; isAnyShipTypeRestricted &amp;&amp; (isAnyShipTypeNotAllowed || _withShipTypeCounters) &amp;&amp; !(shipTypeFiltersEnabled)"/>
		<block>
			<bind name="visible" value="(idsfilters.length &gt; 0)"/>
			<style>
				<marginRight value="4px"/>
				<marginTop value="-2px"/>
			</style>
			<bind name="repeat" value="idsfilters; 'ConcreteShipRestriction'; (idsfilters.length &gt; 0)	? {_concreteShipsLength: idsfilters.length}
																						: null"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="	(idsfilters.length &gt; 0)					&amp;&amp;
						(
							(levelfilters.length &gt; 0) 			|| 
							(nationfilters.length &gt; 0)			||
							(isAnyShipTypeRestricted == true)
						)"/>
			<style>
				<height value="21px"/>
				<marginRight value="4px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-3px"/>
			</style>
			<bind name="visible" value="(levelfilters.length &gt; 0)"/>
			<bind name="repeat" value="reduceAppliedValues(levelfilters_shipFilterItem_field); 'ShipLevelRome'"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="	(levelfilters.length &gt; 0)				&amp;&amp;
						(
							(shipTypeFiltersEnabled)			||
                        	(nationfilters.length &gt; 0)			||
							(isShipFilterRestrictionsVisible)
						)"/>
			<style>
				<height value="21px"/>
				<marginRight value="4px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(isShipFilterRestrictionsVisible)"/>
			<style>
				<alpha value="0.9"/>
				<marginTop value="5px"/>
			</style>
			<bind name="instance" value="'ShipFilterRestrictions'; isShipFilterRestrictionsVisible ? {_filters: typesCount, _withShipTypeCounters: _withShipTypeCounters} : null"/>
		</block>
		<block>
			<bind name="visible" value="isShipFilterRestrictionsVisible &amp;&amp; ((shipTypeFiltersEnabled) &amp;&amp; !(isAllShipTypesAllowed))"/>
			<style>
				<height value="21px"/>
				<marginRight value="4px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(shipTypeFiltersEnabled) &amp;&amp; !(isAllShipTypesAllowed)"/>
			<style>
				<marginRight value="4px"/>
			</style>
			<bind name="repeat" value="shipTypefilters; 'IconShipClasses'; (shipTypefilters.length &gt; 0)	? {_shipTypefiltersLength: shipTypefilters.length}
																						: null"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="	(nationfilters.length &gt; 0) &amp;&amp; ((shipTypeFiltersEnabled) &amp;&amp; !(isAllShipTypesAllowed))"/>
			<style>
				<height value="21px"/>
				<marginRight value="4px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(nationfilters.length &gt; 0)"/>
			<style>
				<marginRight value="4px"/>
			</style>
			<bind name="repeat" value="nationfilters; 'ShipNationsRestriction'; (nationfilters.length &gt; 0)	? {_shipNationsLength: nationfilters.length}
																							: null"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="!hasRestrictions &amp;&amp; _noRestrictionsText"/>
			<style>
				<alpha value="0.9"/>
				<marginRight value="4px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultWhite"/>
				<bind name="text" value="_noRestrictionsText"/>
			</block>
		</block>
	</block>
	<block className="ShipFilterRestrictions">
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="instance" value="'ShipFilterRestriction'; {_shipType: ShipTypes.Destroyer,		_filter: _filters[ShipTypes.Destroyer],			_withShipTypeCounters: _withShipTypeCounters}"/>
		<bind name="instance" value="'ShipFilterRestriction'; {_shipType: ShipTypes.Cruiser,			_filter: _filters[ShipTypes.Cruiser],			_withShipTypeCounters: _withShipTypeCounters}"/>
		<bind name="instance" value="'ShipFilterRestriction'; {_shipType: ShipTypes.BattleShip,		_filter: _filters[ShipTypes.BattleShip],		_withShipTypeCounters: _withShipTypeCounters}"/>
		<bind name="instance" value="'ShipFilterRestriction'; {_shipType: ShipTypes.AircraftCarrier,	_filter: _filters[ShipTypes.AircraftCarrier],	_withShipTypeCounters: _withShipTypeCounters}"/>
	</block>
	<block className="ShipFilterRestriction">
		<bind name="visible" value="(_filter[1] != -1)"/>
		<style>
			<flow value="horizontal"/>
			<marginRight value="4px"/>
		</style>
		<bind name="collectionDH" value="CC.shipFilterItem; 'typeFilter'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'typeFilter'+'ROOT'; 'typeFilter'; {'filter':$entity.shipFilterItem.type == 'shipType' &amp;&amp; $entity.shipFilterItem.field == _shipType}; []"/>
		<bind name="style" value="'marginLeft'; (_shipType == ShipTypes.Destroyer) ? '-3px' : '0px'"/>
		<block className="icon_ship" type="native">
			<style>
				<marginRight value="2px"/>
			</style>
			<bind name="gotoAndStop!" value="_shipType"/>
		</block>
		<block>
			<bind name="visible" value="((_filter[1] &gt; 0 || _filter[1] == -1) &amp;&amp; _withShipTypeCounters)"/>
			<block type="text">
				<styleClass value="$TextDefaultNM"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="text" value="((_filter[0] == _filter[1]) ? _filter[0]
													: (_filter[0] + '-' + _filter[1]))"/>
			</block>
		</block>
	</block>
	<block className="ShipNationsRestriction">
		<bind name="entityDH" value="'filterEntity'; id"/>
		<bind name="style" value="'marginRight'; ($index &lt; _shipNationsLength - 1) ? '4px' : '0px'"/>
		<bind name="instance" value="'NationFlagsTiny'; {shipCountry: filterEntity.shipFilterItem.field}"/>
	</block>
	<block className="ConcreteShipRestriction">
		<bind name="style" value="'marginRight'; ($index &lt; _concreteShipsLength) ? '4px' : '0px'"/>
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'shipId'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; Number(shipId); 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<marginLeft value="-4px"/>
				<marginRight value="-4px"/>
			</style>
			<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS)) + (($index &lt; _concreteShipsLength - 1) ? ', ' : '')"/>
		</block>
	</block>
	<block className="IconShipClasses">
		<bind name="style" value="'marginRight'; ($index &lt; _shipTypefiltersLength - 1) ? '4px' : '0px'"/>
		<bind name="entityDH" value="'filterEntity'; id"/>
		<block className="icon_ship" type="native">
			<style>
				<marginTop value="6px"/>
			</style>
			<bind name="gotoAndStop!" value="filterEntity.shipFilterItem.field"/>
		</block>
	</block>
	<block className="TooltipSystemHeaderWithIconAndText">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<marginRight value="12px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'width'; _imageWidth"/>
			<bind name="style" value="'height'; _imageHeight"/>
			<bind name="style" value="'backgroundImage'; _imageUrl"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'TooltipSystemHeaderSubheaderText'; {	_headerText: _headerText,
																_subheaderText: _subheaderText,
																_unifiedStatus: _unifiedStatus}"/>
		</block>
	</block>
	<block className="TooltipSystemHeaderSubheaderText">
		<style>
			<width value="100%"/>
		</style>
		<bind name="watch" value="'textColor';	_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.ATTENTION			? SC.Ui_styles.SERVICE_COLORS.ORANGE :
									_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.DATE_ATTENTION	? SC.Ui_styles.SERVICE_COLORS.ORANGE :
									_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.CHECK				? SC.Ui_styles.SERVICE_COLORS.YELLOW :
									_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.NEGATIVE			? SC.Ui_styles.SERVICE_COLORS.RED	:
									_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.WARNING			? SC.Ui_styles.SERVICE_COLORS.RED	:
									_unifiedStatus == SC.Ui_styles.UNIFIED_STATUS.DEFAULT			? SC.Ui_styles.SERVICE_COLORS.WHITE
																									: SC.Ui_styles.SERVICE_COLORS.WHITE"/>
		<bind name="watch" value="'textAlpha';	textColor == SC.Ui_styles.SERVICE_COLORS.ORANGE	? 1 :
									textColor == SC.Ui_styles.SERVICE_COLORS.YELLOW	? 1 :
									textColor == SC.Ui_styles.SERVICE_COLORS.RED		? 1
																							: 0.9"/>
		<block type="text">
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
				<leading value="-4"/>
			</style>
			<styleClass value="$TextDefaultBold19NM"/>
			<bind name="style" value="'alpha'; textAlpha"/>
			<bind name="style" value="'textColor'; textColor"/>
			<bind name="text" value="_headerText"/>
		</block>
		<block type="text">
			<bind name="visible" value="_subheaderText ? true : false"/>
			<style>
				<width value="100%"/>
				<alpha value="0.7"/>
				<marginTop value="8px"/>
				<leading value="-2"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="style" value="'textColor'; textColor"/>
			<bind name="text" value="_subheaderText"/>
		</block>
	</block>
	<block className="TooltipSystemDueDateStatusLine">
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'isTimeRunningOut'; _dueDateTimeStamp - serverTime &lt; 86400"/>
		<bind name="timeFormat" value="_dueDateTimeStamp; 'dd.MM.yy'; 'formattedDueDate'; true"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="instance" value="'TooltipSystemStatusLine'; {	_unifiedStatus: isTimeRunningOut	? SC.Ui_styles.UNIFIED_STATUS.DATE_ATTENTION
																						: SC.Ui_styles.UNIFIED_STATUS.DATE,
													_text: subst(_substTextIDS, [], { _date: formattedDueDate }) 									
												}"/>
	</block>
	<block className="TooltipSystemStatusLine">
		<style>
			<width value="100%"/>
		</style>
		<bind name="instance" value="'StatusLine'; {	_unifiedStatus: _unifiedStatus, _text: _text,
									_textClass: '$TextDefaultNM', _leading: -3,
									_width: '100%'}"/>
	</block>
	<block className="TooltipSystemDescriptionText">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
				<leading value="-2"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="text" value="_descriptionText"/>
		</block>
	</block>
	<block className="TooltipSystemParamsModifiersList">
		<bind name="entityDH" value="'paramsModifiersEntity'; _paramsModifiersEntityId"/>
		<bind name="watch" value="'attributesPositive'; 		_attributesPositive	? _attributesPositive
																: paramsModifiersEntity.attributes.positive"/>
		<bind name="entityDH" value="'attributesNegative'; 	_attributesNegative	? _attributesNegative
																: paramsModifiersEntity.attributes.negative"/>
		<bind name="entityDH" value="'attributesNeutral';	_attributesNeutral	: _attributesNeutral
																? paramsModifiersEntity.attributes.neutral"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="inner_panel" type="native">
			<style>
				<margin value="-12px"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="-16px"/>
			</style>
			<bind name="instance" value="'ParamsModifierList'; { _attributesPositive: attributesPositive,
												_attributesNegative: attributesNegative,
												_attributesNeutral: attributesNeutral}"/>
		</block>
	</block>
	<block className="TooltipSystemRewards">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
				<leading value="-2"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="text" value="_rewardsTitle"/>
		</block>
		<bind name="repeat" value="_rewards; 'RewardContainerTooltipItemAdapter'"/>
	</block>
	<block className="TooltipSystemRewardsList">
		<style>
			<width value="100%"/>
		</style>
		<block className="inner_panel" type="native">
			<style>
				<margin value="-12px"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="-16px"/>
			</style>
			<bind name="repeat" value="_rewards; 'TooltipSystemRewardPriceTagAdapter'"/>
		</block>
	</block>
	<block className="TooltipSystemRewardPriceTagAdapter">
		<style>
			<width value="100%"/>
		</style>
		<bind name="entityDH" value="'rewardEntity'; $value"/>
		<bind name="watch" value="'currency'; 	(rewardEntity.rewardComponent.subtype == 'crewPoints')		?	'exp' :
		 						(rewardEntity.rewardComponent.subtype == 'clanResource')	?	'clan_resource' 
		 																					:	rewardEntity.rewardComponent.subtype"/>
		<bind name="watch" value="'title'; tr(toUpperCase('IDS_REWARD_' + rewardEntity.rewardComponent.subtype + '_TITLE'))"/>
		<bind name="watch" value="'priceInfo'; { finalPrice: rewardEntity.rewardComponent.amount, currency: currency}"/>
		<bind name="instance" value="'TooltipSystemPriceTagLine'; {_title: title, _priceInfo: priceInfo, _nation: _nation}"/>
	</block>
	<block className="TooltipSystemPriceTagLine">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<marginBottom value="12px"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
				<leading value="-2"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="text" value="_title"/>
		</block>
		<block>
			<style>
				<marginTop value="-6px"/>
				<marginBottom value="-5px"/>
			</style>
			<bind name="instance" value="'PriceTag'; {	priceInfo: _priceInfo,
										_nation: _nation}"/>
		</block>
	</block>
	<block className="TooltipSystemMouseInstruction">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginTop value="-5px"/>
				<marginBottom value="-4px"/>
				<marginLeft value="-2px"/>
			</style>
			<block className="icon_mouse" type="native">
				<bind name="gotoAndStop!" value="_type"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultNM"/>
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
				<leading value="-2"/>
			</style>
			<bind name="style" value="'marginLeft'; (_type=='no_icon') ? '0px' : '8px'"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="TaskContainerRestriction">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerRange; 'shipLevelsRange'; shipLevels"/>
		<bind name="primaryEntityDH" value="'campaignTaskEntity'; CC.campaignTaskParams; _taskID"/>
		<bind name="watchDH" value="'battleTypes';[]; campaignTaskEntity.campaignTaskRestrictions.battleTypes"/>
		<bind name="watchDH" value="'shipLevels';[]; campaignTaskEntity.campaignTaskRestrictions.shipLevels"/>
		<bind name="watchDH" value="'shipClasses';[]; campaignTaskEntity.campaignTaskRestrictions.shipClasses"/>
		<bind name="watchDH" value="'shipNations';[]; campaignTaskEntity.campaignTaskRestrictions.shipNations"/>
		<bind name="watchDH" value="'shipIDs';[]; campaignTaskEntity.campaignTaskRestrictions.shipIDs"/>
		<bind name="watchDH" value="'goalEntityId';['']; campaignTaskEntity.campaignTaskParams.goal"/>
		<bind name="entityDH" value="'campaignGoalEntity'; goalEntityId"/>
		<bind name="watchDH" value="'l10nRestriction';[]; campaignGoalEntity.campaignTaskGoal.l10nRestriction"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$HugeMargins"/>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="l10nRestriction"/>
			</block>
			<block>
				<style>
					<flow value="htile"/>
					<width value="100%"/>
				</style>
				<block>
					<bind name="visible" value="battleTypes.length != 0"/>
					<styleClass value="$InfoLineBoundaries"/>
					<block>
						<bind name="repeat" value="battleTypes; 'TaskBattleTypeRestriction'; {}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<bind name="visible" value="shipLevels.length != 0"/>
						<style>
							<height value="25px"/>
							<marginLeft value="3px"/>
							<marginRight value="3px"/>
						</style>
						<block className="VerticalDivider">
							<style>
								<height value="100%"/>
								<width value="3px"/>
							</style>
							<block className="divider_v" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="shipLevels.length != 0"/>
					<bind name="tooltip" value="'ShipListTooltipCampaigns'; {_taskID: _taskID}"/>
					<styleClass value="$InfoLineBoundaries"/>
					<block>
						<style>
							<marginLeft value="6px"/>
							<marginRight value="6px"/>
						</style>
						<bind name="repeat" value="shipLevelsRange; 'TaskShipLevelRestriction'; {}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<bind name="visible" value="shipClasses.length != 0"/>
						<style>
							<height value="25px"/>
							<marginLeft value="3px"/>
							<marginRight value="3px"/>
						</style>
						<block className="VerticalDivider">
							<style>
								<height value="100%"/>
								<width value="3px"/>
							</style>
							<block className="divider_v" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="shipClasses.length != 0"/>
					<bind name="tooltip" value="'ShipListTooltipCampaigns'; {_taskID: _taskID}"/>
					<styleClass value="$InfoLineBoundaries"/>
					<block>
						<style>
							<marginLeft value="6px"/>
							<marginRight value="6px"/>
						</style>
						<bind name="repeat" value="shipClasses; 'TaskShipClassRestriction';	{_shipIsPremium: campaignTaskEntity.campaignTaskRestrictions.shipIsPremium,																												
																			_shipIsElite: campaignTaskEntity.campaignTaskRestrictions.shipIsElite}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="shipNations.length != 0"/>
					<styleClass value="$InfoLineBoundaries"/>
					<style>
						<height value="25px"/>
						<marginLeft value="3px"/>
						<marginRight value="9px"/>
					</style>
					<block className="VerticalDivider">
						<style>
							<height value="100%"/>
							<width value="3px"/>
						</style>
						<block className="divider_v" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<block>
					<styleClass value="$InfoLineBoundaries"/>
					<bind name="visible" value="shipNations.length != 0"/>
					<bind name="repeat" value="shipNations; 'TaskShipNationRestriction'; {}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="TaskBattleTypeRestriction">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<block className="icon_battletypes_small" type="native">
			<style>
				<marginRight value="6px"/>
				<width value="25px"/>
				<height value="25px"/>
			</style>
			<bind name="gotoAndStop!" value=" 	($value == 0)	? 'RandomBattle' :
								($value == 1) 	? 'TrainingBattle' :
								($value == 2) 	? 'CooperativeBattle' :
								($value == 3) 	? 'TutorialBattle' :
								($value == 4) 	? (rankedBattlesSeason.isJuniorSeason == true) 	? 'RankedBattle_junior' 
																								: 'RankedBattle':
								($value == 5) 	? 'ClubBattle':
								($value == 6) 	? 'PVEBattle' :
								($value == 7) 	? 'PVEBattle' :
								($value == 8) 	? 'ClanBattle' :
								($value == 9) 	? 'EventBattle'
												: null"/>
		</block>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 	($value == 0)	? 'IDS_RANDOM_BATTLE' :
													($value == 1) 	? 'IDS_TRAINING_BATTLE' :
													($value == 2) 	? 'IDS_COOPERATIVE_BATTLE' :
													($value == 3) 	? 'IDS_INTRO_MISSION_BATTLE' :
													($value == 4) 	? 'IDS_RANKED_BATTLE':
													($value == 5) 	? 'IDS_CLUB_BATTLE':
													($value == 6) 	? 'IDS_PVE_BATTLE':
													($value == 7) 	? 'IDS_PVE_BATTLE':
													($value == 8) 	? 'IDS_CLAN_BATTLE':
													($value == 9) 	? 'IDS_EVENTBATTLE'
																	: null}"/>
	</block>
	<block className="TaskShipLevelRestriction">
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="text" value="ShipLevels.RLEVELS[$value]"/>
		</block>
	</block>
	<block className="TaskShipClassRestriction">
		<style>
			<marginRight value="3px"/>
			<height value="22px"/>
		</style>
		<block className="icon_ship" type="native">
			<styleClass value="$MiddleVAligned"/>
			<bind name="gotoAndStop!" value="_shipIsPremium ?  $value + '_P' : $value"/>
		</block>
		<block className="icon_wreath" type="native">
			<bind name="visible" value="_shipIsPremium || _shipIsElite"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<left value="-5px"/>
			</style>
			<bind name="gotoAndStop!" value="_shipIsPremium ?  'premium' : 'elite'"/>
		</block>
	</block>
	<block className="TaskShipNationRestriction">
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_SHIP_NATION_RESTRICTION'}"/>
		<style>
			<marginRight value="3px"/>
		</style>
		<block>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: $value}"/>
		</block>
	</block>
	<block className="ShipListTooltipCampaigns">
		<bind name="collectionDH" value="CC.ownShip; 'shipList'; 'campaigns_task_current'"/>
		<bind name="action" value="'Tooltip.selfOpened'; 'updateTaskShipList'; {taskId: _taskID}"/>
		<bind name="instance" value="'ShipListTooltip'; {_shipList: shipList}"/>
	</block>
	<block className="ShipListTooltip">
		<bind name="watch" value="'countShipList'; _shipList.length - 10"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="250px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<bind name="visible" value="_shipList.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$TextHeaderBigDefaultTech"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<text value="IDS_AVAILABLE_SHIP"/>
			</block>
			<block>
				<bind name="repeat" value="(_shipList.length &gt; 10 ? 10 : _shipList.length); 'ShipItem'; {_shipList: _shipList}"/>
			</block>
			<block type="text">
				<bind name="visible" value="(_shipList.length) &gt; 10"/>
				<style>
					<marginTop value="-2px"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$TextHeaderBigDefaultTech"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="subst('IDS_AND_OTHER_SHIPS', [], {count: countShipList}, countShipList)}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_shipList.length &lt;= 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<maxWidth value="240"/>
					<leading value="-3"/>
				</style>
				<text value="IDS_NO_SUITABLE_SHIPS"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipItem">
		<styleClass value="$InfoBlockIndent"/>
		<bind name="instance" value="'ShipLineItem'; {_shipId: _shipList[$index].ship.id, _width: '185px'}"/>
	</block>
	<css name="$HugeMargins">
		<width value="100%"/>
		<marginTop value="10px"/>
		<marginLeft value="18px"/>
		<marginBottom value="10px"/>
		<marginRight value="18px"/>
	</css>
	<block className="ModalWindowPVEOperationInfo">
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; $root.operationId"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watchDH" value="'pveOperationStatus'; ['operationEntity.operation.evStatusChanged'];  operationEntity.operation.status"/>
		<bind name="watchDH" value="'startTime';  ['operationEntity.operation.evPeriodsChanged']; operationEntity.operation.startTime"/>
		<bind name="watchDH" value="'finishTime'; ['operationEntity.operation.evPeriodsChanged']; operationEntity.operation.finishTime"/>
		<bind name="watch" value="'isOperationOfTheWeek'; (pveOperationStatus == 3 &amp;&amp; userPrefs.uiPVEOperationsDifficulty == 'normal')"/>
		<styleClass value="$Fullsize"/>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="var" value="{windowAppearLag: 0.1}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="modal_panel" type="native">
				<style>
					<alpha value="0.7"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<paddingRight value="1280:20,1920:46aw"/>
				<paddingLeft value="1280:20,1920:46aw"/>
				<paddingBottom value="1280:20,1920:46aw"/>
				<paddingTop value="1280:20,1920:46aw"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 1 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
				<bind name="appear" value="'startHide'; 0.15; 1 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<block>
					<style>
						<position value="absolute"/>
						<right value="4px"/>
						<top value="9px"/>
					</style>
					<block className="ModalWindowCloseIcon">
						<style>
							<position value="absolute"/>
							<right value="0px"/>
							<top value="0px"/>
							<flow value="horizontal"/>
						</style>
						<bind name="name" value="'btn_cancel'"/>
						<bind name="input"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<style>
								<backgroundColor value="0x01000000"/>
							</style>
							<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
							<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
							<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
							<block>
								<bind name="soundSet" value="'default_button'"/>
								<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
								<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
								<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
								<style>
									<alpha value="0.8"/>
								</style>
								<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
								<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
							</block>
							<block>
								<style>
									<marginTop value="3px"/>
								</style>
								<block className="button_close" type="native">
									<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
									<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
									<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
									<params>
										<param name="focusable" value="false"/>
									</params>
									<bind name="gotoAndPlay!" value="CrossButtonStates"/>
								</block>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="instance" value="'ModalOperationInfoHeader'; {}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginTop value="720:2,1080:4ah"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="720:24,1080:128ah"/>
				</style>
				<block>
					<style>
						<marginLeft value="48px"/>
						<width value="270px"/>
						<marginRight value="1280:64,1920:128aw"/>
					</style>
					<block>
						<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
						<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
						<styleClass value="$MiddleAligned"/>
						<bind name="instance" value="'DifficultySwitcher'; {_operationId: operationEntity.operation.id}"/>
					</block>
					<block>
						<styleClass value="$MiddleAligned"/>
						<style>
							<alpha value="0.9"/>
							<marginTop value="24px"/>
						</style>
						<bind name="fade" value="isOperationOfTheWeek; 0.10; {alpha: 0, top: -5}; {alpha: 1, top: 0}"/>
						<block>
							<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 3 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
							<bind name="appear" value="'startHide'; 0.15; 3 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
							<bind name="instance" value="'PVEOperationOfTheWeekLabel'; {}"/>
						</block>
					</block>
				</block>
				<block>
					<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
					<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
					<style>
						<width value="1280:440,1920:600aw"/>
						<marginTop value="16px"/>
						<marginRight value="1280:16,1920:32aw"/>
					</style>
					<block type="text">
						<style>
							<width value="100%"/>
							<alpha value="0.9"/>
							<marginBottom value="8px"/>
						</style>
						<styleClass value="$TextDefaultBold23NM"/>
						<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME')"/>
					</block>
					<block>
						<style>
							<left value="-4px"/>
							<marginBottom value="24px"/>
						</style>
						<bind name="instance" value="'OperationRewardsContainerAdapter'; {	_operationId: operationEntity.operation.id, _difficulty: userPrefs.uiPVEOperationsDifficulty, _smallIcons: true,
																			_noAnimation: true, _rMargin: (16+'px')}"/>
					</block>
					<block type="text">
						<style>
							<width value="100%"/>
							<alpha value="0.75"/>
							<marginBottom value="24px"/>
							<leading value="-2"/>
						</style>
						<styleClass value="$TextDefault19NM"/>
						<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_DESCRIPTION')"/>
					</block>
					<block type="text">
						<style>
							<width value="100%"/>
							<alpha value="0.9"/>
							<marginBottom value="8px"/>
						</style>
						<styleClass value="$TextDefaultBold21NM"/>
						<bind name="text" value="'IDS_PVE_OPERATION_GOAL'"/>
					</block>
					<block type="text">
						<style>
							<width value="100%"/>
							<alpha value="0.75"/>
							<marginBottom value="24px"/>
							<leading value="-2"/>
						</style>
						<styleClass value="$TextDefault19NM"/>
						<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName)+'_GOAL')"/>
					</block>
					<block type="text">
						<style>
							<width value="100%"/>
							<alpha value="0.9"/>
							<marginBottom value="8px"/>
						</style>
						<styleClass value="$TextDefaultBold21NM"/>
						<bind name="text" value="'IDS_PVE_OPERATION_TEAM_STRUCTURE'"/>
					</block>
					<block>
						<bind name="watch" value="'compatibleShipsCollectionPath'; 'operation' + operationEntity.operation.id"/>
						<bind name="collectionDH" value="CC.ownShip; 'compatibleShipList'; compatibleShipsCollectionPath "/>
						<bind name="tooltip" value="'ShipListTooltip'; {_shipList: compatibleShipList}"/>
						<bind name="instance" value="'ShipRestrictions'; {_restrictionsEntityId: operationEntity.id, _withShipTypeCounters: false}"/>
					</block>
				</block>
				<block>
					<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
					<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
					<style>
						<marginTop value="20px"/>
					</style>
					<bind name="instance" value="'GalleryViewer';	{
														_galleryItemRenderer: 'DefaultPngViewer', 
														_galleryItemRendererRepeaterParams: [{ image: {imagePath: 'url:../pve/operation_briefing/' + operationEntity.operation.gpName + '.png'}}], 
														_galleryItemRendererParams: [{ image: {imagePath: 'url:../pve/operation_briefing/' + operationEntity.operation.gpName + '.png'}}], 
														_galleryItemRendererImageIndicator: 'SelectedImageIndicator', 
														_galleryImageWidth: 378, 
														_galleryImageHeight: 378, 
														_indicatorDisabled: true,
														_isAutoSwitchStoped: true,
														_currentImageIdx: 1
													}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<bind name="primaryEntityDH" value="'pveBattleTypeEntity'; CC.battleType; BattleTypes.PVE_BATTLE"/>
			<bind name="watchDH" value="'isPveBattleTypeSelected'; ['pveBattleTypeEntity.battleType.evSelectionChanged']; pveBattleTypeEntity.battleType.selected"/>
			<block>
				<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 3.5 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
				<bind name="appear" value="'startHide'; 0.15; 3.5 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<style>
					<bottom value="720:64,1080:128ah"/>
					<width value="250px"/>
				</style>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<bind name="action" value="'click'; isPveBattleTypeSelected ? null : 'setBattleType'; {battleType: BattleTypes.PVE_BATTLE}"/>
				<bind name="action" value="'click'; 'PVEScriptsProxy.chooseOperation'; {operationId: operationEntity.operation.id, difficulty: userPrefs.uiPVEOperationsDifficulty, shouldEnterMM: true}"/>
				<bind name="request" value="'click'; 'closeModalPVEOperationInfo'; {}"/>
				<bind name="request" value="'click'; 'closeModalSelectBattleType'; {}"/>
				<bind name="request" value="'click'; 'closeModalPVEOperationChooser'; {}"/>
				<bind name="instance" value="'DefaultButton'; {	_enabled: true,
												_label: toUpperCase(tr('IDS_TAKE_THIS_PVE_OPERATION')),
												_isTransactionBtn: false}"/>
			</block>
		</block>
	</block>
	<block className="ModalOperationInfoHeader">
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; $root.operationId"/>
		<bind name="watchDH" value="'pveOperationStatus'; 	 ['operationEntity.operation.evStatusChanged'];  operationEntity.operation.status"/>
		<bind name="watchDH" value="'operationIsHard'; []; operationEntity.operation.isHard"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'_subHeader'; 	operationIsHard		? 'IDS_OPERATION_HARD_DIFFICULTY_STATUS'
													: 'IDS_OPERATION_NORMAL_DIFFICULTY_STATUS')"/>
		<block>
			<style>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="pveOperationStatus == 3 ? toUpperCase(tr('IDS_OPERATION_OF_THE_WEEK_OPERATION_STATUS')) 
																			: toUpperCase(tr('IDS_PVE_OPERATION_INFO_WINDOW_HEADER'))"/>
			</block>
		</block>
		<block>
			<style>
				<marginBottom value="4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<bind name="class" value="'$FontColorBlueish'"/>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="_subHeader"/>
			</block>
		</block>
	</block>
</ui>
