
<ui>
	<css name="$Fullsize">
		<width value="100%"/>
		<height value="100%"/>
	</css>
	<css name="$FullsizeAbsolute">
		<width value="100%"/>
		<position value="absolute"/>
		<height value="100%"/>
	</css>
	<css name="$FullWidth">
		<width value="100%"/>
	</css>
	<css name="$MiddleAligned">
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleAlignedAbsolutely">
		<position value="absolute"/>
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleVAligned">
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$EyeLevelVAligned">
		<top value="720:360,2160:900ah"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVAlignedAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVHAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginLeft value="-50%"/>
		<marginTop value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$AlignRight">
		<position value="absolute"/>
		<right value="0"/>
	</css>
	<css name="$MouseDisable">
		<hitTest value="false"/>
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$InfoLineBoundaries">
		<marginTop value="6px"/>
		<marginBottom value="6px"/>
	</css>
	<css name="$InfoBlockHorizontalIndent">
		<width value="100%"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockIndent">
		<width value="100%"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginBottom value="9px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockHorizontalIndentNoWidth">
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$DockPanelMargins">
		<marginLeft value="13px"/>
		<marginRight value="13px"/>
	</css>
	<css name="$InfoBlockIndentNoWidth">
		<marginBottom value="9px"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$ShipTechStats">
		<width value="312px"/>
		<top value="32px"/>
		<position value="absolute"/>
		<right value="10px"/>
		<height value="100%"/>
	</css>
	<css name="$TextInputEnterButton">
		<right value="2px"/>
		<top value="50%"/>
		<height value="25px"/>
		<width value="52px"/>
		<position value="absolute"/>
		<marginTop value="-11px"/>
	</css>
	<css name="$TextAreaEnterButton">
		<position value="absolute"/>
		<height value="25px"/>
		<right value="2px"/>
		<width value="52px"/>
		<bottom value="0px"/>
	</css>
	<css name="$DefaultScrollBar">
		<wheelScrollSpeed value="15"/>
		<scrollbarController value="lesta.unbound.style.UbScrollingControllerModern"/>
		<scrollArea value="ModernScrollArea"/>
		<scrollbar value="ModernScrollBar"/>
		<scrollbarTrackMode value="scrollToCursor"/>
	</css>
	<css name="$None"/>
	<css name="$PxHorizontalCorrection">
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$PxIndent">
		<marginTop value="1px"/>
		<marginBottom value="1px"/>
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$BottomMenu">
		<position value="absolute"/>
		<bottom value="0px"/>
		<width value="100%"/>
		<height value="30px"/>
	</css>
	<block className="HorizontalDivider">
		<styleClass value="$PxHorizontalCorrection"/>
		<style>
			<width value="100%"/>
			<height value="3px"/>
		</style>
		<block className="divider_h" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<css name="$ModernizationAndConsumScrollBar">
		<wheelScrollSpeed value="15"/>
		<scrollbarController value="lesta.unbound.style.UbScrollingControllerModern"/>
		<scrollArea value="ModernScrollArea"/>
		<scrollbar value="ModernScrollBarSimple"/>
		<scrollbarTrackMode value="scrollToCursor"/>
	</css>
	<block className="VerticalDivider">
		<style>
			<height value="100%"/>
			<width value="3px"/>
		</style>
		<block className="divider_v" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<block className="TableDivider">
		<style>
			<backgroundImage value="symbol:dotted_line"/>
			<backgroundRepeatX value="true"/>
			<width value="100%"/>
			<height value="1px"/>
			<alpha value="0.1"/>
		</style>
	</block>
	<block className="Underline">
		<bind name="style" value="'backgroundColor'; (rollOver &amp;&amp; !mouseDown) ? '0xFFFFFFFF' : '0x00856933'"/>
		<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) == true; 0.3; {scaleX : 0, alpha : 0}; {scaleX : 1, alpha :1}"/>
		<style>
			<backgroundColor value="0xFFFFFFFF"/>
			<position value="absolute"/>
			<height value="1px"/>
			<width value="100%"/>
			<bottom value="0px"/>
			<marginLeft value="2px"/>
			<marginRight value="2px"/>
		</style>
	</block>
	<block className="BlurMap">
		<bind name="visible" value="optionData.blurEnabled"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<style>
			<hitTest value="false"/>
		</style>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="mc_blurmap_medium" type="native">
			<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="blurMap" value="0"/>
		</block>
		<block className="inner_panel" type="native">
			<style>
				<alpha value="0.5"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
	</block>
	<block className="BlurMapLow">
		<bind name="visible" value="optionData.blurEnabled"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<style>
			<hitTest value="false"/>
		</style>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="mc_blurmap5" type="native">
			<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="blurMap" value="0"/>
		</block>
		<block className="inner_panel" type="native">
			<style>
				<alpha value="0.2"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
	</block>
	<block className="BlurMapNotifications">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<height value="100%"/>
		</style>
		<block className="mc_blurmap5_feather" type="native">
			<bind name="fade" value="_start; 0.3; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -20}; 1; 0.15"/>
			<style>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="blurMap" value="0"/>
		</block>
	</block>
	<block className="DeclareBlurLayer">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<block className="transparentPixel" type="native">
			<bind name="blurLayer" value="0"/>
		</block>
		<style>
			<position value="absolute"/>
		</style>
	</block>
	<css name="$ContextMenuListItem">
		<width value="100%"/>
		<height value="29px"/>
	</css>
	<css name="$ContextMenuListItemContent">
		<width value="198px"/>
		<marginLeft value="6px"/>
		<marginRight value="6px"/>
	</css>
	<css name="$ContextMenuDimentions">
		<width value="210px"/>
	</css>
	<block className="DropShadow">
		<styleClass value="$FullsizeAbsolute"/>
		<styleClass value="$MouseDisable"/>
		<block className="drop_shadow" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-2px"/>
				<marginRight value="-6px"/>
				<marginBottom value="-10px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
	</block>
	<block className="EmptyItem">
		<bind name="visible" value="false"/>
	</block>
	<block className="DottedLine">
		<style>
			<backgroundImage value="symbol:dotted_line"/>
			<backgroundRepeatX value="true"/>
			<width value="100%"/>
			<height value="1px"/>
			<alpha value="0.5"/>
		</style>
	</block>
	<css name="$TextNano">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondary">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryNoFilter">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefaultBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderHugeWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderBigDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBigTeamKiller">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$TextHeaderBigNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextHeaderBigWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccent">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentSecond">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderUnready">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<css name="$TextDefaultWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultWhiteBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallCompareNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<textColor value="0xFF6600"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextSmallWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallGold">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextDefaultExpSmall">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSmallNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextTurquoiseQuests">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x00cccc"/>
	</css>
	<css name="$TextLargeHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBlack">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextThumbelina">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="7"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$TextHeaderBigDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$BlackLabel">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$ZurichCondensedBold"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextHeaderWhiteBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$ResultsReward">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<letterSpacing value="-3"/>
		<marginRight value="2px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentGreyBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xDDDDDD"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="50"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel1">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="36"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel2">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$ConfirmationWindowWidth">
		<width value="472px"/>
	</css>
	<css name="$ModalWindowDefaultWidth">
		<width value="472px"/>
	</css>
	<css name="$ModalWindowLargeCostMargins">
		<marginLeft value="5px"/>
		<marginRight value="4px"/>
	</css>
	<css name="$SelectTypeListItem">
		<width value="100%"/>
		<height value="74px"/>
	</css>
	<css name="$SelectTypeListItemIndent">
		<marginBottom value="15px"/>
		<marginTop value="15px"/>
		<marginLeft value="21px"/>
		<marginRight value="21px"/>
	</css>
	<block className="ModalWindowOkCancelRequest">
		<style>
			<flow value="horizontal"/>
			<marginTop value="15px"/>
		</style>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.60; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<styleClass value="$InfoLineBoundaries"/>
			<style>
				<width value="129px"/>
				<marginRight value="20px"/>
			</style>
			<bind name="instance" value="'DefaultButton'; {	_width: '129px', _request: _request, _requestParams: _requestParams, _enabled: true, _isTransactionBtn: true,
											_containerName: ('Modal_window_action_Button' + _okLabel), _label: _okLabel,
											_focusIndex: 1, _defaultFocused: true,
											_name: 'btn_ok'}"/>
		</block>
		<block>
			<style>
				<width value="129px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<block className="DefaultButtonModal">
				<styleClass value="$InfoLineBoundaries"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="name" value="'Modal_window_action_Button' + _cancelLabel"/>
				<block className="button_default" type="native">
					<style>
						<width value="100%"/>
					</style>
					<bind name="label" value="_cancelLabel"/>
					<params>
						<param name="name" value="btn_cancel"/>
					</params>
					<bind name="input"/>
					<bind name="focus" value="2;false"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowUniversalHeader">
		<style>
			<marginBottom value="720:32,1080:64ah"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '100%'"/>
		<block>
			<bind name="visible" value="_header != null"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="center"/>
					<marginTop value="12px"/>
				</style>
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="720:9,1080:11ah"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="!_hideBackButton"/>
			<style>
				<position value="absolute"/>
				<top value="7px"/>
			</style>
			<bind name="instance" value="'BackButton'; {_text: 'IDS_RETURN_TO_DOCK', _action: 'btn_cancel'}"/>
		</block>
		<block>
			<bind name="visible" value="!_hideCloseButton"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'right'; _innerCloseButton ? '60px' : '8px'"/>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="0px"/>
					<top value="13px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
					<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
					<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
					<block>
						<bind name="soundSet" value="'default_button'"/>
						<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
						<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
						<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
						<style>
							<alpha value="0.8"/>
						</style>
						<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
						<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<block className="button_close" type="native">
							<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
							<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
							<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
							<params>
								<param name="focusable" value="false"/>
							</params>
							<bind name="gotoAndPlay!" value="CrossButtonStates"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeader">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<bind name="style" value="'right'; _innerCloseButton ? '60px' : '0px'"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="soundSet" value="'default_button'"/>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="-3"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderConfirmation">
		<style>
			<marginBottom value="3px"/>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icon_warning_grey_big" type="native">
					<style>
						<marginTop value="6px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<text value="IDS_CONFIRMATION"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="-70px"/>
					<top value="9px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
					<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
					<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
					<block>
						<bind name="soundSet" value="'default_button'"/>
						<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
						<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
						<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
						<style>
							<alpha value="0.8"/>
						</style>
						<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
						<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<block className="button_close" type="native">
							<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
							<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
							<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
							<params>
								<param name="focusable" value="false"/>
							</params>
							<bind name="gotoAndPlay!" value="CrossButtonStates"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderNoEsc">
		<style>
			<marginBottom value="3px"/>
			<width value="450px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader5'"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderWithIcon">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icons_modal_window_heading" type="native">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginRight value="3px"/>
					</style>
					<bind name="gotoAndStop!" value="_type"/>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="toUpperCase(tr(_header))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="_showInnerCloseButton"/>
				<styleClass value="$AlignRight"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="soundSet" value="'default_button'"/>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderOptionalIcon">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '100%'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icon_warning_grey_big" type="native">
					<bind name="visible" value="_showIcon"/>
					<style>
						<marginTop value="6px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="toUpperCase(tr(_header))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="_showInnerCloseButton"/>
				<styleClass value="$AlignRight"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="soundSet" value="'default_button'"/>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderFullSize">
		<style>
			<width value="100%"/>
			<paddingRight value="1280:20,1920:46aw"/>
			<paddingLeft value="1280:20,1920:46aw"/>
			<paddingTop value="720:20,2160:100ah"/>
		</style>
		<block>
			<bind name="visible" value="_hideBackButton != true"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="instance" value="'BackButton'; { _text: _backButtonText,
										_event: _event, _eventData: _eventData,
										_action: _action, _actionParams: _actionParams,
										_request: _request, _requestParams: _requestParams }"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="toUpperCase(tr(_windowName))"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_hideCloseIcon != true"/>
			<style>
				<position value="absolute"/>
				<right value="4"/>
				<top value="2"/>
			</style>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="0px"/>
					<top value="0px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
					<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
					<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
					<block>
						<bind name="soundSet" value="'default_button'"/>
						<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
						<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
						<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
						<style>
							<alpha value="0.8"/>
						</style>
						<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
						<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<block className="button_close" type="native">
							<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
							<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
							<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
							<params>
								<param name="focusable" value="false"/>
							</params>
							<bind name="gotoAndPlay!" value="CrossButtonStates"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_hideDivider != true"/>
			<style>
				<width value="100%"/>
				<marginTop value="720:12,1080:16ah"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="Login">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<styleClass value="$Fullsize"/>
		<bind name="var" value="{volume:1, topLost:false}"/>
		<bind name="var" value="{atPause: (userPrefs.loginVideoPaused == null) ? false : userPrefs.loginVideoPaused}"/>
		<bind name="action" value="'onLoginVideoPaused'; 'setUserPref'; {value: atPause, name: 'loginVideoPaused'}"/>
		<bind name="catch" value="'onPauseButtonClick'; {atPause: (atPause ? false : true)}; 'onLoginVideoPaused'"/>
		<bind name="catch" value="'onMuteButtonClick';  {volume: (volume == 0 ? 1 : 0)}"/>
		<bind name="catch" value="'onBecomeTop';  {topLost: false}"/>
		<bind name="catch" value="'onLostTop';  {topLost: true}"/>
		<block className="lesta.controls.video.VideoResourcePlayer" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<params>
				<param name="startOffset" value="1"/>
			</params>
			<bind name="play!" value="$root.videoResourceId"/>
			<bind name="volume" value="volume"/>
			<bind name="atPause" value="atPause || topLost"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
				<backgroundImage value="symbol:fullsize_texture_login"/>
			</style>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
				<backgroundImage value="symbol:fullsize_shadow_login"/>
			</style>
		</block>
		<block>
			<bind name="firstEntityDH" value="'clientBuildInfoEntity'; CC.clientBuildInfo"/>
			<bind name="visible" value="clientBuildInfoEntity.clientBuildInfo.buildConfig == 'hybrid'"/>
			<style>
				<position value="absolute"/>
				<top value="50px"/>
				<right value="50"/>
			</style>
			<block className="DevTraces"/>
		</block>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<bottom value="10%"/>
				<height value="556px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block>
					<styleClass value="$MiddleAlignedAbsolutely"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="284px"/>
						<height value="260px"/>
					</style>
					<block className="DeclareBlurLayer">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
						<bind name="visible" value="optionData.blurEnabled"/>
						<block className="transparentPixel" type="native">
							<bind name="blurLayer" value="0"/>
						</block>
						<style>
							<position value="absolute"/>
						</style>
					</block>
					<block className="BlurMapCustom">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
						<styleClass value="$FullsizeAbsolute"/>
						<style>
							<hitTest value="false"/>
						</style>
						<bind name="visible" value="optionData.blurEnabled"/>
						<block className="mc_blurmap_wowsLogo" type="native">
							<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
							<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
							<styleClass value="$Fullsize"/>
							<bind name="blurMap" value="0"/>
						</block>
					</block>
				</block>
				<block className="wows_logo" type="native">
					<bind name="appear" value="'addedToStage'; 0.7; 0; {alpha: 0, top: 20}; {alpha: 1, top: 0}"/>
					<bind name="gotoAndStop!" value="realmConstants.wowsLogo"/>
				</block>
			</block>
			<bind name="watch" value="'lazyLoginEnabled'; realmConstants.lazyEnable"/>
			<bind name="action" value="'changeLoginScreenState'; 'showErrorMessage'; {header: '', message: ''}"/>
			<bind name="primaryEntityDH" value="'externalLoginEntity'; CC.loginCredentials; 'external'"/>
			<bind name="watchDH" value="'isExternalCredentialsSaved'; ['externalLoginEntity.loginCredentials.evUpdate']; externalLoginEntity.loginCredentials.externalCredentialsSaved"/>
			<bind name="watchDH" value="'savedExternalLogin'; ['externalLoginEntity.loginCredentials.evUpdate']; externalLoginEntity.loginCredentials.name"/>
			<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
			<bind name="watchDH" value="'savedHostIndex'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.selectedHostIndex"/>
			<bind name="watchDH" value="'isWaitingAnswer'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isWaitingAnswer"/>
			<bind name="watchDH" value="'gameVersion'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.gameVersion"/>
			<bind name="watch" value="'_curItemIndex'; (savedHostIndex ? savedHostIndex : 0)}"/>
			<bind name="watch" value="'curHostIndex'; _curItemIndex"/>
			<bind name="catch" value="'ItemChooser.hostSelected'"/>
			<bind name="primaryEntityDH" value="'baseLoginEntity'; CC.loginCredentials; 'base'"/>
			<bind name="watchDH" value="'savedPermanentLogin'; ['baseLoginEntity.loginCredentials.evUpdate']; baseLoginEntity.loginCredentials.login"/>
			<bind name="watch" value="'login'; (savedPermanentLogin ? savedPermanentLogin : '')"/>
			<bind name="watchDH" value="'savedPermanentPassword'; ['baseLoginEntity.loginCredentials.evUpdate']; baseLoginEntity.loginCredentials.password"/>
			<bind name="watch" value="'password'; (savedPermanentPassword ? savedPermanentPassword : '')"/>
			<bind name="watchDH" value="'permanentLoginSavePassword'; ['baseLoginEntity.loginCredentials.evUpdate']; baseLoginEntity.loginCredentials.rememberPwd"/>
			<bind name="watch" value="'saveCredentials'; (permanentLoginSavePassword ? permanentLoginSavePassword : false)}"/>
			<bind name="catch" value="'toggleSaveCredentials'; {saveCredentials: !(saveCredentials)}"/>
			<bind name="primaryEntityDH" value="'demoLoginEntity'; CC.loginCredentials; 'demo'"/>
			<bind name="watchDH" value="'savedLazyName'; ['']; demoLoginEntity.loginCredentials.name"/>
			<bind name="catch" value="'changeLoginScreenState'"/>
			<bind name="firstEntityDH" value="'steamLoginEntity'; CC.steamLoginData"/>
			<bind name="watchDH" value="'isExternalPlatformClient'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isExternalPlatformClient"/>
			<bind name="watchDH" value="'isWGC'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isWGC"/>
			<bind name="watchDH" value="'isSteamIdConnected'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.hasAccount"/>
			<bind name="watchDH" value="'isGettingBoundAccountInfo'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.isGettingBoundAccountInfo"/>
			<bind name="watchDH" value="'autoLogin'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.autoLogin"/>
			<bind name="watchDH" value="'needToReconnect'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.needToReconnect"/>
			<bind name="watchDH" value="'isSteamHostChosen'; ['steamLoginEntity.steamLoginData.evUpdate']; !steamLoginEntity.steamLoginData.isDefaultRealm"/>
			<bind name="watchDH" value="'steamStatus'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.steamStatus"/>
			<bind name="watchDH" value="'selectedSteamHostIndex'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.selectedHostIndex"/>
			<bind name="watchDH" value="'selectedSteamHostName'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.hostsDataProvider[steamLoginEntity.steamLoginData.selectedHostIndex].ids"/>
			<bind name="watchDH" value="'isNicknameInUse'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.isNicknameInUse"/>
			<bind name="watchDH" value="'isNicknameInvalid'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.isNicknameInvalid"/>
			<bind name="watchDH" value="'platformLoginDenied'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.loginDenied"/>
			<bind name="watch" value="'isProcessing'; isSteamIdConnected || isGettingBoundAccountInfo"/>
			<bind name="watch" value="'steamLoginScreenState'; isExternalPlatformClient ? 	platformLoginDenied	? 10 :
																			needToReconnect		? 5 :
																isProcessing							? 4 :
																isSteamHostChosen						? 7 :
																!isSteamHostChosen						? 6
																										: 4
															: null"/>
			<bind name="watchDH" value="'isDMM'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isDMM"/>
			<bind name="watchDH" value="'hasDMMMarker'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.hasDMMMarker"/>
			<bind name="watch" value="'dmmLoginScreenState'; isDMM || hasDMMMarker ?	9 : null"/>
			<bind name="watchDH" value="'isWGCLogined'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isWGC"/>
			<bind name="watch" value="'wgcLoginScreenState'; isWGCLogined ?		needToReconnect							? 5 :
																autoLogin								? 4
																										: null
															: null"/>
			<bind name="watch" value="'loginScreenState';	dmmLoginScreenState                                     ? dmmLoginScreenState :
											(isExternalCredentialsSaved &amp;&amp; !!savedExternalLogin)	? 8 :
											steamLoginScreenState									? steamLoginScreenState :
											wgcLoginScreenState										? wgcLoginScreenState :
											(lazyLoginEnabled != true)								? 1 :
											(savedPermanentLogin.length &gt; 0)						? 1 :
											(savedLazyName.length &gt; 0)								? 2
																									: 0"/>
			<bind name="watch" value="'isSpecialLoginState'; loginScreenState == 0 ||
											loginScreenState == 3 ||
											loginScreenState == 6 ||
											loginScreenState == 7 ||
											loginScreenState == 4 ||
											loginScreenState == 5||
											loginScreenState == 8 || 
											loginScreenState == 9 || 
											loginScreenState == 10"/>
			<bind name="watch" value="'showHostChooser'; (!isSpecialLoginState &amp;&amp; !isExternalPlatformClient) || (loginScreenState == 8)"/>
			<bind name="watch" value="'defaultFocus'; (savedPermanentLogin &amp;&amp; savedPermanentPassword)	? 'loginBtn' :
									 (savedPermanentLogin) 								? 'passwordInput'
									 													: 'loginInput'"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<height value="140px"/>
					<marginTop value="19px"/>
					<width value="200px"/>
				</style>
				<bind name="firstEntityDH" value="'loginMessageEntity'; CC.loginMessageData"/>
				<bind name="watchDH" value="'loginMessage';			['loginMessageEntity.loginMessageData.evUpdate']; loginMessageEntity.loginMessageData.message"/>
				<bind name="watchDH" value="'loginMessageHeader';	['loginMessageEntity.loginMessageData.evUpdate']; loginMessageEntity.loginMessageData.header"/>
				<bind name="watchDH" value="'loginMessageHighlight';	['loginMessageEntity.loginMessageData.evUpdate']; loginMessageEntity.loginMessageData.messageHighlight"/>
				<block>
					<bind name="visible" value="(loginScreenState == 1)"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="style" value="'paddingTop'; showHostChooser ? '0px' : '33px'"/>
					<block className="BlurMapCustomPxOutbound">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
						<style>
							<hitTest value="false"/>
						</style>
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="style" value="'marginLeft'; -20px"/>
						<bind name="style" value="'marginRight'; -20px"/>
						<bind name="style" value="'marginTop'; -12px"/>
						<bind name="style" value="'marginBottom'; -12px"/>
						<bind name="visible" value="optionData.blurEnabled"/>
						<block className="mc_blurmap10_feather" type="native">
							<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
							<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
							<styleClass value="$Fullsize"/>
							<bind name="blurMap" value="0"/>
						</block>
					</block>
				</block>
				<block>
					<bind name="visible" value="((loginScreenState == 2 &amp;&amp; showHostChooser) || (loginScreenState == 8))"/>
					<style>
						<height value="33px"/>
						<top value="7px"/>
						<width value="200px"/>
						<position value="absolute"/>
					</style>
					<block className="BlurMapCustomPxOutbound">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
						<style>
							<hitTest value="false"/>
						</style>
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="style" value="'marginLeft'; -20px"/>
						<bind name="style" value="'marginRight'; -20px"/>
						<bind name="style" value="'marginTop'; -3px"/>
						<bind name="style" value="'marginBottom'; -3px"/>
						<bind name="visible" value="optionData.blurEnabled"/>
						<block className="mc_blurmap10_feather" type="native">
							<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
							<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
							<styleClass value="$Fullsize"/>
							<bind name="blurMap" value="0"/>
						</block>
					</block>
				</block>
				<block>
					<bind name="visible" value="showHostChooser == true"/>
					<style>
						<marginTop value="6px"/>
						<height value="33px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<block>
						<bind name="instance" value="'HostChooser'; showHostChooser ? {	_curItemIndex: _curItemIndex,
																		_hostsItems: loginEntity.loginData.hostsDataProvider} : null"/>
					</block>
					<block>
						<style>
							<position value="absolute"/>
							<bottom value="25px"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<bind name="instance" value="'ServerMessage'; loginMessage.length &gt; 0	? {	_messageHighlight: loginMessageHighlight, _headerText: loginMessageHeader,
																					_messageText: loginMessage}
																				: null"/>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="childParentScope" value="loginScreenState; 
										'NoLoginContent';
										'PermanentLoginContent';
										'LazyLoginContent';
										'SteamNoLoginContent';
										'AutoLoginContent';
										'SteamLoggedOutContent';
										'SteamChooseRealmContent';
										'SteamNewNicknameContent';
										'SavedExternalLoginContent';
										'ExternalOnlyLoginButtonContent';	
										'SteamLoginDenied'"/>
				</block>
			</block>
			<bind name="watch" value="'showSwitchLoginButton'; 	!isSpecialLoginState &amp;&amp;
												!(savedPermanentLogin.length &gt; 0 &amp;&amp; savedPermanentPassword.length &gt; 0) &amp;&amp;
												((lazyLoginEnabled == true) || isExternalPlatformClient)"/>
			<block>
				<bind name="fade" value="showSwitchLoginButton; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 1;	((loginScreenState == 1)	? 0.37 :
																														(loginScreenState == 2)		? 0.23
																																																: 0.23)"/>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<style>
					<bottom value="48px"/>
				</style>
				<bind name="instance" value="'ButtonSwitchLogin'; showSwitchLoginButton 	? { _isActive: isButtonSwitchLoginActive,
																			_loginScreenState: loginScreenState,
																			_isExternalPlatformClient: isExternalPlatformClient }
																		: null"/>
			</block>
			<bind name="watch" value="'isLoginBtnEnabled'; ((loginScreenState == 1) &amp;&amp; (login == '') || isWaitingAnswer)	? false
																																: true"/>
			<block>
				<bind name="fade" value="!isSpecialLoginState; 0.15; {alpha: 0, top: 10};
																			{alpha: 1, top: 0};
																			{alpha: 0, top: -10}; 1;	((loginScreenState == 1)	? 0.3 :
																										(loginScreenState == 2)		? 0.15
																																						: 0.15)"/>
				<bind name="style" value="'hitTest'; !isSpecialLoginState"/>
				<bind name="watch" value="'isButtonSwitchLoginActive';	(loginScreenState == 1 &amp;&amp; (login.length &gt; 0))		? false :
														(loginScreenState == 2 &amp;&amp; (savedLazyName.length &gt; 0))	? false
																																: true}"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="14px"/>
					<marginBottom value="90px"/>
					<width value="200px"/>
				</style>
				<block className="button_special_no_label" type="native">
					<style>
						<width value="100%"/>
						<height value="51px"/>
					</style>
					<bind name="soundSet" value="'hard_button'"/>
					<bind name="enabled" value="isLoginBtnEnabled"/>
					<bind name="action" value="'buttonClick'; (loginScreenState == 2)				? isExternalPlatformClient ? 'createWGAccForSteam'
																													: 'demoConnect' :
											 (loginScreenState == 1)			? isExternalPlatformClient ? 'joinSteamWithWGAcc'
											 																		: 'doLogin'
																									: null;
											 (loginScreenState == 2)				? {	hostId: curHostIndex } :
											 (loginScreenState == 1)			? {	hostId: curHostIndex, user: login,
											 															password: password, savePassword: saveCredentials }
											 														: null"/>
					<bind name="focus" value="3; (defaultFocus == 'loginBtn')"/>
					<params>
						<param name="name" value="connectBtn"/>
					</params>
					<block type="text">
						<styleClass value="$MiddleVAligned"/>
						<style>
							<hitTest value="false"/>
							<width value="100%"/>
							<position value="absolute"/>
							<textAlign value="center"/>
							<multiline value="true"/>
							<leading value="-4"/>
							<marginLeft value="6px"/>
							<marginRight value="6px"/>
						</style>
						<styleClass value="$TextAccentBold"/>
						<bind name="class" value="(loginScreenState == 2) ? '$FontSizeLarge' : '$None'"/>
						<bind name="class" value="isLoginBtnEnabled ? '$FontColorSpecialButton' : '$FontColorAlmostBlack'"/>
						<bind name="class" value="isLoginBtnEnabled ? '$FontDropShadowFilter1' : '$FontDropShadowWhite'"/>
						<bind name="text" value="(loginScreenState == 2) 	? 	isExternalPlatformClient ? 'IDS_JOIN_VIA_STEAM' :
																				((savedLazyName.length &gt; 0)	? subst('IDS_ENTER_AS_BUTTON', [], {playerName: savedLazyName})
																											: toUpperCase(tr('IDS_PLAY_WITHOUT_REGISTRATION_BUTTON')))
																			: toUpperCase(tr('IDS_LOGIN_BUTTON'))"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="(loginScreenState == 1) &amp;&amp; realmConstants.externalLogin.length &gt; 0"/>
					<bind name="style" value="'marginTop'; lazyLoginEnabled ? 64 : 16"/>
					<styleClass value="$MiddleAligned"/>
					<block className="BlurMapCustomPxOutbound">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
						<style>
							<hitTest value="false"/>
						</style>
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="style" value="'marginLeft'; -3px"/>
						<bind name="style" value="'marginRight'; -3px"/>
						<bind name="style" value="'marginTop'; -3px"/>
						<bind name="style" value="'marginBottom'; -3px"/>
						<bind name="visible" value="optionData.blurEnabled"/>
						<block className="mc_blurmap10_feather" type="native">
							<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
							<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
							<styleClass value="$Fullsize"/>
							<bind name="blurMap" value="0"/>
						</block>
					</block>
					<block type="text">
						<style>
							<marginTop value="5px"/>
							<marginRight value="4"/>
						</style>
						<styleClass value="$TextDefaultNM"/>
						<bind name="text" value="'IDS_LOGIN_SCREEN_FAST_LOGIN'"/>
					</block>
					<bind name="repeat" value="realmConstants.externalLogin; 'ExternalLoginButton'; {_curHostIndex: curHostIndex, _saveCredentials: saveCredentials}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginLeft value="18px"/>
				<marginTop value="15px"/>
				<position value="absolute"/>
			</style>
			<block>
				<block className="button_settings" type="native">
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_TOOLTIP_MENU'}"/>
					<params>
						<param name="name" value="loginButtonSettings"/>
					</params>
					<bind name="input"/>
				</block>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="tr('IDS_WORLD_OF_WARSHIPS') + ' ' + gameVersion"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<marginTop value="14px"/>
				</style>
				<bind name="instance" value="'LinkText'; {	_label: 'IDS_ERROR_REPORT', _urlIdent: URL.REPORT_ERROR,
											_tooltipText: 'IDS_ERROR_REPORT_HINT',_name: 'ButtonErrorReport'}"/>
			</block>
			<block>
				<bind name="instance" value="'LinkText'; {	_label: 'IDS_ENTER_FORUM', _urlIdent: URL.FORUM,
											_tooltipText: 'IDS_ENTER_FORUM_HINT', _name: 'ButtonForum'}"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<position value="absolute"/>
				<bottom value="15px"/>
				<width value="1000px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="15px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<text value="IDS_RIGHTS_RESERVED"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<text value="|"/>
				</block>
				<block>
					<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_TOOLTIP_LICENCE_INFO'}"/>
					<params>
						<param name="name" value="buttonLegal"/>
					</params>
					<bind name="input"/>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<text value="IDS_LICENCE_INFO"/>
						<bind name="style" value="'alpha'; rollOver ? 1 : 0.7"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="action" value="'click'; 'gotoUrlByIdent'; {ident: URL.WARGAMING_NET}"/>
			<style>
				<position value="absolute"/>
				<bottom value="21px"/>
				<left value="18px"/>
			</style>
			<block className="wargaming_logo" type="native"/>
		</block>
		<block>
			<params>
				<param name="name" value="logo_kz"/>
			</params>
			<bind name="visible" value="realmConstants.showKongzhong"/>
			<bind name="action" value="'click'; 'gotoUrlByIdent'; {ident: URL.KONGZHONG}"/>
			<style>
				<position value="absolute"/>
				<bottom value="23px"/>
				<left value="140px"/>
			</style>
			<block className="kongzhong_logo" type="native"/>
		</block>
		<block>
			<params>
				<param name="name" value="buttonClose"/>
			</params>
			<bind name="input"/>
			<style>
				<position value="absolute"/>
				<top value="6px"/>
				<right value="6px"/>
			</style>
			<block className="button_close" type="native"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
		</block>
		<block className="button_play_pause" type="native">
			<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: atPause ? 'IDS_TOOLTIP_PLAY_HINT' : 'IDS_TOOLTIP_PAUSE_HINT'}"/>
			<style>
				<position value="absolute"/>
				<top value="40px"/>
				<right value="50px"/>
			</style>
			<bind name="selected" value="atPause"/>
			<bind name="dispatch" value="'buttonClick'; 'onPauseButtonClick'"/>
			<params>
				<param name="soundSet" value="pause_login"/>
			</params>
		</block>
		<bind name="firstEntityDH" value="'languageEntity'; CC.languageChangeData"/>
		<bind name="watchDH" value="'abbreviatedLanguage'; ['languageEntity.languageChangeData.evUpdate']; languageEntity.languageChangeData.abbreviatedLanguage"/>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<style>
				<position value="absolute"/>
				<bottom value="6px"/>
				<right value="6px"/>
			</style>
			<bind name="text" value="abbreviatedLanguage"/>
		</block>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
	</block>
	<block className="ExternalLoginButton">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController;"/>
		<style>
			<width value="24px"/>
			<height value="24px"/>
			<marginRight value="3px"/>
			<marginLeft value="3px"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'url:../service_kit/icons/' + $value + '_login_btn.png'"/>
		<bind name="request" value="'click'; 'showWaitingAuthorization'; {hostId: _curHostIndex, external: $value, rememberMe: _saveCredentials}"/>
		<bind name="action" value="'click'; 'showErrorMessage'; {header: '', message: ''}"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; 	{	_multiParagraphArray:	[{_paragraphText: 'IDS_EXTERNAL_LOGIN_TOOLTIP'}],
													_mouseInstructions:		[{_type: 'left', _instructionText: 'IDS_LOGIN_WITH_' + tr(toUpperCase($value)) + '_MOUSE_INSTRUCTION'}],
													_maxWidth: 270}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundColor value="0xffffffff"/>
			</style>
			<bind name="transition" value="rollOver; 0.1; {alpha: 0}; {alpha: 0.17}"/>
		</block>
	</block>
	<block className="HostChooser">
		<bind name="appear" value="'addedToStage'; 0.15; 0 + 0*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
		<style>
			<width value="200px"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<top value="4px"/>
				<right value="100%"/>
				<paddingRight value="4px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<text value="IDS_SERVER"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ItemChooser'; {	_items: _hostsItems, _choosedItemRenderer: 'TextChoosedItemRenderer', _name: 'HostChooser',
											_choosedItemRendererParams: {width: '177px', fontClass: '$TextDefault'},
											_listItemRenderer: 'TextListItemRenderer', curIndex: _curItemIndex,
											onItemSelectedEvent: 'hostSelected', _itemChooserTooltipText: 'IDS_CHOOSE_HOST_TOOLTIP', _dropDownWidth: '196px'}"/>
			<bind name="action" value="'click'; 'showErrorMessage'; {header: '', message: ''}"/>
		</block>
	</block>
	<block className="SavedExternalLoginContent">
		<bind name="watchDH" value="'spaId'; ['externalLoginEntity.loginCredentials.evUpdate']; externalLoginEntity.loginCredentials.dbId"/>
		<bind name="watchDH" value="'token2'; ['externalLoginEntity.loginCredentials.evUpdate']; externalLoginEntity.loginCredentials.token2"/>
		<style>
			<width value="200px"/>
		</style>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 1*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
			</style>
			<block className="BlurMapCustomPxOutbound">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="style" value="'marginLeft'; -3px"/>
				<bind name="style" value="'marginRight'; -3px"/>
				<bind name="style" value="'marginTop'; -3px"/>
				<bind name="style" value="'marginBottom'; -3px"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap10_feather" type="native">
					<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<right value="100%"/>
					<paddingRight value="4px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<text value="IDS_LOGIN_ACCOUNT"/>
				</block>
			</block>
			<block type="text">
				<style>
					<marginLeft value="5px"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<bind name="text" value="savedExternalLogin"/>
			</block>
		</block>
		<block className="button_special_no_label" type="native">
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 2*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="100%"/>
				<height value="51px"/>
				<marginTop value="24px"/>
			</style>
			<bind name="soundSet" value="'hard_button'"/>
			<bind name="request" value="'click'; 'doLoginWithExternalCredentials';	{	hostId: curHostIndex, spaId: spaId, token: token2}"/>
			<bind name="focus" value="3; (defaultFocus == 'loginBtn')"/>
			<params>
				<param name="name" value="connectBtn"/>
			</params>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<hitTest value="false"/>
					<width value="100%"/>
					<position value="absolute"/>
					<textAlign value="center"/>
					<multiline value="true"/>
					<leading value="-4"/>
					<marginLeft value="6px"/>
					<marginRight value="6px"/>
				</style>
				<styleClass value="$TextAccentBold"/>
				<bind name="class" value="'$FontColorSpecialButton'"/>
				<bind name="class" value="'$FontDropShadowFilter1'"/>
				<bind name="text" value="toUpperCase(tr('IDS_LOGIN_BUTTON'))"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 3*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<style>
				<width value="100%"/>
				<height value="44px"/>
				<marginTop value="12px"/>
			</style>
			<bind name="transition" value="rollOver; 0.1; {alpha: 0.75}; {alpha: 0.9}"/>
			<block className="BlurMapCustomPxOutbound">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="style" value="'marginLeft'; -3px"/>
				<bind name="style" value="'marginRight'; -3px"/>
				<bind name="style" value="'marginTop'; -3px"/>
				<bind name="style" value="'marginBottom'; -3px"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap10_feather" type="native">
					<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="button_infopanel_no_label" type="native">
					<styleClass value="$Fullsize"/>
					<bind name="request" value="'click'; 'switchAccount'; {}"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<style>
						<hitTest value="false"/>
						<width value="100%"/>
						<textAlign value="center"/>
						<marginLeft value="6px"/>
						<marginRight value="6px"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="text" value="'IDS_CHANGE_ACCOUNT_ON_LOGIN_BUTTON'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ExternalOnlyLoginButtonContent">
		<style>
			<width value="200px"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="51px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'ServerMessage'; loginMessage.length &gt; 0	? {	_messageHighlight: loginMessageHighlight, _headerText: loginMessageHeader,
                                                                        _messageText: loginMessage}
                                                                    : null"/>
		</block>
		<block className="button_special_no_label" type="native">
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 2*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="100%"/>
				<height value="51px"/>
				<marginTop value="24px"/>
			</style>
			<bind name="soundSet" value="'hard_button'"/>
			<bind name="request" value="'click'; 'doLoginDMM'; {	}"/>
			<bind name="focus" value="3; (defaultFocus == 'loginBtn')"/>
			<params>
				<param name="name" value="connectBtn"/>
			</params>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<hitTest value="false"/>
					<width value="100%"/>
					<position value="absolute"/>
					<textAlign value="center"/>
					<multiline value="true"/>
					<leading value="-4"/>
					<marginLeft value="6px"/>
					<marginRight value="6px"/>
				</style>
				<styleClass value="$TextAccentBold"/>
				<bind name="class" value="'$FontColorSpecialButton'"/>
				<bind name="class" value="'$FontDropShadowFilter1'"/>
				<bind name="text" value="toUpperCase(tr('IDS_LOGIN_BUTTON'))"/>
			</block>
		</block>
	</block>
	<block className="ButtonSwitchLogin">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<style>
			<width value="200px"/>
			<height value="44px"/>
		</style>
		<bind name="transition" value="_isActive; 0.15; {top: 0}; {top: 10}"/>
		<bind name="transition" value="rollOver; 0.15; {alpha: 0.8}; {alpha: 1}"/>
		<block className="BlurMapCustomPxOutbound">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="style" value="'marginLeft'; -3px"/>
			<bind name="style" value="'marginRight'; -3px"/>
			<bind name="style" value="'marginTop'; -3px"/>
			<bind name="style" value="'marginBottom'; -3px"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap10_feather" type="native">
				<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<params>
			<param name="name" value="switchLoginButton"/>
		</params>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="transition" value="!!(_isActive); 0.15; {alpha: 0}; {alpha: 1}"/>
			<block className="button_infopanel_no_label" type="native">
				<styleClass value="$Fullsize"/>
				<bind name="dispatch" value="'click'; 'changeLoginScreenState'; {loginScreenState: (_loginScreenState == 2) ? 1
																															: 2}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="transition" value="_isActive; 0.15; {alpha: 0.8}; {alpha: 1}"/>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<bind name="style" value="'alpha'; (_loginScreenState == 2) ? 1 : 0.8"/>
				<style>
					<hitTest value="false"/>
					<width value="100%"/>
					<textAlign value="center"/>
					<marginLeft value="6px"/>
					<marginRight value="6px"/>
					<leading value="-3"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<bind name="text" value="(_loginScreenState == 2	? _isExternalPlatformClient	? toUpperCase(tr('IDS_ALREADY_HAVE_WGID_Q'))
																						: toUpperCase(tr('IDS_ENTER_WITH_PASSWORD_BUTTON'))
																	: _isExternalPlatformClient	? toUpperCase(tr('IDS_JOIN_VIA_STEAM'))
																						: toUpperCase(tr('IDS_PLAY_WITHOUT_REGISTRATION_BUTTON')))"/>
			</block>
		</block>
	</block>
	<block className="NoLoginContent">
		<style>
			<marginTop value="16px"/>
			<width value="200px"/>
		</style>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 1*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<marginBottom value="18px"/>
			</style>
			<block className="button_special_no_label" type="native">
				<style>
					<width value="200px"/>
					<height value="51px"/>
				</style>
				<bind name="soundSet" value="'default_button'"/>
				<params>
					<param name="name" value="goPermanentLogin_button"/>
				</params>
				<bind name="dispatch" value="'click'; 'changeLoginScreenState'; {loginScreenState: 1}"/>
				<block type="text">
					<styleClass value="$MiddleAlignedAbsolutely"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
					</style>
					<styleClass value="$TextAccentBold"/>
					<bind name="class" value="'$FontColorSpecialButton'"/>
					<bind name="class" value="'$FontSizeLarge'"/>
					<bind name="text" value="toUpperCase(tr('IDS_ENTER_WITH_PASSWORD_BUTTON'))"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 2*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="100%"/>
				<marginBottom value="12px"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
					<width value="75px"/>
					<top value="11px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block type="text">
				<style>
					<alpha value="0.9"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextDefaultBold"/>
				<text value="IDS_OR"/>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<width value="75px"/>
					<top value="11px"/>
					<right value="0px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 3*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'ButtonSwitchLogin'; { _isActive: true, _loginScreenState: loginScreenState }"/>
		</block>
	</block>
	<block className="PermanentLoginContent">
		<style>
			<width value="200px"/>
			<marginTop value="4px"/>
		</style>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 1*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
					<top value="3px"/>
					<right value="100%"/>
					<paddingRight value="4px"/>
				</style>
				<block className="BlurMapCustomPxOutbound">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<hitTest value="false"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="style" value="'marginLeft'; -3px"/>
					<bind name="style" value="'marginRight'; -3px"/>
					<bind name="style" value="'marginTop'; -3px"/>
					<bind name="style" value="'marginBottom'; -3px"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap10_feather" type="native">
						<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<text value="IDS_EMAIL"/>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<top value="3px"/>
					<left value="100%"/>
					<paddingLeft value="4px"/>
				</style>
				<block className="BlurMapCustomPxOutbound">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<hitTest value="false"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="style" value="'marginLeft'; -3px"/>
					<bind name="style" value="'marginRight'; -3px"/>
					<bind name="style" value="'marginTop'; -3px"/>
					<bind name="style" value="'marginBottom'; -3px"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap10_feather" type="native">
						<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<block>
					<bind name="instance" value="'LinkText'; {	_label: 'IDS_EMAIL_REGISTRATION', _urlIdent: URL.REGISTER,
												_tooltipText: 'IDS_REGISTER_NEW_PLAYER', _name: 'ButtonRegister'}"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="text_input_caps" type="native">
					<style>
						<width value="100%"/>
					</style>
					<params>
						<param name="actAsButton" value="true"/>
						<param name="itemRenderer" value="drop_down_list_item"/>
						<param name="maxChars" value="100"/>
						<param name="soundSet" value="hard_textinput"/>
					</params>
					<bind name="restrict" value="realmConstants.loginRestrict"/>
					<bind name="enabled" value="!isWaitingAnswer"/>
					<bind name="soundOn" value="'click'; 'press'; 'default_button'"/>
					<bind name="action" value="'textInputEnter'; isLoginBtnEnabled	? isExternalPlatformClient ? 'joinSteamWithWGAcc' : 'doLogin' :
												(login.length == 0)	? 'showErrorMessage'
																	: null;
												isLoginBtnEnabled	? { hostId: curHostIndex, user: login,
																		password: password, savePassword: saveCredentials} :
												(login.length == 0)	? {header: 'IDS_ERROR_HEADER_DEFAULT', message: 'IDS_EMPTY_LOGIN'}
																	: null "/>
					<bind name="sync" value="'text'; 'change'; login; 'evUsernameChanged'"/>
					<bind name="action" value="'evUsernameChanged'; 'evUIChanged'; {item: 'username'}"/>
					<bind name="focus" value="1; (defaultFocus == 'loginInput')"/>
					<params>
						<param name="name" value="userNameField"/>
					</params>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 2*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="100%"/>
				<marginTop value="7px"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
					<top value="3px"/>
					<right value="100%"/>
					<paddingRight value="4px"/>
				</style>
				<block className="BlurMapCustomPxOutbound">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<hitTest value="false"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="style" value="'marginLeft'; -3px"/>
					<bind name="style" value="'marginRight'; -3px"/>
					<bind name="style" value="'marginTop'; -3px"/>
					<bind name="style" value="'marginBottom'; -3px"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap10_feather" type="native">
						<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<text value="IDS_PASSWORD"/>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<top value="3px"/>
					<left value="100%"/>
					<paddingLeft value="4px"/>
				</style>
				<block className="BlurMapCustomPxOutbound">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<hitTest value="false"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="style" value="'marginLeft'; -3px"/>
					<bind name="style" value="'marginRight'; -3px"/>
					<bind name="style" value="'marginTop'; -3px"/>
					<bind name="style" value="'marginBottom'; -3px"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap10_feather" type="native">
						<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<block>
					<bind name="instance" value="'LinkText'; {	_label: 'IDS_QUESTION_PASSWORD_FORGET', _urlIdent: URL.PASSWORD_RECOVERY,
												_tooltipText: 'IDS_PASSWORD_RECOVERY', _name: 'ButtonForgotPassword'}"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="text_input_caps" type="native">
					<style>
						<width value="100%"/>
					</style>
					<params>
						<param name="actAsButton" value="true"/>
						<param name="displayAsPassword" value="true"/>
						<param name="maxChars" value="100"/>
						<param name="soundSet" value="hard_textinput"/>
					</params>
					<bind name="restrict" value="realmConstants.passRestrict"/>
					<bind name="enabled" value="!isWaitingAnswer"/>
					<bind name="sync" value="'text'; 'change'; password; 'evPasswordChanged'"/>
					<bind name="soundOn" value="'click'; 'press'; 'default_button'"/>
					<bind name="action" value="'textInputEnter'; isLoginBtnEnabled	? isExternalPlatformClient ? 'joinSteamWithWGAcc' : 'doLogin' :
												(login.length == 0)	? 'showErrorMessage'
																	: null;
												isLoginBtnEnabled	? { hostId: curHostIndex, user: login,
																		password: password, savePassword: saveCredentials} :
												(login.length == 0)	? {header: 'IDS_ERROR_HEADER_DEFAULT', message: 'IDS_EMPTY_LOGIN'}
																	: null "/>
					<bind name="action" value="'evPasswordChanged'; 'evUIChanged'; {item:'password', 'text':password}"/>
					<bind name="focus" value="2; (defaultFocus == 'passwordInput')"/>
					<params>
						<param name="name" value="passwordField"/>
					</params>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 3*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="100%"/>
				<marginTop value="7px"/>
			</style>
			<params>
				<param name="name" value="save_credentials_box"/>
			</params>
			<bind name="instance" value="'CheckBox'; {switchProperty: saveCredentials, label: 'IDS_SAVE_PASSWORD', _maxTfWidth: 170}"/>
			<bind name="dispatch" value="'click'; 'toggleSaveCredentials'"/>
		</block>
	</block>
	<block className="LazyLoginContent">
		<style>
			<marginTop value="13px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0 + 1*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
		<block className="BlurMapCustomPxOutbound">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="style" value="'marginLeft'; -50px"/>
			<bind name="style" value="'marginRight'; -50px"/>
			<bind name="style" value="'marginTop'; -12px"/>
			<bind name="style" value="'marginBottom'; -12px"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap10_feather" type="native">
				<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="350px"/>
				<textAlign value="center"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="isExternalPlatformClient 				? 'IDS_JOIN_VIA_STEAM_DESC' :
								((savedLazyName.length &gt; 0) ? 'IDS_LAZY_LOGIN_SAVED_INFO'
												: 'IDS_LAZY_LOGIN_NOT_SAVED_INFO')"/>
		</block>
		<block type="text">
			<bind name="visible" value="isExternalPlatformClient"/>
			<styleClass value="$TextDefault"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="350px"/>
				<textAlign value="center"/>
				<alpha value="0.8"/>
			</style>
			<text value="IDS_I_HAVE_WGID_HINT"/>
		</block>
	</block>
	<block className="SteamNoLoginContent">
		<style>
			<marginTop value="16px"/>
			<width value="200px"/>
		</style>
		<block className="BlurMapCustomPxOutbound">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="style" value="'marginLeft'; -20px"/>
			<bind name="style" value="'marginRight'; -20px"/>
			<bind name="style" value="'marginTop'; -12px"/>
			<bind name="style" value="'marginBottom'; -12px"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap10_feather" type="native">
				<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginBottom value="8px"/>
			</style>
			<block className="button_dock" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="dispatch" value="'click'; 'changeLoginScreenState'; { loginScreenState: 6 }"/>
			</block>
			<block>
				<style>
					<hitTest value="false"/>
					<paddingLeft value="4px"/>
					<paddingRight value="4px"/>
					<paddingTop value="2px"/>
					<paddingBottom value="4px"/>
				</style>
				<block className="icon_navigate" type="native">
					<params>
						<param name="name" value="backToSelectSteamHostName"/>
					</params>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginRight value="2px"/>
					</style>
					<bind name="gotoAndStop!" value="'left'"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="text" value="tr('IDS_REGION') + ' ' + tr(selectedSteamHostName)"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 1*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<marginBottom value="9px"/>
				<width value="200px"/>
			</style>
			<block className="button_special_no_label" type="native">
				<style>
					<width value="100%"/>
					<height value="51px"/>
				</style>
				<bind name="soundSet" value="'default_button'"/>
				<params>
					<param name="name" value="goConnectWGIDLogin_button"/>
				</params>
				<bind name="dispatch" value="'buttonClick'; 'changeLoginScreenState'; {loginScreenState: 1}"/>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<width value="100%"/>
						<textAlign value="center"/>
						<marginLeft value="6px"/>
						<marginRight value="6px"/>
					</style>
					<styleClass value="$TextAccentBold"/>
					<bind name="class" value="'$FontColorSpecialButton'"/>
					<bind name="class" value="'$FontSizeLarge'"/>
					<text value="IDS_ALREADY_HAVE_WGID_Q"/>
				</block>
			</block>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextDefault"/>
				<style>
					<width value="300px"/>
					<textAlign value="center"/>
				</style>
				<text value="IDS_I_HAVE_WGID_DESC"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 2*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="100%"/>
				<marginBottom value="12px"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
					<width value="75px"/>
					<top value="11px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block type="text">
				<style>
					<alpha value="0.9"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextDefaultBold"/>
				<text value="IDS_OR"/>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<width value="75px"/>
					<top value="11px"/>
					<right value="0px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="200px"/>
			</style>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 3*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<block className="button_special_no_label" type="native">
				<style>
					<width value="100%"/>
					<height value="51px"/>
				</style>
				<bind name="soundSet" value="'default_button'"/>
				<params>
					<param name="name" value="goCreateWGIDLogin_button"/>
				</params>
				<bind name="dispatch" value="'buttonClick'; 'changeLoginScreenState'; {loginScreenState: 2}"/>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<width value="100%"/>
						<textAlign value="center"/>
						<marginLeft value="6px"/>
						<marginRight value="6px"/>
					</style>
					<styleClass value="$TextAccentBold"/>
					<bind name="class" value="'$FontColorSpecialButton'"/>
					<bind name="class" value="'$FontSizeLarge'"/>
					<text value="IDS_JOIN_VIA_STEAM"/>
				</block>
			</block>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextDefault"/>
				<style>
					<width value="300px"/>
					<textAlign value="center"/>
				</style>
				<text value="IDS_JOIN_VIA_STEAM_DESC"/>
			</block>
		</block>
	</block>
	<block className="AutoLoginContent">
		<style>
			<marginTop value="32px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0 + 1*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
		<block className="BlurMapCustomPxOutbound">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="style" value="'marginLeft'; -50px"/>
			<bind name="style" value="'marginRight'; -50px"/>
			<bind name="style" value="'marginTop'; -12px"/>
			<bind name="style" value="'marginBottom'; -12px"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap10_feather" type="native">
				<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultTech"/>
			<bind name="class" value="'$Bold'"/>
			<bind name="text" value="(isGettingBoundAccountInfo ? toUpperCase(tr('IDS_STATUS_GET_ACCOUNT_INFO')) : toUpperCase(tr('IDS_LOGGING_IN')))"/>
		</block>
	</block>
	<block className="SteamLoggedOutContent">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
		<bind name="watchDH" value="'isWinStore'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isWinStore"/>
		<style>
			<width value="200px"/>
			<marginTop value="32px"/>
		</style>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 1*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="100%"/>
				<height value="51px"/>
			</style>
			<block className="button_special_no_label" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="soundSet" value="'hard_button'"/>
				<params>
					<param name="name" value="steamLoginRetryBtn"/>
				</params>
				<bind name="enabled" value="isLoginBtnEnabled"/>
				<bind name="action" value="'buttonClick'; 'reconnect'; { hostId: curHostIndex, user: login, password: password, savePassword: saveCredentials }"/>
				<block type="text">
					<style>
						<hitTest value="false"/>
						<width value="100%"/>
						<textAlign value="center"/>
						<multiline value="true"/>
						<marginLeft value="6px"/>
						<marginRight value="6px"/>
						<leading value="-4"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextAccentBold"/>
					<bind name="class" value="isLoginBtnEnabled ? '$FontColorSpecialButton' : '$FontColorAlmostBlack'"/>
					<bind name="class" value="isLoginBtnEnabled ? '$FontDropShadowFilter1' : '$FontDropShadowWhite'"/>
					<bind name="text" value="toUpperCase(tr('IDS_LOGIN_BUTTON'))"/>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<bottom value="51px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'ServerMessage'; loginMessage.length &gt; 0	? {	_messageHighlight: loginMessageHighlight, _headerText: loginMessageHeader,
																			_messageText: loginMessage}
																		: null"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 2*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="visible" value="isWinStore == true"/>
			<style>
				<width value="100%"/>
				<height value="44px"/>
				<marginTop value="12px"/>
			</style>
			<block className="BlurMapCustomPxOutbound">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="style" value="'marginLeft'; -3px"/>
				<bind name="style" value="'marginRight'; -3px"/>
				<bind name="style" value="'marginTop'; -3px"/>
				<bind name="style" value="'marginBottom'; -3px"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap10_feather" type="native">
					<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="transition" value="rollOver; 0.1; {alpha: 0.75}; {alpha: 0.9}"/>
			<bind name="request" value="'click'; 'switchAccount'; {}"/>
			<block className="button_infopanel_no_label" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<block type="text">
					<style>
						<width value="100%"/>
						<textAlign value="center"/>
						<marginLeft value="6px"/>
						<marginRight value="6px"/>
						<leading value="-3"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextDefaultBold"/>
					<bind name="text" value="'IDS_CHANGE_ACCOUNT_ON_LOGIN_BUTTON'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="SteamChooseRealmContent">
		<style>
			<marginTop value="12px"/>
			<width value="250px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0 + 1*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
		<block className="BlurMapCustomPxOutbound">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="style" value="'marginLeft'; -20px"/>
			<bind name="style" value="'marginRight'; -20px"/>
			<bind name="style" value="'marginTop'; -20px"/>
			<bind name="style" value="'marginBottom'; -20px"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap10_feather" type="native">
				<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextDefault17NM"/>
				<style>
					<width value="400px"/>
					<textAlign value="center"/>
					<marginBottom value="8px"/>
				</style>
				<bind name="text" value="'IDS_CHOOSE_REGION')"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<maxHeight value="250"/>
				<overflow value="scroll"/>
			</style>
			<styleClass value="$DefaultScrollBar"/>
			<bind name="repeat" value="steamLoginEntity.steamLoginData.hostsDataProvider; 'SteamHostRenderer'; { _selectedSteamHostIndex: selectedSteamHostIndex }"/>
		</block>
	</block>
	<block className="WarningMessageBigIcon">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="BlurMapCustomPxOutbound">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="style" value="'marginLeft'; -50px"/>
			<bind name="style" value="'marginRight'; -50px"/>
			<bind name="style" value="'marginTop'; -12px"/>
			<bind name="style" value="'marginBottom'; -12px"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap10_feather" type="native">
				<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="style" value="'width'; _noWidth ? 'auto' : '100%'"/>
		<block>
			<bind name="visible" value="!(_medium)"/>
			<style>
				<marginRight value="5px"/>
				<marginTop value="3px"/>
			</style>
			<block className="icon_warning_orange_big" type="native"/>
		</block>
		<block>
			<bind name="visible" value="(_medium == true)"/>
			<style>
				<marginRight value="3px"/>
				<marginTop value="2px"/>
			</style>
			<block className="icon_warning_orange_mid" type="native"/>
		</block>
		<block type="text">
			<bind name="style" value="'width'; _noWidth ? 'auto' : '100%'"/>
			<bind name="class" value="_medium ? '$TextHeaderBigWhite' : '$TextLargeHeader'"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="SteamNewNicknameContent">
		<bind name="watchDH" value="'nicknameSuggestions'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.nicknameSuggestions"/>
		<bind name="watchDH" value="'lastAttemptedNickname'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.lastAttemptedNickname"/>
		<bind name="catch" value="'steamSelectName'"/>
		<bind name="var" value="{isFirstEdit: true}"/>
		<bind name="catch" value="'nameChangedEv'; {isFirstEdit: false}"/>
		<bind name="var" value="{selectedNameIndex: -1}"/>
		<bind name="watch" value="'steamNewNickname';	(nicknameSuggestions.length &gt; 0) &amp;&amp; (selectedNameIndex != -1)	? nicknameSuggestions[selectedNameIndex] :
																						isFirstEdit		? lastAttemptedNickname
															 											: steamNewNickname"/>
		<style>
			<marginTop value="12px"/>
			<width value="400px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0 + 1*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
		<block>
			<block className="BlurMapCustomPxOutbound">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="style" value="'marginLeft'; -15px"/>
				<bind name="style" value="'marginRight'; -15px"/>
				<bind name="style" value="'marginTop'; -2px"/>
				<bind name="style" value="'marginBottom'; -2px"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap10_feather" type="native">
					<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<top value="-24px"/>
			</style>
			<block className="button_dock" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="dispatch" value="'click'; 'changeLoginScreenState'; { loginScreenState: 6 }"/>
			</block>
			<block>
				<style>
					<hitTest value="false"/>
					<paddingLeft value="4px"/>
					<paddingRight value="4px"/>
					<paddingTop value="2px"/>
					<paddingBottom value="4px"/>
				</style>
				<block className="icon_navigate" type="native">
					<params>
						<param name="name" value="backToSelectSteamHostName"/>
					</params>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginRight value="2px"/>
					</style>
					<bind name="gotoAndStop!" value="'left'"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="text" value="tr('IDS_REGION') + ' ' + tr(selectedSteamHostName)"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="24px"/>
			</style>
			<block className="BlurMapCustomPxOutbound">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="style" value="'marginLeft'; -20px"/>
				<bind name="style" value="'marginRight'; -20px"/>
				<bind name="style" value="'marginTop'; -22px"/>
				<bind name="style" value="'marginBottom'; -22px"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap10_feather" type="native">
					<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block type="text">
				<styleClass value="$TextDefault17NM"/>
				<style>
					<width value="100%"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="'IDS_CHOOSE_WOWS_NAME')"/>
			</block>
		</block>
		<bind name="watchDH" value="'isWrongName'; ['steamLoginEntity.steamLoginData.evUpdate']; (steamLoginEntity.steamLoginData.isNicknameInUse ||
																				steamLoginEntity.steamLoginData.isNicknameInvalid)"/>
		<bind name="watchDH" value="'isNicknameValidationRunning'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.isNicknameValidationRunning"/>
		<bind name="catch" value="'hideWrongMessageEv'; { wrongSymbolInputed: false, showWrongNickNotification: false}"/>
		<bind name="catch" value="'nameChangedEv'; {	selectedNameIndex: ((steamNewNickname != nicknameSuggestions[selectedNameIndex])	? -1
																														: selectedNameIndex)}"/>
		<bind name="watch" value="'isSteamNewNicknameLoginBtnEnabled'; !(isWrongName || isNicknameValidationRunning)"/>
		<block>
			<block className="BlurMapCustomPxOutbound">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="style" value="'marginLeft'; -10px"/>
				<bind name="style" value="'marginRight'; -10px"/>
				<bind name="style" value="'marginTop'; -4px"/>
				<bind name="style" value="'marginBottom'; -4px"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap10_feather" type="native">
					<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<styleClass value="$MiddleAligned"/>
			<block className="text_input_caps" type="native">
				<style>
					<width value="200px"/>
					<height value="29px"/>
				</style>
				<params>
					<param name="actAsButton" value="true"/>
					<param name="itemRenderer" value="drop_down_list_item"/>
					<param name="soundSet" value="hard_textinput"/>
				</params>
				<bind name="enabled" value="!isWaitingAnswer"/>
				<bind name="maxChars" value="realmConstants.nicknameMaxLength"/>
				<bind name="restrict" value="realmConstants.nicknameRestrict"/>
				<bind name="restrictFeedback" value="realmConstants.nicknameRestrictRegexp; 'wrongSymbolInputed'"/>
				<bind name="soundOn" value="'click'; 'press'; 'default_button'"/>
				<bind name="action" value="'textInputEnter'; isSteamNewNicknameLoginBtnEnabled	? 'steamNicknameEdited'
																				: null; { nickname: steamNewNickname }"/>
				<bind name="defaultText" value="'IDS_ENTER_LOGIN_ON_LOGIN'"/>
				<bind name="sync" value="'text'; 'change'; steamNewNickname; 'evUsernameChanged'"/>
				<bind name="dispatch" value="'steamNewNickname' + varChanged; 'nameChangedEv'"/>
				<bind name="focus" value="1; usernameFocused"/>
				<params>
					<param name="name" value="steamUserNameField"/>
				</params>
				<bind name="action" value="'nameChangedEv'; 'nickNameChange'; {nickname: steamNewNickname}"/>
				<bind name="action" value="'addedToStage'; 'nickNameChange'; {nickname: steamNewNickname}"/>
				<block>
					<style>
						<width value="410px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<block>
						<bind name="watch" value="'showWrongNickNotification';	(steamNewNickname.length &gt; 0 &amp;&amp;
																(isWrongName &amp;&amp; !isNicknameValidationRunning)) "/>
						<style>
							<width value="410px"/>
							<position value="absolute"/>
							<bottom value="2px"/>
						</style>
						<bind name="instance" value="'WrongNickNameNotificationAndSuggestions';	showWrongNickNotification	||
																				wrongSymbolInputed				?	{	_maxWidth: 356, _startTop: 10,
																														_wrongSymbolInputed: wrongSymbolInputed}
																												:	null"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<right value="-2px"/>
				</style>
				<bind name="watchDH" value="'isNicknameInUse'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.isNicknameInUse"/>
				<bind name="watchDH" value="'isNicknameInvalid'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.isNicknameInvalid"/>
				<bind name="watch" value="'validationState'; isNicknameValidationRunning				? 'validation' :
											(isNicknameInvalid || isNicknameInUse)	? 'invalid'
																					: 'valid'"/>
				<bind name="instance" value="'ValidationState'; (steamNewNickname.length &gt; 0) ? {_validationState: validationState} : null"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="button_special_no_label" type="native">
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="200px"/>
				<height value="51px"/>
				<marginTop value="32px"/>
			</style>
			<bind name="soundSet" value="'hard_button'"/>
			<bind name="enabled" value="isSteamNewNicknameLoginBtnEnabled"/>
			<bind name="action" value="'buttonClick'; 'steamNicknameEdited'; {nickname: steamNewNickname}"/>
			<bind name="focus" value="2; loginFocused"/>
			<bind name="name" value="isSteamNewNicknameLoginBtnEnabled ? 'steamNewNicknameBtn' : ''"/>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<hitTest value="false"/>
					<width value="100%"/>
					<position value="absolute"/>
					<textAlign value="center"/>
					<multiline value="true"/>
					<leading value="-4"/>
					<marginLeft value="6px"/>
					<marginRight value="6px"/>
				</style>
				<styleClass value="$TextAccentBold"/>
				<bind name="class" value="isSteamNewNicknameLoginBtnEnabled ? '$FontColorSpecialButton' : '$FontColorAlmostBlack'"/>
				<bind name="class" value="isSteamNewNicknameLoginBtnEnabled ? '$FontDropShadowFilter1' : '$FontDropShadowWhite'"/>
				<bind name="text" value="'IDS_LOGIN_BUTTON'"/>
			</block>
		</block>
	</block>
	<block className="ValidationState">
		<block>
			<bind name="transition" value="(_validationState == 'invalid'); 0.07; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<style>
				<position value="absolute"/>
				<left value="3px"/>
				<top value="8px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_warning_orange_bm'"/>
		</block>
		<block>
			<bind name="transition" value="(_validationState == 'valid'); 0.07; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<style>
				<position value="absolute"/>
				<top value="5px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'symbol:checkbox_check'"/>
		</block>
		<block>
			<bind name="transition" value="(_validationState == 'validation'); 0.07; {alpha: 0}; {alpha: 1}"/>
			<style>
				<position value="absolute"/>
				<top value="15px"/>
				<left value="10px"/>
			</style>
			<block className="loading_bar_small_centered" type="native"/>
		</block>
	</block>
	<block className="SteamLoginDenied">
		<bind name="watchDH" value="'lastAttemptedNickname'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.lastAttemptedNickname"/>
		<bind name="watchDH" value="'isWinStore'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isWinStore"/>
		<style>
			<width value="420px"/>
			<marginTop value="16px"/>
		</style>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 1*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="BlurMapCustomPxOutbound">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="style" value="'marginLeft'; -20px"/>
				<bind name="style" value="'marginRight'; -20px"/>
				<bind name="style" value="'marginTop'; -20px"/>
				<bind name="style" value="'marginBottom'; -20px"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap10_feather" type="native">
					<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
						<leading value="-1"/>
						<textAlign value="center"/>
						<styleSheet value="h3
					    {
					        color: #FFCC66;
					    }"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<bind name="text" value="isWinStore 	? ('&lt;body&gt;' + subst('IDS_PLATFORM_MICROSOFT_ACCOUNT_DENIED',	[], {accountName: '&lt;h3&gt;' + lastAttemptedNickname + '&lt;/h3&gt;'}) + '&lt;/body&gt;')
										: ('&lt;body&gt;' + subst('IDS_PLATFORM_STEAM_ACCOUNT_DENIED', 		[], {accountName: '&lt;h3&gt;' + lastAttemptedNickname + '&lt;/h3&gt;'}) + '&lt;/body&gt;')"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="36px"/>
			</style>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 2*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<style>
				<marginBottom value="16px"/>
			</style>
			<block className="BlurMapCustomPxOutbound">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="style" value="'marginLeft'; -3px"/>
				<bind name="style" value="'marginRight'; -3px"/>
				<bind name="style" value="'marginTop'; -3px"/>
				<bind name="style" value="'marginBottom'; -3px"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap10_feather" type="native">
					<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 0.7}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<styleClass value="$MiddleAligned"/>
			<params>
				<param name="name" value="personalAccountBtn"/>
			</params>
			<block>
				<style>
					<height value="44px"/>
					<width value="200px"/>
				</style>
				<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_PERSONAL_ACCOUNT_HINT'}], 
															_maxWidth: 250 }"/>
				<bind name="action" value="'click'; 'gotoUrlByIdent'; {ident: URL.PERSONAL_ACCOUNT}"/>
				<block className="button_infopanel_no_label" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<bind name="transition" value="rollOver; 0.1; {alpha: 0.85}; {alpha: 1}"/>
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<hitTest value="false"/>
							<width value="100%"/>
							<textAlign value="center"/>
							<marginLeft value="6px"/>
							<marginRight value="6px"/>
							<leading value="-3"/>
						</style>
						<styleClass value="$TextDefaultBold"/>
						<bind name="text" value="'IDS_PERSONAL_ACCOUNT_BTN'"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0 + 3*0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<style>
				<width value="200px"/>
				<height value="51px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block className="button_special_no_label" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="soundSet" value="'hard_button'"/>
				<params>
					<param name="name" value="steamLoginRetryBtn"/>
				</params>
				<bind name="enabled" value="isLoginBtnEnabled"/>
				<bind name="action" value="'buttonClick'; 'reconnect'; { hostId: curHostIndex, user: login, password: password, savePassword: saveCredentials }"/>
				<block type="text">
					<style>
						<hitTest value="false"/>
						<width value="100%"/>
						<textAlign value="center"/>
						<multiline value="true"/>
						<marginLeft value="6px"/>
						<marginRight value="6px"/>
						<leading value="-4"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextAccentBold"/>
					<bind name="class" value="isLoginBtnEnabled ? '$FontColorSpecialButton' : '$FontColorAlmostBlack'"/>
					<bind name="class" value="isLoginBtnEnabled ? '$FontDropShadowFilter1' : '$FontDropShadowWhite'"/>
					<bind name="text" value="toUpperCase(tr('IDS_LOGIN_BUTTON'))"/>
				</block>
			</block>
		</block>
	</block>
	<block className="WrongNickNameNotificationAndSuggestions">
		<bind name="firstEntityDH" value="'steamLoginEntity'; CC.steamLoginData"/>
		<bind name="watchDH" value="'isNicknameInUse'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.isNicknameInUse"/>
		<bind name="watchDH" value="'isNicknameInvalid'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.isNicknameInvalid"/>
		<bind name="watchDH" value="'nicknameSuggestions'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.nicknameSuggestions"/>
		<bind name="watchDH" value="'lastAttemptedNickname'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.lastAttemptedNickname"/>
		<bind name="watch" value="'notificationText';	_wrongSymbolInputed				? (tr('IDS_LOGIN_SCREEN_WRONG_SYMBOL_INPUT')) :
										isNicknameInvalid				? (tr('IDS_LOGIN_SCREEN_NAME_RESTRICTIONS')) :
										nicknameSuggestions.length &gt; 0	? (tr('IDS_CHOOSED_NAME_IS_TAKEN_IN_WOWS_SUGGESTIONS'))
																		: (tr('IDS_CHOOSED_NAME_IS_TAKEN_IN_WOWS'))}"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-7px"/>
				<marginTop value="-8px"/>
			</style>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<marginTop value="1px"/>
					<marginBottom value="1px"/>
				</style>
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap3" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
			</block>
			<block className="notification_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'WarningMessage'; true	? { _delay: 0, _startTop: _startTop, _messageHiglight: _messageHiglight,
													_maxWidth: _maxWidth, _text: notificationText, _maxWidth: 350}
												: null"/>
		</block>
		<block>
			<style>
				<marginTop value="4px"/>
				<width value="100%"/>
				<flow value="htile"/>
				<align value="center"/>
			</style>
			<bind name="visible" value="(nicknameSuggestions.length &gt; 0 &amp;&amp; _wrongSymbolInputed == false)"/>
			<bind name="repeat" value="nicknameSuggestions; 'SteamNamesRenderer'; { _selectedNameIndex: selectedNameIndex }"/>
		</block>
		<block className="button_close" type="native">
			<style>
				<position value="absolute"/>
				<right value="12px"/>
				<top value="4px"/>
			</style>
			<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_CLOSE'}"/>
			<bind name="dispatch" value="'click'; 'hideWrongMessageEv'; {}"/>
		</block>
	</block>
	<block className="SteamHostRenderer">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="firstEntityDH" value="'steamLoginEntity'; CC.steamLoginData"/>
		<bind name="watchDH" value="'steamHostRealm'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.hostsDataProvider[$index].realm"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<style>
			<width value="100%"/>
			<height value="50px"/>
		</style>
		<bind name="watch" value="'isSelected'; _selectedSteamHostIndex == $index"/>
		<bind name="name" value="'steamRealm_' + ids"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="transition" value="rollOver || isSelected; 0.15; {alpha: 0}; {alpha: 1.0}"/>
			<block className="dock_submenu_item_bg" type="native">
				<styleClass value="$Fullsize"/>
				<bind name="transition" value="mouseDown; 0.03; {alpha: 1}; {alpha: 0.5}"/>
				<bind name="action" value="'click'; 'updateSteamSelectedHost'; { hostIndex: $index }"/>
				<bind name="dispatch" value="steamHostRealm == realmConstants.currentRealm ? 'click' : ''; 'changeLoginScreenState'; { loginScreenState: 7 }"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="center"/>
				</style>
				<styleClass value="$TextHeader"/>
				<bind name="class" value="isSelected == true ? '$Bold' : '$None'"/>
				<bind name="text" value="ids"/>
			</block>
			<block type="text">
				<bind name="visible" value="isRecommended == true"/>
				<style>
					<width value="100%"/>
					<textAlign value="center"/>
					<marginTop value="-6px"/>
				</style>
				<styleClass value="$TextSecondary"/>
				<text value="IDS_RECOMMENDED"/>
			</block>
		</block>
	</block>
	<block className="SteamNamesRenderer">
		<bind name="name" value="'SteamNamesRenderer_' + $index"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="watch" value="'_active'; _selectedNameIndex == $index"/>
		<style>
			<height value="29px"/>
			<marginLeft value="2px"/>
			<marginRight value="2px"/>
		</style>
		<bind name="dispatch" value="'click'; 'steamSelectName'; { selectedNameIndex: $index }"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<block className="button_dock_bg" type="native">
			<style>
				<height value="100%"/>
			</style>
			<bind name="gotoAndStop!" value="'down'"/>
			<bind name="transition" value="rollOver || _active; 0.15; {alpha: _active ? 1 : 0}; {alpha: 1}"/>
			<block>
				<bind name="transition" value="rollOver; 0.15; {alpha: _active ? 1 : 0.85}; {alpha: 1.0}"/>
				<style>
					<height value="100%"/>
					<marginLeft value="8px"/>
					<marginRight value="8px"/>
					<marginTop value="8px"/>
				</style>
				<block type="text">
					<style>
						<hitTest value="false"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<bind name="text" value="$value"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ServerMessage">
		<bind name="appear" value="'addedToStage'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="action" value="'click'; 'showErrorMessage'; {header: '', message: ''}"/>
		<bind name="var" value="{errorStringsToIgnoreSupportLinkFor: [
		'IDS_ACCOUNT_ACTIVATION_ERROR_ALL_INCORRECT_CONFIRMATION_CODE',
		'IDS_ACCOUNT_ACTIVATION_ERROR_CODE_MIN_LENGTH',
		'IDS_ACCOUNT_ACTIVATION_ERROR_CODE_MAX_LENGTH',
		'IDS_ACCOUNT_ACTIVATION_ERROR_ALL_INCORRECT_CONFIRMATION_CODE_REQUEST_DEACTIVATED'
	]}"/>
		<style>
			<marginRight value="-1px"/>
			<marginLeft value="-1px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginTop value="1px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleAligned"/>
				<bind name="class" value="_messageHighlight ? '$FontColorCompareNegative' :'$FontColorUnready'"/>
				<bind name="name" value="'messageLoggerHeader'"/>
				<bind name="text" value="_headerText"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<style>
					<minWidth value="280"/>
					<maxWidth value="600"/>
					<textAlign value="center"/>
				</style>
				<bind name="class" value="_messageHighlight ? '$FontColorCompareNegative' :'$FontColorUnready'"/>
				<bind name="name" value="'messageLogger'"/>
				<bind name="text" value="_messageText"/>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="6px"/>
				</style>
				<bind name="instance" value="'LinkText'; errorStringsToIgnoreSupportLinkFor.indexOf(_messageText) &gt; -1 ? null : {_label: 'IDS_LINK_SUPPORT', _urlIdent: URL.SUPPORT, _tooltipText: 'IDS_LINK_SUPPORT_HINT', _name: 'ButtonSupport'}"/>
			</block>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="!(_messageHighlight)"/>
			<block className="notification_frame_orange" type="native">
				<styleClass value="$PxIndent"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="_messageHighlight"/>
			<block className="notification_frame" type="native">
				<styleClass value="$PxIndent"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block className="button_close" type="native">
			<style>
				<position value="absolute"/>
				<right value="8px"/>
				<top value="8px"/>
			</style>
			<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_CLOSE'}"/>
		</block>
	</block>
	<block className="LinkText">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _tooltipText}"/>
		<bind name="action" value="'click'; 'gotoUrlByIdent'; {ident: _urlIdent}"/>
		<bind name="name" value="_name"/>
		<block type="text">
			<bind name="class" value="_large ? '$TextHeader' : '$TextDefault'"/>
			<bind name="class" value="(rollOver &amp;&amp; !mouseDown) ? '$FontColorWhite' : '$FontColorDefault'"/>
			<bind name="text" value="_label"/>
		</block>
		<block className="Underline">
			<bind name="style" value="'backgroundColor'; (rollOver &amp;&amp; !mouseDown) ? '0xFFFFFFFF' : '0x00856933'"/>
			<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) == true; 0.3; {scaleX : 0, alpha : 0}; {scaleX : 1, alpha :1}"/>
			<style>
				<backgroundColor value="0xFFFFFFFF"/>
				<position value="absolute"/>
				<height value="1px"/>
				<width value="100%"/>
				<bottom value="0px"/>
				<marginLeft value="2px"/>
				<marginRight value="2px"/>
			</style>
		</block>
	</block>
	<block className="LicenseeLogos">
		<bind name="name" value="'LicenseeLogo_' + $value"/>
		<style>
			<width value="130px"/>
			<height value="70px"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'url:' + Path.LOGOS + $value"/>
	</block>
	<block className="DevTraces"/>
	<block className="TrainingRoomEscapeButton">
		<style>
			<position value="absolute"/>
			<right value="0"/>
			<top value="0"/>
			<flow value="horizontal"/>
		</style>
		<bind name="name" value="'btn_cancel'"/>
		<bind name="input"/>
		<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: _tooltipText }"/>
		<block>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<block>
				<style>
					<marginTop value="-3px"/>
				</style>
				<block className="hotkey_holder_white_9slice" type="native">
					<block type="text">
						<style>
							<marginLeft value="3px"/>
							<marginRight value="3px"/>
							<marginTop value="-1px"/>
							<marginBottom value="-1px"/>
						</style>
						<styleClass value="$BlackLabel"/>
						<text value="ESC"/>
					</block>
				</block>
			</block>
			<block className="button_close" type="native">
				<params>
					<param name="focusable" value="false"/>
				</params>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="TrainingRoomPlayerItem">
		<style>
			<width value="100%"/>
		</style>
		<bind name="name" value="'TrainingRoomPlayerItem_' + $index"/>
		<bind name="entityDH" value="'entityAccount'; _entityAccountId ? _entityAccountId : $dataRef.ref.id"/>
		<bind name="watchDH" value="'entityAccountTeamId'; ['entityAccount.preBattlePlayerSimple.evStateChanged']; entityAccount.preBattlePlayerSimple.teamId"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfTeamId'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.teamId"/>
		<bind name="watchDH" value="'isSelfPlayerOwner'; ['selfPlayerEntity.preBattlePlayerSimple.evIsCommanderChanged']; selfPlayerEntity.preBattlePlayerSimple.isCommander"/>
		<bind name="watchDH" value="'isSelfPlayerCommander'; ['selfPlayerEntity.trainingRoomPlayer.evUpdate']; selfPlayerEntity.trainingRoomPlayer.isCommander &amp;&amp; 
																								(selfTeamId == entityAccountTeamId || entityAccountTeamId == -1)"/>
		<bind name="watch" value="'isTeamManagementAvailable'; isSelfPlayerOwner || isSelfPlayerCommander"/>
		<bind name="instance" value="'TrainingRoomPlayerItemDraggableOrNot'; {_entityAccountId: _entityAccountId, _isTrainingRoom: true, _isDragEnabled: isTeamManagementAvailable}"/>
	</block>
	<block className="TrainingRoomPlayerItemDraggableOrNot">
		<style>
			<width value="100%"/>
			<height value="80px"/>
		</style>
		<bind name="entityDH" value="'entityAccount'; _entityAccountId"/>
		<bind name="watch" value="'elementName'; _isDragEnabled ? 'TrainingRoomPlayerItemDraggable_' + _entityAccountId : 'TrainingRoomPlayerItemNonDraggable_' + _entityAccountId"/>
		<bind name="name" value="elementName"/>
		<bind name="watch" value="'isBot'; entityAccount.bot != undefined"/>
		<bind name="watch" value="'dropTypePostfix'; isBot ? '_bot' : ''"/>
		<bind name="draggable" value="_isDragEnabled ? 'this': null; entityAccount.preBattlePlayerSimple.teamId + dropTypePostfix; {playerId: entityAccount.preBattlePlayerSimple.id, isBot: isBot}"/>
		<block className="FormationPlayerItem">
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<bind name="entityDH" value="'entityAccount'; _entityAccountId ? _entityAccountId : $dataRef.ref.id"/>
			<bind name="watch" value="'isSelfPlayer'; entityAccount.accountSimple.isSelfPlayer"/>
			<bind name="watchDH" value="'isSuspended'; ['entityAccount.accountSimple.evSuspendedChanged']; entityAccount.accountSimple.suspended"/>
			<bind name="watch" value="'isBot'; entityAccount.bot != undefined"/>
			<bind name="watchDH" value="'shipId'; ['entityAccount.preBattlePlayerSimple.evShipIdChanged']; entityAccount.preBattlePlayerSimple.shipId"/>
			<bind name="watchDH" value="'teamId'; ['entityAccount.preBattlePlayerSimple.evStateChanged']; entityAccount.preBattlePlayerSimple.teamId"/>
			<bind name="watchDH" value="'isReady'; ['entityAccount.preBattlePlayerSimple.evStateChanged']; entityAccount.preBattlePlayerSimple.isReady"/>
			<bind name="watchDH" value="'isInBattle'; ['entityAccount.accountStatus.evInBattleChanged']; entityAccount.accountStatus.inBattle"/>
			<bind name="watchDH" value="'isCommander'; ['entityAccount.preBattlePlayerSimple.evIsCommanderChanged']; entityAccount.preBattlePlayerSimple.isCommander"/>
			<bind name="watchDH" value="'nickName'; ['entityAccount.accountName.evChanged']; entityAccount.accountName.nickName"/>
			<bind name="watchDH" value="'pureName'; ['entityAccount.accountName.evChanged']; entityAccount.accountName.name"/>
			<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
			<bind name="watchDH" value="'isSelfPlayerCommander'; ['selfPlayerEntity.preBattlePlayerSimple.evIsCommanderChanged']; selfPlayerEntity.preBattlePlayerSimple.isCommander"/>
			<bind name="watchDH" value="'selfTeamId'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.teamId"/>
			<bind name="primaryEntityDH" value="'selfVoiceChatEntity'; CC.voiceChat; 0"/>
			<bind name="watchDH" value="'selfVoiceChatEnabled'; ['selfVoiceChatEntity.voiceChat.evEnabledChanged']; selfVoiceChatEntity.voiceChat.enabled"/>
			<bind name="var" value="{isAnimationPreUnlocked: false,
				isAnimationUnlocked: 	false}"/>
			<bind name="dispatch" value="'addedToStage'; 'animationPreActivationEvent'; null; false; 0.1"/>
			<bind name="catch" value="'animationPreActivationEvent'; {isAnimationPreUnlocked: true}"/>
			<bind name="changeDispatch" value="isReady; 'animationActivationEvent'"/>
			<bind name="catch" value="'animationActivationEvent'; {isAnimationUnlocked: isAnimationPreUnlocked ? true : false}"/>
			<style>
				<width value="100%"/>
				<height value="27px"/>
				<flow value="horizontal"/>
			</style>
			<block className="inner_panel" type="native">
				<bind name="visible" value="isSelfPlayer"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block className="dock_submenu_item_bg" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<bind name="clickSplit"/>
				<bind name="style" value="'hitTest'; !(isSuspended)"/>
				<bind name="transition" value="(rollOver || _rollOver || formationPlayerContextMenuVisible) &amp;&amp; !(isSelfPlayer); 0.15; {alpha: 0}; {alpha: 1.0}"/>
				<bind name="tooltip" value="'ContactInfoTooltip';	{	_entityAccountId: entityAccount.id, _actionDenyReason: 'no_reason',
													_playerContext: {type: 'startPrivateChat'}}"/>
				<bind name="action" value="'left_click';	!(isSelfPlayer) &amp;&amp; !(isBot) ? 'openChannelForPrivateMessages' : null; {dbId: entityAccount.accountSimple.dbId}"/>
				<bind name="menu" value="'ContactContextMenu';	!(isSelfPlayer)	? {	_entityAccountId: entityAccount.id, _playerContext: {type: 'startPrivateChat'},
																_inviteType: InviteType.COMMON, _isTrainingRoom: _isTrainingRoom, _isBot: isBot}
															: null; null; 'formationPlayerContextMenuVisible'"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="fade" value="(!isReady || isInBattle) &amp;&amp; isAnimationUnlocked; 0.3; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1; 0"/>
					<block>
						<styleClass value="$Fullsize"/>
						<style>
							<backgroundColor value="0x90FF9933"/>
						</style>
						<bind name="fade" value="(!isReady || isInBattle) &amp;&amp; isAnimationUnlocked; 1.0; {alpha: 1}; {alpha: 0}; {alpha: 1}; 1; 0.5"/>
					</block>
				</block>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="fade" value="isReady &amp;&amp; isAnimationUnlocked; 0.3; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1; 0"/>
					<block>
						<styleClass value="$Fullsize"/>
						<style>
							<backgroundColor value="0x804CE8AA"/>
						</style>
						<bind name="fade" value="isReady &amp;&amp; isAnimationUnlocked; 1.0; {alpha: 1}; {alpha: 0}; {alpha: 1}; 1; 0.5"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="name" value="'participantDivisionPlayer_' + nickName"/>
				<style>
					<hitTest value="false"/>
					<marginLeft value="13px"/>
					<marginRight value="6px"/>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<block>
					<style>
						<position value="absolute"/>
						<marginLeft value="-12px"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'VoiceChatDockIcon'; { _playerName: pureName, _isSelf: isSelfPlayer}"/>
				</block>
				<block>
					<bind name="name" value="'participantDivisionPlayer_' + teamId + '_' + nickName"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'DHFormationPlayerIcon'; teamId != -1 ? {_entityAccountId: entityAccount.id, _isOtherDivision: selfTeamId != teamId, _isTrainingRoom: _isTrainingRoom} : null"/>
				</block>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="1px"/>
						<width value="47%"/>
						<multiline value="false"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="	tkStatus											? '$FontColorTeamkiller' :
							teamId == -1 &amp;&amp; !isSelfPlayer 	? '$FontColorGrey' :
							selfTeamId == teamId 								? '$FontColorGolden'
																				: '$FontColorWhite'"/>
					<bind name="class" value="isSelfPlayer ? '$Bold' : '$None'"/>
					<bind name="text" value="nickName"/>
				</block>
				<block>
					<bind name="visible" value="shipId"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="53%"/>
					</style>
					<bind name="instance" value="'PreBattlePlayerShip'; (isReady || isInBattle) ? {_shipId: shipId} : null"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipRestrictionsInfotip">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$VerticalInfotipBehaviourCenter"/>
		<bind name="name" value="'ShipRestrictionsInfotip'"/>
		<style>
			<userData value="{
			bottomOffset: -8,
			isTipCenter: true
		}"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginTop value="9px"/>
				<marginBottom value="11px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-6px"/>
				<marginRight value="-13px"/>
				<marginLeft value="-13px"/>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<style>
				<marginTop value="10px"/>
			</style>
			<block>
				<style>
					<height value="34px"/>
					<width value="100%"/>
					<position value="absolute"/>
				</style>
				<block type="text">
					<style>
						<marginLeft value="12px"/>
						<marginTop value="3px"/>
					</style>
					<styleClass value="$TextHeaderBold"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="'IDS_TRAINING_TEAM_RESTRICTIONS_INFOTIP'"/>
				</block>
				<block>
					<style>
						<bottom value="0px"/>
						<position value="absolute"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<style>
					<marginTop value="34px"/>
					<marginBottom value="12px"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<bind name="watch" value="'ident'; 2 + ',' + trainingRoomEntity.id}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_LEVEL', _filterType: 'level', needDivider: false, _panelEntityId: trainingRoomEntity.id, _ident: ident, _tooltipPrefix: 'IDS_ALLOW_'}"/>
					<bind name="instance" value="'ShipTypesFilterBlock'; {_title: 'IDS_CLASS', _filterType: 'shipType', needDivider: true, _panelEntityId: trainingRoomEntity.id, _ident: ident, _tooltipPrefix: 'IDS_ALLOW_'}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_NATION', _filterType: 'nation', needDivider: true, _panelEntityId: trainingRoomEntity.id, _ident: ident, _tooltipPrefix: 'IDS_ALLOW_'}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block className="dock_panel_pin" type="native">
			<style>
				<alpha value="0.5"/>
				<position value="absolute"/>
			</style>
			<bind name="gotoAndStop!" value="'up'"/>
			<params>
				<param name="name" value="pinTop"/>
			</params>
		</block>
	</block>
	<block className="TrainingRoomAppliedFilter">
		<style>
			<flow value="htile"/>
			<hitTest value="false"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '185px'"/>
		<bind name="style" value="'align'; _align ? _align : 'left'"/>
		<bind name="style" value="'paddingRight'; _align == 'right' ? '16px' : '0px'"/>
		<bind name="entityDH" value="'trainingRoomEntity'; _trainingRoomEntityId"/>
		<bind name="watchDH" value="'selectedFilters'; ['trainingRoomEntity.shipRestrictions.evUpdate']; trainingRoomEntity.shipRestrictions.selectedFilters"/>
		<bind name="watchDH" value="'typesCount'; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.typesCount"/>
		<bind name="primaryEntityDH" value="'defaultRestrictionsEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
		<bind name="watchDH" value="'defaultTypesCount' ; ['defaultRestrictionsEntity.divisionRestrictions.evUpdate']; defaultRestrictionsEntity.divisionRestrictions.typesCount"/>
		<bind name="watch" value="'isCarriersRestricted'; typesCount[ShipTypes.AircraftCarrier] &amp;&amp; typesCount[ShipTypes.AircraftCarrier][1] != defaultTypesCount[ShipTypes.AircraftCarrier][1]"/>
		<bind name="watch" value="'isBattleShipsRestricted'; typesCount[ShipTypes.BattleShip] &amp;&amp; typesCount[ShipTypes.BattleShip][1] != defaultTypesCount[ShipTypes.BattleShip][1]"/>
		<bind name="watch" value="'isCruisersRestricted'; typesCount[ShipTypes.Cruiser] &amp;&amp; typesCount[ShipTypes.Cruiser][1] != defaultTypesCount[ShipTypes.Cruiser][1]"/>
		<bind name="watch" value="'isDestroyersRestricted'; typesCount[ShipTypes.Destroyer] &amp;&amp; typesCount[ShipTypes.Destroyer][1] != defaultTypesCount[ShipTypes.Destroyer][1]"/>
		<bind name="watch" value="'isAnyShipTypeRestricted'; (isCarriersRestricted || isBattleShipsRestricted || isCruisersRestricted || isDestroyersRestricted) &amp;&amp; _showShipRestrictions != false"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'selectedItemsLevels'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'selectedItemsLevels'+'ROOT'; 'selectedItemsLevels'; {'filter':isIn($entity.id, selectedFilters) &amp;&amp; ($entity.shipFilterItem.type == 'level')}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'selectedItemsNations'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'selectedItemsNations'+'ROOT'; 'selectedItemsNations'; {'filter':isIn($entity.id, selectedFilters) &amp;&amp; ($entity.shipFilterItem.type == 'nation')}; []"/>
		<bind name="collectionFields" value="selectedItemsLevels; ['shipFilterItem.field']"/>
		<block>
			<bind name="repeat" value="reduceAppliedValues(selectedItemsLevels_shipFilterItem_field); 'ShipLevelRomeCustom'"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="selectedItemsLevels.length &gt; 0 &amp;&amp; (isAnyShipTypeRestricted || selectedItemsNations.length &gt; 0)"/>
			<style>
				<height value="26px"/>
				<marginRight value="6px"/>
				<marginTop value="2px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="isAnyShipTypeRestricted"/>
			<style>
				<height value="30px"/>
				<paddingTop value="10px"/>
			</style>
			<bind name="instance" value="'ShipFilterRestrictions'; isAnyShipTypeRestricted ? {_filters: typesCount, _withShipTypeCounters: _withShipTypeCounters} : null"/>
		</block>
		<block>
			<bind name="visible" value="selectedItemsNations.length &gt; 0 &amp;&amp; isAnyShipTypeRestricted"/>
			<style>
				<height value="26px"/>
				<marginRight value="6px"/>
				<marginTop value="2px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<bind name="repeat" value="selectedItemsNations; 'FilterItemWrapper'; {_maxFiltersCount: _maxFiltersCount}"/>
	</block>
	<block className="FilterItemWrapper">
		<style>
			<height value="30px"/>
		</style>
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<bind name="watch" value="'isItemOverflow'; _maxFiltersCount ? $index + 1 &gt; _maxFiltersCount : false"/>
		<block>
			<bind name="visible" value="!isItemOverflow"/>
			<style>
				<height value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'TinyNationFlagCustom'; {_field: _field}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="$index == _maxFiltersCount"/>
			<style>
				<height value="30px"/>
				<marginRight value="6px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="'...'"/>
			</block>
		</block>
	</block>
	<block className="ShipLevelRomeCustom">
		<style>
			<height value="30px"/>
		</style>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<bind name="style" value="'marginLeft'; $value == 0 ? '-6px': '0px'"/>
			<bind name="style" value="'marginRight'; $value == 0 ? '-2px': '4px'"/>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="ShipLevels.RLEVELS[$value]"/>
		</block>
	</block>
	<block className="TinyNationFlagCustom">
		<block>
			<style>
				<marginRight value="4px"/>
			</style>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: _field}"/>
		</block>
	</block>
	<block className="ShipTypesFilterBlock">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="watchDH" value="'typesCount'; []; trainingRoomEntity.divisionRestrictions.typesCount"/>
		<style>
			<height value="100%"/>
			<width value="120px"/>
		</style>
		<block type="text">
			<style>
				<marginTop value="5px"/>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="_title"/>
		</block>
		<block>
			<style>
				<marginLeft value="30px"/>
			</style>
			<bind name="repeat" value="[ShipTypes.Destroyer, ShipTypes.Cruiser, ShipTypes.BattleShip, ShipTypes.AircraftCarrier]; 'ShipTypeDropdown'; {_typesCount: typesCount, _ident: _ident, _tooltipPrefix: _tooltipPrefix}"/>
		</block>
		<block>
			<bind name="visible" value="needDivider == true"/>
			<style>
				<height value="100%"/>
				<position value="absolute"/>
			</style>
			<block className="divider_v" type="native">
				<style>
					<height value="100%"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipTypeDropdown">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<style>
			<marginBottom value="4px"/>
			<marginTop value="6px"/>
			<flow value="horizontal"/>
		</style>
		<bind name="watch" value="'_curItemIndex'; 	$value == ShipTypes.AircraftCarrier	? _typesCount[$value][1] == -1 ? 0 : _typesCount[$value][1]
																		: _typesCount[$value][1] == -1 	? 1 :
									_typesCount[$value][1] &gt; 0 		? _typesCount[$value][1] + 1
																	: 0"/>
		<block>
			<style>
				<marginRight value="4px"/>
				<hitTest value="false"/>
			</style>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="style" value="'marginLeft'; $value == ShipTypes.Destroyer  ? '-3px' : '0px'"/>
			<bind name="style" value="'marginRight'; $value == ShipTypes.Destroyer ? '7px' : '4px'"/>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="$value"/>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-10px"/>
			</style>
			<bind name="watch" value="'countItems'; $value == ShipTypes.AircraftCarrier 	? ['0', '1', '2', '3'] 
																		: ['', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12']"/>
			<bind name="catch" value="'ItemChooser.shipTypeCountSelected'; null; 'evShipTypeCountSelected'"/>
			<bind name="instance" value="'ItemChooser'; {_items: countItems, _choosedItemRenderer: 'BluishTextChoosedItemRenderer', 
			_listItemRenderer: 'TextListItemRenderer', _dropDownWidth: '80px', curIndex: _curItemIndex, 
			onItemSelectedEvent: 'shipTypeCountSelected', _itemChooserTooltipText: _tooltipPrefix + 'HINT_CHECKBOX_FILTER_CLASS_' + toUpperCase($value)}"/>
		</block>
		<bind name="action" value="'evShipTypeCountSelected'; 'setShipTypeCount'; {	type: $value, ident: _ident,
																	value: $value == ShipTypes.AircraftCarrier	? _curItemIndex == 0 ? -1 : _curItemIndex
																												: _curItemIndex == 1 	? -1 :
																	_curItemIndex &gt; 0 			? _curItemIndex - 1
																								: 0}"/>
	</block>
	<block className="TrainingRoomAppliedFiltersTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$InfoBlockIndent"/>
				<style>
					<marginBottom value="7px"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="'IDS_TRAINING_TEAM_RESTRICTIONS'"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="12px"/>
					<marginLeft value="12px"/>
					<marginBottom value="12px"/>
				</style>
				<bind name="instance" value="'TrainingRoomAppliedFilter'; {_width: '280px', _trainingRoomEntityId: _trainingRoomEntityId, _withShipTypeCounters: true}"/>
			</block>
		</block>
	</block>
	<block className="CurrentTotalIndicator">
		<block>
			<block type="text">
				<bind name="class" value="_currentTextClass"/>
				<bind name="class" value="_colorClass"/>
				<style>
					<marginRight value="2px"/>
				</style>
				<bind name="text" value="_withBrackets == true ? '(' + _current : _current"/>
			</block>
			<block type="text">
				<bind name="class" value="_totalTextClass"/>
				<bind name="class" value="_colorClass"/>
				<style>
					<marginTop value="1px"/>
					<marginRight value="1px"/>
					<alpha value="0.8"/>
				</style>
				<bind name="text" value="'/' + _total"/>
			</block>
			<block type="text">
				<bind name="visible" value="_withBrackets == true"/>
				<bind name="class" value="_currentTextClass"/>
				<bind name="class" value="_colorClass"/>
				<bind name="text" value="')'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="AILevelChoosedItemRenderer">
		<style>
			<height value="32px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="(tr('IDS_AI_LEVEL_' + _item))"/>
		</block>
	</block>
	<block className="AILevelListItemRenderer">
		<bind name="name" value="'AILevelListItemRenderer_' + $value"/>
		<styleClass value="$ContextMenuListItem"/>
		<block className="MenuItemWithSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="'IDS_AI_LEVEL_' + $value"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr('IDS_AI_LEVEL_' + $value))
											: (tr('IDS_AI_LEVEL_' + $value)))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="TextDataBlock">
		<style>
			<width value="100%"/>
		</style>
		<styleClass value="$MiddleVAligned"/>
		<bind name="style" value="'paddingLeft'; _align != 'right' ? '16px' : '0px'"/>
		<bind name="style" value="'paddingRight'; _align == 'right' ? '16px' : '0px'"/>
		<block>
			<bind name="visible" value="_headerText ? true : false"/>
			<style>
				<alpha value="0.9"/>
				<width value="100%"/>
				<marginBottom value="10px"/>
				<marginTop value="-6px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<leading value="-2"/>
				</style>
				<styleClass value="$TextDefaultBold19NM"/>
				<bind name="style" value="'textAlign'; _align ? _align : 'left'"/>
				<bind name="visible" value="_headerText"/>
				<bind name="text" value="_headerText"/>
			</block>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<alpha value="0.85"/>
				<leading value="-2"/>
			</style>
			<styleClass value="$TextDefault17NM"/>
			<bind name="style" value="'textAlign'; _align ? _align : 'left'"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="MinimapBackgroundBlock">
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'BackgroundAnimatedSwitcher'; {_bgSymbol:  'url:' + _minimapWaterPath }"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundStretchY value="true"/>
				<backgroundStretchX value="true"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + _minimapPath"/>
		</block>
	</block>
	<block className="TrainingRoomTextInputPassword">
		<style>
			<width value="100%"/>
		</style>
		<block className="TrainingRoomTextInputContent">
			<bind name="style" value="'width'; _width ? _width : '100%'"/>
			<style>
				<flow value="horizontal"/>
			</style>
			<bind name="var" value="{textInput: ''}"/>
			<bind name="catch" value="'removedFromStage'; {textInput: ''}"/>
			<bind name="changeDispatch" value="_defaultInputValue; 'setDefaultValue'"/>
			<bind name="catch" value="'setDefaultValue'; {textInput: _defaultInputValue}"/>
			<bind name="dispatch" value="'wrongSymbolInputed' + varChanged; 'evWrongSymbolInputed'"/>
			<block className="text_input_caps_enter" type="native">
				<bind name="name" value="'organizerSearchField'"/>
				<bind name="tooltip" value="'SimpleTooltip'; _tooltipText ? {tooltipText: _tooltipText} : null"/>
				<style>
					<width value="100%"/>
				</style>
				<params>
					<param name="itemRenderer" value="drop_down_list_item"/>
					<param name="soundSet" value="hard_textinput"/>
					<param name="actAsButton" value="true"/>
				</params>
				<bind name="maxChars" value="_maxChars ? _maxChars : 32"/>
				<bind name="defaultText" value="_defaultText"/>
				<bind name="focus" value="0; _focused != false"/>
				<bind name="restrict" value="_restrict ? _restrict : restrict"/>
				<bind name="restrictFeedback" value="_restrictRegexp ? _restrictRegexp : null; 'wrongSymbolInputed'"/>
				<bind name="text" value="textInput"/>
				<bind name="sync" value="'text'; 'change'; textInput"/>
				<bind name="dispatch" value="'change'; 'TrainingRoomTextInput.' + onInputStrChangedEvent; {pwdStr: textInput}"/>
				<bind name="dispatch" value="'textInputEnter'; 'TrainingRoomTextInput.' + onEnterEvent; {pwdStr: textInput}"/>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'SimpleTooltip'; _onEnterTooltipText ? {tooltipText: _onEnterTooltipText} : null"/>
					<styleClass value="$TextInputEnterButton"/>
					<bind name="enabled" value="textInput.length &gt; 0"/>
					<bind name="dispatch" value="'buttonClick'; 'TrainingRoomTextInput.' + onEnterEvent; {pwdStr: textInput}"/>
				</block>
			</block>
			<block className="button_close" type="native">
				<bind name="name" value="'cancelOrganizerSearch'"/>
				<bind name="visible" value="_disableCloseBtn != true"/>
				<bind name="tooltip" value="'SimpleTooltip'; _closeButtonTooltipText ? {tooltipText: _closeButtonTooltipText} : null"/>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="9px"/>
				</style>
				<bind name="dispatch" value="'buttonClick'; 'TrainingRoomTextInput.' + onCancelEvent"/>
			</block>
		</block>
	</block>
	<block className="TrainingRoomTextInputDescription">
		<style>
			<width value="100%"/>
		</style>
		<block className="TrainingRoomTextInputContent">
			<bind name="style" value="'width'; _width ? _width : '100%'"/>
			<style>
				<flow value="horizontal"/>
			</style>
			<bind name="var" value="{textInput: ''}"/>
			<bind name="catch" value="'removedFromStage'; {textInput: ''}"/>
			<bind name="changeDispatch" value="_defaultInputValue; 'setDefaultValue'"/>
			<bind name="catch" value="'setDefaultValue'; {textInput: _defaultInputValue}"/>
			<bind name="dispatch" value="'wrongSymbolInputed' + varChanged; 'evWrongSymbolInputed'"/>
			<block className="text_input_caps_enter" type="native">
				<bind name="name" value="'organizerSearchField'"/>
				<bind name="tooltip" value="'SimpleTooltip'; _tooltipText ? {tooltipText: _tooltipText} : null"/>
				<style>
					<width value="100%"/>
				</style>
				<params>
					<param name="itemRenderer" value="drop_down_list_item"/>
					<param name="soundSet" value="hard_textinput"/>
					<param name="actAsButton" value="true"/>
				</params>
				<bind name="maxChars" value="_maxChars ? _maxChars : 32"/>
				<bind name="defaultText" value="_defaultText"/>
				<bind name="focus" value="0; _focused != false"/>
				<bind name="restrict" value="_restrict ? _restrict : restrict"/>
				<bind name="restrictFeedback" value="_restrictRegexp ? _restrictRegexp : null; 'wrongSymbolInputed'"/>
				<bind name="text" value="textInput"/>
				<bind name="sync" value="'text'; 'change'; textInput"/>
				<bind name="dispatch" value="'change'; 'TrainingRoomTextInput.' + onInputStrChangedEvent; {descrStr: textInput}"/>
				<bind name="dispatch" value="'textInputEnter'; 'TrainingRoomTextInput.' + onEnterEvent; {descrStr: textInput}"/>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'SimpleTooltip'; _onEnterTooltipText ? {tooltipText: _onEnterTooltipText} : null"/>
					<styleClass value="$TextInputEnterButton"/>
					<bind name="enabled" value="textInput.length &gt; 0"/>
					<bind name="dispatch" value="'buttonClick'; 'TrainingRoomTextInput.' + onEnterEvent; {descrStr: textInput}"/>
				</block>
			</block>
			<block className="button_close" type="native">
				<bind name="name" value="'cancelOrganizerSearch'"/>
				<bind name="visible" value="_disableCloseBtn != true"/>
				<bind name="tooltip" value="'SimpleTooltip'; _closeButtonTooltipText ? {tooltipText: _closeButtonTooltipText} : null"/>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="9px"/>
				</style>
				<bind name="dispatch" value="'buttonClick'; 'TrainingRoomTextInput.' + onCancelEvent"/>
			</block>
		</block>
	</block>
	<block className="TrainingRoomTextInputPlayerName">
		<style>
			<width value="100%"/>
		</style>
		<block className="TrainingRoomTextInputContent">
			<bind name="style" value="'width'; _width ? _width : '100%'"/>
			<style>
				<flow value="horizontal"/>
			</style>
			<bind name="var" value="{textInput: ''}"/>
			<bind name="catch" value="'removedFromStage'; {textInput: ''}"/>
			<bind name="changeDispatch" value="_defaultInputValue; 'setDefaultValue'"/>
			<bind name="catch" value="'setDefaultValue'; {textInput: _defaultInputValue}"/>
			<bind name="dispatch" value="'wrongSymbolInputed' + varChanged; 'evWrongSymbolInputed'"/>
			<block className="text_input_caps_enter" type="native">
				<bind name="name" value="'organizerSearchField'"/>
				<bind name="tooltip" value="'SimpleTooltip'; _tooltipText ? {tooltipText: _tooltipText} : null"/>
				<style>
					<width value="100%"/>
				</style>
				<params>
					<param name="itemRenderer" value="drop_down_list_item"/>
					<param name="soundSet" value="hard_textinput"/>
					<param name="actAsButton" value="true"/>
				</params>
				<bind name="maxChars" value="_maxChars ? _maxChars : 32"/>
				<bind name="defaultText" value="_defaultText"/>
				<bind name="focus" value="0; _focused != false"/>
				<bind name="restrict" value="_restrict ? _restrict : restrict"/>
				<bind name="restrictFeedback" value="_restrictRegexp ? _restrictRegexp : null; 'wrongSymbolInputed'"/>
				<bind name="text" value="textInput"/>
				<bind name="sync" value="'text'; 'change'; textInput"/>
				<bind name="dispatch" value="'change'; 'TrainingRoomTextInput.' + onInputStrChangedEvent; {pNameStr: textInput}"/>
				<bind name="dispatch" value="'textInputEnter'; 'TrainingRoomTextInput.' + onEnterEvent; {pNameStr: textInput}"/>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'SimpleTooltip'; _onEnterTooltipText ? {tooltipText: _onEnterTooltipText} : null"/>
					<styleClass value="$TextInputEnterButton"/>
					<bind name="enabled" value="textInput.length &gt; 0"/>
					<bind name="dispatch" value="'buttonClick'; 'TrainingRoomTextInput.' + onEnterEvent; {pNameStr: textInput}"/>
				</block>
			</block>
			<block className="button_close" type="native">
				<bind name="name" value="'cancelOrganizerSearch'"/>
				<bind name="visible" value="_disableCloseBtn != true"/>
				<bind name="tooltip" value="'SimpleTooltip'; _closeButtonTooltipText ? {tooltipText: _closeButtonTooltipText} : null"/>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="9px"/>
				</style>
				<bind name="dispatch" value="'buttonClick'; 'TrainingRoomTextInput.' + onCancelEvent"/>
			</block>
		</block>
	</block>
	<block className="TrainingRoomShipCarouselContainer">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<bind name="catch" value="'carouselViewChanged'; {isSmallCarouselView: !(isSmallCarouselView)}; 'saveCarouselViewState'"/>
		<bind name="action" value="'saveCarouselViewState'; 'setUserPref' ; {value : isSmallCarouselView, name: 'isSmallCarouselView'}"/>
		<bind name="watch" value="'isFilteredShipsHided'; (userPrefs.isFilteredShipsHided == null) ? false : userPrefs.isFilteredShipsHided"/>
		<bind name="catch" value="'carouselHideFilteredChanged'; {isFilteredShipsHided: !(isFilteredShipsHided)}; 'saveCarouselHideFilteredState'"/>
		<bind name="action" value="'saveCarouselHideFilteredState'; 'setUserPref' ; {value : isFilteredShipsHided, name: 'isFilteredShipsHided'}"/>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<bottom value="36px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<top value="-30px"/>
			</style>
			<block className="CarouselFilters">
				<bind name="stageSize"/>
				<bind name="watch" value="'isFourRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 160)) : true"/>
				<bind name="watch" value="'isThreeRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 88)) : true"/>
				<bind name="watch" value="'curCarouselRows';	(userPrefs.curRowCountIndex == null)															? 0 :
									(userPrefs.curRowCountIndex == 2 &amp;&amp; isFourRowsEnabled)											? 2 :
									((userPrefs.curRowCountIndex == 2 || userPrefs.curRowCountIndex == 1) &amp;&amp; isThreeRowsEnabled)	? 1
																																	: 0"/>
				<bind name="action" value="'carouselRowsCountChangedByStageHeight'; 'setUserPref' ; {value : curCarouselRows, name: 'curRowCountIndex'}"/>
				<bind name="changeDispatch" value="curCarouselRows; 'carouselRowsCountChangedByStageHeight'"/>
				<bind name="feature" value="13;''"/>
				<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITH_COMMANDER', value: false, ident: 0 }"/>
				<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITHOUT_COMMANDER', value: false, ident: 0 }"/>
				<style>
					<marginLeft value="7px"/>
					<height value="30px"/>
					<flow value="horizontal"/>
				</style>
				<block>
					<bind name="name" value="'CarouselFiltersButton'"/>
					<block className="button_carousel_filters" type="native">
						<bind name="tooltip" value="'CarouselFiltersInfotip'; {	AppliedFiltersCounter: AppliedFiltersCounter,
														_isSmallCarouselView: isSmallCarouselView,
														_isFilteredShipsHided: isFilteredShipsHided}; TooltipBehaviour.verticalInfotipSwitch; null; 'carouselFiltersInfotipIsVIsible'"/>
						<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_TOOLTIP_CAROUSEL_FILTERS'}], _maxWidth: 240 }"/>
						<bind name="selected" value="carouselFiltersInfotipIsVIsible"/>
					</block>
				</block>
				<bind name="catch" value="'shipNameFIlterInfotipSelectedChanged'"/>
				<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
				<bind name="watchDH" value="'selectedFilters'; ['panelEntity.shipRestrictions.evUpdate']; panelEntity.shipRestrictions.selectedFilters"/>
				<block>
					<style>
						<height value="32px"/>
						<marginTop value="-4px"/>
						<marginRight value="12px"/>
						<marginLeft value="4px"/>
					</style>
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
					<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
					<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
					<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
					<block>
						<block className="HasTrainingRoomRestrictions">
							<bind name="watchDH" value="'shipRestrictions' ; ['trainingRoomEntity.shipRestrictions.evUpdate']; trainingRoomEntity.shipRestrictions.selectedFilters"/>
							<bind name="watchDH" value="'shipsCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.shipsCount"/>
							<bind name="watchDH" value="'typesCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.typesCount"/>
							<bind name="primaryEntityDH" value="'defaultRestrictionsEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
							<bind name="watchDH" value="'defaultTypesCount' ; ['defaultRestrictionsEntity.divisionRestrictions.evUpdate']; defaultRestrictionsEntity.divisionRestrictions.typesCount"/>
							<bind name="collectionDH" value="CC.shipFilterItem; 'idsfilters'+'ROOT'"/>
							<bind name="collectionDesign" value="'DES_'+'idsfilters'+'ROOT'; 'idsfilters'; {'filter':$entity.shipFilterItem.type == 'shipId' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
							<bind name="collectionDH" value="CC.shipFilterItem; 'levelfilters'+'ROOT'"/>
							<bind name="collectionDesign" value="'DES_'+'levelfilters'+'ROOT'; 'levelfilters'; {'filter':$entity.shipFilterItem.type == 'level' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
							<bind name="collectionDH" value="CC.shipFilterItem; 'nationfilters'+'ROOT'"/>
							<bind name="collectionDesign" value="'DES_'+'nationfilters'+'ROOT'; 'nationfilters'; {'filter':$entity.shipFilterItem.type == 'nation' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
							<bind name="collectionFields" value="levelfilters; ['shipFilterItem.field']"/>
							<bind name="contains" value="typesCount; $item[1] == -1; 'isAnyShipTypeNotAllowed'"/>
							<bind name="watch" value="'isCarriersRestricted'; typesCount[ShipTypes.AircraftCarrier] &amp;&amp; typesCount[ShipTypes.AircraftCarrier][1] != defaultTypesCount[ShipTypes.AircraftCarrier][1]"/>
							<bind name="watch" value="'isBattleShipsRestricted'; typesCount[ShipTypes.BattleShip] &amp;&amp; typesCount[ShipTypes.BattleShip][1] != defaultTypesCount[ShipTypes.BattleShip][1]"/>
							<bind name="watch" value="'isCruisersRestricted'; typesCount[ShipTypes.Cruiser] &amp;&amp; typesCount[ShipTypes.Cruiser][1] != defaultTypesCount[ShipTypes.Cruiser][1]"/>
							<bind name="watch" value="'isDestroyersRestricted'; typesCount[ShipTypes.Destroyer] &amp;&amp; typesCount[ShipTypes.Destroyer][1] != defaultTypesCount[ShipTypes.Destroyer][1]"/>
							<bind name="watch" value="'isAnyShipTypeRestricted'; isCarriersRestricted || isBattleShipsRestricted || isCruisersRestricted || isDestroyersRestricted"/>
							<bind name="watch" value="'hasTrainingRoomRestrictions'; (idsfilters.length &gt; 0)			||
												(shipTypefilters.length &gt; 0)	||
												(levelfilters.length &gt; 0)		||
												(nationfilters.length &gt; 0)		||
												isShipFilterRestrictionsVisible"/>
							<bind name="watch" value="'isShipFilterRestrictionsVisible'; isAnyShipTypeRestricted &amp;&amp; isAnyShipTypeNotAllowed"/>
						</block>
						<bind name="watch" value="'pveFilterVisible'; selectedBattle.type == BattleTypes.PVE_BATTLE"/>
						<bind name="watch" value="'trainingFilterVisible'; trainingRoomEntity &amp;&amp; hasTrainingRoomRestrictions"/>
						<bind name="watch" value="'rankedFilterVisible'; selectedBattle.type == BattleTypes.RANKED_BATTLE"/>
						<bind name="watch" value="'eventFilterVisible'; selectedBattle.type == BattleTypes.EVENT_BATTLE"/>
						<bind name="watch" value="'clanFilterVisible'; selectedBattle.type == BattleTypes.CLAN_BATTLE"/>
						<bind name="watch" value="'battleTypeFilterVisible'; pveFilterVisible || trainingFilterVisible || rankedFilterVisible || eventFilterVisible || clanFilterVisible"/>
						<bind name="instance" value="'AppliedBattleTypeFilter'; battleTypeFilterVisible ? {}	: null"/>
					</block>
					<block>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipName', shipNameFilterInfotipSelected: shipNameFilterInfotipSelected, _panelEntityId: panelEntity.id}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'level', _panelEntityId: panelEntity.id}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipType', _panelEntityId: panelEntity.id}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'nation', _panelEntityId: panelEntity.id}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'special', _panelEntityId: panelEntity.id}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<bind name="instance" value="'ResetAllFilters'; selectedFilters.length &gt; 0 ? {} : null"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ShipCarousel'; {	_addShipSlotsBuyBlocks: false,
											_shipFilterId: CC.mainShipFilter,
											_scrollToStart: true,
											isSmallCarouselView: isSmallCarouselView,
											_isFilteredShipsHided: isFilteredShipsHided,
											_disableShipActions: true}"/>
		</block>
	</block>
	<css name="$TextMouseDisable">
		<mouseChildren value="false"/>
		<selectable value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$MouseEnable">
		<hitTest value="true"/>
		<mouseChildren value="true"/>
		<mouseEnabled value="true"/>
	</css>
	<css name="$FontFamilyDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontFamilyDefaultBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$Bold">
		<fontFamily value="$WWSDefaultFontBold"/>
	</css>
	<css name="$FontColorDefault">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorGrey">
		<textColor value="0xDDDDDD"/>
	</css>
	<css name="$FontColorStrongGrey">
		<textColor value="0x636363"/>
	</css>
	<css name="$FontColorWhite">
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$FontColorBlueish">
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$FontColorStrongBlueish">
		<textColor value="0x758b8b"/>
	</css>
	<css name="$FontColorDarkBlueish">
		<textColor value="0x2B393A"/>
	</css>
	<css name="$FontColorSpecialButton">
		<textColor value="0xFFE8D3"/>
	</css>
	<css name="$FontColorTurquoise">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorBuoyancy">
		<textColor value="0x13C9F7"/>
	</css>
	<css name="$FontColorHealth">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontColorGolden">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorGold">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorFreeExp">
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$FontColorExp">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorUnready">
		<textColor value="0xFF9933"/>
	</css>
	<css name="$FontColorAlmostBlack">
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontColorTeamkiller">
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$FontColorTTK">
		<textColor value="0xc8751c"/>
	</css>
	<css name="$FontColorParty">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorDefaultButtonUp">
		<textColor value="0xc7e2e2"/>
	</css>
	<css name="$FontColorComparePositive">
		<textColor value="0x4CE8AA"/>
	</css>
	<css name="$FontColorCompareNegative">
		<textColor value="0xFF6600"/>
	</css>
	<css name="$FontColorMercenaries">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontSizeThumbelina">
		<fontSize value="7"/>
	</css>
	<css name="$FontSizeNano">
		<fontSize value="11"/>
	</css>
	<css name="$FontSizeSmall">
		<fontSize value="13"/>
	</css>
	<css name="$FontSizeDefault">
		<fontSize value="15"/>
	</css>
	<css name="$FontSizeLarge">
		<fontSize value="17"/>
	</css>
	<css name="$FontSizeHeader6">
		<fontSize value="19"/>
	</css>
	<css name="$FontSizeHeader5">
		<fontSize value="21"/>
	</css>
	<css name="$FontSizeHeader4">
		<fontSize value="23"/>
	</css>
	<css name="$FontSizeHeader3">
		<fontSize value="25"/>
	</css>
	<css name="$FontSizeHeader2">
		<fontSize value="30"/>
	</css>
	<css name="$FontSizeHeader1">
		<fontSize value="36"/>
	</css>
	<css name="$FontAccentSize2">
		<fontSize value="50"/>
	</css>
	<css name="$FontAccentSize1">
		<fontSize value="60"/>
	</css>
	<css name="$LetterSpacingSmall">
		<letterSpacing value="0.8"/>
	</css>
	<css name="$InvertedTextEffect">
		<dropShadowFilter value="0 90 0xffffff 1.0 3.0 3.0 0.3"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 5.0 3.0 0.9 2"/>
	</css>
	<css name="$BlockGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 4.0 3.0 0.2 2"/>
	</css>
	<css name="$GlowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$DropShadowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$FontDropShadowFilter1">
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontDropShadowFilterStrong">
		<dropShadowFilter value="1 90 0x08222a 0.8 3 3 1.5"/>
	</css>
	<css name="$FontDropShadowWhite">
		<dropShadowFilter value="0 90 0xffffff 1.0 3.0 3.0 0.3"/>
	</css>
	<css name="$BlockDropShadowFilter1">
		<dropShadowFilter value="5 110 0x000000 0.6 6 6 0.6"/>
	</css>
	<css name="$BlockDropShadowFilter2">
		<dropShadowFilter value="3 110 0x000000 0.6 6 6 0.6"/>
	</css>
	<block className="DefaultButton">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="name" value="_containerName ? _containerName : null"/>
		<block className="button_default" type="native">
			<bind name="style" value="'width'; _width ? _width : '100%'"/>
			<bind name="label" value="_label"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="focusable" value="_focusIndex ? true : false"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			<bind name="name" value="_name ? _name : null"/>
			<bind name="input"/>
			<block>
				<bind name="visible" value="_isExternal == true"/>
				<style>
					<position value="absolute"/>
					<top value="7px"/>
					<right value="4px"/>
					<hitTest value="false"/>
				</style>
				<block className="icon_out_grey" type="native"/>
			</block>
		</block>
	</block>
	<block className="DefaultButtonBig">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="name" value="_containerName ? _containerName : null"/>
		<block className="button_default_big" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="name" value="_name ? _name : null"/>
			<bind name="input"/>
			<bind name="label" value="_label"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
		</block>
	</block>
	<block className="DefaultButtonCostMedium">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="tooltip" value="'DiscountTooltip'; priceInfo.basePrice &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) ? { priceInfo: priceInfo, _isExternal: _isExternal } : null"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="style" value="'height'; _height ? _height : 'auto'"/>
		<bind name="name" value="_name ? _name : null"/>
		<block className="button_default_no_label" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'height'; _height ? _height : 'auto'"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="dispatch" value="'buttonClick'; _dispatchEvent ? _dispatchEvent : null"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="selected" value="_selected"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="3px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorDefaultButtonUp'"/>
					<bind name="class" value="_enabled ? '$None' : '$FontColorAlmostBlack'"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<bind name="visible" value="priceInfo.finalPrice &gt; 0"/>
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'PriceTag'; priceInfo.finalPrice &gt; 0 ? {priceInfo: priceInfo, _showDiscountTag: _showDiscountTag } : null"/>
				</block>
				<block>
					<bind name="visible" value="_isExternal == true"/>
					<style>
						<marginTop value="2px"/>
						<marginLeft value="8px"/>
					</style>
					<block className="icon_out_grey" type="native"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="DefaultButtonCostSmall">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="tooltip" value="'DiscountTooltip'; priceInfo.basePrice &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) ? { priceInfo: priceInfo } : null"/>
		<block className="button_default_no_label_small" type="native">
			<bind name="enabled" value="(_enabled &amp;&amp; !(operationsAccountLocked))"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<block>
				<style>
					<marginBottom value="1px"/>
					<marginRight value="18px"/>
					<marginLeft value="18px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="class" value="'$FontColorDefaultButtonUp'"/>
					<bind name="class" value="_enabled ? '$None' : '$FontColorAlmostBlack'"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="2px"/>
					</style>
					<bind name="instance" value="'PriceTag'; priceInfo.finalPrice &gt; 0 ? {priceInfo: priceInfo, _small: true, _showDiscountTag: _showDiscountTag} : null"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ButtonSpecial">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="_name"/>
		<block className="button_special_no_label" type="native">
			<bind name="soundSet" value="'hard_button'"/>
			<bind name="enabled" value="_enabled"/>
			<bind name="action" value="'buttonClick'; _action; _actionParams ? _actionParams : {}"/>
			<block type="text">
				<style>
					<marginRight value="18px"/>
					<marginLeft value="18px"/>
					<marginTop value="3px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<bind name="class" value="_enabled 	? rollOver &amp;&amp; !(mouseDown) ? '$FontColorDefault' : '$FontColorSpecialButton'
									: '$FontColorAlmostBlack'"/>
				<bind name="class" value="_enabled ? '$FontDropShadowFilter1' : '$FontDropShadowWhite'"/>
				<styleClass value="$TextDefaultBold"/>
				<bind name="text" value="_label"/>
			</block>
		</block>
	</block>
	<block className="DockButton">
		<style>
			<width value="100%"/>
		</style>
		<block className="button_dock" type="native">
			<bind name="name" value="_name"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<bind name="enabled" value="_enabled"/>
			<bind name="dispatch" value="'buttonClick'; _dispatchEvent; {}"/>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="3px"/>
					<mouseEnabled value="false"/>
					<mouseChildren value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<bind name="text" value="_label"/>
			</block>
		</block>
	</block>
	<block className="ResizableButtonDock">
		<style>
			<width value="100%f"/>
		</style>
		<bind name="watch" value="'enabled'; _enabled != false"/>
		<bind name="name" value="_name"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; null; 'resizableButtonDock_'"/>
		<bind name="clickSplit"/>
		<bind name="request" value="'left_click'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
		<bind name="action" value="'left_click'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
		<bind name="transition" value="resizableButtonDock_rollOver &amp;&amp; !(resizableButtonDock_mouseDown) &amp;&amp; enabled; 0.1; {alpha: 0.65}; {alpha: 1}; {alpha: 0.65}"/>
		<bind name="soundOn" value="'left_click'; 'press'; 'default_button'"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="-10px"/>
				<marginRight value="-10px"/>
				<marginBottom value="-9px"/>
				<marginTop value="-10px"/>
			</style>
			<bind name="style" value="'hitTest'; enabled"/>
			<block className="button_dock_bg" type="native">
				<styleClass value="$Fullsize"/>
				<bind name="gotoAndStop!" value="'down'"/>
			</block>
		</block>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<mouseEnabled value="false"/>
				<mouseChildren value="false"/>
			</style>
			<bind name="style" value="'alpha'; enabled ? 1 : 0.65"/>
			<styleClass value="$TextDefaultBoldNM"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="_label"/>
		</block>
	</block>
	<block className="InfopanelButton">
		<bind name="request" value="'buttonClick'; _request ? _request : null; _request ? _requestParams : null"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _tooltipIDS}"/>
		<bind name="name" value="_name"/>
		<bind name="dispatch" value="'mouseOver'; 'overInfopanelButton'; {InfopanelButtonOverAlpha: 1}"/>
		<bind name="dispatch" value="'mouseOut'; 'upInfopanelButton'; {InfopanelButtonOverAlpha: 0.6}"/>
		<bind name="dispatch" value="'mouseDown'; 'downInfopanelButton'; {InfopanelButtonOverAlpha: 0.3}"/>
		<bind name="style" value="'alpha'; InfopanelButtonOverAlpha"/>
		<bind name="catch" value="'downInfopanelButton'"/>
		<bind name="catch" value="'upInfopanelButton'}"/>
		<bind name="catch" value="'overInfopanelButton'"/>
		<block className="button_infopanel_no_label" type="native">
			<bind name="style" value="'width'; _width"/>
			<style>
				<height value="40px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="8"/>
						<backgroundStretchX value="true"/>
						<backgroundStretchY value="true"/>
					</style>
					<bind name="style" value="'width'; _iconWidth"/>
					<bind name="style" value="'height'; _iconHeight"/>
					<bind name="style" value="'backgroundImage'; _backgroundImage"/>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<position value="absolute"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefaultBoldNM"/>
						<bind name="text" value="toUpperCase(tr(_label))"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<css name="$DefaultTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$DefaultInstantTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.06,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.06,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$DefaultMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.07,
		appearOffset: 10.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: 10.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$RightSubMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.15,
		appearOffset: 0.0,
		disappearDelay: 0.35,
		disappearDuration: 0.1,
		disappearOffset: 5.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0,
		showDirection: 'right'
	}"/>
	</css>
	<css name="$LeftSubMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.15,
		appearOffset: 0.0,
		disappearDelay: 0.35,
		disappearDuration: 0.1,
		disappearOffset: 5.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0,
		showDirection: 'left'
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviourCenter">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: -8,
		bottomOffset: 0,
		screenBottomOffset: 26,
		isTipCenter: true
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviourCenterUpper">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: -8,
		bottomOffset: 0,
		isTipCenter: true,
		fixedDirectionUp: true
	}"/>
	</css>
	<css name="$ReplaysInfotip">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,

		rightOffset: 300,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$ReplaysInfotipFilter">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,

		rightOffset: 0,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$HorizontalInfotipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 0,
		rightOffset: -10,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$FightButtonTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.0,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$WarningTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$ModuleTreeTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$SmallListItem">
		<width value="100%"/>
		<height value="18px"/>
	</css>
	<css name="$SmallListItemValue">
		<position value="absolute"/>
		<right value="0px"/>
	</css>
	<css name="$DefaultTooltipWidth">
		<width value="300px"/>
	</css>
	<block className="EmptyLine"/>
	<block className="MouseInstructionTooltip">
		<style>
			<hitTest value="false"/>
		</style>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<bind name="visible" value="_multiParagraphArray.length &gt; 0"/>
			<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
			<style>
				<marginTop value="9px"/>
			</style>
			<bind name="style" value="'marginBottom'; _marginBottomParagraphs 												? _marginBottomParagraphs :
									(_multiParagraphArray.length &gt; 0) &amp;&amp; (_mouseInstructions.length &gt; 0)	? '0px'
																											: '5px'"/>
			<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {_maxWidth: _maxWidth, _marginBottom: _marginBottom, _leading: _leading}"/>
		</block>
		<block>
			<bind name="visible" value="_checkedLines.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_checkedLines.length &gt; 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="repeat" value="_checkedLines; 'CheckedLineRepeater'; {_maxWidth: _maxWidth, _marginBottom: _marginBottom, _lastIndex: (_checkedLines.length - 1), _leading: _leading}"/>
		</block>
		<block>
			<bind name="visible" value="(_multiParagraphArray.length &gt; 0) &amp;&amp; (_mouseInstructions.length &gt; 0)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_mouseInstructions.length &gt; 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="repeat" value="_mouseInstructions; 'MouseInstructionRepeater'; {_maxWidth: _maxWidth, _lastIndex: (_mouseInstructions.length - 1), _leading: _leading}"/>
		</block>
	</block>
	<block className="SimpleTooltip">
		<block className="SimpleTooltipTemplate">
			<styleClass value="$DefaultTooltipBehaviour"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$Fullsize"/>
			</block>
			<block type="text">
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="style" value="'leading'; (tooltipText.length &gt; 30 ? 0 : -3)"/>
				<style>
					<maxWidth value="300"/>
				</style>
				<bind name="text" value="tooltipText"/>
			</block>
		</block>
	</block>
	<block className="SubTextTooltip">
		<block className="SubTextTooltipTemplate">
			<styleClass value="$DefaultTooltipBehaviour"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<block type="text">
					<styleClass value="$TextHeaderBold"/>
					<style>
						<leading value="-3"/>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="tooltipText"/>
				</block>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<style>
						<marginTop value="3px"/>
						<leading value="-3"/>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="tooltipSubText"/>
				</block>
			</block>
		</block>
	</block>
	<block className="SimpleWarningTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 240"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="MultipleWarningsTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block>
				<bind name="repeat" value="_warningsArr; 'SimpleWarningText'; {}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="SimpleWarningText">
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<style>
				<maxWidth value="240"/>
				<leading value="-3"/>
			</style>
			<bind name="text" value="$value"/>
		</block>
	</block>
	<block className="StartButtonWarningsTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block>
				<params>
					<param name="name" value="MultipleWarningsTooltip"/>
				</params>
				<bind name="repeat" value="_warningsArr; 'StartButtonWarningText'; {}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="StartButtonWarningText">
		<bind name="firstEntityDH" value="'clanCurrentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="watchDH" value="'cbs_primeTimeStartTime'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.primeTimeStartTime"/>
		<bind name="watchDH" value="'cbs_primeTimeFinishTime'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.primeTimeFinishTime"/>
		<bind name="countdown" value="cbs_primeTimeStartTime; 'startPrimeTimeText'; 'HIGHEST,WITH_DAYS'; 'timeoutEvent'"/>
		<bind name="countdown" value="cbs_primeTimeFinishTime; 'finishPrimeTimeText'; 'HIGHEST,WITH_DAYS'; 'timeoutEvent'"/>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<style>
				<maxWidth value="240"/>
				<leading value="-3"/>
			</style>
			<bind name="text" value="$value == 'IDS_CLAN_BATTLES_PRIMETIME_STARTS_IN'	?	subst('IDS_CLAN_BATTLES_PRIMETIME_STARTS_IN', [], {timeLeft: startPrimeTimeText}) 
																		:	$value"/>
		</block>
	</block>
	<block className="TooltipBackground">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'DeclareBlurLayer'; _isInBattle ?  null : {}"/>
			<bind name="instance" value="'BlurMap'; _isInBattle ? null : {}"/>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="(optionData.contrast == true || _isInBattle == true)"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="!(_isInBattle)"/>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
	</block>
	<block className="TimerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block type="text">
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<styleClass value="$TextHeader"/>
			<bind name="class" value="'$FontSizeHeader4'"/>
			<bind name="pureText" value="_text"/>
		</block>
	</block>
	<block className="PlayerTooltipInvitationCountdown">
		<bind name="countdown" value="_expirationTime; 'countdownText'; 'mm:ss'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginLeft value="7px"/>
				<marginRight value="4px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="6px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: _formationType}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
						<maxWidth value="158"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="_text"/>
				</block>
				<block type="text">
					<style>
						<top value="-4px"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<styleClass value="$AlignRight"/>
					<bind name="class" value="'$FontSizeHeader6'"/>
					<bind name="pureText" value="'-' + countdownText"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="LegalInfo">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<styleClass value="$Fullsize"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="modal_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$EyeLevelVAligned"/>
			<style>
				<width value="700px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="appear" value="'startShow'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.1; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<bind name="instance" value="'ModalWindowHeader'; { _header: toUpperCase(tr('IDS_LICENCE_INFO')), _headerWidth: '700px', _showInnerCloseButton: true}"/>
			</block>
			<block>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'licenseData'"/>
				<bind name="appear" value="'startShow'; 0.15; 0.2; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.2; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<style>
					<width value="100%"/>
					<height value="380px"/>
					<overflow value="scroll"/>
					<marginTop value="6px"/>
				</style>
				<styleClass value="$DefaultScrollBar"/>
				<block type="text">
					<bind name="name" value="'legalText'"/>
					<style>
						<minHeight value="300"/>
						<minWidth value="686"/>
						<maxWidth value="686"/>
					</style>
					<styleClass value="$TextHeader"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="licenseData.licenseText"/>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginBottom value="12px"/>
						<marginTop value="12px"/>
					</style>
					<bind name="instance" value="'LinkText'; { _label: 'IDS_LINK_FULL_LEGAL_INFO', _urlIdent: URL.EXTRA_LICENCES, _tooltipText: 'IDS_LINK_FULL_LEGAL_INFO', _name: 'openExtraLicences', _large: true }"/>
				</block>
				<block>
					<bind name="appear" value="'startShow'; 0.15; 0.3; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.15; 0.3; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<styleClass value="$MiddleAligned"/>
					<block>
						<style>
							<marginTop value="18px"/>
						</style>
						<bind name="repeat" value="realmConstants.licenseLogoUrls; 'LicenseeLogos'"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<width value="130px"/>
					<marginTop value="24px"/>
				</style>
				<bind name="appear" value="'startShow'; 0.15; 0.4; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.4; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<block className="DefaultButtonModal">
					<styleClass value="$InfoLineBoundaries"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="name" value="'Modal_window_action_Button' + 'IDS_CLOSE_UPPER_CASE'"/>
					<block className="button_default" type="native">
						<style>
							<width value="100%"/>
						</style>
						<bind name="label" value="'IDS_CLOSE_UPPER_CASE'"/>
						<params>
							<param name="name" value="btn_cancel"/>
						</params>
						<bind name="input"/>
						<bind name="focus" value="1;true"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="EULAConfirmation">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="var" value="{btnEnabled: realmConstants.showEulaText == false}"/>
		<bind name="catch" value="'ScrollTracker.scrollFinished'; {btnEnabled: true}"/>
		<styleClass value="$Fullsize"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="modal_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$EyeLevelVAligned"/>
			<style>
				<width value="700px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="appear" value="'startShow'; 0.15; 0.3; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.3; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<bind name="instance" value="'ModalWindowHeaderOptionalIcon'; { _header: 'IDS_EULA', _headerWidth: '700px', _showInnerCloseButton: $root.showCloseButton, _showIcon: false}"/>
			</block>
			<block className="LinkedEULA">
				<bind name="visible" value="realmConstants.showEulaText == false"/>
				<block>
					<styleClass value="$InfoBlockHorizontalIndent"/>
					<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<style>
						<flow value="horizontal"/>
						<marginTop value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeader"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<text value="IDS_PLEASE_READ"/>
					</block>
					<block>
						<bind name="instance" value="'LinkText'; {_label: 'IDS_EULA', _urlIdent: URL.EULA, _tooltipText: 'IDS_EULA_TOOLTIP', _name: 'requestEULA', _large: true}"/>
					</block>
					<block type="text">
						<styleClass value="$TextHeader"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<text value="IDS_BEFORE_CONTINUE"/>
					</block>
				</block>
				<block>
					<styleClass value="$InfoBlockHorizontalIndent"/>
					<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.15; 0.6; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<style>
						<marginTop value="12px"/>
					</style>
					<block type="text">
						<style>
							<maxWidth value="700"/>
						</style>
						<styleClass value="$TextHeader"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<text value="IDS_EULA_TEXT"/>
					</block>
				</block>
			</block>
			<block className="FullTextEULA">
				<bind name="visible" value="realmConstants.showEulaText == true"/>
				<bind name="controller" value="lesta.dialogs.controllers.ScrollTrackerController"/>
				<styleClass value="$DefaultScrollBar"/>
				<style>
					<width value="100%"/>
					<height value="400px"/>
					<overflow value="scroll"/>
					<wheelScrollSpeed value="50"/>
				</style>
				<block type="text">
					<styleClass value="$TextHeader"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="text" value="realmConstants.eulaText"/>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<flow value="horizontal"/>
					<marginTop value="24px"/>
				</style>
				<block>
					<bind name="appear" value="'startShow'; 0.15; 0.9; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.15; 0.9; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<block className="button_default" type="native">
						<bind name="enabled" value="btnEnabled"/>
						<style>
							<width value="140px"/>
						</style>
						<bind name="label" value="'IDS_ACCEPT'"/>
						<bind name="action" value="'buttonClick'; 'confirmEULA'"/>
						<bind name="name" value="'confirmEULA'"/>
					</block>
				</block>
				<block>
					<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.15; 0.75; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<style>
						<marginLeft value="20px"/>
					</style>
					<block className="button_default" type="native">
						<style>
							<width value="140px"/>
						</style>
						<bind name="label" value="toUpperCase(tr('IDS_REJECT'))"/>
						<bind name="action" value="'buttonClick'; 'rejectEULA'"/>
						<bind name="name" value="'rejectEULA'"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="FullTextEULA">
		<bind name="visible" value="realmConstants.showEulaText == true"/>
		<bind name="controller" value="lesta.dialogs.controllers.ScrollTrackerController"/>
		<styleClass value="$DefaultScrollBar"/>
		<style>
			<width value="100%"/>
			<height value="400px"/>
			<overflow value="scroll"/>
			<wheelScrollSpeed value="50"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeader"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="text" value="realmConstants.eulaText"/>
		</block>
	</block>
	<block className="LinkedEULA">
		<bind name="visible" value="realmConstants.showEulaText == false"/>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<style>
				<flow value="horizontal"/>
				<marginTop value="6px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<text value="IDS_PLEASE_READ"/>
			</block>
			<block>
				<bind name="instance" value="'LinkText'; {_label: 'IDS_EULA', _urlIdent: URL.EULA, _tooltipText: 'IDS_EULA_TOOLTIP', _name: 'requestEULA', _large: true}"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<text value="IDS_BEFORE_CONTINUE"/>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.6; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<style>
				<marginTop value="12px"/>
			</style>
			<block type="text">
				<style>
					<maxWidth value="700"/>
				</style>
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<text value="IDS_EULA_TEXT"/>
			</block>
		</block>
	</block>
	<css name="$DefaultFormationWidgetSize">
		<width value="330px"/>
		<height value="410px"/>
	</css>
	<block className="ResizableFormationWidget">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$ResizableFormationWidgetInfotipBehaviour"/>
		<styleClass value="$DefaultFormationWidgetSize"/>
		<bind name="resize" value="'grip';'down';null; 'formationWidgetHeight'"/>
		<block className="DivisionEntranceInfotip">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
			<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
			<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
			<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
			<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
			<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
			<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
			<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
			<bind name="watchDH" value="'isBotsEnabled'; ['trainingRoomEntity.trainingRoom.evUpdate']; trainingRoomEntity.trainingRoom.isBotsEnabled"/>
			<styleClass value="$DivisionEntranceInfotipBehaviour"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
			<bind name="class" value="_isFromDockFormationBtn ? '$Fullsize' : '$DefaultFormationWidgetSize'"/>
			<bind name="var" value="{searchState: 0, tabInset: 0}"/>
			<bind name="watch" value="'infotipState'; tabInset == 0 ? searchState : 2"/>
			<bind name="catch" value="'Tooltip.selfClosed'; {searchState : 0}"/>
			<bind name="action" value="'Tooltip.selfOpened'; 'ClanProxy.getClanTeams'; {}"/>
			<bind name="request" value="'Tooltip.selfOpened'; 'updateSuitableShipsForBot'; {teamId:_teamId}"/>
			<bind name="catch" value="'changeSearchState'"/>
			<bind name="catch" value="'TextInputWithCancel.searchCancelled'; {searchState : 0}"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<marginLeft value="13px"/>
					<marginRight value="13px"/>
					<marginBottom value="18px"/>
					<marginTop value="9px"/>
				</style>
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap3" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="dock_panel" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<style>
					<marginLeft value="14px"/>
					<marginRight value="14px"/>
					<marginTop value="9px"/>
				</style>
				<bind name="style" value="'marginBottom'; _isFromDockFormationBtn ? '19px' : '19px'"/>
				<bind name="var" value="{_searchRequests: [['contacts', 13]],
					_resultsDisplay: ['myContacts', 'contacts', 'ignoredContacts']}"/>
				<bind name="watch" value="'playerContextType'; _isFromTrainingRoomBtn ? 'inviteToTrainingRoom': 'inviteToDivision'"/>
				<block>
					<style>
						<width value="100%"/>
						<marginTop value="5px"/>
						<marginBottom value="5px"/>
					</style>
					<bind name="visible" value="_isFromTrainingRoomBtn &amp;&amp; _teamId != -1 &amp;&amp; isBotsEnabled"/>
					<block className="tab_bar_bg" type="native">
						<style>
							<position value="absolute"/>
							<width value="100%"/>
							<marginLeft value="1px"/>
							<marginRight value="1px"/>
							<height value="29px"/>
						</style>
					</block>
					<block className="tab_bar_item" type="native">
						<style>
							<width value="149px"/>
							<height value="29px"/>
						</style>
						<bind name="selected" value="tabInset == 0"/>
						<bind name="catch" value="'click'; {tabInset: 0}"/>
						<bind name="label" value="toUpperCase(tr('IDS_PLAYERS'))"/>
					</block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<marginTop value="2px"/>
							<width value="2px"/>
						</style>
					</block>
					<block className="tab_bar_item" type="native">
						<params>
							<param name="name" value="tabBarItem"/>
						</params>
						<style>
							<width value="149px"/>
							<height value="29px"/>
						</style>
						<bind name="selected" value="tabInset == 1"/>
						<bind name="catch" value="'click'; {tabInset: 1}"/>
						<bind name="label" value="toUpperCase(tr('IDS_BOT'))"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<bind name="child" value="infotipState; {_searchRequests: _searchRequests, _resultsDisplay: _resultsDisplay, 
			_playerContext: {type: playerContextType}, _isFromTrainingRoomBtn: _isFromTrainingRoomBtn, _teamId: _teamId}; 
			'FormationWidget'; 'SearchResultsList'; 'AddBotWidget'"/>
			</block>
			<block className="dock_panel_pin_h" type="native">
				<style>
					<position value="absolute"/>
					<width value="9px"/>
					<left value="13px"/>
					<height value="16px"/>
					<alpha value="0.6"/>
				</style>
				<bind name="gotoAndStop!" value="'left'"/>
				<params>
					<param name="name" value="pinLeft"/>
				</params>
			</block>
			<block className="dock_panel_pin_h" type="native">
				<style>
					<position value="absolute"/>
					<width value="9px"/>
					<right value="4px"/>
					<height value="16px"/>
					<alpha value="0.6"/>
				</style>
				<bind name="gotoAndStop!" value="'right'"/>
				<params>
					<param name="name" value="pinRight"/>
				</params>
			</block>
			<block className="dock_panel_pin" type="native">
				<bind name="gotoAndStop!" value="'up'"/>
				<params>
					<param name="name" value="pinTop"/>
				</params>
				<style>
					<position value="absolute"/>
					<alpha value="0.6"/>
				</style>
			</block>
			<block className="dock_panel_pin" type="native">
				<bind name="gotoAndStop!" value="'down'"/>
				<params>
					<param name="name" value="pinBottom"/>
				</params>
				<style>
					<bottom value="9"/>
					<alpha value="0.6"/>
					<position value="absolute"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="16"/>
				<height value="8px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="transition" value="(rollOver || resizing); 0.06; {alpha: 0}; {alpha: 1}; {alpha: 0}"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_VERTICAL_OVER'"/>
			<params>
				<param name="name" value="grip"/>
			</params>
			<block className="gripper_horizontal_over" type="native">
				<style>
					<alpha value="0.7"/>
					<marginTop value="1px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
			</block>
		</block>
	</block>
	<css name="$ResizableFormationWidgetInfotipBehaviour">
		<userData value="{
		appearDelay: 0.1,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -5.0,
		tinyOffset: 0,
		rightOffset: -8,
		bottomOffset: 0,
		isTipCenter: true,
		minResizeHeight: 400,
		maxResizeHeight: 660
	}"/>
	</css>
	<css name="$DivisionEntranceInfotipBehaviour">
		<userData value="{
		appearDelay: 0.1,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -5.0,
		tinyOffset: 0,
		rightOffset: -8,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<block className="DivisionEntranceInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="watchDH" value="'isBotsEnabled'; ['trainingRoomEntity.trainingRoom.evUpdate']; trainingRoomEntity.trainingRoom.isBotsEnabled"/>
		<styleClass value="$DivisionEntranceInfotipBehaviour"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="class" value="_isFromDockFormationBtn ? '$Fullsize' : '$DefaultFormationWidgetSize'"/>
		<bind name="var" value="{searchState: 0, tabInset: 0}"/>
		<bind name="watch" value="'infotipState'; tabInset == 0 ? searchState : 2"/>
		<bind name="catch" value="'Tooltip.selfClosed'; {searchState : 0}"/>
		<bind name="action" value="'Tooltip.selfOpened'; 'ClanProxy.getClanTeams'; {}"/>
		<bind name="request" value="'Tooltip.selfOpened'; 'updateSuitableShipsForBot'; {teamId:_teamId}"/>
		<bind name="catch" value="'changeSearchState'"/>
		<bind name="catch" value="'TextInputWithCancel.searchCancelled'; {searchState : 0}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="13px"/>
				<marginRight value="13px"/>
				<marginBottom value="18px"/>
				<marginTop value="9px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="dock_panel" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<marginLeft value="14px"/>
				<marginRight value="14px"/>
				<marginTop value="9px"/>
			</style>
			<bind name="style" value="'marginBottom'; _isFromDockFormationBtn ? '19px' : '19px'"/>
			<bind name="var" value="{_searchRequests: [['contacts', 13]],
					_resultsDisplay: ['myContacts', 'contacts', 'ignoredContacts']}"/>
			<bind name="watch" value="'playerContextType'; _isFromTrainingRoomBtn ? 'inviteToTrainingRoom': 'inviteToDivision'"/>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="5px"/>
					<marginBottom value="5px"/>
				</style>
				<bind name="visible" value="_isFromTrainingRoomBtn &amp;&amp; _teamId != -1 &amp;&amp; isBotsEnabled"/>
				<block className="tab_bar_bg" type="native">
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<marginLeft value="1px"/>
						<marginRight value="1px"/>
						<height value="29px"/>
					</style>
				</block>
				<block className="tab_bar_item" type="native">
					<style>
						<width value="149px"/>
						<height value="29px"/>
					</style>
					<bind name="selected" value="tabInset == 0"/>
					<bind name="catch" value="'click'; {tabInset: 0}"/>
					<bind name="label" value="toUpperCase(tr('IDS_PLAYERS'))"/>
				</block>
				<block className="divider_v" type="native">
					<style>
						<height value="25px"/>
						<marginTop value="2px"/>
						<width value="2px"/>
					</style>
				</block>
				<block className="tab_bar_item" type="native">
					<params>
						<param name="name" value="tabBarItem"/>
					</params>
					<style>
						<width value="149px"/>
						<height value="29px"/>
					</style>
					<bind name="selected" value="tabInset == 1"/>
					<bind name="catch" value="'click'; {tabInset: 1}"/>
					<bind name="label" value="toUpperCase(tr('IDS_BOT'))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<bind name="child" value="infotipState; {_searchRequests: _searchRequests, _resultsDisplay: _resultsDisplay, 
			_playerContext: {type: playerContextType}, _isFromTrainingRoomBtn: _isFromTrainingRoomBtn, _teamId: _teamId}; 
			'FormationWidget'; 'SearchResultsList'; 'AddBotWidget'"/>
		</block>
		<block className="dock_panel_pin_h" type="native">
			<style>
				<position value="absolute"/>
				<width value="9px"/>
				<left value="13px"/>
				<height value="16px"/>
				<alpha value="0.6"/>
			</style>
			<bind name="gotoAndStop!" value="'left'"/>
			<params>
				<param name="name" value="pinLeft"/>
			</params>
		</block>
		<block className="dock_panel_pin_h" type="native">
			<style>
				<position value="absolute"/>
				<width value="9px"/>
				<right value="4px"/>
				<height value="16px"/>
				<alpha value="0.6"/>
			</style>
			<bind name="gotoAndStop!" value="'right'"/>
			<params>
				<param name="name" value="pinRight"/>
			</params>
		</block>
		<block className="dock_panel_pin" type="native">
			<bind name="gotoAndStop!" value="'up'"/>
			<params>
				<param name="name" value="pinTop"/>
			</params>
			<style>
				<position value="absolute"/>
				<alpha value="0.6"/>
			</style>
		</block>
		<block className="dock_panel_pin" type="native">
			<bind name="gotoAndStop!" value="'down'"/>
			<params>
				<param name="name" value="pinBottom"/>
			</params>
			<style>
				<bottom value="9"/>
				<alpha value="0.6"/>
				<position value="absolute"/>
			</style>
		</block>
	</block>
	<block className="CountryContextMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<bind name="visible" value="optionData.contrast &amp;&amp; !(false)"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(false)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="false"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_countries; 'CountryMenuItem'; { _countries: _countries, _subtypes: _subtypes }"/>
		</block>
	</block>
	<block className="ShipTypeContextSubMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$RightSubMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<bind name="visible" value="optionData.contrast &amp;&amp; !(false)"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(false)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="false"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_subtypes; 'ShipTypeMenuItem'; { _country: _country }"/>
		</block>
	</block>
	<block className="ShipContextSubMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$RightSubMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<bind name="visible" value="optionData.contrast &amp;&amp; !(false)"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(false)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="false"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_suitableShips; 'ShipMenuItem'"/>
		</block>
	</block>
	<block className="CountryMenuItem">
		<bind name="name" value="'CountryMenuItem_' + $value"/>
		<styleClass value="$ContextMenuListItem"/>
		<bind name="collectionDH" value="CC.ship; 'suitableShipsRoot'; 'allShipsForBots.suitable'"/>
		<bind name="collectionDesign" value="DES_suitableShipsRoot; 'suitableShips'; {'filter': $entity.ship.country == $value}"/>
		<bind name="tooltip" value="'ShipTypeContextSubMenu'; (suitableShips.length &gt; 0) ? { _subtypes: _subtypes, _country: $value} : null; 13; null; 'shipTypeContextMenuVisible'"/>
		<bind name="tooltip" value="'SimpleWarningTooltip'; (suitableShips.length == 0) ? { _text: 'IDS_NO_SUITABLE_SHIPS' } : null; 0"/>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$Fullsize"/>
			<bind name="style" value="'alpha'; (suitableShips.length == 0) ? 0.4 : 1"/>
			<bind name="selected" value="shipTypeContextMenuVisible"/>
			<block>
				<style>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$ContextMenuListItemContent"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="text" value="tr(toUpperCase('IDS_' + $value))"/>
				</block>
				<block className="button_expand_h" type="native">
					<bind name="visible" value="(suitableShips.length &gt; 0)"/>
					<style>
						<position value="absolute"/>
						<right value="3px"/>
					</style>
					<styleClass value="$MouseDisable"/>
					<styleClass value="$MiddleVAligned"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipTypeMenuItem">
		<bind name="name" value="'ShipTypeMenuItem_' + $value"/>
		<styleClass value="$ContextMenuListItem"/>
		<bind name="collectionDH" value="CC.ship; 'suitableShipsRoot'; 'allShipsForBots.suitable'"/>
		<bind name="collectionDesign" value="DES_suitableShipsRoot; 'suitableShips';
        			{	'filter': ($entity.ship.subtype == $value) &amp;&amp; ($entity.ship.country == _country),
        				'sort':['ship.level'],
        				'sortOrder' : [0]
        			}"/>
		<bind name="tooltip" value="'ShipContextSubMenu'; (suitableShips.length &gt; 0) ? { _suitableShips: suitableShips, _country: _country } : null; 13; null; 'shipContextMenuVisible'"/>
		<bind name="tooltip" value="'SimpleWarningTooltip'; (suitableShips.length == 0) ? { _text: 'IDS_NO_SUITABLE_SHIPS' } : null; 0"/>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$Fullsize"/>
			<bind name="style" value="'alpha'; (suitableShips.length == 0) ? 0.4 : 1"/>
			<bind name="selected" value="shipContextMenuVisible"/>
			<block>
				<style>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$ContextMenuListItemContent"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="text" value="tr(toUpperCase('IDS_' + $value + 'S'))"/>
				</block>
				<block className="button_expand_h" type="native">
					<bind name="visible" value="(suitableShips.length &gt; 0)"/>
					<style>
						<position value="absolute"/>
						<right value="3px"/>
					</style>
					<styleClass value="$MouseDisable"/>
					<styleClass value="$MiddleVAligned"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipMenuItem">
		<styleClass value="$ContextMenuListItem"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="dispatch" value="'click'; 'evSelectBotShip'; {selectedShipId: $dataRef.ref.ship.id}"/>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$Fullsize"/>
			<block>
				<style>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$ContextMenuListItemContent"/>
				<block>
					<bind name="name" value="'ShipMenuItem_' + $dataRef.ref.ship.id"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'BotShipTitleWithIconAndLevel'; {_shipID: $dataRef.ref.ship.id, _small: true}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="BotShipTitleWithIconAndLevel">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<block>
			<style>
				<height value="27px"/>
			</style>
			<block>
				<bind name="visible" value="_hideTypeIcon != true"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="6px"/>
				</style>
				<block className="icon_ship" type="native">
					<styleClass value="$MouseDisable"/>
					<bind name="gotoAndStop!" value="shipInfo.subtype"/>
				</block>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<bind name="class" value="_small ? '$TextDefaultBold' : '$TextHeaderBold'"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="SelectedShipForBot">
		<params>
			<param name="name" value="SelectedShipForBot"/>
		</params>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="collectionDH" value="CC.ship; 'suitableShips'; 'allShipsForBots'"/>
		<bind name="collectionFields" value="suitableShips; ['ship.country', 'ship.subtype']; [Country.getOrderSortIndex, ShipTypes.getOrderSortIndex]"/>
		<style>
			<width value="100%"/>
			<height value="60px"/>
		</style>
		<block className="dock_submenu_item_bg" type="native">
			<styleClass value="$PxHorizontalCorrection"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="transition" value="(rollOver || countryContextMenuVisible); 0.15; {alpha: 0}; {alpha: 1.0}"/>
			<bind name="tooltip" value="'CountryContextMenu'; { _countries: suitableShips_ship_country, _subtypes: suitableShips_ship_subtype }; 3; null; 'countryContextMenuVisible'"/>
			<bind name="dispatch" value="'click'; 'Tooltip.Open'; {behaviour: TooltipBehaviour.contextMenu}"/>
		</block>
		<block>
			<bind name="visible" value="_enabled"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
			<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
			<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
			<block>
				<bind name="instance" value="'BotShipTitleWithIconAndLevel'; {_shipID: _shipID, _hideTypeIcon: true}"/>
			</block>
			<block>
				<style>
					<width value="122px"/>
					<height value="22px"/>
					<marginLeft value="12px"/>
					<marginTop value="-2px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathTinyIcon"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="!(_enabled)"/>
			<style>
				<width value="100%"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icon_warning_orange" type="native">
					<style>
						<marginTop value="5px"/>
						<marginRight value="2px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorUnready'"/>
					<style>
						<leading value="-3"/>
					</style>
					<bind name="text" value="toUpperCase(tr('IDS_NO_SUITABLE_SHIPS'))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="AddBotWidget">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="watchDH" value="'isBotsAIEnabled'; ['trainingRoomEntity.trainingRoom.evUpdate']; trainingRoomEntity.trainingRoom.isBotsAIEnabled"/>
		<styleClass value="$Fullsize"/>
		<bind name="collectionDH" value="CC.ship; 'shipsCollection'; 'allShipsForBots.suitable'"/>
		<bind name="var" value="{isActive: false,
				isArmed: false,
				_curItemIndex: 0,
				selectedShipId: shipsCollection[0].ship.id}"/>
		<bind name="var" value="{BOT_AI_LEVELS: [3, 6, 11]}"/>
		<bind name="watch" value="'hasAvailableShips'; shipsCollection.length &gt; 0"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPreBattleId'; ['selfPlayerEntity.preBattlePlayerSimple.evPreBattleIdChanged']; selfPlayerEntity.preBattlePlayerSimple.preBattleId"/>
		<bind name="collectionDH" value="CC.preBattlePlayerSimple; 'preBattlePlayers'; 'byPreBattleAndTeam.' + selfPreBattleId + '_' + _teamId + '.preBattleMembers'"/>
		<bind name="collectionDH" value="CC.preBattlePlayerSimple; 'preBattleInvitedPlayers'; 'byPreBattleAndTeam.' + selfPreBattleId + '_' + _teamId + '.invitedPlayers'"/>
		<bind name="watchDH" value="'trainingRoomTeamSize'; ['trainingRoomEntity.trainingRoom.evUpdate']; trainingRoomEntity.trainingRoom.teamSize"/>
		<bind name="watch" value="'curPlayersInFormation'; (preBattlePlayers.length + preBattleInvitedPlayers.length)"/>
		<bind name="watch" value="'hasFreePlacesInFormation'; (trainingRoomTeamSize - curPlayersInFormation) &gt; 0"/>
		<bind name="watch" value="'isBotAddEnabled'; hasAvailableShips &amp;&amp; hasFreePlacesInFormation"/>
		<block>
			<style>
				<width value="100%"/>
				<height value="8px"/>
				<marginTop value="-1px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="catch" value="'evSelectBotShip'"/>
			<bind name="dispatch" value="'evSelectBotShip'; 'Tooltip.Close'; {}; 1"/>
			<bind name="instance" value="'SelectedShipForBot'; {_shipID: selectedShipId, _enabled: hasAvailableShips}"/>
		</block>
		<block>
			<bind name="visible" value="isBotsAIEnabled"/>
			<style>
				<width value="100%"/>
				<paddingLeft value="10px"/>
				<paddingRight value="10px"/>
				<marginTop value="5px"/>
			</style>
			<bind name="style" value="'hitTest'; hasAvailableShips"/>
			<bind name="style" value="'alpha'; !hasAvailableShips ? 1 : 0.8"/>
			<bind name="style" value="'colorMatrixFilter'; hasAvailableShips ? '0 0 0 0' : '0 -100 0 -40'"/>
			<block>
				<block>
					<style>
						<width value="100%"/>
						<marginBottom value="8px"/>
						<marginTop value="8px"/>
					</style>
					<params>
						<param name="name" value="botActiveCb"/>
					</params>
					<bind name="catch" value="'click'; { isActive: !isActive }"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_BOT_ACTIVE_TOOLTIP'}"/>
					<bind name="instance" value="'CheckBox'; { switchProperty: isActive, label: 'IDS_BOT_ACTIVE' }"/>
				</block>
				<block>
					<params>
						<param name="name" value="botArmedCb"/>
					</params>
					<style>
						<width value="100%"/>
						<marginBottom value="4px"/>
					</style>
					<bind name="catch" value="'click'; { isArmed: !isArmed }"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_BOT_ARMED_TOOLTIP'}"/>
					<bind name="instance" value="'CheckBox'; { switchProperty: isArmed, label: 'IDS_BOT_ARMED' }"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="2px"/>
					<marginBottom value="8px"/>
				</style>
				<block type="text">
					<style>
						<alpha value="0.85"/>
						<marginRight value="4px"/>
						<marginTop value="8px"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<text value="IDS_AI_LEVEL"/>
				</block>
				<params>
					<param name="name" value="ItemChooserBotLevelAI"/>
				</params>
				<bind name="catch" value="'ItemChooser.aiLevelSelected'"/>
				<bind name="instance" value="'ItemChooser'; {_items: BOT_AI_LEVELS, curIndex: _curItemIndex, 
											_choosedItemRenderer: 'AILevelChoosedItemRenderer', _listItemRenderer: 'AILevelListItemRenderer',
											onItemSelectedEvent: 'aiLevelSelected'}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<params>
				<param name="name" value="addBotBtn"/>
			</params>
			<style>
				<marginTop value="5px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="tooltip" value="'SimpleWarningTooltip'; !(isBotAddEnabled) ? { _text: !(hasAvailableShips) 	? 'IDS_NO_SUITABLE_SHIPS'
																									: 'IDS_NO_FREE_PLACES_IN_FORMATION' } : null; 0"/>
			<bind name="instance" value="'DefaultButton'; { _enabled: isBotAddEnabled, _width: '150px', _label: toUpperCase(tr('IDS_ADD')), 
				_action: 'TrainingRoomProxy.addBot',
				_actionParams: { botAiLevel: BOT_AI_LEVELS[_curItemIndex], canMove: isActive, canShoot: isArmed, shipId: selectedShipId, teamId: _teamId} }"/>
		</block>
	</block>
	<block className="FormationWidget">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerDivisionEntrance"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInDivision'; 'playersInDivision'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'playersInvitedToDivision'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="action" value="(userPrefs.commentWantTo_division == null) ? 'addedToStage' : ''; 'setUserPref' ; {value : '', name : 'commentWantTo_division'}"/>
		<bind name="var" value="{commentWantTo_division: (userPrefs.commentWantTo_division == null) ? '' : userPrefs.commentWantTo_division}"/>
		<bind name="catch" value="'evCommentChanged_division'"/>
		<bind name="changeDispatch" value="commentWantTo_division; 'evCommentChanged_division' + 'InPrefs'"/>
		<bind name="action" value="'evCommentChanged_division' + 'InPrefs'; 'setUserPref' ; {value : commentWantTo_division, name : 'commentWantTo_division'}"/>
		<bind name="action" value="(userPrefs.commentWantTo_party == null) ? 'addedToStage' : ''; 'setUserPref' ; {value : '', name : 'commentWantTo_party'}"/>
		<bind name="var" value="{commentWantTo_party: (userPrefs.commentWantTo_party == null) ? '' : userPrefs.commentWantTo_party}"/>
		<bind name="catch" value="'evCommentChanged_party'"/>
		<bind name="changeDispatch" value="commentWantTo_party; 'evCommentChanged_party' + 'InPrefs'"/>
		<bind name="action" value="'evCommentChanged_party' + 'InPrefs'; 'setUserPref' ; {value : commentWantTo_party, name : 'commentWantTo_party'}"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
		<bind name="watch" value="'commentWantToFormationSync'; divisionEntranceData.divisionType == 'division' ? commentWantTo_division : commentWantTo_party"/>
		<bind name="changeDispatch" value="commentWantToFormationSync; divisionEntranceData.divisionType == 'division' ? 'evDivisionCommentChanged' : 'evPartyCommentChanged'"/>
		<bind name="catch" value="'evDivisionCommentChanged'; {commentWantTo_division: commentWantToFormationSync}"/>
		<bind name="catch" value="'evPartyCommentChanged'; {commentWantTo_party: commentWantToFormationSync}"/>
		<styleClass value="$Fullsize"/>
		<block>
			<bind name="visible" value="!(divisionData.divisionExist) &amp;&amp; !_isFromTrainingRoomBtn"/>
			<style>
				<width value="100%"/>
				<height value="34px"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<bind name="name" value="'wantToDivision'"/>
				<styleClass value="$Fullsize"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: divisionEntranceData.seekerStatus ? tr('IDS_NOT_VISIBLE_FOR_OTHER_PLAYERS_' + toUpperCase(divisionEntranceData.divisionType))
																							: tr('IDS_VISIBLE_FOR_OTHER_PLAYERS_'+ toUpperCase(divisionEntranceData.divisionType))}"/>
				<bind name="action" value="'buttonClick'; 'toggleDivisionSeekerStatus'; {comment: commentWantToFormationSync, status: divisionEntranceData.seekerStatus}"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
			</block>
			<block className="button_close" type="native">
				<bind name="name" value="'closeSeekDivision'"/>
				<bind name="visible" value="divisionEntranceData.seekerStatus"/>
				<style>
					<position value="absolute"/>
					<hitTest value="false"/>
					<right value="10px"/>
					<top value="11px"/>
				</style>
				<bind name="transition" value="rollOver; 0.15; {alpha: 0.8}; {alpha: 1}"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: divisionEntranceData.seekerStatus ? tr('IDS_NOT_VISIBLE_FOR_OTHER_PLAYERS_' + toUpperCase(divisionEntranceData.divisionType))
																							: tr('IDS_VISIBLE_FOR_OTHER_PLAYERS_'+ toUpperCase(divisionEntranceData.divisionType))}"/>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<hitTest value="false"/>
					<position value="absolute"/>
					<marginTop value="5px"/>
				</style>
				<block className="icon_formation_wanted" type="native">
					<bind name="gotoAndStop!" value="divisionEntranceData.seekerStatus ? ('on_'+divisionEntranceData.divisionType) : 'off'"/>
					<style>
						<marginTop value="2px"/>
						<marginRight value="2px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="divisionEntranceData.seekerStatus ? (divisionEntranceData.divisionType == 'party' ? '$FontColorParty' : '$FontColorTurquoise') : '$FontColorWhite'"/>
					<bind name="text" value="('IDS_WANT_IN_' + toUpperCase(divisionEntranceData.divisionType))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="transition" value="divisionEntranceData.seekerStatus; 0.15; {scaleY: 0, ubScaleY: 0, alpha: 0}; {scaleY: 1, ubScaleY: 1, alpha: 1}; {scaleY: 0, ubScaleY: 0, alpha: 0}; 2; 0.1"/>
			<style>
				<width value="100%"/>
				<height value="8px"/>
				<marginTop value="-1px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<bind name="var" value="{testBanned: false}"/>
		<block>
			<bind name="style" value="'hitTest'; (divisionEntranceData.banned || testBanned) ? false : true"/>
			<style>
				<width value="100%"/>
				<marginLeft value="6px"/>
				<marginRight value="6px"/>
			</style>
			<bind name="transition" value="divisionEntranceData.seekerStatus; 0.15; {scaleY: 0, ubScaleY: 0, alpha: 0}; {scaleY: 1, ubScaleY: 1, alpha: 1}; {scaleY: 0, ubScaleY: 0, alpha: 0}; 2; 0.1"/>
			<block type="text">
				<style>
					<minHeight value="46"/>
					<width value="100%"/>
					<marginLeft value="5px"/>
					<marginRight value="5px"/>
					<fontSize value="16"/>
					<leading value="2"/>
					<alpha value="0"/>
				</style>
				<styleClass value="$FontFamilyDefault"/>
				<bind name="text" value="commentWantToFormationSync"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<height value="34px"/>
				</style>
			</block>
			<block className="text_area_caps_enter" type="native">
				<bind name="style" value="'alpha'; (divisionEntranceData.banned || testBanned ? 0.35 : 1)"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="watch" value="'maxChars'; divisionEntranceData.commentMaxChars"/>
				<params>
					<param name="actAsButton" value="true"/>
					<param name="maxChars" value="300"/>
				</params>
				<bind name="defaultText" value="tr('IDS_ENTER_STATUS')"/>
				<bind name="focus" value="0; false"/>
				<bind name="focusable" value="(divisionEntranceData.banned || testBanned) ? false : true"/>
				<bind name="sync" value="'text'; 'change'; commentWantToFormationSync; commentWantToDivisionChanged"/>
				<bind name="action" value="'textInputEnter'; 'updateSeekerComment'; {comment: commentWantToFormationSync}"/>
				<innerBind elementName="hotKeyEnter" name="alpha" value="((maxChars-commentWantToFormationSync.length) &lt; 0) 														? 0.4 :
											(divisionEntranceData.commentStatus == 'submitted') &amp;&amp; (commentWantToFormationSync.length &lt;= maxChars)	? 0
																																					: 1"/>
				<block>
					<styleClass value="$TextAreaEnterButton"/>
					<bind name="tooltip" value="'SimpleWarningTooltip'; (commentWantToFormationSync.length &gt; maxChars) ? {_text: 'IDS_MAX_STATUS_LENGTH'} : null"/>
					<bind name="tooltip" value="'SimpleTooltip'; (commentWantToFormationSync.length &lt;= maxChars) ? {tooltipText: 'IDS_HINT_ADD_SEEKER_STATUS'} : null"/>
					<block className="button_dock" type="native">
						<styleClass value="$FullsizeAbsolute"/>
						<bind name="style" value="'hitTest'; (divisionEntranceData.commentStatus == 'submitted') &amp;&amp; (commentWantToFormationSync.length &lt;= maxChars) ? false : true"/>
						<bind name="enabled" value="((commentWantToFormationSync.length &lt;= maxChars) &amp;&amp; (divisionEntranceData.commentStatus != 'submitted'))"/>
						<bind name="action" value="'buttonClick'; 'updateSeekerComment'; {comment: commentWantToFormationSync}"/>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="3"/>
						<right value="56"/>
					</style>
					<bind name="fade" value="(divisionEntranceData.banned || (divisionEntranceData.commentStatus != 'submitted')); 0.1;
							{top: 10, alpha: 0}; {top: 0, alpha: 1}; {top: 10, alpha: 0}"/>
					<bind name="instance" value="'CharCounter'; { _string: commentWantToFormationSync, _maxChars: maxChars}"/>
				</block>
				<block type="text">
					<bind name="fade" value="!(divisionEntranceData.banned) &amp;&amp; (divisionEntranceData.commentStatus == 'submitted') &amp;&amp; (commentWantToFormationSync.length &lt;= maxChars) &amp;&amp; (commentWantToFormationSync.length &gt; 0); 0.1;
							{top: 10, alpha: 0}; {top: 0, alpha: 0.8}; {top: 10, alpha: 0}"/>
					<style>
						<position value="absolute"/>
						<bottom value="3px"/>
						<left value="4px"/>
						<fontSize value="14"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="toUpperCase(tr('IDS_STATUS_SAVED'))"/>
				</block>
				<block type="text">
					<bind name="fade" value="!(divisionEntranceData.banned) &amp;&amp; (divisionEntranceData.commentStatus == 'submitted') &amp;&amp; (commentWantToFormationSync.length == null); 0.1;
							{top: 10, alpha: 0}; {top: 0, alpha: 0.8}; {top: 10, alpha: 0}"/>
					<style>
						<position value="absolute"/>
						<bottom value="3px"/>
						<left value="4px"/>
						<fontSize value="14"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="toUpperCase(tr('IDS_STATUS_CLEARED'))"/>
				</block>
				<block type="text">
					<bind name="fade" value="!(divisionEntranceData.banned) &amp;&amp; (divisionEntranceData.commentStatus == 'declined') &amp;&amp; (commentWantToFormationSync.length &gt; maxChars); 0.1;
							{top: 10, alpha: 0}; {top: 0, alpha: 1};  {top: 10, alpha: 0}"/>
					<style>
						<position value="absolute"/>
						<bottom value="3px"/>
						<left value="4px"/>
						<fontSize value="14"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorUnready'"/>
					<bind name="text" value="toUpperCase(tr('IDS_MAX_STATUS_LENGTH'))"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="divisionEntranceData.banned || testBanned"/>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="inner_panel" type="native">
					<styleClass value="$Fullsize"/>
				</block>
				<block type="text">
					<style>
						<width value="100%"/>
						<marginRight value="20px"/>
						<marginLeft value="20px"/>
						<position value="absolute"/>
						<textAlign value="center"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBold"/>
					<bind name="class" value="'$FontColorUnready'"/>
					<bind name="text" value="toUpperCase(tr('IDS_MESSAGES_BANNED'))"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="transition" value="divisionEntranceData.seekerStatus; 0.15; {scaleY: 0, ubScaleY: 0, alpha: 0}; {scaleY: 1, ubScaleY: 1, alpha: 1}; {scaleY: 0, ubScaleY: 0, alpha: 0}; 2; 0.1"/>
			<style>
				<width value="100%"/>
				<height value="6px"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="!(divisionData.divisionExist)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<bind name="dataRefDH" value="'chat'; 'dataHub.chat.ref.chat'"/>
		<bind name="watchDH" value="'isChatServerAvailable'; ['chat.evConnected', 'chat.evDisConnected']; chat.isConnected"/>
		<block>
			<bind name="visible" value="isChatServerAvailable"/>
			<styleClass value="$Fullsize"/>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$DefaultScrollBar"/>
				<style>
					<height value="100%f"/>
					<width value="100%"/>
					<overflow value="scroll"/>
				</style>
				<bind name="style" value="'marginBottom'; !(divisionData.divisionExist) ? '0px' : '40px'"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ClanBattleDivisionsList'; (selfPlayerEntity.clanman != null) &amp;&amp; !(_isFromTrainingRoomBtn) ? {} : null"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'AllContactsGroup'; {_playerContext: _playerContext, _teamId: _teamId}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'FormationSeekersGroup'; _isFromTrainingRoomBtn ? null : {_playerContextType: _playerContext.type}"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="isChatServerAvailable"/>
			<style>
				<width value="100%"/>
				<height value="42px"/>
			</style>
			<block>
				<style>
					<marginTop value="-2px"/>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block className="button_search" type="native">
				<bind name="name" value="'searchPlayersDivision'"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<right value="8px"/>
				</style>
				<bind name="enabled" value="!$parent.seekersListUpdateInProgress"/>
				<bind name="dispatch" value="'buttonClick';'changeSearchState'; {searchState: 1}"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SEARCH_PLAYERS'}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(isChatServerAvailable)"/>
			<style>
				<marginTop value="60px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'ServerIsUnavailable'; !(isChatServerAvailable))	? {} : null"/>
		</block>
	</block>
	<block className="AllContactsGroup">
		<bind name="dataRefDH" value="'contactsGroups'; 'dataHub.chat.ref.chat.contactsGroups.ref.items'"/>
		<bind name="entityDH" value="'group'; contactsGroups[0].id"/>
		<bind name="dataRefDH" value="'contacts'; 'group.groupOfElements.elements.ref.items'"/>
		<bind name="watchDH" value="'countTotal'; ['group.contactsGroup.evCountTotalChanged']; group.contactsGroup.countTotal"/>
		<bind name="watchDH" value="'countOnline'; ['group.contactsGroup.evCountOnlineChanged']; group.contactsGroup.countOnline"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<style>
				<width value="100%"/>
				<height value="33px"/>
			</style>
			<bind name="var" value="{groupExpanded: true}"/>
			<bind name="catch" value="'expandAllContactsGroup'"/>
			<block>
				<style>
					<width value="100%"/>
					<height value="33px"/>
				</style>
				<bind name="instance" value="'SimpleListGroupHeader'; {	_expandGroupEvent: 'expandAllContactsGroup', _groupLabel: 'IDS_MY_CONTACTS',
														_groupExpanded: groupExpanded, _stateOver: rollOver}"/>
			</block>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr('IDS_ONLINE_PLAYERS') + ' / ' + tr('IDS_PLAYERS_IN_GROUP')}"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<right value="9px"/>
					<position value="absolute"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="style" value="'alpha'; (countOnline!=0) ? 1 : 0.5"/>
					<bind name="text" value="countOnline"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<style>
						<alpha value="0.5"/>
					</style>
					<bind name="text" value="'/ ' + countTotal"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<marginBottom value="1px"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="2px"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="fade" value="groupExpanded; 0.15; {scaleY: 0, ubScaleY: 0, alpha: 0}; {scaleY: 1, ubScaleY: 1, alpha: 1}; {scaleY: 0, ubScaleY: 0, alpha: 0}; 2; 0"/>
					<bind name="repeat" value="contacts; 'ContactElement'; {	groupExpanded : groupExpanded, _playerContext: _playerContext, _teamId: _teamId}"/>
				</block>
				<block>
					<bind name="visible" value="(groupExpanded &amp;&amp; contacts.length != 0)"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<bottom value="-2px"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="fade" value="(groupExpanded &amp;&amp; contacts.length == 0); 0.15; {alpha: 0, height: 0}; {alpha: 1, height: 30}"/>
				<style>
					<height value="30px"/>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="instance" value="'EmptyStatusParagraph'; {_text: 'IDS_NO_CONTACTS_IN_GROUP'}"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<bottom value="0px"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="FormationSeekersGroup">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerDivisionEntrance"/>
		<bind name="event" value="'addedToStage'; requestUpdateSeekersList"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<style>
				<width value="100%"/>
				<height value="33px"/>
			</style>
			<bind name="var" value="{groupExpanded: true}"/>
			<bind name="catch" value="'expandFormationSeekersGroup'"/>
			<block>
				<style>
					<width value="100%"/>
					<height value="33px"/>
				</style>
				<bind name="instance" value="'SimpleListGroupHeader'; {	_expandGroupEvent: 'expandFormationSeekersGroup', _groupLabel: ('IDS_LOOKING_FOR_' + toUpperCase(divisionEntranceData.divisionType)),
														_groupExpanded: groupExpanded, _stateOver: rollOver}"/>
			</block>
			<block>
				<style>
					<right value="9px"/>
					<top value="8px"/>
					<position value="absolute"/>
				</style>
				<bind name="name" value="'UpdateSeekersList'"/>
				<block className="button_update" type="native">
					<bind name="enabled" value="!($parent.seekersListUpdateInProgress)"/>
					<bind name="event" value="'buttonClick'; requestUpdateSeekersList"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_UPDATE_FORMATION_SEEKERS_LIST'}"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<marginBottom value="1px"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="2px"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="fade" value="groupExpanded; 0.15; {scaleY: 0, ubScaleY: 0, alpha: 0}; {scaleY: 1, ubScaleY: 1, alpha: 1}; {scaleY: 0, ubScaleY: 0, alpha: 0}; 2; 0"/>
					<bind name="repeat" value="divisionEntranceData.seekersList; 'FormationSeekerPlayer'; {groupExpanded: groupExpanded, _playerContextType: _playerContextType}"/>
				</block>
				<block>
					<bind name="visible" value="(groupExpanded &amp;&amp; divisionEntranceData.seekersList.length != 0)"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<bottom value="0px"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="fade" value="(groupExpanded &amp;&amp; divisionEntranceData.seekersList.length == 0); 0.15; {alpha: 0, height: 0}; {alpha: 1, height: 60}"/>
				<style>
					<height value="60px"/>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'EmptyStatusParagraph'; {_text: ('IDS_INSTRUCTION_NO_PLAYERS_WANTED_IN_' + toUpperCase(divisionEntranceData.divisionType))}"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<bottom value="0px"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="FormationSeekerPlayer">
		<style>
			<width value="100%"/>
			<height value="30px"/>
		</style>
		<bind name="fade" value="groupExpanded; 0.15; {alpha: 0, height: 0}; {alpha: 1, height: 30}"/>
		<block>
			<styleClass value="$Fullsize"/>
		</block>
		<bind name="instance" value="'PlayerContactItemWithRollover'; {_entityAccountId: accountId, _playerContext: {type: _playerContextType, seekerComment: comment, isFormationSeeker: true}}"/>
	</block>
	<block className="ClanBattleDivisionsList">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<style>
				<width value="100%"/>
				<height value="33px"/>
			</style>
			<bind name="var" value="{groupExpanded: true}"/>
			<bind name="catch" value="'expandMyClanBattleDivisionListGroup'"/>
			<bind name="instance" value="'SimpleListGroupHeader'; {	_expandGroupEvent: 'expandMyClanBattleDivisionListGroup', _groupLabel: 'IDS_MY_CLAN_BATTLES',
													_groupExpanded: groupExpanded, _stateOver: rollOver}"/>
		</block>
		<block>
			<style>
				<right value="9px"/>
				<top value="8px"/>
				<position value="absolute"/>
			</style>
			<block className="button_update" type="native">
				<bind name="action" value="'buttonClick'; 'ClanProxy.getClanTeams'; {}"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_UPDATE_CLAN_DIVISIONS_LIST'}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<top value="-1px"/>
					<width value="100%"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<bind name="fade" value="groupExpanded; 0.15; {scaleY: 0, ubScaleY: 0, alpha: 0}; {scaleY: 1, ubScaleY: 1, alpha: 1}; {scaleY: 0, ubScaleY: 0, alpha: 0}; 2; 0"/>
			<bind name="collectionDH" value="CC.clanTeam; 'clanBattleDivisionGroups'"/>
			<bind name="collectionDesign" value="DES_clanBattleDivisionGroups; 'availableClanTeams'; {	'sort': ['clanTeam.isClanBattleType','clanTeam.isInBattle','clanTeam.isLocked'],
																						'sortOrder':[SortType.DESCENDING, 0, 0]
																					}; ['clanTeam.evBattleTypeChanged', 'clanTeam.evIsInBattleChanged', 'clanTeam.evIsLockedChanged']"/>
			<bind name="collectionDH" value="CC.clanSquadLadderInfo; 'squadsCollection'"/>
			<bind name="watchDH" value="'hasClanSquadModifier'; ['selfPlayerEntity.clanmanSupplyInfo.evHasClanSquadModifierChanged']; selfPlayerEntity.clanmanSupplyInfo.hasClanSquadModifier"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="availableClanTeams; 'ClanBattleDivisionsItem'; {groupExpanded: groupExpanded}"/>
			</block>
			<block>
				<bind name="visible" value="(availableClanTeams.length == 0)"/>
				<style>
					<marginTop value="14px"/>
					<marginBottom value="14px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'EmptyStatusParagraph'; {_text: 'IDS_INSTRUCTION_YOU_HAVE_NO_CLAN_BATTLES', _maxWidth: 290}"/>
			</block>
		</block>
	</block>
	<block className="ClanBattleDivisionsItem">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="entityDH" value="'clanTeamEntity'; id"/>
		<bind name="watchDH" value="'clanTeamIndex'; ['clanTeamEntity.clanTeam.evTeamIndexChanged']; clanTeamEntity.clanTeam.teamIndex"/>
		<bind name="watchDH" value="'playersCount'; ['clanTeamEntity.clanTeam.evPlayersCountChanged']; clanTeamEntity.clanTeam.playersCount"/>
		<bind name="watchDH" value="'playersLimit'; ['clanTeamEntity.clanTeam.evPlayersLimitChanged']; clanTeamEntity.clanTeam.playersLimit"/>
		<bind name="watchDH" value="'battleType'; ['clanTeamEntity.clanTeam.evBattleTypeChanged']; clanTeamEntity.clanTeam.battleType"/>
		<bind name="watchDH" value="'isInBattle'; ['clanTeamEntity.clanTeam.evIsInBattleChanged']; clanTeamEntity.clanTeam.isInBattle"/>
		<bind name="watchDH" value="'ownerName'; ['clanTeamEntity.clanTeam.evOwnerNameChanged']; clanTeamEntity.clanTeam.ownerName"/>
		<bind name="watchDH" value="'isLocked'; ['clanTeamEntity.clanTeam.evIsLockedChanged']; clanTeamEntity.clanTeam.isLocked"/>
		<bind name="watchDH" value="'hasNonClanMembers'; ['clanTeamEntity.clanTeam.evHasNonClanMembersChanged']; clanTeamEntity.clanTeam.hasNonClanMembers"/>
		<bind name="watchDH" value="'squadId'; ['clanTeamEntity.clanTeam.evSquadIdChanged']; clanTeamEntity.clanTeam.squadId"/>
		<bind name="watchDH" value="'isClanBattleType'; ['clanTeamEntity.clanTeam.evIsClanBattleTypeChanged']; clanTeamEntity.clanTeam.isClanBattleType"/>
		<bind name="watch" value="'isDivisionFull'; playersCount == playersLimit"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'myDivisionId'; ['selfPlayerEntity.preBattlePlayerSimple.evPreBattleIdChanged']; selfPlayerEntity.preBattlePlayerSimple.preBattleId"/>
		<bind name="watchDH" value="'clanTeamId'; []; clanTeamEntity.clanTeam.id"/>
		<bind name="watch" value="'isInDivision'; (selfPlayerEntity.preBattlePlayerSimple) &amp;&amp; !(selfPlayerEntity.playerInvitedToPrebattleInfo)"/>
		<bind name="watch" value="'isOtherDivision'; !(isInDivision &amp;&amp; (myDivisionId == clanTeamId))"/>
		<bind name="watch" value="'isOwnerSelfPlayer'; selfPlayerEntity.accountName.name == ownerName"/>
		<bind name="watchDH" value="'hasClanSquadModifier'; ['selfPlayerEntity.clanmanSupplyInfo.evHasClanSquadModifierChanged']; selfPlayerEntity.clanmanSupplyInfo.hasClanSquadModifier"/>
		<bind name="watch" value="'iconType'; isOtherDivision ? 'player_ready_division_other_division' : 'player_ready_division'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="action" value="'click'; (!isLocked &amp;&amp; !isInBattle &amp;&amp; !isInDivision) ? 'DockProxy.joinToPreBattle' : null; {preBattleId: clanTeamId, shipId: 0}"/>
		<style>
			<width value="100%"/>
			<height value="1px"/>
		</style>
		<bind name="fade" value="((groupExpanded != null) ? groupExpanded : true); 0.15; {alpha: 0, height: 0}; {alpha: 1, height: 50}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="tooltip" value="'ClanBattleDivisionsTooltip'; {	_clanTeamIndex						: clanTeamIndex,
														_clanTeamId							: clanTeamId,
														_squadId							: squadId,
														_hasClanSquadModifier				: hasClanSquadModifier,
														iconType							: iconType,
														isOtherDivision						: isOtherDivision,
														isLocked							: isLocked,
														hasNonClanMembers					: hasNonClanMembers,
														isInBattle							: isInBattle,
														isInDivision						: isInDivision,
														isDivisionFull						: isDivisionFull}"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<marginLeft value="8px"/>
				<marginRight value="16px"/>
				<hitTest value="false"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="style" value="'colorMatrixFilter'; isLocked ? '0 -100 0 -40' : '0 0 0 0' "/>
				<block className="icon_battletypes_small" type="native">
					<bind name="gotoAndStop!" value="battleType"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="8px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<bind name="class" value="isOwnerSelfPlayer ? '$Bold' : '$None'"/>
					<bind name="class" value="isOtherDivision ? '$FontColorWhite' : '$FontColorGolden'"/>
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="ownerName"/>
				</block>
			</block>
			<block>
				<style>
					<height value="100%"/>
				</style>
				<block>
					<bind name="visible" value="isClanBattleType &amp;&amp; hasClanSquadModifier"/>
					<style>
						<marginLeft value="8px"/>
						<marginRight value="4px"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<styleClass value="$TextDefaultNM"/>
						<bind name="class" value="isOtherDivision ? '$FontColorGrey' : '$FontColorGolden'"/>
						<bind name="text" value="tr('IDS_CLAN_SQUAD_' + squadId)"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="(hasNonClanMembers &amp;&amp; !isLocked) || ((hasNonClanMembers || isInDivision || isDivisionFull) &amp;&amp; !isLocked &amp;&amp; isOtherDivision)"/>
					<style>
						<marginRight value="4px"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block className="icon_warning_orange" type="native"/>
				</block>
				<block>
					<style>
						<marginRight value="4px"/>
					</style>
					<bind name="visible" value="isInBattle"/>
					<styleClass value="$MiddleVAligned"/>
					<block className="icon_player_status" type="native">
						<bind name="gotoAndStop!" value="'in_battle'"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="isLocked"/>
					<styleClass value="$MiddleVAligned"/>
					<block className="button_lock" type="native">
						<bind name="selected" value="true"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="!isLocked"/>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<style>
							<marginRight value="4px"/>
							<height value="16px"/>
						</style>
						<styleClass value="$MiddleVAligned"/>
						<bind name="instance" value="'DivisionIconWithIndex'; {_divisionIndex: clanTeamIndex, _iconType: iconType}"/>
					</block>
					<bind name="watch" value="'colorClass'; 	isDivisionFull 	? '$FontColorAlmostBlack' 
															: isOtherDivision 	? '$FontColorWhite' 
																				: '$FontColorGolden'"/>
					<bind name="watch" value="'shadowClass'; isDivisionFull ? '$FontDropShadowWhite' : '$None'"/>
					<block type="text">
						<bind name="class" value="colorClass"/>
						<bind name="class" value="shadowClass"/>
						<styleClass value="$TextDefaultBold19NM"/>
						<bind name="text" value="playersCount"/>
					</block>
					<block type="text">
						<style>
							<marginTop value="1px"/>
							<marginLeft value="4px"/>
						</style>
						<bind name="style" value="'alpha'; isDivisionFull ? 1 : 0.65"/>
						<bind name="class" value="colorClass"/>
						<bind name="class" value="shadowClass"/>
						<styleClass value="$TextDefault17NM"/>
						<bind name="text" value="'/ ' + playersLimit"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<bottom value="0px"/>
				<marginLeft value="-1px"/>
				<marginRight value="-1px"/>
				<position value="absolute"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ClanBattleDivisionsTooltip">
		<bind name="watch" value="'byPreBattlePlayersCollectionPath'; 'byPreBattle.' + _clanTeamId"/>
		<bind name="collectionDH" value="CC.preBattlePlayerSimple; 'clanPlayersCollection'; byPreBattlePlayersCollectionPath"/>
		<bind name="action" value="'Tooltip.selfOpened'; 'DockProxy.getPreBattleInfo'; { preBattleId: _clanTeamId } "/>
		<style>
			<width value="300px"/>
		</style>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {}"/>
		</block>
		<block>
			<style>
				<height value="36px"/>
				<marginLeft value="12px"/>
			</style>
			<block>
				<style>
					<marginRight value="8px"/>
					<marginTop value="10px"/>
				</style>
				<bind name="instance" value="'DivisionIconWithIndex'; {_divisionIndex: _clanTeamIndex, _iconType: iconType}"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<bind name="class" value="isOtherDivision ? '$FontColorWhite' : '$FontColorGolden'"/>
					<styleClass value="$TextDefaultBold21NM"/>
					<bind name="text" value="isInBattle ? 'IDS_IN_BATTLE' : tr('IDS_DIVISION') + (_hasClanSquadModifier ? '. ' + tr('IDS_CLAN_SQUAD_' + _squadId) : '')"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="8px"/>
				<marginBottom value="8px"/>
			</style>
			<bind name="collectionRepeatDH" value="CC.preBattlePlayerSimple; 'ClanBattleDivisionsTooltipPlayerSlot'; byPreBattlePlayersCollectionPath; {isOtherDivision: isOtherDivision}"/>
		</block>
		<block>
			<bind name="visible" value="!(!isOtherDivision &amp;&amp; !hasNonClanMembers)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="12px"/>
					<marginBottom value="8px"/>
					<marginLeft value="12px"/>
				</style>
				<bind name="repeat" value="	!isOtherDivision &amp;&amp; !hasNonClanMembers	? null :
							!isOtherDivision &amp;&amp; hasNonClanMembers	? [ {_type: 'warning', _instructionText: 'IDS_STRANGERS_IN_THE_CLAN_DIVISION'} ] :
							isOtherDivision &amp;&amp; hasNonClanMembers	? [ {_type: 'warning', _instructionText: 'IDS_STRANGERS_IN_THE_CLAN_DIVISION'}, {_type: 'left', _instructionText: 'IDS_JOIN_DYNAMIC_DIVISION_MOUSE_HINT'} ] :
							isInDivision							? [ {_type: 'warning', _instructionText: 'IDS_YOU_ARE_IN_DIVISION_ALREADY'} ] :
							isLocked								? [ {_type: 'warning', _instructionText: 'IDS_CLAN_DIVISION_IS_PRIVATE'} ] :
							isDivisionFull							? [ {_type: 'warning', _instructionText: 'IDS_CLAN_DIVISION_IS_FULL'} ] :
							isInBattle								? [ {_type: 'warning', _instructionText: 'IDS_CLAN_DIVISION_IN_BATTLE'} ]
																	: [ {_type: 'left', _instructionText: 'IDS_JOIN_DYNAMIC_DIVISION_MOUSE_HINT'} ]; 'MouseInstructionRepeater'; {_maxWidth: 260, _lastIndex: 1}"/>
			</block>
		</block>
	</block>
	<block className="DivisionIconWithIndex">
		<style>
			<width value="14px"/>
			<height value="18px"/>
			<align value="center|middle"/>
		</style>
		<block className="formation_player_status" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<bind name="gotoAndStop!" value="_iconType"/>
		</block>
		<block type="text">
			<styleClass value="$BlackLabel"/>
			<style>
				<fontSize value="10"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="text" value="_divisionIndex"/>
		</block>
	</block>
	<block className="ClanBattleDivisionsTooltipPlayerSlot">
		<bind name="dataRefDH" value="'playerEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'nickName'; ['playerEntity.accountName.evChanged']; playerEntity.accountName.nickName"/>
		<bind name="watchDH" value="'shipId'; ['playerEntity.preBattlePlayerSimple.evShipIdChanged']; playerEntity.preBattlePlayerSimple.shipId"/>
		<bind name="watchDH" value="'isReady'; ['playerEntity.preBattlePlayerSimple.evStateChanged']; playerEntity.preBattlePlayerSimple.isReady"/>
		<bind name="watchDH" value="'isSelf'; []; playerEntity.accountSimple.isSelfPlayer"/>
		<style>
			<width value="100%"/>
			<height value="26px"/>
			<marginLeft value="12px"/>
			<marginRight value="12px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'ClanDHFormationPlayerIcon'; {_entityAccountId: playerEntity.id, _isOtherDivision: isOtherDivision}"/>
		</block>
		<block>
			<style>
				<width value="47%"/>
				<marginLeft value="8px"/>
				<marginRight value="8px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<style>
					<width value="100%"/>
					<multiline value="false"/>
				</style>
				<bind name="class" value="isSelf ? '$Bold' : '$None'"/>
				<bind name="class" value="isSelf || !(isOtherDivision) ? '$FontColorGolden' : '$FontColorWhite'"/>
				<styleClass value="$TextDefaultNM"/>
				<bind name="text" value="nickName"/>
			</block>
		</block>
		<block>
			<style>
				<marginLeft value="8px"/>
				<width value="53%"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'PreBattlePlayerShip'; (isReady || isInBattle) ? {_shipId: shipId} : null"/>
		</block>
	</block>
	<block className="ClanDHFormationPlayerIcon">
		<bind name="entityDH" value="'entityAccount'; _entityAccountId ? _entityAccountId : $dataRef.ref.id"/>
		<bind name="watchDH" value="'isReady'; ['entityAccount.preBattlePlayerSimple.evStateChanged']; entityAccount.preBattlePlayerSimple.isReady"/>
		<bind name="watchDH" value="'isCommander'; ['entityAccount.preBattlePlayerSimple.evIsCommanderChanged']; entityAccount.preBattlePlayerSimple.isCommander"/>
		<bind name="instance" value="'FormationPlayerIcon'; {isCommander: isCommander, isReady: isReady, isInBattle: isInBattle, _formationType: 'division', isOtherDivision: _isOtherDivision}"/>
	</block>
	<block className="ButtonDivisionTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<style>
			<width value="260"/>
		</style>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<bind name="visible" value="_isFormationsEnabled"/>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<style>
					<maxWidth value="240"/>
				</style>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="text" value="'IDS_HINT_CREATE_DIVISION'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(_isFormationsEnabled)"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'StatusLineWithIcon'; { _text:	(_battleType == BattleTypes.RANKED_BATTLE) &amp;&amp; (rankedBattlesSeason.isDivisionAllowed != true)	? 'IDS_DIVISIONS_ARE_NOT_ALLOWED_IN_RANK_BATTLES' :
														(_battleType == BattleTypes.INTRO_MISSION)		? 'IDS_DIVISIONS_ARE_NOT_ALLOWED_IN_INTRO_MISSION_DESC' :
														(_battleType == BattleTypes.TRAINING_BATTLE)	? 'IDS_DIVISIONS_ARE_NOT_ALLOWED_IN_TRAINING_BATTLES'
																										: 'UNKNOWN_DENY_REASON',
												_maxWidth: 215}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_CHOOSE_DIVISION_HINT', _maxWidth: 220 }"/>
		</block>
	</block>
	<block className="SimpleListGroupHeader">
		<style>
			<width value="100%"/>
			<height value="33px"/>
		</style>
		<block className="dock_submenu_item_bg" type="native">
			<style>
				<width value="100%"/>
				<height value="33px"/>
			</style>
			<bind name="transition" value="_stateOver; 0.15; {alpha: 0}; {alpha: 0.5}"/>
			<block className="button_expand" type="native">
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _groupExpanded ? 'IDS_HINT_COLLAPSE_GROUP' : 'IDS_HINT_EXPAND_GROUP'}"/>
				<style>
					<width value="100%"/>
					<marginTop value="5px"/>
					<marginLeft value="3px"/>
					<position value="absolute"/>
				</style>
				<params>
					<param name="toggle" value="true"/>
					<param name="soundSet" value="dropmenu_button"/>
					<param name="focusable" value="false"/>
				</params>
				<bind name="selected" value="_groupExpanded"/>
				<bind name="dispatch" value="'click'; _expandGroupEvent; {groupExpanded: !(_groupExpanded)}"/>
			</block>
			<block type="text">
				<bind name="style" value="'marginLeft'; _marginLeft ? _marginLeft : '24px'"/>
				<style>
					<marginLeft value="24px"/>
					<marginTop value="5px"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="_groupLabel"/>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-1px"/>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<css name="$ChatDivisionDefaultWidth">
		<width value="280px"/>
		<userData value="{
		minResizeWidth: 220,
		maxResizeWidth: 300
	}"/>
	</css>
	<block className="FormationResizableMainElement">
		<styleClass value="$ChatDivisionDefaultWidth"/>
		<style>
			<height value="100%"/>
		</style>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'divisionPlayersListWidth'; (userPrefs.divisionPlayersListWidth) ? userPrefs.divisionPlayersListWidth : '280'"/>
		<bind name="width" value="divisionPlayersListWidth"/>
		<block className="FormationMainElement">
			<bind name="name" value="'FormationMainElement_' + _teamId"/>
			<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
			<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
			<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
			<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
			<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="collectionDH" value="CC.battleType; 'selectedBattleTypes'; 'selected'"/>
			<bind name="entityDH" value="'battleTypeEntity'; selectedBattleTypes[0].id"/>
			<bind name="watch" value="'teamId'; _teamId != undefined ? _teamId : selfTeamId"/>
			<bind name="action" value="'droppableStatus'+varChanged; droppableStatus == 'accept' ? 'TrainingRoomProxy.setPlayerTeam' : null; 
												{ playerId: droppableStatusData['playerId'], teamId: teamId }"/>
			<bind name="watch" value="'activeIds'; 	isSelfPlayerOwner 		? 	_teamId == 0 	? ['-1', '1', '-1_bot', '1_bot'] :
												  		  	_teamId == 1 	? ['0', '-1', '0_bot', '-1_bot'] 
												  							: ['0', '1', '0_bot', '1_bot'] :

								isSelfPlayerCommander	?	selfTeamId == _teamId 				? ['-1', '-1_bot'] :
															_teamId == -1 	? (selfTeamId == 0 ? ['0', '0_bot'] : ['1', '1_bot'])
																								: []
														:	[]"/>
			<bind name="droppable" value="'this'; activeIds; activeIds; 'droppableStatus'"/>
			<block>
				<bind name="visible" value="false"/>
				<params>
					<param name="name" value="botFakeDropZone"/>
				</params>
			</block>
			<bind name="droppable" value="'botFakeDropZone'; []; ['0_bot', '1_bot']; 'droppableStatusBot'"/>
			<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
			<bind name="watchDH" value="'isSelfPlayerOwner'; ['selfPlayerEntity.preBattlePlayerSimple.evIsCommanderChanged']; selfPlayerEntity.preBattlePlayerSimple.isCommander"/>
			<bind name="watchDH" value="'isSelfPlayerInBattle'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.isInBattle"/>
			<bind name="watchDH" value="'isSelfPlayerCommander'; ['selfPlayerEntity.trainingRoomPlayer.evUpdate']; selfPlayerEntity.trainingRoomPlayer.isCommander"/>
			<bind name="watch" value="'isTeamManagementAvailable'; isSelfPlayerOwner || (isSelfPlayerCommander &amp;&amp; selfTeamId == _teamId)"/>
			<bind name="watchDH" value="'selfTeamId'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.teamId"/>
			<bind name="watchDH" value="'selfPreBattleId'; ['selfPlayerEntity.preBattlePlayerSimple.evPreBattleIdChanged']; selfPlayerEntity.preBattlePlayerSimple.preBattleId"/>
			<bind name="watch" value="'preBattlePlayersFilter'; _isTrainingRoom 	? 'byPreBattleAndTeam.' + selfPreBattleId + '_' + teamId + '.preBattleMembers.sorted' 
															: 'byPreBattle.' + selfPreBattleId + '.preBattleMembers.sorted'"/>
			<bind name="collectionDH" value="CC.preBattlePlayerSimple; 'preBattlePlayers'; preBattlePlayersFilter"/>
			<bind name="watch" value="'preBattleInvitedPlayersFilter'; _isTrainingRoom 	? 'byPreBattleAndTeam.' + selfPreBattleId + '_' + teamId + '.invitedPlayers' 
																	: 'byPreBattle.' + selfPreBattleId + '.invitedPlayers'"/>
			<bind name="collectionDH" value="CC.preBattlePlayerSimple; 'preBattleInvitedPlayers'; preBattleInvitedPlayersFilter"/>
			<bind name="watchDH" value="'trainingRoomTeamSize'; ['trainingRoomEntity.trainingRoom.evUpdate']; trainingRoomEntity.trainingRoom.teamSize"/>
			<bind name="watch" value="'maxPlayersInFormation'; _isTrainingRoom 	? _teamId == -1 ? preBattlePlayers.length
																								: trainingRoomTeamSize 
															: battleTypeEntity.divisionRestrictions.shipsCount[1]"/>
			<bind name="primaryEntityDH" value="'preBattleEntity'; CC.preBattle; selfPreBattleId"/>
			<bind name="watchDH" value="'isFormationInBattle'; ['preBattleEntity.preBattle.evStatusChanged']; preBattleEntity.preBattle.isInBattle"/>
			<bind name="watchDH" value="'selfIsInBattle'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.isInBattle"/>
			<styleClass value="$Fullsize"/>
			<bind name="dataRefDH" value="'chat'; 'dataHub.chat.ref.chat'"/>
			<bind name="watchDH" value="'isChatServerAvailable'; ['chat.evConnected', 'chat.evDisConnected']; chat.isConnected"/>
			<bind name="watch" value="'showFormationPlayers'; isChatServerAvailable || _isTrainingRoom"/>
			<block>
				<style>
					<width value="100%"/>
					<height value="120px"/>
				</style>
				<bind name="visible" value="!(showFormationPlayers)"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'ServerIsUnavailable'; showFormationPlayers ? null : {_maxWidth: '300', _small: true}"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="visible" value="(showFormationPlayers)"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="fade" value="divisionEntranceData.divisionAvailable &amp;&amp; !_isTrainingRoom; 0.1; {alpha: 0, ubScaleY: 0}; {alpha: 1, ubScaleY: 1}"/>
					<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
					<bind name="watch" value="'isHW2018'; isIn(operationEntity.operation.gpName, ['PCVO013_EV_HL_18_e04_Halloween_2018', 'PCVO017_EV_HL_18_e04_Halloween_2018_Hard'])"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<bind name="child" value="isHW2018 ? 0 : 1; {selfPreBattleId: selfPreBattleId, _teamId: teamId}; 'FormationShipClassesStatusHW2018HACK'; 'FormationShipClassesStatus'"/>
					</block>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<block>
					<styleClass value="$DefaultScrollBar"/>
					<style>
						<height value="100%f"/>
						<width value="100%"/>
						<overflow value="scroll"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<bind name="repeat" value="maxPlayersInFormation; 'DivisionListItem'; {
					_isTrainingRoom: _isTrainingRoom,
					_teamId: teamId,
					_formationPlayerClass: _formationPlayerClass,
					_showInvites: isTeamManagementAvailable &amp;&amp; !(_isTrainingRoom &amp;&amp; teamId == -1) &amp;&amp; !(isFormationInBattle &amp;&amp; selfIsInBattle),
					_preBattlePlayers: preBattlePlayers,
					_preBattleInvitedPlayers: preBattleInvitedPlayers}"/>
					</block>
				</block>
			</block>
			<bind name="collectionDH" value="CC.battleType; 'selectedBattleTypes'; 'selected'"/>
			<bind name="entityDH" value="'selectedBattleTypeEntity'; selectedBattleTypes[0].id"/>
			<bind name="watchDH" value="'selectedBattleType'; ['selectedBattleTypeEntity.battleType.evBattleTypeChanged']; selectedBattleTypeEntity.battleType.type"/>
			<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
			<bind name="watchDH" value="'chosenOperationId'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenOperation"/>
			<bind name="watchDH" value="'activeOperationId'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.activeOperation"/>
			<bind name="watchDH" value="'chosenDifficulty';	['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenDifficulty"/>
			<bind name="watchDH" value="'enterMatchmaker'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.enterMatchmaker"/>
			<bind name="watch" value="'isChosenOperationOfTheWeek'; ((chosenOperationId == activeOperationId) &amp;&amp; (chosenDifficulty == 'normal'))"/>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="6px"/>
				</style>
				<block>
					<bind name="fade" value="((!_isTrainingRoom &amp;&amp; !isSelfPlayerInBattle) || (selfTeamId == _teamId)); 0.15; {alpha: 0, top: 5}; {alpha: 1, top: 0}; {alpha: 0, top: -5}; 2"/>
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginTop value="6px"/>
					</style>
					<bind name="instance" value="'FormationReadySwitcher'; {_isTrainingRoom: _isTrainingRoom}"/>
				</block>
				<block>
					<style>
						<marginTop value="12px"/>
						<marginLeft value="12px"/>
						<marginRight value="8px"/>
						<width value="100%"/>
						<marginBottom value="2px"/>
					</style>
					<bind name="fade" value="(selectedBattleType == BattleTypes.PVE_BATTLE &amp;&amp; !isSelfPlayerInBattle); 0.15; {alpha: 0, top: 5}; {alpha: 1, top: 0}; {alpha: 0, top: -5}; 2"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{	_paragraphText: 	enterMatchmaker 		?	'IDS_PVE_DIVISION_MATCHMAKER_ON_INFO' : 'IDS_PVE_DIVISION_MATCHMAKER_OFF_INFO'}],
																					_mouseInstructions:	!isSelfPlayerOwner		?	[{_type: 'warning', _instructionText: 'IDS_PVE_DIVISION_MATCHMAKER_CONFIG_AVAILABLE_FOR_COMMANDER'}] 
																																: !isChosenOperationOfTheWeek	? [{_type: 'warning', _instructionText: 'IDS_PVE_DIVISION_MATCHMAKER_NOT_AVAILABLE'}]
																																								: null,
																					_maxWidth: 250}"/>
					<bind name="action" value="'click'; 'PVEScriptsProxy.chooseOperation'; {operationId: chosenOperationId, difficulty: 'normal', shouldEnterMM: !(enterMatchmaker)}"/>
					<bind name="instance" value="'CheckBox'; { _maxTfWidth: 200, switchProperty: (enterMatchmaker &amp;&amp; isChosenOperationOfTheWeek), _disabled: !(isSelfPlayerOwner &amp;&amp; isChosenOperationOfTheWeek),  label: 'IDS_PVE_DIVISION_MATCHMAKER_CHECKBOX_TEXT'}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="transition" value="droppableStatusState == 'active'; 0.15; {alpha: 0}; {alpha: 1}"/>
				<block className="outlined_panel_shaded" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginTop value="-2px"/>
					</style>
					<bind name="watch" value="'isBot'; droppableStatusBotState == 'active' &amp;&amp; _teamId == -1"/>
					<bind name="gotoAndStop!" value="isBot ? 'orange' : 'white'"/>
					<bind name="transition" value="droppableStatus == 'fadeIn' || droppableStatusBot == 'fadeIn'; 0.15; {alpha: 0.5}; {alpha: 1}"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="8px"/>
				<height value="100%"/>
				<right value="-4px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="gripper_right"/>
			</params>
		</block>
		<bind name="resize" value="'gripper_right'; 'right'; 'divisionPlayersListWidth'"/>
	</block>
	<block className="FormationMainElement">
		<bind name="name" value="'FormationMainElement_' + _teamId"/>
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="collectionDH" value="CC.battleType; 'selectedBattleTypes'; 'selected'"/>
		<bind name="entityDH" value="'battleTypeEntity'; selectedBattleTypes[0].id"/>
		<bind name="watch" value="'teamId'; _teamId != undefined ? _teamId : selfTeamId"/>
		<bind name="action" value="'droppableStatus'+varChanged; droppableStatus == 'accept' ? 'TrainingRoomProxy.setPlayerTeam' : null; 
												{ playerId: droppableStatusData['playerId'], teamId: teamId }"/>
		<bind name="watch" value="'activeIds'; 	isSelfPlayerOwner 		? 	_teamId == 0 	? ['-1', '1', '-1_bot', '1_bot'] :
												  		  	_teamId == 1 	? ['0', '-1', '0_bot', '-1_bot'] 
												  							: ['0', '1', '0_bot', '1_bot'] :

								isSelfPlayerCommander	?	selfTeamId == _teamId 				? ['-1', '-1_bot'] :
															_teamId == -1 	? (selfTeamId == 0 ? ['0', '0_bot'] : ['1', '1_bot'])
																								: []
														:	[]"/>
		<bind name="droppable" value="'this'; activeIds; activeIds; 'droppableStatus'"/>
		<block>
			<bind name="visible" value="false"/>
			<params>
				<param name="name" value="botFakeDropZone"/>
			</params>
		</block>
		<bind name="droppable" value="'botFakeDropZone'; []; ['0_bot', '1_bot']; 'droppableStatusBot'"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'isSelfPlayerOwner'; ['selfPlayerEntity.preBattlePlayerSimple.evIsCommanderChanged']; selfPlayerEntity.preBattlePlayerSimple.isCommander"/>
		<bind name="watchDH" value="'isSelfPlayerInBattle'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.isInBattle"/>
		<bind name="watchDH" value="'isSelfPlayerCommander'; ['selfPlayerEntity.trainingRoomPlayer.evUpdate']; selfPlayerEntity.trainingRoomPlayer.isCommander"/>
		<bind name="watch" value="'isTeamManagementAvailable'; isSelfPlayerOwner || (isSelfPlayerCommander &amp;&amp; selfTeamId == _teamId)"/>
		<bind name="watchDH" value="'selfTeamId'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.teamId"/>
		<bind name="watchDH" value="'selfPreBattleId'; ['selfPlayerEntity.preBattlePlayerSimple.evPreBattleIdChanged']; selfPlayerEntity.preBattlePlayerSimple.preBattleId"/>
		<bind name="watch" value="'preBattlePlayersFilter'; _isTrainingRoom 	? 'byPreBattleAndTeam.' + selfPreBattleId + '_' + teamId + '.preBattleMembers.sorted' 
															: 'byPreBattle.' + selfPreBattleId + '.preBattleMembers.sorted'"/>
		<bind name="collectionDH" value="CC.preBattlePlayerSimple; 'preBattlePlayers'; preBattlePlayersFilter"/>
		<bind name="watch" value="'preBattleInvitedPlayersFilter'; _isTrainingRoom 	? 'byPreBattleAndTeam.' + selfPreBattleId + '_' + teamId + '.invitedPlayers' 
																	: 'byPreBattle.' + selfPreBattleId + '.invitedPlayers'"/>
		<bind name="collectionDH" value="CC.preBattlePlayerSimple; 'preBattleInvitedPlayers'; preBattleInvitedPlayersFilter"/>
		<bind name="watchDH" value="'trainingRoomTeamSize'; ['trainingRoomEntity.trainingRoom.evUpdate']; trainingRoomEntity.trainingRoom.teamSize"/>
		<bind name="watch" value="'maxPlayersInFormation'; _isTrainingRoom 	? _teamId == -1 ? preBattlePlayers.length
																								: trainingRoomTeamSize 
															: battleTypeEntity.divisionRestrictions.shipsCount[1]"/>
		<bind name="primaryEntityDH" value="'preBattleEntity'; CC.preBattle; selfPreBattleId"/>
		<bind name="watchDH" value="'isFormationInBattle'; ['preBattleEntity.preBattle.evStatusChanged']; preBattleEntity.preBattle.isInBattle"/>
		<bind name="watchDH" value="'selfIsInBattle'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.isInBattle"/>
		<styleClass value="$Fullsize"/>
		<bind name="dataRefDH" value="'chat'; 'dataHub.chat.ref.chat'"/>
		<bind name="watchDH" value="'isChatServerAvailable'; ['chat.evConnected', 'chat.evDisConnected']; chat.isConnected"/>
		<bind name="watch" value="'showFormationPlayers'; isChatServerAvailable || _isTrainingRoom"/>
		<block>
			<style>
				<width value="100%"/>
				<height value="120px"/>
			</style>
			<bind name="visible" value="!(showFormationPlayers)"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'ServerIsUnavailable'; showFormationPlayers ? null : {_maxWidth: '300', _small: true}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="visible" value="(showFormationPlayers)"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="fade" value="divisionEntranceData.divisionAvailable &amp;&amp; !_isTrainingRoom; 0.1; {alpha: 0, ubScaleY: 0}; {alpha: 1, ubScaleY: 1}"/>
				<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
				<bind name="watch" value="'isHW2018'; isIn(operationEntity.operation.gpName, ['PCVO013_EV_HL_18_e04_Halloween_2018', 'PCVO017_EV_HL_18_e04_Halloween_2018_Hard'])"/>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="child" value="isHW2018 ? 0 : 1; {selfPreBattleId: selfPreBattleId, _teamId: teamId}; 'FormationShipClassesStatusHW2018HACK'; 'FormationShipClassesStatus'"/>
				</block>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$DefaultScrollBar"/>
				<style>
					<height value="100%f"/>
					<width value="100%"/>
					<overflow value="scroll"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="repeat" value="maxPlayersInFormation; 'DivisionListItem'; {
					_isTrainingRoom: _isTrainingRoom,
					_teamId: teamId,
					_formationPlayerClass: _formationPlayerClass,
					_showInvites: isTeamManagementAvailable &amp;&amp; !(_isTrainingRoom &amp;&amp; teamId == -1) &amp;&amp; !(isFormationInBattle &amp;&amp; selfIsInBattle),
					_preBattlePlayers: preBattlePlayers,
					_preBattleInvitedPlayers: preBattleInvitedPlayers}"/>
				</block>
			</block>
		</block>
		<bind name="collectionDH" value="CC.battleType; 'selectedBattleTypes'; 'selected'"/>
		<bind name="entityDH" value="'selectedBattleTypeEntity'; selectedBattleTypes[0].id"/>
		<bind name="watchDH" value="'selectedBattleType'; ['selectedBattleTypeEntity.battleType.evBattleTypeChanged']; selectedBattleTypeEntity.battleType.type"/>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'chosenOperationId'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenOperation"/>
		<bind name="watchDH" value="'activeOperationId'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.activeOperation"/>
		<bind name="watchDH" value="'chosenDifficulty';	['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenDifficulty"/>
		<bind name="watchDH" value="'enterMatchmaker'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.enterMatchmaker"/>
		<bind name="watch" value="'isChosenOperationOfTheWeek'; ((chosenOperationId == activeOperationId) &amp;&amp; (chosenDifficulty == 'normal'))"/>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="6px"/>
			</style>
			<block>
				<bind name="fade" value="((!_isTrainingRoom &amp;&amp; !isSelfPlayerInBattle) || (selfTeamId == _teamId)); 0.15; {alpha: 0, top: 5}; {alpha: 1, top: 0}; {alpha: 0, top: -5}; 2"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="6px"/>
				</style>
				<bind name="instance" value="'FormationReadySwitcher'; {_isTrainingRoom: _isTrainingRoom}"/>
			</block>
			<block>
				<style>
					<marginTop value="12px"/>
					<marginLeft value="12px"/>
					<marginRight value="8px"/>
					<width value="100%"/>
					<marginBottom value="2px"/>
				</style>
				<bind name="fade" value="(selectedBattleType == BattleTypes.PVE_BATTLE &amp;&amp; !isSelfPlayerInBattle); 0.15; {alpha: 0, top: 5}; {alpha: 1, top: 0}; {alpha: 0, top: -5}; 2"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{	_paragraphText: 	enterMatchmaker 		?	'IDS_PVE_DIVISION_MATCHMAKER_ON_INFO' : 'IDS_PVE_DIVISION_MATCHMAKER_OFF_INFO'}],
																					_mouseInstructions:	!isSelfPlayerOwner		?	[{_type: 'warning', _instructionText: 'IDS_PVE_DIVISION_MATCHMAKER_CONFIG_AVAILABLE_FOR_COMMANDER'}] 
																																: !isChosenOperationOfTheWeek	? [{_type: 'warning', _instructionText: 'IDS_PVE_DIVISION_MATCHMAKER_NOT_AVAILABLE'}]
																																								: null,
																					_maxWidth: 250}"/>
				<bind name="action" value="'click'; 'PVEScriptsProxy.chooseOperation'; {operationId: chosenOperationId, difficulty: 'normal', shouldEnterMM: !(enterMatchmaker)}"/>
				<bind name="instance" value="'CheckBox'; { _maxTfWidth: 200, switchProperty: (enterMatchmaker &amp;&amp; isChosenOperationOfTheWeek), _disabled: !(isSelfPlayerOwner &amp;&amp; isChosenOperationOfTheWeek),  label: 'IDS_PVE_DIVISION_MATCHMAKER_CHECKBOX_TEXT'}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="transition" value="droppableStatusState == 'active'; 0.15; {alpha: 0}; {alpha: 1}"/>
			<block className="outlined_panel_shaded" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<marginTop value="-2px"/>
				</style>
				<bind name="watch" value="'isBot'; droppableStatusBotState == 'active' &amp;&amp; _teamId == -1"/>
				<bind name="gotoAndStop!" value="isBot ? 'orange' : 'white'"/>
				<bind name="transition" value="droppableStatus == 'fadeIn' || droppableStatusBot == 'fadeIn'; 0.15; {alpha: 0.5}; {alpha: 1}"/>
			</block>
		</block>
	</block>
	<block className="DivisionHeaderLock">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'isSelfPlayerCommander'; ['selfPlayerEntity.preBattlePlayerSimple.evIsCommanderChanged']; selfPlayerEntity.preBattlePlayerSimple.isCommander"/>
		<bind name="watchDH" value="'selfPreBattleId';		['selfPlayerEntity.preBattlePlayerSimple.evPreBattleIdChanged']; selfPlayerEntity.preBattlePlayerSimple.preBattleId"/>
		<bind name="primaryEntityDH" value="'preBattleEntity'; CC.preBattle; selfPreBattleId"/>
		<bind name="watchDH" value="'ownerId'; ['preBattleEntity.preBattle.evOwnerIdChanged']; preBattleEntity.preBattle.ownerId"/>
		<bind name="primaryEntityDH" value="'preBattleOwnerPlayerEntity'; CC.preBattlePlayerSimple; ownerId"/>
		<bind name="watch" value="'isPreBattleLocked'; divisionData.locked"/>
		<bind name="visible" value="preBattleOwnerPlayerEntity.clanman ? true : false"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{	_paragraphText: 	isPreBattleLocked 		? 'IDS_CLAN_LOCKED_DIVISION' : 'IDS_CLAN_UNLOCKED_DIVISION'}],
																			_mouseInstructions: isSelfPlayerCommander	? [{_type: 'left', _instructionText: (isPreBattleLocked	? 'IDS_CLAN_MOUSE_INSTRUCTION_UNLOCK_DIVISION'
																																												: 'IDS_CLAN_MOUSE_INSTRUCTION_LOCK_DIVISION')}]
																														: [{_type: 'warning', _instructionText: 'IDS_PVE_DIVISION_MATCHMAKER_CONFIG_AVAILABLE_FOR_COMMANDER'}],
																			_maxWidth: 250}"/>
		<bind name="action" value="'click'; isSelfPlayerCommander ?  (isPreBattleLocked ? 'unlockDivision' : 'lockDivision') : null; {id: selfPreBattleId}"/>
		<block className="button_lock" type="native">
			<bind name="selected" value="isPreBattleLocked"/>
			<bind name="enabled" value="isSelfPlayerCommander"/>
		</block>
	</block>
	<block className="FormationHeader">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfTeamId'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.teamId"/>
		<bind name="watchDH" value="'isSelfPlayerCommander'; ['selfPlayerEntity.preBattlePlayerSimple.evIsCommanderChanged']; selfPlayerEntity.preBattlePlayerSimple.isCommander"/>
		<bind name="watchDH" value="'selfPreBattleId'; ['selfPlayerEntity.preBattlePlayerSimple.evPreBattleIdChanged']; selfPlayerEntity.preBattlePlayerSimple.preBattleId"/>
		<bind name="primaryEntityDH" value="'preBattleEntity'; CC.preBattle; selfPreBattleId"/>
		<bind name="watchDH" value="'isFormationInBattle'; ['preBattleEntity.preBattle.evStatusChanged']; preBattleEntity.preBattle.isInBattle"/>
		<bind name="watchDH" value="'ownerId'; ['preBattleEntity.preBattle.evOwnerIdChanged']; preBattleEntity.preBattle.ownerId"/>
		<bind name="primaryEntityDH" value="'preBattleOwnerPlayerEntity'; CC.preBattlePlayerSimple; ownerId"/>
		<bind name="watchDH" value="'clanId'; ['preBattleOwnerPlayerEntity.clanman.evClanIdChanged']; preBattleOwnerPlayerEntity.clanman.clanId"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanName'; ['clanEntity.clanExtended.evNameChanged']; clanEntity.clanExtended.name"/>
		<bind name="primaryEntityDH" value="'clanTeamEntity'; CC.clanTeam; selfPreBattleId"/>
		<bind name="watchDH" value="'squadId'; ['clanTeamEntity.clanTeam.evSquadIdChanged']; clanTeamEntity.clanTeam.squadId"/>
		<bind name="primaryEntityDH" value="'clanLadderInfoEntity'; CC.clanLadderInfo; clanId"/>
		<bind name="watchDH" value="'leadingSquadId'; []; clanLadderInfoEntity.clanLadderInfo.leadingSquadId"/>
		<bind name="watch" value="'isLeadingSquad'; squadId == leadingSquadId"/>
		<bind name="watchDH" value="'hasClanSquadModifier'; ['selfPlayerEntity.clanmanSupplyInfo.evHasClanSquadModifierChanged']; selfPlayerEntity.clanmanSupplyInfo.hasClanSquadModifier"/>
		<bind name="collectionDH" value="CC.battleType; 'selectedBattleTypes'; 'selected'"/>
		<bind name="entityDH" value="'selectedBattleTypeEntity'; selectedBattleTypes[0].id"/>
		<bind name="watchDH" value="'trainingRoomTeamSize'; ['trainingRoomEntity.trainingRoom.evUpdate']; trainingRoomEntity.trainingRoom.teamSize"/>
		<bind name="watch" value="'maxPlayersInFormation'; _isTrainingRoom ? trainingRoomTeamSize : selectedBattleTypeEntity.divisionRestrictions.shipsCount[1]"/>
		<bind name="watchDH" value="'fightButtonDenyReasons'; ['selectedBattleTypeEntity.battleType.evDisableReasonChanged']; selectedBattleTypeEntity.battleType.fightButtonReasons"/>
		<bind name="watchDH" value="'selectedBattleType'; ['selectedBattleTypeEntity.battleType.evBattleTypeChanged']; selectedBattleTypeEntity.battleType.type"/>
		<bind name="watch" value="'preBattlePlayersFilter'; _isTrainingRoom ? 	'byPreBattleAndTeam.' + selfPreBattleId + '_' + _teamId + '.preBattleMembers' : 
																'byPreBattle.' + selfPreBattleId + '.preBattleMembers'"/>
		<bind name="collectionDH" value="CC.preBattlePlayerSimple; 'preBattlePlayers'; preBattlePlayersFilter"/>
		<bind name="collectionDH" value="CC.preBattlePlayerSimple; 'preBattleInvitedPlayers'; 'byPreBattleAndTeam.' + selfPreBattleId + '_' + _teamId + '.invitedPlayers'"/>
		<bind name="watch" value="'curPlayersInFormation'; (preBattlePlayers.length + preBattleInvitedPlayers.length)"/>
		<bind name="watch" value="'label'; 	_isTrainingRoom 	? 	toUpperCase(tr('IDS_DIVISION_' + _teamId)) :
							isFormationInBattle ? 	tr('IDS_IN_BATTLE') :
							_isClanDivision		? 	'['+clanTag+'] ' + tr( hasClanSquadModifier ? 'IDS_CLAN_SQUAD_' + squadId : 'IDS_DIVISION')
												: 	tr('IDS_DIVISION')"/>
		<bind name="watch" value="'limitExceed'; curPlayersInFormation &gt;= maxPlayersInFormation"/>
		<bind name="name" value="'headerDivision'"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_channel_types" type="native">
			<bind name="visible" value="_isTrainingRoom != true &amp;&amp; !(preBattleOwnerPlayerEntity.clanman)"/>
			<style>
				<hitTest value="false"/>
				<marginRight value="4px"/>
				<marginTop value="-1px"/>
			</style>
			<innerBind elementName="channel_icon" name="gotoAndStop!" value="'division'"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold19NM"/>
			<bind name="class" value="	_isTrainingRoom &amp;&amp; _teamId == -1				? '$FontColorWhite'	 :
						_isTrainingRoom &amp;&amp; selfTeamId == _teamId							? '$FontColorGolden' :
						_isTrainingRoom &amp;&amp; selfTeamId != _teamId 							? '$FontColorWhite' :
						(isFormationInBattle || !(divisionEntranceData.divisionAvailable))	? '$FontColorUnready'
																							: '$FontColorGolden'"/>
			<style>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<bind name="text" value="label"/>
		</block>
		<block>
			<bind name="watch" value="'isLeadingIconVisible'; _isClanDivision &amp;&amp; hasClanSquadModifier &amp;&amp; isLeadingSquad &amp;&amp; !isFormationInBattle"/>
			<bind name="visible" value="isLeadingIconVisible"/>
			<style>
				<hitTest value="false"/>
				<marginLeft value="8px"/>
				<marginTop value="-1px"/>
			</style>
			<bind name="instance" value="'LeadingClanSquadIcon'; isLeadingIconVisible ? { _isGolden: true } : null"/>
		</block>
		<bind name="watch" value="'colorClass'; 	_isTrainingRoom &amp;&amp; selfTeamId == _teamId 	? '$FontColorGolden' :
								_isTrainingRoom &amp;&amp; selfTeamId != _teamId 	? '$FontColorWhite'	 :
								isFormationInBattle							? '$FontColorUnready'
																			: '$FontColorGolden'"/>
		<block>
			<bind name="visible" value="(divisionEntranceData.divisionAvailable &amp;&amp; !_isTrainingRoom) || (_isTrainingRoom &amp;&amp; _teamId != -1)"/>
			<bind name="style" value="'alpha'; limitExceed ? 0.5 : 1"/>
			<style>
				<marginLeft value="8px"/>
				<marginTop value="1px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold19NM"/>
				<bind name="class" value="colorClass"/>
				<style>
					<marginRight value="2px"/>
				</style>
				<bind name="text" value="'(' + curPlayersInFormation"/>
			</block>
			<block type="text">
				<bind name="style" value="'alpha'; limitExceed ? 1 : 0.8"/>
				<styleClass value="$TextDefaultBold17NM"/>
				<bind name="class" value="colorClass"/>
				<style>
					<marginTop value="1px"/>
					<marginRight value="1px"/>
				</style>
				<bind name="text" value="'/' + maxPlayersInFormation"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultBold19NM"/>
				<bind name="class" value="colorClass"/>
				<bind name="text" value="')'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="FormationPlayerItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="entityDH" value="'entityAccount'; _entityAccountId ? _entityAccountId : $dataRef.ref.id"/>
		<bind name="watch" value="'isSelfPlayer'; entityAccount.accountSimple.isSelfPlayer"/>
		<bind name="watchDH" value="'isSuspended'; ['entityAccount.accountSimple.evSuspendedChanged']; entityAccount.accountSimple.suspended"/>
		<bind name="watch" value="'isBot'; entityAccount.bot != undefined"/>
		<bind name="watchDH" value="'shipId'; ['entityAccount.preBattlePlayerSimple.evShipIdChanged']; entityAccount.preBattlePlayerSimple.shipId"/>
		<bind name="watchDH" value="'teamId'; ['entityAccount.preBattlePlayerSimple.evStateChanged']; entityAccount.preBattlePlayerSimple.teamId"/>
		<bind name="watchDH" value="'isReady'; ['entityAccount.preBattlePlayerSimple.evStateChanged']; entityAccount.preBattlePlayerSimple.isReady"/>
		<bind name="watchDH" value="'isInBattle'; ['entityAccount.accountStatus.evInBattleChanged']; entityAccount.accountStatus.inBattle"/>
		<bind name="watchDH" value="'isCommander'; ['entityAccount.preBattlePlayerSimple.evIsCommanderChanged']; entityAccount.preBattlePlayerSimple.isCommander"/>
		<bind name="watchDH" value="'nickName'; ['entityAccount.accountName.evChanged']; entityAccount.accountName.nickName"/>
		<bind name="watchDH" value="'pureName'; ['entityAccount.accountName.evChanged']; entityAccount.accountName.name"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'isSelfPlayerCommander'; ['selfPlayerEntity.preBattlePlayerSimple.evIsCommanderChanged']; selfPlayerEntity.preBattlePlayerSimple.isCommander"/>
		<bind name="watchDH" value="'selfTeamId'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.teamId"/>
		<bind name="primaryEntityDH" value="'selfVoiceChatEntity'; CC.voiceChat; 0"/>
		<bind name="watchDH" value="'selfVoiceChatEnabled'; ['selfVoiceChatEntity.voiceChat.evEnabledChanged']; selfVoiceChatEntity.voiceChat.enabled"/>
		<bind name="var" value="{isAnimationPreUnlocked: false,
				isAnimationUnlocked: 	false}"/>
		<bind name="dispatch" value="'addedToStage'; 'animationPreActivationEvent'; null; false; 0.1"/>
		<bind name="catch" value="'animationPreActivationEvent'; {isAnimationPreUnlocked: true}"/>
		<bind name="changeDispatch" value="isReady; 'animationActivationEvent'"/>
		<bind name="catch" value="'animationActivationEvent'; {isAnimationUnlocked: isAnimationPreUnlocked ? true : false}"/>
		<style>
			<width value="100%"/>
			<height value="27px"/>
			<flow value="horizontal"/>
		</style>
		<block className="inner_panel" type="native">
			<bind name="visible" value="isSelfPlayer"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block className="dock_submenu_item_bg" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<bind name="clickSplit"/>
			<bind name="style" value="'hitTest'; !(isSuspended)"/>
			<bind name="transition" value="(rollOver || _rollOver || formationPlayerContextMenuVisible) &amp;&amp; !(isSelfPlayer); 0.15; {alpha: 0}; {alpha: 1.0}"/>
			<bind name="tooltip" value="'ContactInfoTooltip';	{	_entityAccountId: entityAccount.id, _actionDenyReason: 'no_reason',
													_playerContext: {type: 'startPrivateChat'}}"/>
			<bind name="action" value="'left_click';	!(isSelfPlayer) &amp;&amp; !(isBot) ? 'openChannelForPrivateMessages' : null; {dbId: entityAccount.accountSimple.dbId}"/>
			<bind name="menu" value="'ContactContextMenu';	!(isSelfPlayer)	? {	_entityAccountId: entityAccount.id, _playerContext: {type: 'startPrivateChat'},
																_inviteType: InviteType.COMMON, _isTrainingRoom: _isTrainingRoom, _isBot: isBot}
															: null; null; 'formationPlayerContextMenuVisible'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="fade" value="(!isReady || isInBattle) &amp;&amp; isAnimationUnlocked; 0.3; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1; 0"/>
				<block>
					<styleClass value="$Fullsize"/>
					<style>
						<backgroundColor value="0x90FF9933"/>
					</style>
					<bind name="fade" value="(!isReady || isInBattle) &amp;&amp; isAnimationUnlocked; 1.0; {alpha: 1}; {alpha: 0}; {alpha: 1}; 1; 0.5"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="fade" value="isReady &amp;&amp; isAnimationUnlocked; 0.3; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1; 0"/>
				<block>
					<styleClass value="$Fullsize"/>
					<style>
						<backgroundColor value="0x804CE8AA"/>
					</style>
					<bind name="fade" value="isReady &amp;&amp; isAnimationUnlocked; 1.0; {alpha: 1}; {alpha: 0}; {alpha: 1}; 1; 0.5"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="name" value="'participantDivisionPlayer_' + nickName"/>
			<style>
				<hitTest value="false"/>
				<marginLeft value="13px"/>
				<marginRight value="6px"/>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
					<marginLeft value="-12px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'VoiceChatDockIcon'; { _playerName: pureName, _isSelf: isSelfPlayer}"/>
			</block>
			<block>
				<bind name="name" value="'participantDivisionPlayer_' + teamId + '_' + nickName"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'DHFormationPlayerIcon'; teamId != -1 ? {_entityAccountId: entityAccount.id, _isOtherDivision: selfTeamId != teamId, _isTrainingRoom: _isTrainingRoom} : null"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="1px"/>
					<width value="47%"/>
					<multiline value="false"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	tkStatus											? '$FontColorTeamkiller' :
							teamId == -1 &amp;&amp; !isSelfPlayer 	? '$FontColorGrey' :
							selfTeamId == teamId 								? '$FontColorGolden'
																				: '$FontColorWhite'"/>
				<bind name="class" value="isSelfPlayer ? '$Bold' : '$None'"/>
				<bind name="text" value="nickName"/>
			</block>
			<block>
				<bind name="visible" value="shipId"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="53%"/>
				</style>
				<bind name="instance" value="'PreBattlePlayerShip'; (isReady || isInBattle) ? {_shipId: shipId} : null"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PreBattlePlayerShip">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block className="icon_ship" type="native">
			<styleClass value="$MiddleVAligned"/>
			<bind name="gotoAndStop!" value="shipInfo.subtype"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<style>
				<multiline value="false"/>
				<width value="100%"/>
			</style>
			<bind name="class" value="'$LetterSpacingSmall'"/>
			<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
		</block>
	</block>
	<block className="InvitedPlayerItem">
		<bind name="name" value="'invitedDivisionPlayer_' + nickName"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="watch" value="'isSelfPlayer'; entityAccount.accountSimple.isSelfPlayer"/>
		<bind name="watchDH" value="'prebattlePlayerId'; []; entityAccount.preBattlePlayerSimple.id"/>
		<bind name="watchDH" value="'nickName'; ['entityAccount.accountName.evChanged']; entityAccount.accountName.nickName"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'isSelfPlayerCommander'; ['selfPlayerEntity.preBattlePlayerSimple.evIsCommanderChanged']; selfPlayerEntity.preBattlePlayerSimple.isCommander"/>
		<style>
			<width value="100%"/>
			<height value="27px"/>
			<flow value="horizontal"/>
		</style>
		<block className="dock_submenu_item_bg" type="native">
			<bind name="style" value="'hitTest'; !(isSelfPlayer)"/>
			<bind name="clickSplit"/>
			<bind name="transition" value="(rollOver || _rollOver || formationPlayerContextMenuVisible); 0.15; {alpha: 0}; {alpha: 1.0}"/>
			<bind name="action" value="'left_click';	'openChannelForPrivateMessages'; {dbId: entityAccount.accountSimple.dbId}"/>
			<bind name="tooltip" value="'ContactInfoTooltip'; {	_entityAccountId: entityAccount.id, _actionDenyReason: 'no_reason',
												_playerContext: {type: 'startPrivateChat', expirationTime: expirationTime}}"/>
			<bind name="menu" value="'ContactContextMenu';	!(isSelfPlayer) 	? {	_entityAccountId: entityAccount.id, _playerContext: {type: 'startPrivateChat', isInvitation: true},
																	_inviteType: InviteType.COMMON}
																: null; null; 'formationPlayerContextMenuVisible'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
		</block>
		<block className="button_cross" type="native">
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_RECALL_INVITATION'}"/>
			<bind name="visible" value="(rollOver || _rollOver) &amp;&amp; isSelfPlayerCommander"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<right value="6px"/>
			</style>
			<bind name="action" value="'buttonClick'; 'revokeInvitationToDivision'; {id: prebattlePlayerId}"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="13px"/>
				<hitTest value="false"/>
				<alpha value="0.7"/>
			</style>
			<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: 'division'}"/>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="1px"/>
				<width value="262px"/>
				<hitTest value="false"/>
				<multiline value="false"/>
				<alpha value="0.7"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="tkStatus	? '$FontColorTeamkiller' : '$FontColorGrey'"/>
			<bind name="text" value="nickName"/>
		</block>
	</block>
	<block className="FormationReadySwitcher">
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'isSelfPlayerReady';		['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.isReady"/>
		<bind name="watchDH" value="'isSelfPlayerInBattle';	['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.isInBattle"/>
		<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
		<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
		<bind name="primaryEntityDH" value="'battleTypeEntity'; CC.battleType; selectedBattle.type"/>
		<bind name="watchDH" value="'readyButtonDenyReasons'; ['battleTypeEntity.battleType.evDisableReasonChanged']; battleTypeEntity.battleType.readyButtonReasons"/>
		<block className="tab_bar_bg" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<marginLeft value="2px"/>
				<marginRight value="2px"/>
			</style>
			<block className="DivisionStatusTransition">
				<block>
					<style>
						<position value="absolute"/>
					</style>
					<bind name="transition" value="divisionData.isReady == false; 0.3; {x : 0}; {x : 94}; {x : 0}; 2"/>
					<bind name="fade" value="divisionData.isReady == false; 0.3; {alpha: 1}; {alpha: 0}; {alpha: 0}; 0; 0.3"/>
					<block className="status_transition_element" type="native">
						<style>
							<marginTop value="2px"/>
							<height value="23px"/>
						</style>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
					</style>
					<bind name="transition" value="divisionData.isReady == true; 0.3; {x : 94}; {x : 0}; {x : 94}; 2"/>
					<bind name="fade" value="divisionData.isReady == true; 0.3; {alpha: 1}; {alpha: 0}; {alpha: 0}; 0; 0.3"/>
					<block className="status_transition_element" type="native">
						<style>
							<marginTop value="2px"/>
							<height value="23px"/>
						</style>
					</block>
				</block>
			</block>
			<bind name="watch" value="'isReadyBtnEnabled'; ((readyButtonDenyReasons.length == 0) || (isSelfPlayerReady)) ? true : false"/>
			<block>
				<bind name="name" value="isSelfPlayerReady ? 'isReadyDivision' : 'isNotReadyDivision'"/>
				<bind name="tooltip" value="'MultipleWarningsTooltip'; isReadyBtnEnabled ? null : {_warningsArr: readyButtonDenyReasons}"/>
				<bind name="tooltip" value="'FormationReadyButtonTooltip'; isReadyBtnEnabled ? {} : null; 0"/>
				<style>
					<width value="92px"/>
					<height value="27px"/>
				</style>
				<block className="status_ready_item" type="native">
					<bind name="name" value="'readyDivision'"/>
					<styleClass value="$Fullsize"/>
					<bind name="style" value="'colorMatrixFilter'; isReadyBtnEnabled ? '0 0 0 0' : '0 -100 0 -40'"/>
					<bind name="style" value="'mouseEnabled'; (!(isSelfPlayerReady) &amp;&amp; isReadyBtnEnabled)"/>
					<bind name="label" value="toUpperCase(tr('IDS_READY'))"/>
					<bind name="action" value="'buttonClick'; _isTrainingRoom ? 'setIsReadyInTrainingRoom' : 'setIsReadyInDivision'; {isReady: true}"/>
					<bind name="selected" value="isSelfPlayerReady || isSelfPlayerInBattle"/>
				</block>
			</block>
			<block className="divider_v" type="native">
				<style>
					<height value="27px"/>
				</style>
			</block>
			<block>
				<bind name="tooltip" value="'FormationNotReadyButtonTooltip'; {}; 0"/>
				<style>
					<width value="92px"/>
					<height value="27px"/>
				</style>
				<block className="status_not_ready_item" type="native">
					<bind name="name" value="'notReadyDivision'"/>
					<styleClass value="$Fullsize"/>
					<bind name="style" value="'mouseEnabled'; isSelfPlayerReady"/>
					<bind name="label" value="toUpperCase(tr('IDS_NOT_READY'))"/>
					<bind name="action" value="'buttonClick'; _isTrainingRoom ? 'setIsReadyInTrainingRoom' : 'setIsReadyInDivision'; {isReady: false}"/>
					<bind name="selected" value="!(isSelfPlayerReady) &amp;&amp; !(isSelfPlayerInBattle)"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="FormationShipClassesStatus">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="watchDH" value="'trainingRoomTypesCount'; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.typesCount"/>
		<bind name="primaryEntityDH" value="'preBattleEntity'; CC.preBattle; selfPreBattleId"/>
		<bind name="watchDH" value="'shipClassesCurCount'; ['preBattleEntity.preBattle.evShipClassesCountChanged']; preBattleEntity.preBattle.shipClassesCount[_teamId]"/>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'chosenOperationId'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenOperation"/>
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
		<bind name="collectionDH" value="CC.battleType; 'selectedBattleTypes'; 'selected'"/>
		<bind name="entityDH" value="'selectedBattleTypeEntity'; selectedBattleTypes[0].id"/>
		<bind name="watch" value="'shipTypeClassesRestrictions'; ((selectedBattleTypeEntity.battleType.type == BattleTypes.PVE_BATTLE)	? operationEntity.divisionRestrictions.typesCount :
												_isTrainingRoom															? trainingRoomTypesCount
																														: selectedBattleTypeEntity.divisionRestrictions.typesCount)"/>
		<style>
			<height value="24px"/>
		</style>
		<block>
			<style>
				<alpha value="0.8"/>
				<marginTop value="6px"/>
			</style>
			<bind name="instance" value="'FormationShipClassStatus'; {	_type: ShipTypes.AircraftCarrier,
														_curCount: shipClassesCurCount[ShipTypes.AircraftCarrier],
														_maxCount: _showOnlyCurrent ? 0 : shipTypeClassesRestrictions[ShipTypes.AircraftCarrier][1],
														_hideIfNoShips: _hideIfNoShips}"/>
			<bind name="instance" value="'FormationShipClassStatus'; {	_type: ShipTypes.BattleShip,
														_curCount: shipClassesCurCount[ShipTypes.BattleShip],
														_maxCount: _showOnlyCurrent ? 0 : shipTypeClassesRestrictions[ShipTypes.BattleShip][1],
														_hideIfNoShips: _hideIfNoShips}"/>
			<bind name="instance" value="'FormationShipClassStatus'; {	_type: ShipTypes.Cruiser,
														_curCount: shipClassesCurCount[ShipTypes.Cruiser],
														_maxCount: _showOnlyCurrent ? 0 : shipTypeClassesRestrictions[ShipTypes.Cruiser][1],
														_hideIfNoShips: _hideIfNoShips}"/>
			<bind name="instance" value="'FormationShipClassStatus'; {	_type: ShipTypes.Destroyer,
														_curCount: shipClassesCurCount[ShipTypes.Destroyer],
														_maxCount: _showOnlyCurrent ? 0 : shipTypeClassesRestrictions[ShipTypes.Destroyer][1],
														_hideIfNoShips: _hideIfNoShips}"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="FormationShipClassesStatusHW2018HACK">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="watchDH" value="'trainingRoomTypesCount'; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.typesCount"/>
		<bind name="primaryEntityDH" value="'preBattleEntity'; CC.preBattle; selfPreBattleId"/>
		<bind name="watchDH" value="'shipClassesCurCount'; ['preBattleEntity.preBattle.evShipClassesCountChanged']; preBattleEntity.preBattle.shipClassesCount[_teamId]"/>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'chosenOperationId'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenOperation"/>
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
		<bind name="collectionDH" value="CC.battleType; 'selectedBattleTypes'; 'selected'"/>
		<bind name="entityDH" value="'selectedBattleTypeEntity'; selectedBattleTypes[0].id"/>
		<bind name="watch" value="'shipTypeClassesRestrictions'; ((selectedBattleTypeEntity.battleType.type == BattleTypes.PVE_BATTLE)	? operationEntity.divisionRestrictions.typesCount :
												_isTrainingRoom															? trainingRoomTypesCount
																														: selectedBattleTypeEntity.divisionRestrictions.typesCount)"/>
		<style>
			<height value="24px"/>
		</style>
		<block>
			<style>
				<alpha value="0.8"/>
				<marginTop value="6px"/>
			</style>
			<bind name="instance" value="'FormationShipClassStatus'; {	_type: ShipTypes.Submarine,
														_curCount: shipClassesCurCount[ShipTypes.Submarine],
														_maxCount: _showOnlyCurrent ? 0 : shipTypeClassesRestrictions[ShipTypes.Submarine][1],
														_hideIfNoShips: _hideIfNoShips}"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="FormationShipClassStatus">
		<style>
			<flow value="horizontal"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="style" value="'marginRight'; ((_type != ShipTypes.Destroyer) ? '12px' : '0px')"/>
		<bind name="visible" value="!_hideIfNoShips || _curCount"/>
		<bind name="watch" value="'curCount'; _curCount ? _curCount : 0"/>
		<bind name="watch" value="'curCountInstruction'; (tr('IDS_CUR_COUNT_' + toUpperCase(_type) + '_IN_DIVISION') + tr('IDS_COLON') + ' ' + curCount)"/>
		<bind name="watch" value="'maxCountInstruction'; (!_maxCount)		? tr('IDS_NO_MAX_COUNT_' + toUpperCase(_type) + '_IN_DIVISION') :
										(_maxCount == -1)	? tr('IDS_NO_COUNT_' + toUpperCase(_type) + '_IN_DIVISION')
															: tr('IDS_MAX_COUNT_' + toUpperCase(_type) + '_IN_DIVISION') + tr('IDS_COLON') + ' ' + _maxCount)"/>
		<bind name="watch" value="'maxCountInstructionClass'; (_maxCount != 0 &amp;&amp; curCount &gt; _maxCount) ? '$FontColorUnready' : '$FontColorWhite'"/>
		<bind name="tooltip" value="'MouseInstructionTooltip';	(_maxCount == -1 &amp;&amp; curCount == 0)	? 	{	_multiParagraphArray:	[	{_paragraphText: maxCountInstruction, _leading: -1, _class: maxCountInstructionClass}],
																							_maxWidth: 380, _marginBottom: '1px', _marginBottomParagraphs: '9px'}
																				:	{	_multiParagraphArray:	[	{_paragraphText: curCountInstruction, _leading: -1, _class: '$FontColorWhite'},
																													{_paragraphText: maxCountInstruction, _leading: -1, _class: maxCountInstructionClass}],
																						_maxWidth: 380, _marginBottom: '1px', _marginBottomParagraphs: '9px'}"/>
		<bind name="watch" value="'limitExceed'; (_maxCount == -1) || (curCount == _maxCount &amp;&amp; _maxCount &gt; 0)"/>
		<bind name="style" value="'alpha'; limitExceed ? 0.5 : 1"/>
		<block>
			<style>
				<marginTop value="1px"/>
			</style>
			<bind name="style" value="'marginLeft'; ((_type == ShipTypes.Destroyer) ? '-1px' : '0px')"/>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="_type"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_maxCount != -1) || (curCount &gt; 0)"/>
			<bind name="style" value="'marginLeft'; ((_type == ShipTypes.Destroyer) ? 0 : (2+'px'))"/>
			<block type="text">
				<style>
					<marginRight value="2px"/>
				</style>
				<styleClass value="$TextDefaultBold17NM"/>
				<bind name="class" value="	(_maxCount != 0 &amp;&amp; curCount &gt; _maxCount)	? '$FontColorUnready'
																		: $None"/>
				<bind name="text" value="curCount"/>
			</block>
			<block>
				<bind name="visible" value="(_maxCount &gt; 0)"/>
				<bind name="style" value="'alpha'; (curCount == _maxCount &amp;&amp; _maxCount &gt; 0) ? 1 : 0.8"/>
				<block type="text">
					<style>
						<marginTop value="1px"/>
					</style>
					<styleClass value="$TextDefaultBoldNM"/>
					<bind name="class" value="	(_maxCount &gt; 0 &amp;&amp; curCount &gt; _maxCount)		? '$FontColorUnready'
																			: $None"/>
					<bind name="text" value="'/' + _maxCount"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="FormationInviteListItem">
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<height value="27px"/>
		</style>
		<bind name="name" value="'FormationInviteListItem_' + _teamId + '_' + $index"/>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; {_multiParagraphArray: [{_paragraphText: 'IDS_HINT_INVITE_PLAYERS', _class: '$TextDefault'}], _maxWidth: 270}"/>
			<bind name="tooltip" value="'DivisionEntranceInfotip'; { _isFromTrainingRoomBtn: _isTrainingRoom, _teamId: _teamId }; TooltipBehaviour.infotip; null; 'divisionEntranceInfotipIsVisible'"/>
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<bind name="selected" value="divisionEntranceInfotipIsVisible"/>
		</block>
		<block>
			<style>
				<marginLeft value="13px"/>
				<marginRight value="6px"/>
				<marginTop value="2px"/>
				<hitTest value="false"/>
			</style>
			<block className="icon_plus" type="native">
				<styleClass value="$MiddleVAligned"/>
			</block>
			<block type="text">
				<bind name="watch" value="'formationType'; _isTrainingRoom ? 'TRAINING_ROOM' : 'DIVISION'"/>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginLeft value="2px"/>
				</style>
				<bind name="text" value="tr(toUpperCase('IDS_HINT_LEFT_CLICK_TO_IVITE_TO_' + formationType))"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="InvitationItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5_feather" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<style>
			<width value="260px"/>
			<height value="123px"/>
			<marginRight value="10px"/>
			<marginBottom value="10px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="appear" value="'addedToStage'; 0.3; 0.35; {alpha: 0}; {alpha: 1}; 2"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="26px"/>
				<backgroundColor value="0x01000000"/>
				<marginBottom value="4px"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="appear" value="'addedToStage'; 0.3; 0.3; {alpha: 0.5, width: 0}; {alpha: 1, width: 260}; 2"/>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.3; 0; {alpha: 0, top: 30}; {alpha: 1, top: 0}"/>
				<style>
					<left value="3px"/>
					<top value="-4px"/>
					<position value="absolute"/>
				</style>
				<block className="icon_formation" type="native">
					<bind name="gotoAndStop!" value="divisionType == 'party' ? 'seeker_party' : 'seeker_division'"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'PlayerContactItemSimple'; (divisionType != 'party')	? {_level: senderLevel, _rank: senderRank, _playerName: playerName, _tkStatus: tkStatus}
																					: null"/>
				<block type="text">
					<bind name="visible" value="(divisionType == 'party')"/>
					<style>
						<maxWidth value="280"/>
					</style>
					<styleClass value="$TextHeaderBold"/>
					<bind name="text" value="clubName"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="button_close" type="native">
			<bind name="appear" value="'addedToStage'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<right value="8"/>
				<top value="7px"/>
				<position value="absolute"/>
			</style>
			<bind name="action" value="'buttonClick'; 'rejectDivisionInvitation'; {id: id}"/>
			<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_REJECT'}"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.48; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<style>
					<maxWidth value="260"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="divisionType == 'party' ? 'IDS_INVITES_YOU_TO_JOIN_PARTY' : 'IDS_INVITES_YOU_TO_JOIN_DIVISION'"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.51; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="-3px"/>
				<marginBottom value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader4'"/>
				<bind name="countdown" value="expirationTime; 'countdownText'; 'mm:ss'"/>
				<bind name="pureText" value="'-' + countdownText"/>
			</block>
		</block>
		<block>
			<style>
				<width value="1px"/>
			</style>
			<bind name="appear" value="'addedToStage'; 0.3; 0.3; {alpha: 0, width: 0}; {alpha: 1, width: 260}; 2"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="110px"/>
				<marginTop value="6px"/>
			</style>
			<block className="button_default_small" type="native">
				<bind name="name" value="'acceptInvite'"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="label" value="'IDS_ACCEPT'"/>
				<bind name="action" value="'buttonClick'; 'acceptDivisionInvitation'; {id: id}"/>
			</block>
		</block>
	</block>
	<block className="DHFormationPlayerIcon">
		<bind name="entityDH" value="'entityAccount'; _entityAccountId ? _entityAccountId : $dataRef.ref.id"/>
		<bind name="watchDH" value="'isReady'; ['entityAccount.preBattlePlayerSimple.evStateChanged']; entityAccount.preBattlePlayerSimple.isReady"/>
		<bind name="watchDH" value="'isInBattle'; ['entityAccount.preBattlePlayerSimple.evStateChanged']; entityAccount.preBattlePlayerSimple.isInBattle"/>
		<bind name="watchDH" value="'isCommander'; ['entityAccount.preBattlePlayerSimple.evIsCommanderChanged']; entityAccount.preBattlePlayerSimple.isCommander"/>
		<bind name="watchDH" value="'isTeamCommander'; ['entityAccount.trainingRoomPlayer.evUpdate']; entityAccount.trainingRoomPlayer.isCommander"/>
		<bind name="instance" value="'FormationPlayerIcon'; {isCommander: _isTrainingRoom ? isTeamCommander : isCommander, isReady: isReady, isInBattle: isInBattle, _formationType: 'division', isOtherDivision: _isOtherDivision}"/>
	</block>
	<block className="DivisionHeaderRightClickMenu">
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap3" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$ContextMenuListItem"/>
			<bind name="visible" value="_isCommander"/>
			<block className="dock_submenu_item" type="native">
				<bind name="request" value="'buttonClick'; 'dismissDivision'; {subtitle : 'IDS_DISMISS_DIVISION_QUESTION'}"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<styleClass value="$Fullsize"/>
				<block type="text">
					<bind name="name" value="'menuDismissDivision'"/>
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_DISMISS_DIVISION'"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<bind name="request" value="'buttonClick'; 'leaveDivision'; {subtitle : 'IDS_LEAVE_DIVISION_QUESTION'}"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<styleClass value="$Fullsize"/>
				<block type="text">
					<bind name="name" value="'menuLeaveDivision'"/>
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_LEAVE_DIVISION'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="DivisionStatusTransition">
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="transition" value="divisionData.isReady == false; 0.3; {x : 0}; {x : 94}; {x : 0}; 2"/>
			<bind name="fade" value="divisionData.isReady == false; 0.3; {alpha: 1}; {alpha: 0}; {alpha: 0}; 0; 0.3"/>
			<block className="status_transition_element" type="native">
				<style>
					<marginTop value="2px"/>
					<height value="23px"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="transition" value="divisionData.isReady == true; 0.3; {x : 94}; {x : 0}; {x : 94}; 2"/>
			<bind name="fade" value="divisionData.isReady == true; 0.3; {alpha: 1}; {alpha: 0}; {alpha: 0}; 0; 0.3"/>
			<block className="status_transition_element" type="native">
				<style>
					<marginTop value="2px"/>
					<height value="23px"/>
				</style>
			</block>
		</block>
	</block>
	<block className="DivisionListItem">
		<style>
			<width value="100%"/>
			<height value="27px"/>
		</style>
		<bind name="watch" value="'entityPlayer'; _preBattlePlayers[$index]"/>
		<bind name="watch" value="'entityInvitedPlayer'; $index &gt;= _preBattlePlayers.length ? _preBattleInvitedPlayers[$index - _preBattlePlayers.length] : null"/>
		<block>
			<bind name="visible" value="entityPlayer != null"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="instance" value="_formationPlayerClass ? _formationPlayerClass : 'FormationPlayerItem'; { _entityAccountId: entityPlayer.id} "/>
		</block>
		<block>
			<bind name="visible" value="entityInvitedPlayer != null"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="instance" value="'InvitedPlayerItem'; { entityAccount: entityInvitedPlayer} "/>
		</block>
		<block>
			<bind name="visible" value="_showInvites &amp;&amp; entityPlayer == null &amp;&amp; entityInvitedPlayer == null"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<block className="FormationInviteListItem">
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="27px"/>
				</style>
				<bind name="name" value="'FormationInviteListItem_' + _teamId + '_' + $index"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; {_multiParagraphArray: [{_paragraphText: 'IDS_HINT_INVITE_PLAYERS', _class: '$TextDefault'}], _maxWidth: 270}"/>
					<bind name="tooltip" value="'DivisionEntranceInfotip'; { _isFromTrainingRoomBtn: _isTrainingRoom, _teamId: _teamId }; TooltipBehaviour.infotip; null; 'divisionEntranceInfotipIsVisible'"/>
					<params>
						<param name="soundSet" value="dropmenu_button"/>
					</params>
					<bind name="selected" value="divisionEntranceInfotipIsVisible"/>
				</block>
				<block>
					<style>
						<marginLeft value="13px"/>
						<marginRight value="6px"/>
						<marginTop value="2px"/>
						<hitTest value="false"/>
					</style>
					<block className="icon_plus" type="native">
						<styleClass value="$MiddleVAligned"/>
					</block>
					<block type="text">
						<bind name="watch" value="'formationType'; _isTrainingRoom ? 'TRAINING_ROOM' : 'DIVISION'"/>
						<styleClass value="$TextDefaultBold"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<style>
							<marginLeft value="2px"/>
						</style>
						<bind name="text" value="tr(toUpperCase('IDS_HINT_LEFT_CLICK_TO_IVITE_TO_' + formationType))"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<css name="$TextCarouselShipStatus">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<block className="ShipCarouselContainer">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountSlotsNum'; ['resourceEntity.accountResource.evChangedSlotsNum']; resourceEntity.accountResource.slotsNum"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="var" value="{delayedShowCarousel: false}"/>
		<bind name="dispatch" value="'addedToStage'; 'delayedAddedToStage'; null; 2; 1.5"/>
		<bind name="catch" value="'delayedAddedToStage'; {delayedShowCarousel: true}"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'carouselVisibility'; ['dockEntity.dockData.evUpdate']; dockEntity.dockData.carouselVisibility"/>
		<bind name="fade" value="carouselVisibility &amp;&amp; delayedShowCarousel; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 1; (true &amp;&amp; dockDefaultValues.carouselVisibility) ? 0.25 : 0"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="feature" value="'17'; ''"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<bottom value="36px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<bind name="catch" value="'carouselViewChanged'; {isSmallCarouselView: !(isSmallCarouselView)}; 'saveCarouselViewState'"/>
		<bind name="action" value="'saveCarouselViewState'; 'setUserPref' ; {value : isSmallCarouselView, name: 'isSmallCarouselView'}"/>
		<bind name="watch" value="'isFilteredShipsHided'; (userPrefs.isFilteredShipsHided == null) ? false : userPrefs.isFilteredShipsHided"/>
		<bind name="catch" value="'carouselHideFilteredChanged'; {isFilteredShipsHided: !(isFilteredShipsHided)}; 'saveCarouselHideFilteredState'"/>
		<bind name="action" value="'saveCarouselHideFilteredState'; 'setUserPref' ; {value : isFilteredShipsHided, name: 'isFilteredShipsHided'}"/>
		<bind name="catch" value="'carouselRowsCountChanged'"/>
		<block>
			<style>
				<position value="absolute"/>
				<top value="-30px"/>
			</style>
			<block className="CarouselFilters">
				<bind name="stageSize"/>
				<bind name="watch" value="'isFourRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 160)) : true"/>
				<bind name="watch" value="'isThreeRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 88)) : true"/>
				<bind name="watch" value="'curCarouselRows';	(userPrefs.curRowCountIndex == null)															? 0 :
									(userPrefs.curRowCountIndex == 2 &amp;&amp; isFourRowsEnabled)											? 2 :
									((userPrefs.curRowCountIndex == 2 || userPrefs.curRowCountIndex == 1) &amp;&amp; isThreeRowsEnabled)	? 1
																																	: 0"/>
				<bind name="action" value="'carouselRowsCountChangedByStageHeight'; 'setUserPref' ; {value : curCarouselRows, name: 'curRowCountIndex'}"/>
				<bind name="changeDispatch" value="curCarouselRows; 'carouselRowsCountChangedByStageHeight'"/>
				<bind name="feature" value="13;''"/>
				<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITH_COMMANDER', value: false, ident: 0 }"/>
				<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITHOUT_COMMANDER', value: false, ident: 0 }"/>
				<style>
					<marginLeft value="7px"/>
					<height value="30px"/>
					<flow value="horizontal"/>
				</style>
				<block>
					<bind name="name" value="'CarouselFiltersButton'"/>
					<block className="button_carousel_filters" type="native">
						<bind name="tooltip" value="'CarouselFiltersInfotip'; {	AppliedFiltersCounter: AppliedFiltersCounter,
														_isSmallCarouselView: isSmallCarouselView,
														_isFilteredShipsHided: isFilteredShipsHided}; TooltipBehaviour.verticalInfotipSwitch; null; 'carouselFiltersInfotipIsVIsible'"/>
						<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_TOOLTIP_CAROUSEL_FILTERS'}], _maxWidth: 240 }"/>
						<bind name="selected" value="carouselFiltersInfotipIsVIsible"/>
					</block>
				</block>
				<bind name="catch" value="'shipNameFIlterInfotipSelectedChanged'"/>
				<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
				<bind name="watchDH" value="'selectedFilters'; ['panelEntity.shipRestrictions.evUpdate']; panelEntity.shipRestrictions.selectedFilters"/>
				<block>
					<style>
						<height value="32px"/>
						<marginTop value="-4px"/>
						<marginRight value="12px"/>
						<marginLeft value="4px"/>
					</style>
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
					<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
					<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
					<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
					<block>
						<block className="HasTrainingRoomRestrictions">
							<bind name="watchDH" value="'shipRestrictions' ; ['trainingRoomEntity.shipRestrictions.evUpdate']; trainingRoomEntity.shipRestrictions.selectedFilters"/>
							<bind name="watchDH" value="'shipsCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.shipsCount"/>
							<bind name="watchDH" value="'typesCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.typesCount"/>
							<bind name="primaryEntityDH" value="'defaultRestrictionsEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
							<bind name="watchDH" value="'defaultTypesCount' ; ['defaultRestrictionsEntity.divisionRestrictions.evUpdate']; defaultRestrictionsEntity.divisionRestrictions.typesCount"/>
							<bind name="collectionDH" value="CC.shipFilterItem; 'idsfilters'+'ROOT'"/>
							<bind name="collectionDesign" value="'DES_'+'idsfilters'+'ROOT'; 'idsfilters'; {'filter':$entity.shipFilterItem.type == 'shipId' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
							<bind name="collectionDH" value="CC.shipFilterItem; 'levelfilters'+'ROOT'"/>
							<bind name="collectionDesign" value="'DES_'+'levelfilters'+'ROOT'; 'levelfilters'; {'filter':$entity.shipFilterItem.type == 'level' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
							<bind name="collectionDH" value="CC.shipFilterItem; 'nationfilters'+'ROOT'"/>
							<bind name="collectionDesign" value="'DES_'+'nationfilters'+'ROOT'; 'nationfilters'; {'filter':$entity.shipFilterItem.type == 'nation' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
							<bind name="collectionFields" value="levelfilters; ['shipFilterItem.field']"/>
							<bind name="contains" value="typesCount; $item[1] == -1; 'isAnyShipTypeNotAllowed'"/>
							<bind name="watch" value="'isCarriersRestricted'; typesCount[ShipTypes.AircraftCarrier] &amp;&amp; typesCount[ShipTypes.AircraftCarrier][1] != defaultTypesCount[ShipTypes.AircraftCarrier][1]"/>
							<bind name="watch" value="'isBattleShipsRestricted'; typesCount[ShipTypes.BattleShip] &amp;&amp; typesCount[ShipTypes.BattleShip][1] != defaultTypesCount[ShipTypes.BattleShip][1]"/>
							<bind name="watch" value="'isCruisersRestricted'; typesCount[ShipTypes.Cruiser] &amp;&amp; typesCount[ShipTypes.Cruiser][1] != defaultTypesCount[ShipTypes.Cruiser][1]"/>
							<bind name="watch" value="'isDestroyersRestricted'; typesCount[ShipTypes.Destroyer] &amp;&amp; typesCount[ShipTypes.Destroyer][1] != defaultTypesCount[ShipTypes.Destroyer][1]"/>
							<bind name="watch" value="'isAnyShipTypeRestricted'; isCarriersRestricted || isBattleShipsRestricted || isCruisersRestricted || isDestroyersRestricted"/>
							<bind name="watch" value="'hasTrainingRoomRestrictions'; (idsfilters.length &gt; 0)			||
												(shipTypefilters.length &gt; 0)	||
												(levelfilters.length &gt; 0)		||
												(nationfilters.length &gt; 0)		||
												isShipFilterRestrictionsVisible"/>
							<bind name="watch" value="'isShipFilterRestrictionsVisible'; isAnyShipTypeRestricted &amp;&amp; isAnyShipTypeNotAllowed"/>
						</block>
						<bind name="watch" value="'pveFilterVisible'; selectedBattle.type == BattleTypes.PVE_BATTLE"/>
						<bind name="watch" value="'trainingFilterVisible'; trainingRoomEntity &amp;&amp; hasTrainingRoomRestrictions"/>
						<bind name="watch" value="'rankedFilterVisible'; selectedBattle.type == BattleTypes.RANKED_BATTLE"/>
						<bind name="watch" value="'eventFilterVisible'; selectedBattle.type == BattleTypes.EVENT_BATTLE"/>
						<bind name="watch" value="'clanFilterVisible'; selectedBattle.type == BattleTypes.CLAN_BATTLE"/>
						<bind name="watch" value="'battleTypeFilterVisible'; pveFilterVisible || trainingFilterVisible || rankedFilterVisible || eventFilterVisible || clanFilterVisible"/>
						<bind name="instance" value="'AppliedBattleTypeFilter'; battleTypeFilterVisible ? {}	: null"/>
					</block>
					<block>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipName', shipNameFilterInfotipSelected: shipNameFilterInfotipSelected, _panelEntityId: panelEntity.id}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'level', _panelEntityId: panelEntity.id}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipType', _panelEntityId: panelEntity.id}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'nation', _panelEntityId: panelEntity.id}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'special', _panelEntityId: panelEntity.id}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<bind name="instance" value="'ResetAllFilters'; selectedFilters.length &gt; 0 ? {} : null"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ShipCarousel'; {	_addShipSlotsBuyBlocks: (feature_17 != 'locked'),
											_shipFilterId: CC.mainShipFilter,
											_scrollToStart: true, 
											isSmallCarouselView: isSmallCarouselView,
											_isFilteredShipsHided: isFilteredShipsHided}"/>
		</block>
		<block>
			<bind name="collectionDH" value="CC.ownShip; 'playerShips'"/>
			<bind name="transition" value="rollOver; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 0; rollOver ? 0 : 3"/>
			<style>
				<position value="absolute"/>
				<right value="38px"/>
				<top value="-37px"/>
				<flow value="horizontal"/>
			</style>
			<block>
				<style>
					<marginRight value="2px"/>
				</style>
				<block type="text">
					<style>
						<alpha value="0.75"/>
						<right value="0px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$TextDefaultWhite"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="tr('IDS_SHIPS')+tr('IDS_COLON')+ ' ' + playerShips.length"/>
				</block>
				<block type="text">
					<bind name="visible" value="feature_17 != 'locked'"/>
					<style>
						<alpha value="0.75"/>
						<right value="0px"/>
						<marginTop value="-6px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$TextDefaultWhite"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="tr('IDS_FREE_SLOTS') + ' ' + accountSlotsNum"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<top value="-26px"/>
				<right value="16px"/>
			</style>
			<block className="button_settings_small" type="native">
				<params>
					<param name="name" value="peculiarityFilter"/>
				</params>
				<bind name="selected" value="contentFiltersInfotipIsVIsible"/>
				<bind name="tooltip" value="'PeculiarityFiltersContent'; {}; TooltipBehaviour.verticalInfotipSwitchUp; null; 'contentFiltersInfotipIsVIsible'"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_TOOLTIP_CAROUSEL_FILTERS_SPECIAL'}], _maxWidth: 240 }"/>
			</block>
		</block>
	</block>
	<block className="CarouselItem">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="watch" value="'formationType'; !!trainingRoomEntity ? 'TRAINING_ROOM' : 'DIVISION'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="dataRefDH" value="'shipEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'excludedMain'; ['shipEntity.mainShipFilter.evUpdate']; shipEntity.mainShipFilter.excluded"/>
		<bind name="watch" value="'excluded'; excludedMain"/>
		<bind name="watchDH" value="'isNeedRepair'; ['shipEntity.ownShip.evUpdate']; shipEntity.ownShip.isNeedRepair"/>
		<bind name="watchDH" value="'isNeedShell'; ['shipEntity.ownShip.evUpdate']; shipEntity.ownShip.isNeedShell"/>
		<bind name="watchDH" value="'isLocked'; ['shipEntity.ownShip.evUpdate']; shipEntity.ownShip.isLocked"/>
		<bind name="watchDH" value="'isInFormation'; ['shipEntity.ownShip.evUpdate']; shipEntity.ownShip.isInFormation"/>
		<bind name="watchDH" value="'isDownloaded'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent.isDownloaded"/>
		<bind name="watchDH" value="'flagName'; ['shipEntity.ship.evUpdate']; shipEntity.ship.flagName"/>
		<bind name="watchDH" value="'shipType'; ['shipEntity.ship.evUpdate']; shipEntity.ship.shipType"/>
		<bind name="watchDH" value="'levelRome'; ['shipEntity.ship.evUpdate']; shipEntity.ship.levelRome"/>
		<bind name="watchDH" value="'fullName'; ['shipEntity.ship.evUpdate']; shipEntity.ship.fullName"/>
		<bind name="watchDH" value="'shipId'; []; shipEntity.ship.id"/>
		<bind name="name" value="'carouselItem' + fullName"/>
		<bind name="watch" value="'isSelected'; shipId == _selectedShipId"/>
		<bind name="feature" value="'17'; ''"/>
		<bind name="action" value="'click'; isDownloaded ? 'selectShip' : null; {shipId: shipId}"/>
		<style>
			<width value="216px"/>
		</style>
		<bind name="style" value="'height'; _isSmallCarouselView ? '63px' : '126px'"/>
		<block>
			<bind name="name" value="shipEntity.mainShipFilter.excluded ? 'excluded' : 'included'"/>
			<bind name="style" value="'alpha'; !excluded ? 1 : 0.3"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<block className="BlurMapLow">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.2"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="dock_thumb_normal_9s" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="popup" value="'ShipExtendedTooltip';
											{shipId: shipId,
											_needService: (isNeedRepair || isNeedShell),
											_isLocked: isLocked
											};
											
											1;{type:'lesta.unbound.bindings.popup.ReasonPopupSpacingComponent',params:{directionsPriority:['top'],reasonOffsetTop:10,}};{reason:{mouseOver:{action:'show',params:{duration:0.3,startProps:{alpha:0,x:0,y:10},finishProps:{alpha:1,x:0,y:0},delay:0.7}},mouseOut:{action:'hide',params:{duration:0.1,startProps:{alpha:1,x:0,y:0},finishProps:{alpha:0,x:0,y:-5}}},removedFromStage:{action:'hide',params:{duration:0.1,startProps:{alpha:1,x:0,y:0},finishProps:{alpha:0,x:0,y:-5}}},popup_opened:{action:'hideByPriority',params:{duration:0.1,startProps:{alpha:1,x:0,y:0},finishProps:{alpha:0,x:0,y:-5}}}},reasonScope:{onLostTop:{action:'hide',params:{duration:0.1,startProps:{alpha:1,x:0,y:0},finishProps:{alpha:0,x:0,y:-5}}}}
											}"/>
				<bind name="menu" value="'ShipTreeMenu'; { shipId: shipId, _disableShipActions: _disableShipActions }"/>
				<bind name="doubleClickEnabled" value="feature_17 != 'locked' ? true : false"/>
				<bind name="action" value="'doubleClick'; !_disableShipActions ? 'changeInset' : ''; { inset: LobbyConstants.SHIP_MODULES }"/>
				<bind name="soundSet" value="'carousel_item'"/>
				<bind name="selected" value="isSelected"/>
				<bind name="name" value="'carouselItem' + fullName + '_indicator'"/>
			</block>
			<block>
				<bind name="instance" value="'ShipCarouselSlotWrapper';
				{
					_isSmallCarouselView : _isSmallCarouselView,
					_data : {
						isNeedRepair: isNeedRepair,
						isNeedShell: isNeedShell,
						isLocked: isLocked,
						shipCountry: flagName,
						shipId: shipId,
						shipType: shipType,
						shipLevelRome: levelRome,
						rollOver: rollOver,
						isInFormation: isInFormation,
						_formationType: formationType,
						_selected: isSelected,
						_rollOver: rollOver,
						_mouseDown: mouseDown
					}
				}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(isDownloaded)"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="action" value="'click'; 'exitGameAndContinueDownloading'"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; !(isDownloaded)	? { _mouseInstructions:		[{_type: 'warning', _instructionText: shipInfo.isEventLike	? 'IDS_ENTER_IN_FULL_VERSION_FOR_ANNOUNCE_SHIPS'
																																							: 'IDS_ENTER_IN_FULL_VERSION_FOR_SHIPS'},
																								 {_type: 'left', _instructionText: 'IDS_CONTINUE_DOWNLOADING_HINT_EXIT'}], 
																								  _maxWidth: 250 }
																	: null"/>
			<block>
				<bind name="transition" value="rollOver; 0.07; {alpha: 0.7}; {alpha: 1}"/>
				<style>
					<hitTest value="false"/>
					<width value="39px"/>
					<height value="39px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="style" value="'backgroundImage'; 'url:../service_kit/icons/icon_download.png'"/>
			</block>
		</block>
	</block>
	<block className="ShipCarouselSlotWrapper">
		<bind name="child" value="_isSmallCarouselView; _data; 'ShipCarouselDefaultSlot'; 'ShipCarouselSmallSlot'"/>
	</block>
	<block className="ShipCarousel">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="watch" value="'rowsCount'; 	(!isSmallCarouselView)	? 1	:
								_fixedCarouselRows		? _fixedCarouselRows :
								curRowCountIndex == 0 	? 2 : 
								curRowCountIndex == 1 	? 3
														: 4"/>
		<bind name="watch" value="'carouselSmallViewHeight'; !isSmallCarouselView	? 63
																	: (rowsCount * 63)"/>
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<minHeight value="126"/>
		</style>
		<bind name="style" value="'height'; carouselSmallViewHeight +  'px'"/>
		<bind name="name" value="'carouselPlayerShips'"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'maxSlotsOnScreen'; isSmallCarouselView ? ((stageWidth - 58) / 214) / 2 : ((stageWidth - 58) / 214) "/>
		<block>
			<style>
				<width value="20px"/>
				<height value="100%"/>
			</style>
			<block className="button_slide_left" type="native">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAligned"/>
				<params>
					<param name="focusable" value="false"/>
				</params>
				<bind name="enabled" value="ShipsCarouselCanScrollLeft"/>
				<bind name="name" value="'buttonCarouselLeft'"/>
				<bind name="dispatch" value="'buttonClick'; 'ShipsCarouselScrollPrev'"/>
			</block>
		</block>
		<bind name="collectionDH" value="_shipFilterId; 'filteredCarouselShips'; 'filtered.sorted'"/>
		<block>
			<style>
				<width value="100%f"/>
				<height value="100%"/>
				<overflow value="scroll"/>
				<scrollArea value="ModernScrollAreaHorizontal"/>
				<scrollbarController value="lesta.unbound.style.UbScrollingControllerTouch"/>
				<wheelScrollSpeed value="216"/>
				<layout value="lesta.unbound.layout.measure.CarouselLayout"/>
				<itemWidth value="216px"/>
				<itemHeight value="126px"/>
			</style>
			<bind name="style" value="'flow'; isSmallCarouselView ? 'vtile' : 'horizontal'"/>
			<bind name="style" value="'itemHeight'; isSmallCarouselView ? '63px' : '126px'"/>
			<bind name="name" value="'shipCarouseContaner'"/>
			<bind name="generatorDH" value="_shipFilterId; 'CarouselItem'; _isFilteredShipsHided ? 'filtered.sorted'
																				: 'sorted'; {	shipFilterId: _shipFilterId,
																								_selectedShipId: shipIdForModuleInset,
																								_isSmallCarouselView: isSmallCarouselView,
																								_disableShipActions: _disableShipActions}"/>
			<bind name="scrollController" value="'ShipsCarousel'; 216; rowsCount"/>
			<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerShipsCarousel; _shipFilterId; 'sorted'; 'ShipsCarousel'; _scrollToStart"/>
			<bind name="dispatch" value="'addedToStage'; 'ShipsCarouselScrollToSelected'"/>
			<block>
				<bind name="visible" value="(filteredCarouselShips.length == 0 &amp;&amp; _isFilteredShipsHided)"/>
				<block className="ShipCarouselNoCompatibleShips">
					<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
					<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
					<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
					<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
					<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CAROUSEL_NO_COMPATIBLE_SHIPS_TOOLTIP'}; 0"/>
					<block className="inner_panel" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<styleClass value="$MiddleVAligned"/>
						<block type="text">
							<style>
								<width value="100%"/>
								<textAlign value="center"/>
								<marginRight value="8px"/>
								<marginLeft value="8px"/>
								<leading value="0"/>
							</style>
							<styleClass value="$TextDefaultBold17NM"/>
							<bind name="class" value="'$FontColorUnready'"/>
							<text value="IDS_CAROUSEL_NO_COMPATIBLE_SHIPS"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="_addShipSlotsBuyBlocks"/>
				<block className="ShipCarouselPurchaseShip">
					<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
					<bind name="watchDH" value="'accountSlotsNum'; ['resourceEntity.accountResource.evChangedSlotsNum']; resourceEntity.accountResource.slotsNum"/>
					<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
					<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
					<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
					<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
					<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
					<block className="inner_panel" type="native">
						<styleClass value="$Fullsize"/>
						<style>
							<position value="absolute"/>
						</style>
					</block>
					<block>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$MiddleVAligned"/>
						<block>
							<style>
								<width value="190px"/>
							</style>
							<block className="button_dock" type="native">
								<bind name="tooltip" value="'PurchaseShipTooltip'; {}; 1"/>
								<style>
									<width value="100%"/>
									<height value="30px"/>
								</style>
								<bind name="enabled" value="_enabled"/>
								<bind name="action" value="'buttonClick'; 'changeInset'; { inset: LobbyConstants.SHIP_RESEARCH_TREE}"/>
								<bind name="dispatch" value="'buttonClick'; 'hideCrew'"/>
								<block>
									<style>
										<marginTop value="8px"/>
										<hitTest value="false"/>
									</style>
									<styleClass value="$MiddleAligned"/>
									<block type="text">
										<styleClass value="$TextDefaultBold"/>
										<styleClass value="$MiddleVAligned"/>
										<text value="IDS_PURCHASE_SHIP_UPPER_CASE"/>
									</block>
									<style>
										<flow value="horizontal"/>
									</style>
								</block>
							</block>
						</block>
						<block>
							<bind name="visible" value="accountSlotsNum &gt; 0"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<hitTest value="false"/>
								<marginTop value="-6px"/>
							</style>
							<block type="text">
								<bind name="name" value="'ShipCarouselFreeSlots'"/>
								<styleClass value="$TextDefault"/>
								<bind name="class" value="'$FontColorBlueish'"/>
								<bind name="text" value="tr('IDS_FREE_SLOTS')  + ' ' + accountSlotsNum"/>
							</block>
						</block>
						<block>
							<bind name="visible" value="accountSlotsNum == 0"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<hitTest value="false"/>
								<marginTop value="-8px"/>
							</style>
							<block type="text">
								<styleClass value="$TextDefaultBold"/>
								<styleClass value="$FontColorUnready"/>
								<style>
									<maxWidth value="170"/>
									<textAlign value="center"/>
								</style>
								<bind name="text" value="'[icon] ' + tr('IDS_NO_FREE_SLOTS')"/>
								<bind name="substitute" value="''; 5; {'[icon]': 'icon_warning_orange_bm'}"/>
							</block>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="_addShipSlotsBuyBlocks"/>
				<block className="ShipCarouselPurchaseShipSlot">
					<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'SLOT_COST'; 'slotPrice'"/>
					<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
					<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
					<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
					<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
					<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
					<block className="inner_panel" type="native">
						<styleClass value="$Fullsize"/>
						<style>
							<position value="absolute"/>
						</style>
					</block>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<styleClass value="$MiddleAligned"/>
						<block>
							<style>
								<width value="190px"/>
							</style>
							<block className="button_dock" type="native">
								<bind name="tooltip" value="'PurchaseSlotTooltip'; {}; 1"/>
								<style>
									<width value="100%"/>
									<height value="30px"/>
								</style>
								<bind name="enabled" value="_enabled"/>
								<bind name="name" value="'buttonBuySlots'"/>
								<bind name="input"/>
								<block>
									<style>
										<marginTop value="8px"/>
									</style>
									<styleClass value="$MiddleAligned"/>
									<style>
										<mouseEnabled value="false"/>
										<mouseChildren value="false"/>
									</style>
									<block type="text">
										<styleClass value="$TextDefaultBold"/>
										<styleClass value="$MiddleVAligned"/>
										<text value="IDS_PURCHASE_SLOT_FOR_UPPER_CASE"/>
									</block>
									<style>
										<flow value="horizontal"/>
									</style>
								</block>
							</block>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<style>
								<marginTop value="-6px"/>
							</style>
							<bind name="instance" value="'PriceTag'; { priceInfo: slotPrice.prices[0], _showDiscountTag:true}"/>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<height value="100%"/>
				<width value="20px"/>
			</style>
			<block className="button_slide_right" type="native">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAligned"/>
				<params>
					<param name="focusable" value="false"/>
				</params>
				<bind name="enabled" value="ShipsCarouselCanScrollRight"/>
				<bind name="name" value="'buttonCarouselRight'"/>
				<bind name="dispatch" value="'buttonClick'; 'ShipsCarouselScrollNext'"/>
			</block>
		</block>
	</block>
	<css name="$CarouselServiceBlock">
		<marginBottom value="3px"/>
		<height value="120px"/>
		<width value="204px"/>
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
		<marginTop value="3px"/>
	</css>
	<css name="$CarouselServiceBlockSmall">
		<marginBottom value="3px"/>
		<height value="88px"/>
		<width value="204px"/>
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
		<marginTop value="3px"/>
	</css>
	<css name="$CarouselServiceBlock3rows">
		<marginBottom value="3px"/>
		<height value="182px"/>
		<width value="204px"/>
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
		<marginTop value="3px"/>
	</css>
	<css name="$CarouselServiceBlock4rows">
		<marginBottom value="3px"/>
		<height value="246px"/>
		<width value="204px"/>
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
		<marginTop value="3px"/>
	</css>
	<block className="ShipCarouselPurchaseShip">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountSlotsNum'; ['resourceEntity.accountResource.evChangedSlotsNum']; resourceEntity.accountResource.slotsNum"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
		<block className="inner_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<style>
					<width value="190px"/>
				</style>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'PurchaseShipTooltip'; {}; 1"/>
					<style>
						<width value="100%"/>
						<height value="30px"/>
					</style>
					<bind name="enabled" value="_enabled"/>
					<bind name="action" value="'buttonClick'; 'changeInset'; { inset: LobbyConstants.SHIP_RESEARCH_TREE}"/>
					<bind name="dispatch" value="'buttonClick'; 'hideCrew'"/>
					<block>
						<style>
							<marginTop value="8px"/>
							<hitTest value="false"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<block type="text">
							<styleClass value="$TextDefaultBold"/>
							<styleClass value="$MiddleVAligned"/>
							<text value="IDS_PURCHASE_SHIP_UPPER_CASE"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="accountSlotsNum &gt; 0"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<hitTest value="false"/>
					<marginTop value="-6px"/>
				</style>
				<block type="text">
					<bind name="name" value="'ShipCarouselFreeSlots'"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="tr('IDS_FREE_SLOTS')  + ' ' + accountSlotsNum"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="accountSlotsNum == 0"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<hitTest value="false"/>
					<marginTop value="-8px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$FontColorUnready"/>
					<style>
						<maxWidth value="170"/>
						<textAlign value="center"/>
					</style>
					<bind name="text" value="'[icon] ' + tr('IDS_NO_FREE_SLOTS')"/>
					<bind name="substitute" value="''; 5; {'[icon]': 'icon_warning_orange_bm'}"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipCarouselNoCompatibleShips">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CAROUSEL_NO_COMPATIBLE_SHIPS_TOOLTIP'}; 0"/>
		<block className="inner_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="center"/>
					<marginRight value="8px"/>
					<marginLeft value="8px"/>
					<leading value="0"/>
				</style>
				<styleClass value="$TextDefaultBold17NM"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<text value="IDS_CAROUSEL_NO_COMPATIBLE_SHIPS"/>
			</block>
		</block>
	</block>
	<block className="ShipCarouselPurchaseShipSlot">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'SLOT_COST'; 'slotPrice'"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="class" value="	!(isSmallCarouselView) 	? '$CarouselServiceBlock' :
					curRowCountIndex == 0 	? '$CarouselServiceBlock'		:
					curRowCountIndex == 1 	? '$CarouselServiceBlock3rows'	:
					curRowCountIndex == 2 	? '$CarouselServiceBlock4rows'
											: '$CarouselServiceBlock'"/>
		<block className="inner_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAligned"/>
			<block>
				<style>
					<width value="190px"/>
				</style>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'PurchaseSlotTooltip'; {}; 1"/>
					<style>
						<width value="100%"/>
						<height value="30px"/>
					</style>
					<bind name="enabled" value="_enabled"/>
					<bind name="name" value="'buttonBuySlots'"/>
					<bind name="input"/>
					<block>
						<style>
							<marginTop value="8px"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<style>
							<mouseEnabled value="false"/>
							<mouseChildren value="false"/>
						</style>
						<block type="text">
							<styleClass value="$TextDefaultBold"/>
							<styleClass value="$MiddleVAligned"/>
							<text value="IDS_PURCHASE_SLOT_FOR_UPPER_CASE"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="-6px"/>
				</style>
				<bind name="instance" value="'PriceTag'; { priceInfo: slotPrice.prices[0], _showDiscountTag:true}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipCarouselDefaultSlot">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<style>
			<width value="204px"/>
			<height value="120px"/>
		</style>
		<bind name="transition" value="_selected; 0.15; {width: 204, height: 120}; {width: 216, height: 126}"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'CANCEL_BATTLE_LOCK_COOLDOWN_Cost'; 'pveCooldownCost'"/>
		<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
		<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
		<bind name="watch" value="'freezeListPath'; playerShipInfo.id + '_' + selectedBattle.type"/>
		<bind name="primaryEntityDH" value="'shipFreezeListEntity'; CC.freezeList; freezeListPath"/>
		<bind name="watchDH" value="'freezeListArr'; ['shipFreezeListEntity.freezeList.evUpdate']; shipFreezeListEntity.freezeList.items"/>
		<bind name="watch" value="'isShipFrozen'; (shipFreezeListEntity ? true : false)"/>
		<block className="thumb_hl_red" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
				<alpha value="1.2"/>
			</style>
			<bind name="selected" value="_selected"/>
			<bind name="visible" value="((isNeedRepair || isNeedShell || !shipInfoSlim.isDownloaded || isShipFrozen) ? true : false)"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<block>
				<style>
					<position value="absolute"/>
					<left value="2px"/>
					<top value="2px"/>
					<width value="196px"/>
					<height value="118px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (!shipInfoSlim.isDownloaded) || (playerShipInfo.crewId == 0) || isShipFrozen) ? 0.3 : 0.5"/>
				<bind name="transition" value="!_selected; 0.15; {width: 208, height: 126}; {width: 196, height: 118} "/>
				<bind name="instance" value="'NationFlagsBig'; {_width: '100%', _height: '100%', shipCountry: shipInfo.flagName}"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (!shipInfoSlim.isDownloaded) || (playerShipInfo.crewId == 0) || isShipFrozen) ? 0.4 : 1"/>
				<style>
					<width value="204px"/>
					<height value="120px"/>
					<backgroundStretchX value="true"/>
					<backgroundStretchY value="true"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
				<bind name="transition" value="_selected; 0.15; {width: 204, height: 120}; {width: 214, height: 126}"/>
			</block>
			<block>
				<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_TOOLTIP_PRIMARY_SHIP', tooltipSubText: 'IDS_TOOLTIP_PRIMARY_SHIP_DESCRIPTION'}"/>
				<style>
					<position value="absolute"/>
					<right value="-1px"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="playerShipInfo.isPrimary"/>
				<block className="icon_primary_ribbon" type="native"/>
			</block>
			<block>
				<bind name="visible" value="playerShipInfo.timeRent &gt; 0"/>
				<bind name="name" value="'timeRent_' + shipInfo.fullName"/>
				<style>
					<position value="absolute"/>
					<right value="3px"/>
					<top value="3px"/>
				</style>
				<bind name="instance" value="'RentTimer'; (playerShipInfo.timeRent &gt; 0)  ? {_timeRent: playerShipInfo.timeRent, _shipGroup: shipEntity.ship.group} : null"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || !shipInfoSlim.isDownloaded || (playerShipInfo.crewId == 0) || isShipFrozen) ? 0.3 : 1"/>
				<styleClass value="$Fullsize"/>
				<style>
					<marginLeft value="8px"/>
					<marginTop value="4px"/>
					<marginRight value="8px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<block>
					<style>
						<height value="20px"/>
					</style>
					<block className="icon_wreath" type="native">
						<bind name="name" value="upgradableShipInfo.isElite ? 'CarouselShipElite_' + shipInfo.fullName : '' "/>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<position value="absolute"/>
							<left value="-5px"/>
						</style>
						<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
						<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
										shipInfo.isPremium 	? 'premium'
															: 'elite'"/>
					</block>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<block className="icon_ship" type="native">
							<style>
								<marginBottom value="2px"/>
							</style>
							<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: shipTypeIDS}; 0"/>
						</block>
					</block>
					<block type="text">
						<styleClass value="$TextSecondaryBold"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<style>
							<marginTop value="-1px"/>
							<marginLeft value="3px"/>
							<marginRight value="3px"/>
						</style>
						<bind name="text" value="shipLevelRome"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="2px"/>
						<right value="0"/>
					</style>
					<block type="text">
						<style>
							<width value="115px"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextDefaultBold"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS))"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (playerShipInfo.crewId == 0) || (!shipInfoSlim.isDownloaded) || isShipFrozen) ? 0.5 : 1"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; {_multiParagraphArray: [	{ _paragraphText: (playerShipInfo.remainingExpBonusWins &gt; 1) 	? subst('IDS_TOOLTIP_EXPERIENCE_MULTIPLIER', [], {_battleAmount: playerShipInfo.remainingExpBonusWins}, playerShipInfo.remainingExpBonusWins)
																																			: 'IDS_TOOLTIP_EXPERIENCE_MULTIPLIER_FIRST_WIN' },
																			{ _paragraphText: 'IDS_FIRST_WIN_HINT_EXT' }
																			], _maxWidth: 300}"/>
			<style>
				<position value="absolute"/>
				<bottom value="4px"/>
				<left value="8px"/>
			</style>
			<bind name="instance" value="'DoubleExperience'; (playerShipInfo.expMultiply &gt; 1) ? { expMultiplyPercentsString : subst('%m',[playerShipInfo.expMultiply]) } : null"/>
		</block>
		<block>
			<style>
				<alpha value="0.4"/>
				<backgroundColor value="0x00000000"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="((isNeedRepair || isNeedShell || !shipInfoSlim.isDownloaded || isShipFrozen) ? true : false)"/>
		</block>
		<block>
			<bind name="visible" value="(isAlterablePriceMenuVisible == false)"/>
			<bind name="name" value="'isLockedShip_' + shipInfo.fullName + '_' + isLocked"/>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<hitTest value="false"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'ShipCarouselSlotStatus';	(isShipFrozen &amp;&amp; !(_rollOver))			? { _status:  toUpperCase(tr('IDS_SHIP_FROZEN_FOR_PVE')), isPositive: false, _small: true} :
														(isNeedRepair || isNeedShell) &amp;&amp; 
														!(_rollOver) &amp;&amp; !(_mouseDown) &amp;&amp; 
														playerShipInfo.crewId != 0				? { _status: toUpperCase(tr('IDS_NEED_SERVICE')), isPositive: false, _small: true} :
														isInFormation							? { _status: toUpperCase(tr('IDS_READY_TO_BATTLE_IN_' + toUpperCase(_formationType))), isPositive: true, _small: true } :
														isLocked								? { _status: toUpperCase(tr('IDS_IN_BATTLE')), isPositive: false, _small: true} :
														(playerShipInfo.crewId == 0)			? { _status: toUpperCase(tr('IDS_NO_CREW')), isPositive: false, _small: true}
																								: null "/>
			</block>
			<block>
				<bind name="name" value="isShipFrozen ? 'CarouselShipFreeze_' + shipInfo.fullName : ''"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="8px"/>
				</style>
				<bind name="instance" value="'CarouselShipFreeze'; (isShipFrozen &amp;&amp; !(_rollOver)) ? {_freezeListArr: freezeListArr} : null"/>
			</block>
		</block>
		<block>
			<style>
				<width value="190px"/>
			</style>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="watch" value="'unFreezePriceIndex'; (userPrefs.unFreezePriceIndex == null) ? 0 : userPrefs.unFreezePriceIndex"/>
			<bind name="watch" value="'selectedPriceIndex'; (pveCooldownCost.prices.length &gt; 1 ? unFreezePriceIndex : 0)}"/>
			<bind name="catch" value="'selectedPriceChanged'"/>
			<bind name="dispatch" value="'selectedPriceChanged';'selectedPriceChangedDelayed'; {}; 2; 0.05"/>
			<bind name="action" value="'selectedPriceChangedDelayed'; 'setUserPref' ; {value: selectedPriceIndex, name: 'unFreezePriceIndex'}"/>
			<bind name="var" value="{isAlterablePriceMenuVisible: false}"/>
			<bind name="catch" value="'alterablePriceTagMenuVisibleChanged'"/>
			<bind name="watch" value="'isUnfreezeButtonVisible'; (isAlterablePriceMenuVisible || _rollOver) &amp;&amp; isShipFrozen"/>
			<bind name="watch" value="'isServiceButtonVisible';	(isAlterablePriceMenuVisible || _rollOver) &amp;&amp; !isShipFrozen &amp;&amp;
												(isNeedRepair || isNeedShell) &amp;&amp; playerShipInfo.crewId != 0"/>
			<bind name="instance" value="'DockButtonCostMedium'; isServiceButtonVisible 	? { _label: 'IDS_SERVICE_C', _tooltipText: 'IDS_SERVICE_C', _prices: [{	finalPrice: playerShipInfo.costTotal,
																																				currency: 'credits'}],
																			_action: 'serveShip', _actionParams: {shipId : playerShipInfo.id}, _selectedPriceIndex: 0,
																			_deficitLabel: 'IDS_SERVICE_COST'}
																		: null"/>
			<bind name="instance" value="'DockButtonCostMedium'; isUnfreezeButtonVisible	?	{	_label: 'IDS_UNFREEZE_FOR_PVE_BTN',
																				_deficitLabel: 'IDS_PVE_UNFREEZE_COST',
																				_tooltipText: 'IDS_UNFREEZE_COST_TOOLTIP',
																				_prices: pveCooldownCost.prices,
																				_selectedPriceIndex: selectedPriceIndex,
																				_request: 'openUnfreezeShipWindow',
																				_requestParams: { 	shipId: playerShipInfo.id,
																									battleType: selectedBattle.type}
																			}
																		:	null"/>
		</block>
	</block>
	<block className="ShipCarouselSmallSlot">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'CANCEL_BATTLE_LOCK_COOLDOWN_Cost'; 'pveCooldownCost'"/>
		<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
		<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
		<bind name="watch" value="'freezeListPath'; playerShipInfo.id + '_' + selectedBattle.type"/>
		<bind name="primaryEntityDH" value="'shipFreezeListEntity'; CC.freezeList; freezeListPath"/>
		<bind name="watchDH" value="'freezeListArr'; ['shipFreezeListEntity.freezeList.evUpdate']; shipFreezeListEntity.freezeList.items"/>
		<bind name="watch" value="'isShipFrozen'; (shipFreezeListEntity ? true : false)"/>
		<style>
			<width value="204px"/>
			<height value="56px"/>
		</style>
		<bind name="transition" value="_selected; 0.15; {width: 204, height: 56}; {width: 216, height: 60}"/>
		<block className="thumb_hl_red" type="native">
			<bind name="visible" value="((isNeedRepair || isNeedShell || !shipInfoSlim.isDownloaded || isShipFrozen) ? true : false)"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
				<alpha value="1.2"/>
			</style>
			<bind name="selected" value="_selected"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<block>
				<style>
					<position value="absolute"/>
					<alpha value="0.6"/>
					<top value="2px"/>
					<width value="95px"/>
					<height value="56px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; ((isNeedRepair || isNeedShell || isLocked || (playerShipInfo.crewId == 0) || !shipInfoSlim.isDownloaded || isShipFrozen) ? 0.4 : 0.6)"/>
				<bind name="transition" value="!_selected; 0.15; {width: 99, height: 60}; {width: 95, height: 56}"/>
				<bind name="instance" value="'NationFlagsSmall'; {_width: '100%', _height: '100%', shipCountry: shipCountry}"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (playerShipInfo.crewId == 0) || !shipInfoSlim.isDownloaded || isShipFrozen) ? 0.4 : 1"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
					<marginLeft value="8px"/>
					<marginTop value="4px"/>
					<marginRight value="8px"/>
					<marginBottom value="4px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<height value="20px"/>
						<marginTop value="2px"/>
					</style>
					<block className="icon_wreath" type="native">
						<bind name="name" value="upgradableShipInfo.isElite ? 'CarouselShipElite_' + shipInfo.fullName : '' "/>
						<styleClass value="$MiddleVAlignedAbsolutely"/>
						<style>
							<left value="-5px"/>
						</style>
						<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
						<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
										shipInfo.isPremium 	? 'premium'
															: 'elite'"/>
					</block>
					<block className="icon_ship" type="native">
						<styleClass value="$MiddleVAligned"/>
						<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: shipTypeIDS}; 0"/>
					</block>
					<block type="text">
						<styleClass value="$TextSecondaryBold"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<style>
							<marginTop value="-1px"/>
							<marginLeft value="3px"/>
							<marginRight value="3px"/>
							<width value="40px"/>
						</style>
						<bind name="text" value="shipLevelRome"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<right value="0px"/>
					</style>
					<bind name="instance" value="'ShipSilhouetteRightAligned'; {_shipID: shipInfo.id}"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="2px"/>
						<right value="0"/>
					</style>
					<block type="text">
						<style>
							<width value="115px"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextDefaultBold"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS))"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_TOOLTIP_PRIMARY_SHIP', tooltipSubText: 'IDS_TOOLTIP_PRIMARY_SHIP_DESCRIPTION'}"/>
				<style>
					<position value="absolute"/>
					<right value="-1px"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="playerShipInfo.isPrimary"/>
				<block className="icon_primary_ribbon" type="native"/>
			</block>
			<block>
				<bind name="visible" value="(playerShipInfo.timeRent &gt; 0)"/>
				<bind name="name" value="'timeRent_' + shipInfo.fullName"/>
				<style>
					<position value="absolute"/>
					<right value="3px"/>
					<top value="3px"/>
				</style>
				<bind name="instance" value="'RentTimer'; (playerShipInfo.timeRent &gt; 0) ? {_timeRent: playerShipInfo.timeRent} : null"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (playerShipInfo.crewId == 0) || !shipInfoSlim.isDownloaded || isShipFrozen) ? 0.5 : 1"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; {_multiParagraphArray: [	{ _paragraphText: (playerShipInfo.remainingExpBonusWins &gt; 1) 	? subst('IDS_TOOLTIP_EXPERIENCE_MULTIPLIER', [], {_battleAmount: playerShipInfo.remainingExpBonusWins}, playerShipInfo.remainingExpBonusWins)
																																				: 'IDS_TOOLTIP_EXPERIENCE_MULTIPLIER_FIRST_WIN' },
																				{ _paragraphText: 'IDS_FIRST_WIN_HINT_EXT' }
																				], _maxWidth: 300}"/>
				<style>
					<position value="absolute"/>
					<bottom value="4px"/>
					<left value="4px"/>
				</style>
				<bind name="instance" value="'DoubleExperience'; (playerShipInfo.expMultiply &gt; 1) ? { expMultiplyPercentsString : subst('%m',[playerShipInfo.expMultiply]) } : null"/>
			</block>
		</block>
		<block>
			<style>
				<alpha value="0.4"/>
				<backgroundColor value="0x00000000"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="((isNeedRepair || isNeedShell || !shipInfoSlim.isDownloaded || isShipFrozen) ? true : false)"/>
		</block>
		<block>
			<bind name="name" value="'isLockedShip_' + shipInfo.fullName + '_' + isLocked"/>
			<bind name="visible" value="(isAlterablePriceMenuVisible == false)"/>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<hitTest value="false"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'ShipCarouselSlotStatus';	(isShipFrozen &amp;&amp; !(_rollOver))		? { _status:  toUpperCase(tr('IDS_SHIP_FROZEN_FOR_PVE')), isPositive: false, _small: true} :
														(isNeedRepair || isNeedShell) &amp;&amp; 
														!(_rollOver) &amp;&amp; !(_mouseDown) &amp;&amp; 
														playerShipInfo.crewId != 0			? { _status: toUpperCase(tr('IDS_NEED_SERVICE')), isPositive: false, _small: true} :
														isInFormation						? { _status: toUpperCase(tr('IDS_READY_TO_BATTLE_IN_' + toUpperCase(_formationType))), isPositive: true, _small: true } :
														isLocked							? { _status: toUpperCase(tr('IDS_IN_BATTLE')), isPositive: false, _small: true} :
														(playerShipInfo.crewId == 0)		? { _status: toUpperCase(tr('IDS_NO_CREW')), isPositive: false, _small: true}
																							: null "/>
			</block>
			<block>
				<bind name="name" value="isShipFrozen ? 'CarouselShipFreeze_' + shipInfo.fullName : ''"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="8px"/>
				</style>
				<bind name="instance" value="'CarouselShipFreeze'; (isShipFrozen &amp;&amp; !(_rollOver)) ? {_freezeListArr: freezeListArr, _small: true} : null"/>
			</block>
		</block>
		<block>
			<style>
				<width value="190px"/>
			</style>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="watch" value="'unFreezePriceIndex'; (userPrefs.unFreezePriceIndex == null) ? 0 : userPrefs.unFreezePriceIndex"/>
			<bind name="watch" value="'selectedPriceIndex'; (pveCooldownCost.prices.length &gt; 1 ? unFreezePriceIndex : 0)}"/>
			<bind name="catch" value="'selectedPriceChanged'"/>
			<bind name="dispatch" value="'selectedPriceChanged';'selectedPriceChangedDelayed'; {}; 2; 0.05"/>
			<bind name="action" value="'selectedPriceChangedDelayed'; 'setUserPref' ; {value: selectedPriceIndex, name: 'unFreezePriceIndex'}"/>
			<bind name="var" value="{isAlterablePriceMenuVisible: false}"/>
			<bind name="catch" value="'alterablePriceTagMenuVisibleChanged'"/>
			<bind name="watch" value="'isUnfreezeButtonVisible'; (isAlterablePriceMenuVisible || _rollOver) &amp;&amp; isShipFrozen"/>
			<bind name="watch" value="'isServiceButtonVisible';	(isAlterablePriceMenuVisible || _rollOver) &amp;&amp; !isShipFrozen &amp;&amp;
												(isNeedRepair || isNeedShell) &amp;&amp; playerShipInfo.crewId != 0"/>
			<bind name="instance" value="'DockButtonCostMedium'; isServiceButtonVisible 	? { _label: 'IDS_SERVICE_C', _tooltipText: 'IDS_SERVICE_C', _prices: [{	finalPrice: playerShipInfo.costTotal,
																																				currency: 'credits'}],
																			_action: 'serveShip', _actionParams: {shipId : playerShipInfo.id}, _selectedPriceIndex: 0,
																			_deficitLabel: 'IDS_SERVICE_COST'}
																		: null"/>
			<bind name="instance" value="'DockButtonCostMedium'; isUnfreezeButtonVisible	?	{	_label: 'IDS_UNFREEZE_FOR_PVE_BTN',
																				_deficitLabel: 'IDS_PVE_UNFREEZE_COST',
																				_tooltipText: 'IDS_UNFREEZE_COST_TOOLTIP',
																				_prices: pveCooldownCost.prices,
																				_selectedPriceIndex: selectedPriceIndex,
																				_request: 'openUnfreezeShipWindow',
																				_requestParams: { 	shipId: playerShipInfo.id,
																									battleType: selectedBattle.type}
																			}
																		:	null"/>
		</block>
	</block>
	<block className="CarouselShipFreeze">
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="repeat" value="_freezeListArr; 'CarouselShipFreezeRenderer'; {_small: _small}"/>
	</block>
	<block className="CarouselShipFreezeRenderer">
		<bind name="entityDH" value="'shipFreezeEntity'; $value"/>
		<bind name="countdown" value="shipFreezeEntity.shipFreeze.freezeEnd; 'freezeTimer'; 'hh:mm:ss'"/>
		<block type="text">
			<styleClass value="$TextDefaultBold17NM"/>
			<styleClass value="$FontColorUnready"/>
			<bind name="pureText" value="freezeTimer"/>
		</block>
	</block>
	<block className="RentTimer">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="appear" value="'addedToStage'; 0.1; 0.1; {alpha: 0}; {alpha: 1}; 0"/>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'isRentOver'; (serverTime &gt; _timeRent)"/>
		<bind name="watch" value="'daysTimeRent';	_rentDuration 									? _rentDuration :
									(((_timeRent - serverTime) / 86400) &gt;= 1)		? (((_timeRent - serverTime) - ((_timeRent - serverTime) % 86400)) / 86400)
																					: 0"/>
		<bind name="watch" value="'secondsToHours';	((_timeRent - serverTime) % 86400)"/>
		<bind name="watch" value="'hoursTimeRent'; 	((secondsToHours / 3600) &gt; 1)	? ((secondsToHours - (secondsToHours % 3600)) / 3600) :
									((secondsToHours / 3600) &gt; 0)	? 1
																	: 0"/>
		<bind name="watch" value="'minutesTimeRent'; ((secondsToHours / 60) &gt; 1)	? ((secondsToHours - (secondsToHours % 60)) / 60) :
									((secondsToHours / 60) &gt; 0)	? 1
																: 0"/>
		<bind name="countdown" value="_timeRent; 'fullTimeRent'; 'hh:mm:ss'"/>
		<bind name="timeFormat" value="_rentUntil; 'dd.MM.yy'; 'formattedRentTill'; true"/>
		<bind name="watch" value="'isClanRent'; _shipGroup == 'clan'"/>
		<bind name="watch" value="'textColorClass'; isClanRent ? '$None' : '$FontColorGolden'"/>
		<bind name="tooltip" value="	isClanRent 	? 'CvcRentTimerTooltip' : 'RentTimerTooltip'; { _timeRent: _timeRent, _isRentOver: isRentOver }"/>
		<style>
			<flow value="horizontal"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<bind name="visible" value="!(isRentOver) || _rentDuration"/>
			<bind name="transition" value="rollOver || !(isClanRent) || (isClanRent &amp;&amp; daysTimeRent &lt; 2) || _forceShow; 0.07; {alpha: 0, left: 20}; {alpha: 1, left: 0}; {alpha: 0, left: 20}"/>
			<block>
				<bind name="visible" value="(daysTimeRent != 0)"/>
				<style>
					<marginRight value="2px"/>
					<marginTop value="-2px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$FontColorGolden"/>
					<bind name="text" value="daysTimeRent"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="-2px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$FontColorGolden"/>
					<bind name="pluralText" value="'IDS_PL_DAY_FULL_ACC'; daysTimeRent"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="((daysTimeRent &lt; 2) &amp;&amp; (daysTimeRent != 0) &amp;&amp; (hoursTimeRent != 0))"/>
				<style>
					<marginRight value="2px"/>
					<marginLeft value="-2px"/>
					<marginTop value="-2px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$FontColorGolden"/>
					<bind name="text" value="hoursTimeRent"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="-2px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$FontColorGolden"/>
					<bind name="pluralText" value="'IDS_PL_HOUR_FULL_ACC'; hoursTimeRent"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block type="text">
				<bind name="visible" value="(daysTimeRent == 0)"/>
				<style>
					<width value="58px"/>
					<marginRight value="-2px"/>
					<marginTop value="-2px"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$FontColorGolden"/>
				<bind name="text" value="_rentUntil ? formattedRentTill : fullTimeRent"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="21px"/>
				<height value="21px"/>
			</style>
			<bind name="style" value="'backgroundImage'; (daysTimeRent == 0) ? 'url:../service_kit/icons/icon_rent_yellow.png'
															: 'url:../service_kit/icons/icon_rent_white.png'"/>
		</block>
	</block>
	<block className="DoubleExperience">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_double_experience" type="native">
			<style>
				<marginTop value="4px"/>
			</style>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<styleClass value="$FontColorGold"/>
			<styleClass value="$FontSizeHeader5"/>
			<bind name="text" value="expMultiplyPercentsString"/>
		</block>
	</block>
	<block className="ShipCarouselSlotStatus">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="visible" value="!(dockDefaultValues.goToBattleState)"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<block type="text">
			<style>
				<maxWidth value="180"/>
				<textAlign value="center"/>
				<leading value="-3"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextCarouselShipStatus"/>
			<bind name="class" value="_small ? '$FontSizeDefault' : '$None'"/>
			<bind name="class" value="isPositive ? '$FontColorComparePositive' : '$None'"/>
			<bind name="text" value="_status"/>
		</block>
	</block>
	<block className="CarouselNaturalIndicator">
		<block>
			<block type="text">
				<styleClass value="$TextSmallWhite"/>
				<bind name="text" value="_label"/>
			</block>
			<block>
				<bind name="instance" value="'PriceTag'; { priceInfo: _priceInfo, _showDiscountTag: true, _small: true}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'GoldDeficitNano';	(_priceInfo.currency == 'gold')		?	{ _goldDeficit: _deficit } : null"/>
			<bind name="instance" value="'CRDeficitNano';	(_priceInfo.currency == 'credits')	?	{ _creditsDeficit: _deficit } : null"/>
		</block>
	</block>
	<block className="DockButtonCostMedium">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountResource';	['resourceEntity.accountResource.evChangedGold, resourceEntity.accountResource.credits']; resourceEntity.accountResource"/>
		<bind name="watch" value="'priceIndex'; (_prices.length &gt; 1 ? _selectedPriceIndex : 0)"/>
		<bind name="watch" value="'priceDeficit'; 	_prices[priceIndex].finalPrice -
									accountResource[_prices[priceIndex].currency]"/>
		<styleClass value="$MiddleVAligned"/>
		<styleClass value="$MiddleAligned"/>
		<bind name="watch" value="'isButtonEnabled'; (_prices.length &gt; 1 || priceDeficit &lt;= 0)"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block className="button_dock" type="native">
				<style>
					<marginBottom value="-8px"/>
					<marginLeft value="-16px"/>
					<marginRight value="-16px"/>
					<marginTop value="-8px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="enabled" value="isButtonEnabled"/>
				<bind name="style" value="'hitTest'; isButtonEnabled"/>
				<bind name="event" value="'buttonClick'; _method ? _method : null"/>
				<bind name="request" value="'buttonClick'; _request ? _request : null; _request ? _requestParams : null"/>
				<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			</block>
			<bind name="watch" value="'isDeficitLabel'; (_prices.length == 1 &amp;&amp; priceDeficit &gt; 0)"/>
			<block>
				<style>
					<hitTest value="false"/>
				</style>
				<block type="text">
					<style>
						<alpha value="0.9"/>
					</style>
					<bind name="class" value="(isDeficitLabel ? '$TextDefaultNM': '$TextDefaultBoldNM')"/>
					<styleClass value="$TextDefaultBoldNM"/>
					<bind name="text" value="isDeficitLabel ? _deficitLabel : _label"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="style" value="'marginTop'; isDeficitLabel ? '0px' : '4px'"/>
			<style>
				<marginBottom value="-9px"/>
			</style>
			<bind name="instance" value="'AlterablePriceTag'; {	_tooltipText: _tooltipText,
												_prices: _prices, _showDiscountTag: true,
												_selectedPriceIndex: priceIndex}"/>
		</block>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<block>
			<bind name="visible" value="_prices.length == 1"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<hitTest value="false"/>
				<marginBottom value="-3px"/>
			</style>
			<bind name="instance" value="'PriceDeficit'; priceDeficit &gt; 0 ? { priceInfo: _prices[priceIndex], _deficit: priceDeficit} : null"/>
		</block>
	</block>
	<block className="CvcRentTimerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="timeFormat" value="_timeRent; 'hh:mmdd.MM.yyyy'; 'formattedRentTime'; true"/>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginTop value="16px"/>
				<marginBottom value="16px"/>
				<marginLeft value="16px"/>
				<marginRight value="16px"/>
				<leading value="-1"/>
			</style>
			<styleClass value="$TextDefaultBold17NM"/>
			<bind name="text" value="'IDS_TOOLTIP_CVC_RENT_SHIP'"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginTop value="12px"/>
				<marginLeft value="16px"/>
				<marginRight value="16px"/>
				<marginBottom value="16px"/>
				<leading value="1"/>
			</style>
			<styleClass value="$TextDefault17NM"/>
			<bind name="text" value="_isRentOver ? 'IDS_TOOLTIP_CVC_RENT_SHIP_CHANGE_SOON'
								: subst('IDS_TOOLTIP_CVC_RENT_SHIP_TIME_CHANGE', [], {time_date: formattedRentTime})"/>
		</block>
	</block>
	<block className="RentTimerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="320px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'secondsUntil'; _timeRent - serverTime - 1"/>
		<bind name="watch" value="'seconds'; secondsUntil &gt; 0 ? secondsUntil : 0"/>
		<bind name="watch" value="'minutes'; (seconds - (seconds % 60)) / 60"/>
		<bind name="watch" value="'hours'; (seconds - (seconds % 3600)) / 3600"/>
		<bind name="watch" value="'days'; (seconds - (seconds % 86400)) / 86400"/>
		<bind name="watch" value="'tooltipText'; tr('IDS_TOOLTIP_RENT_SHIP') +
								(days != 0						? ' ' + days + '' + subst('IDS_PL_DAY_FULL_ACC', [], {}, days) : '') +
								(hours != 0	&amp;&amp; days == 0		? ' ' + hours + '' + subst('IDS_PL_HOUR_FULL', [], {}, hours) : '') + 
								(minutes != 0 &amp;&amp; hours == 0 	? ' ' + minutes + '' + subst('IDS_PL_MINUTE_FULL_ACC', [], {}, minutes) : '') + 
								(seconds != 0 &amp;&amp; minutes == 0 	? ' ' + seconds + '' + subst('IDS_PL_SECOND_FULL', [], {}, seconds) 
																: '')"/>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginTop value="16px"/>
				<marginLeft value="16px"/>
				<marginRight value="16px"/>
				<marginBottom value="16px"/>
				<leading value="1"/>
			</style>
			<styleClass value="$TextDefault17NM"/>
			<bind name="text" value="tooltipText"/>
		</block>
	</block>
	<block className="PeculiarityFiltersContent">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextDefaultBold17NM"/>
				<bind name="text" value="'IDS_ADDITIONAL_CONTENT'"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<bind name="watch" value="'categoryArray'; [{category: 'event'}, {category: 'historical'}, {category: 'author'}]"/>
		<bind name="repeat" value="categoryArray; 'PeculiarityFiltersCategory'; {}"/>
	</block>
	<block className="PeculiarityFiltersCategory">
		<bind name="tooltip" value="'PeculiarityFiltersCategorySubMenu'; {_category: category}; TooltipBehaviour.contextSubmenuNoClickHide"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$ContextMenuListItem"/>
			<block>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="'IDS_SHIP_FILTER_' + toUpperCase(category)"/>
				</block>
			</block>
			<block className="button_expand_h" type="native">
				<style>
					<position value="absolute"/>
					<right value="12px"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
			</block>
		</block>
	</block>
	<block className="PeculiarityFiltersCategorySubMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$LeftSubMenuBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="collectionDH" value="CC.peculiarityEye; 'peculiaritiesEyeCategoryTypes'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'peculiaritiesEyeCategoryTypes'+'ROOT'; 'peculiaritiesEyeCategoryTypes'; {'filter': $entity.peculiarityEye.category == _category}; []"/>
		<bind name="repeat" value="peculiaritiesEyeCategoryTypes; 'PeculiarityFilterItem'; {}"/>
	</block>
	<block className="PeculiarityFilterItem">
		<bind name="entityDH" value="'peculiarityEyeEntity'; id"/>
		<bind name="watchDH" value="'ids'; []; peculiarityEyeEntity.peculiarityEye.ids"/>
		<bind name="watchDH" value="'value'; []; peculiarityEyeEntity.peculiarityEye.value"/>
		<bind name="watchDH" value="'enabled'; ['peculiarityEyeEntity.peculiarityEye.evEnabledChanged']; peculiarityEyeEntity.peculiarityEye.enabled"/>
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked'; ['resourceEntity.accountResource.evOperationsLockChanged']; resourceEntity.accountResource.operationsLocked"/>
		<bind name="clickSplit"/>
		<style>
			<width value="300px"/>
		</style>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: enabled ? tr(ids + '_TAKE_OFF_SKIN_TOOLTIP') : tr(ids + '_SET_SKIN_TOOLTIP')}"/>
		<bind name="action" value="'left_click'; 'ServerUIDataUSS.setPecularity'; { pecId: value }"/>
		<bind name="name" value="'CarouselCheckBoxEye_pecularity_' + ids"/>
		<block className="dock_submenu_item" type="native">
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<style>
						<maxWidth value="250"/>
					</style>
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="ids"/>
				</block>
			</block>
			<block className="icon_eye_visible" type="native">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<right value="12px"/>
					<hitTest value="false"/>
				</style>
				<bind name="enabled" value="!operationsAccountLocked"/>
				<bind name="selected" value="enabled"/>
			</block>
		</block>
	</block>
	<block className="DropdownInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<style>
			<width value="1px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '100px'"/>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="_dropdownContentElement; { _menuScope: _menuScope }"/>
		</block>
	</block>
	<block className="InstructionParagraph">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 220"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InstructionMultiParagraph">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block className="icon_instruction" type="native">
			<bind name="gotoAndStop!" value="_type"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="repeat" value="_instructionArray; 'InstructionParagraph'"/>
		</block>
	</block>
	<block className="InstructionWarning">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_warning_orange" type="native"/>
		<block type="text">
			<style>
				<marginTop value="-4px"/>
				<marginLeft value="4px"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<styleClass value="$WarningTextOrange"/>
			<bind name="style" value="'leading'; _leading ? _leading : -3"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="InstructionRestricion">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_restrict_red" type="native"/>
		<block type="text">
			<style>
				<marginTop value="-3px"/>
				<marginLeft value="4px"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<styleClass value="$WarningTextRed"/>
			<bind name="style" value="'leading'; _leading ? _leading : -3"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="MouseInstruction">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="_type!='no_icon'"/>
			<block className="icon_mouse" type="native">
				<bind name="gotoAndStop!" value="_type"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'marginLeft'; (_type=='no_icon') ? '0px' : '4px'"/>
			<style>
				<marginTop value="-2px"/>
			</style>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="MouseInstructionRepeater">
		<bind name="style" value="'marginBottom'; $index != _lastIndex ? '6px' : '0px'"/>
		<bind name="instance" value="'MouseInstruction'; _type == 'warning' || _type == 'restriction'	? null
																						: { _type: _type, _instructionText: _instructionText,
																							_maxWidth: _maxWidth, _leading: _leading}"/>
		<bind name="instance" value="'InstructionWarning'; _type == 'warning' ? {_instructionText: _instructionText, _maxWidth: _maxWidth, _leading: _leading} : null"/>
		<bind name="instance" value="'InstructionRestricion'; _type == 'restriction' ? {_instructionText: _instructionText, _maxWidth: _maxWidth, _leading: _leading} : null"/>
	</block>
	<block className="CheckedLine">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_check" type="native">
			<style>
				<marginLeft value="2px"/>
				<marginTop value="8px"/>
			</style>
			<bind name="visible" value="!_isCheckMarkHidden"/>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<width value="288px"/>
				<marginTop value="-2px"/>
				<multiline value="false"/>
			</style>
			<bind name="class" value="'$FontColorGolden'"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'marginLeft'; _isCheckMarkHidden ? '0' : '5px'"/>
			<bind name="text" value="_checkedLineText"/>
		</block>
	</block>
	<block className="CheckedLineRepeater">
		<bind name="style" value="'marginBottom'; $index != _lastIndex ? '6px' : '-2px'"/>
		<bind name="instance" value="'CheckedLine'; { _isCheckMarkHidden: _isCheckMarkHidden, _checkedLineText: _checkedLineText, _maxWidth: _maxWidth}"/>
	</block>
	<block className="InstructionBigTech">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 500"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="DockTopMenuLinkText">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<block type="text">
			<styleClass value="$TextDockNano"/>
			<bind name="class" value="rollOver &amp;&amp; !(mouseDown) ? '$FontColorDefault' : '$None'"/>
			<bind name="text" value="_label"/>
		</block>
	</block>
	<block className="EmptyStatusParagraph">
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="_sizeClass ? _sizeClass : '$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 250"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InvertableTextLine">
		<block type="text">
			<bind name="name" value="_name"/>
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.35"/>
				<top value="1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.1"/>
				<top value="-1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.2"/>
				<left value="1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.2"/>
				<left value="-1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _invertedClass : _normalClass"/>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="ResizeFrame">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<bind name="visible" value="!(restrict.up)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="6px"/>
				<top value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_top"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="6px"/>
				<bottom value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_bottom"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="6px"/>
				<height value="100%"/>
				<left value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="6px"/>
				<height value="100%"/>
				<right value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_right"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.up || restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<top value="-5px"/>
				<left value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_top_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.up || restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<top value="-5px"/>
				<right value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_top_right"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down || restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<bottom value="-5px"/>
				<left value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_bottom_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down || restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<bottom value="-5px"/>
				<right value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_bottom_right"/>
			</params>
		</block>
	</block>
	<css name="$WarningTextRed">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$WarningTextOrange">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<block className="WarningMessage">
		<bind name="appear" value="'addedToStage'; 0.15; _delay; {alpha: 0, top: _startTop ? _startTop : 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="var" value="{errorStringsToShowSupportLinkFor: [
		tr('IDS_ACCOUNT_ERROR_ALL_SPA_LOGIN_ALREADY_TAKEN')
	]}"/>
		<block type="text">
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 280"/>
			<bind name="class" value="_highWarning ? '$WarningTextRed' : '$WarningTextOrange'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="text" value="_text"/>
		</block>
		<block>
			<bind name="visible" value="errorStringsToShowSupportLinkFor.indexOf(_text) &gt; -1"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="6px"/>
			</style>
			<bind name="instance" value="'LinkText'; errorStringsToShowSupportLinkFor.indexOf(_text) &gt; -1 	? {
																								_label: 'IDS_LINK_SUPPORT', 
																								_urlIdent: URL.SUPPORT, 
																								_tooltipText: 'IDS_LINK_SUPPORT_HINT', 
																								_name: 'ButtonSupport'} 
																							: null"/>
		</block>
	</block>
	<block className="WrongTextInputNotification">
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: _startTop ? _startTop : 10}; {alpha: 1, top: 0}; 2"/>
		<style>
			<width value="100%"/>
			<marginRight value="-1px"/>
			<marginLeft value="-1px"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="1px"/>
				<marginBottom value="0px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block className="button_close" type="native">
			<bind name="visible" value="_showCloseBtn == true"/>
			<style>
				<right value="8"/>
				<top value="7"/>
				<position value="absolute"/>
			</style>
			<bind name="dispatch" value="'buttonClick'; 'hideWrongMessageEv'"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="8px"/>
				<marginBottom value="7px"/>
			</style>
			<bind name="instance" value="'WarningMessage'; true	? { _delay: 0.07, _startTop: _startTop, _messageHiglight: _messageHiglight, _maxWidth: _maxWidth, _text: _text}
												: null"/>
		</block>
		<bind name="dispatch" value="'click'; 'hideWrongMessageEv'; {}"/>
	</block>
	<block className="MultiParagraphHelpTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="330px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '330px'"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="GUIContrast">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="watch" value="'iconType'; _iconType ? _iconType : 'question'"/>
			<block className="icon_question_mark" type="native">
				<bind name="visible" value="iconType == 'question'"/>
				<style>
					<marginRight value="6px"/>
					<marginTop value="4px"/>
				</style>
			</block>
			<block className="icon_info_big" type="native">
				<bind name="visible" value="iconType == 'info'"/>
				<style>
					<marginRight value="6px"/>
					<marginTop value="4px"/>
				</style>
			</block>
			<block className="mc_icon_ship" type="native">
				<bind name="visible" value="iconType == 'ship' &amp;&amp; _shipType != 'premiumShip'"/>
				<style>
					<marginRight value="6px"/>
					<marginTop value="10px"/>
				</style>
				<bind name="style" value="'marginLeft'; _shipType == 'Destroyer' ? '-2px' : '2px'"/>
				<bind name="gotoAndStop!" value="_shipType"/>
			</block>
			<block type="text">
				<style>
					<top value="1px"/>
				</style>
				<bind name="style" value="'maxWidth'; _width ? _width - 60 : 270"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="class" value="_shipType == 'premiumShip' ? '$FontColorGolden' : '$FontColorWhite'"/>
				<bind name="text" value="_tooltipHeader"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<style>
					<marginLeft value="12px"/>
					<marginRight value="12px"/>
					<marginTop value="9px"/>
					<marginBottom value="3px"/>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {_maxWidth: _width - 24}"/>
			</block>
		</block>
	</block>
	<block className="RepeatParagraphItem">
		<bind name="style" value="'marginBottom'; _marginBottom ? _marginBottom : '6px'"/>
		<bind name="class" value="_middleAligned ? '$MiddleAligned' : ''"/>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="_class"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'textAlign'; _textAlign ? _textAlign : 'left'"/>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 300"/>
			<bind name="text" value="(_toUpperCase ? toUpperCase(tr(_paragraphText)) : _paragraphText)"/>
			<bind name="substitute" value="	_substitute.mapName ? _substitute.mapName : '';
							_substitute.imageOffset ? _substitute.imageOffset : 0;
							_substitute.map ? _substitute.map : {}"/>
		</block>
	</block>
	<block className="GUIContrast">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
	</block>
	<block className="CheckBox">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="watch" value="'isEnabled'; _disabled != true"/>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="enabled" value="isEnabled"/>
			<bind name="selected" value="switchProperty"/>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<marginLeft value="23px"/>
				<marginTop value="-3px"/>
				<hitTest value="false"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxTfWidth ? _maxTfWidth : 300"/>
			<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) &amp;&amp; isEnabled; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="text" value="label"/>
		</block>
	</block>
	<block className="IconSlimClient">
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _isEventLike ? 'IDS_ENTER_IN_FULL_VERSION_FOR_ANNOUNCE_SHIPS' : 'IDS_ENTER_IN_FULL_VERSION_FOR_SHIPS'}"/>
		<block className="game_downloading" type="native"/>
	</block>
	<block className="BannerButtonInstance">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="transition" value="rollOver; 0.07; {alpha: 0.85}; {alpha: 0.95}"/>
		<style>
			<width value="217px"/>
			<height value="60px"/>
			<flow value="horizontal"/>
		</style>
		<bind name="name" value="_input"/>
		<bind name="input"/>
		<bind name="action" value="'click'; _action ? _action : null"/>
		<block className="button_infopanel_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="100%"/>
				<marginRight value="8px"/>
				<marginLeft value="12px"/>
				<hitTest value="false"/>
			</style>
			<block>
				<style>
					<width value="37px"/>
					<height value="100%"/>
				</style>
				<block>
					<bind name="style" value="'width'; _iconSize"/>
					<bind name="style" value="'height'; _iconSize"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="style" value="'backgroundImage'; _iconUrl"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="8px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<style>
						<width value="100%"/>
						<leading value="-3"/>
						<hitTest value="false"/>
						<alpha value="0.85"/>
					</style>
					<styleClass value="$TextDefaultBold17NM"/>
					<bind name="text" value="_label"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipTitleWithIconAndSilhouette">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<block>
			<block>
				<bind name="instance" value="'ShipTitleWithIconAndLevel'; {_shipID : _shipID}"/>
			</block>
			<block>
				<style>
					<width value="122px"/>
					<height value="22px"/>
					<marginLeft value="12px"/>
					<marginTop value="-2px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathTinyIcon"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipTitleWithIconAndLevel">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<block>
			<style>
				<height value="27px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block>
				<style>
					<marginLeft value="5px"/>
					<marginTop value="7px"/>
				</style>
				<block className="icon_ship" type="native">
					<styleClass value="$MouseDisable"/>
					<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial 	? shipInfo.subtype + '_P'
																				: shipInfo.subtype"/>
				</block>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="-2px"/>
				</style>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial	? '$FontShipnameGolden'
																		: '$FontShipnameWhite'"/>
					<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CharCounter">
		<bind name="transition" value="_string.length &gt; 0; 0.15; {alpha: 0, top:10}; {alpha: 1, top:0}; {alpha: 0, top:10}; 1; 0"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CHARS_LEFT'}"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_string.length &gt; _maxChars ? '$FontColorUnready' : '$FontColorDefault'"/>
			<bind name="style" value="'alpha'; _string.length &gt; _maxChars ? 1 : 0.6"/>
			<bind name="text" value="_maxChars - _string.length"/>
		</block>
	</block>
	<block className="BusyIndicator">
		<bind name="fade" value="_showBusyIndicator; 0.15; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1; 0.3"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<block className="indicator_busy_small" type="native"/>
		</block>
		<block type="text">
			<bind name="visible" value="_label.length &gt; 0"/>
			<styleClass value="$TextDefaultTech"/>
			<bind name="class" value="'$Bold'"/>
			<style>
				<marginLeft value="6px"/>
				<marginTop value="-2px"/>
			</style>
			<bind name="text" value="toUpperCase(tr(_label))"/>
		</block>
	</block>
	<block className="FormationPlayerIcon">
		<style>
			<width value="15px"/>
		</style>
		<bind name="watch" value="'postfix'; isOtherDivision ? '_other_division' : ''"/>
		<block className="formation_player_status" type="native">
			<style>
				<marginTop value="3px"/>
			</style>
			<bind name="gotoAndStop!" value="_isEmptySlot					?	('empty_slot_' + _formationType) :
							isInBattle						?	('player_in_battle_' + _formationType + postfix) :
							_isWardog &amp;&amp; isReady			?	('player_ready_' + _formationType + '_merc') :
							_isWardog &amp;&amp; !isReady			?	('player_not_ready_' + _formationType + '_merc') :
							isCommander &amp;&amp; isReady			?	('commander_' + _formationType + postfix) :
							isCommander &amp;&amp; !isReady			?	('commander_not_ready_' +_formationType + postfix) :
							!isCommander &amp;&amp; isReady			?	('player_ready_' + _formationType + postfix) :
							!isCommander &amp;&amp; !isReady		?	('player_not_ready_' + _formationType + postfix)
															:	'empty_slot_division'"/>
		</block>
	</block>
	<css name="$TextBackBtn">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="BackButton">
		<style>
			<height value="30px"/>
		</style>
		<block className="button_dock" type="native">
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _text}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="dispatch" value="'buttonClick'; _event	 ? _event  : null; _eventData	 ? _eventData : {}"/>
			<bind name="action" value="'buttonClick'; _action	 ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<params>
				<param name="focusable" value="false"/>
			</params>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<hitTest value="false"/>
			</style>
			<block className="icon_navigate" type="native">
				<bind name="gotoAndStop!" value="'left'"/>
				<style>
					<marginLeft value="6px"/>
				</style>
			</block>
			<block>
				<bind name="name" value="_name ? _name : '' "/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="2px"/>
					<marginRight value="7px"/>
				</style>
				<block>
					<style>
						<marginTop value="-4px"/>
					</style>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.4"/>
							<top value="1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<top value="-1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<left value="1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<left value="-1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="_text"/>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ScoreRatioCounter">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; _tooltipTextPlayerResult ? { tooltipText: _tooltipTextPlayerResult } : null"/>
			<bind name="style" value="'alpha'; (_playerPointsCounter == 0) ? 0.5 : 1"/>
			<block type="text">
				<bind name="class" value="'$TextHeaderWhiteBold'"/>
				<bind name="text" value="_playerPointsCounter"/>
			</block>
		</block>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; _tooltipTextTotalResult ? { tooltipText: _tooltipTextTotalResult } : null"/>
			<style>
				<alpha value="0.7"/>
			</style>
			<block type="text">
				<style>
					<marginTop value="1px"/>
				</style>
				<bind name="class" value="'$TextHeaderBold'"/>
				<bind name="text" value="'/'"/>
			</block>
			<block type="text">
				<style>
					<marginTop value="2px"/>
					<marginLeft value="-1px"/>
				</style>
				<bind name="class" value="'$TextHeaderBold'"/>
				<bind name="text" value="_totalPointsCounter"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PlayerNameAndClanTag">
		<bind name="watch" value="'clanTagColor'; ('0xff' + _clanTagColor)"/>
		<bind name="watch" value="'haveClanTag'; _clanTag != null &amp;&amp;
								_clanTag != ''"/>
		<bind name="watch" value="'isColoredClanTag'; (haveClanTag &amp;&amp; !_noClanTagColor &amp;&amp; _clanTagColor != null)"/>
		<bind name="watch" value="'playerName'; 	isColoredClanTag 	?	_playerName :
								haveClanTag			?	('[' + _clanTag + ']' + _playerName)
													: _playerName"/>
		<bind name="watch" value="'fontColor'; 	_isSelf 	? 	_ttkStatus 			? '$FontColorTTK' :
												_ctkStatus			? '$FontColorCompareNegative' :
												_tkStatus 			? '$FontColorTeamkiller'
																	: '$FontColorGolden':
								!_isDead 	?  	_ttkStatus 			? '$FontColorTTK' :
												_isInSameDivision 	? '$FontColorGolden' :
												_tkStatus 			? '$FontColorTeamkiller'												
																	: '$FontColorWhite'
											: '$FontColorAlmostBlack'"/>
		<style>
			<hitTest value="false"/>
			<flow value="horizontal"/>
			<width value="100%f"/>
		</style>
		<block type="text">
			<style>
				<marginLeft value="3px"/>
			</style>
			<bind name="visible" value="isColoredClanTag == true"/>
			<style>
				<multiline value="false"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="style" value="'fontSize'; _fontSize ? _fontSize : 15"/>
			<bind name="class" value="_isSelf ? '$Bold' : '$None'"/>
			<bind name="style" value="'textColor'; clanTagColor"/>
			<bind name="text" value="tr('[' + _clanTag + ']')"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="3px"/>
				<multiline value="false"/>
				<width value="100%f"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="style" value="'fontSize'; _fontSize ? _fontSize : 15"/>
			<bind name="class" value="_isSelf 	? '$Bold' : '$None'"/>
			<bind name="class" value="(_isDead &amp;&amp; !_isSelf ? '$FontDropShadowWhite' : '$None')"/>
			<bind name="class" value="fontColor"/>
			<bind name="text" value="playerName"/>
		</block>
	</block>
	<block className="HotkeyWithText">
		<bind name="dispatch" value="'click'; _event	? _event  	: null; _eventData	 	? _eventData 	: {}"/>
		<bind name="action" value="'click'; _action	? _action 	: null; _actionParams 	? _actionParams : {}"/>
		<bind name="request" value="'click'; _request 	? _request 	: null; _requestParams 	? _requestParams: {}"/>
		<bind name="tooltip" value="'SimpleTooltip'; _tooltipText ? { tooltipText: _tooltipText } : null; 0"/>
		<block className="hotkey_holder_white_9slice" type="native">
			<block type="text">
				<style>
					<marginLeft value="3px"/>
					<marginRight value="3px"/>
					<marginTop value="-1px"/>
					<marginBottom value="-1px"/>
				</style>
				<styleClass value="$BlackLabel"/>
				<bind name="text" value="_text"/>
			</block>
		</block>
	</block>
	<block className="NavigationButton">
		<style>
			<marginBottom value="1px"/>
		</style>
		<block className="button_navigation_small" type="native">
			<bind name="name" value="_name"/>
			<bind name="label" value="_label"/>
			<bind name="selected" value="_selectedIndex == $index"/>
			<bind name="dispatch" value="'click'; 'evClicked'; { selectedIndex: $index }"/>
		</block>
	</block>
	<block className="StepProgressBar">
		<bind name="tooltip" value="'ArcEventLoyaltyRewardTooltip'; 			_showLoyaltyHint 	? { _index: $index, _side: _side } : null"/>
		<bind name="tooltip" value="'ArcEventLoyaltyRewardTooltipHistory'; 	_showHistoryHint 	? { _index: $index, _side: _side } : null"/>
		<bind name="tooltip" value="'ArcEventPersonalDailyProgressTooltip'; 	_showProgressHint 	? { _index: $index } : null"/>
		<bind name="watch" value="'isFull'; (_activeIndex == 0) ? false : ($index &lt;= (_activeIndex - 1))"/>
		<bind name="watch" value="'pureProgress'; (_activeIndex == 0) 			? ((_currValue / _arrayValues[$index]) * 10)
																: ((_currValue - _arrayValues[$index - 1]) / (_arrayValues[$index] - _arrayValues[$index - 1])) * 10"/>
		<bind name="watch" value="'progressValue'; 	(_activeIndex == $index) 	? pureProgress :
									isFull 						? 10
																: 0"/>
		<bind name="style" value="'width'; _width ? _width : '80px'"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<style>
				<right value="-16"/>
				<marginBottom value="-30px"/>
			</style>
			<bind name="visible" value="_showLootbox == true"/>
			<bind name="style" value="'colorMatrixFilter'; ((_activeIndex == $index) &amp;&amp; (_currValue != 0)) || (isFull == true) ? '0 0 0 0' : '0 -100 0 0'"/>
			<bind name="style" value="'alpha'; (_activeIndex == $index) &amp;&amp; (_currValue != 0) ? 1 : 0.5"/>
			<bind name="instance" value="'RewardItemWithStamp'; { _issued: isFull, _scale: _scale, _backgroundImage: _backgroundImage }"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="8"/>
			</style>
			<bind name="style" value="'height'; _height ? _height : '5px'"/>
			<block className="indicator_progress_bar_bg" type="native">
				<bind name="visible" value="!isFull"/>
				<style>
					<width value="100%"/>
				</style>
			</block>
			<block className="indicator_progress_bar_yellow_no_bg" type="native">
				<bind name="visible" value="_showYellowBar"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<bind name="style" value="'alpha'; (_activeIndex == $index) &amp;&amp; (_currValue != 0) ? 1 : 0.5"/>
				<bind name="style" value="'height'; _height ? _height : '5px'"/>
				<bind name="value" value="progressValue"/>
			</block>
			<block className="indicator_progress_bar_grey_no_bg" type="native">
				<bind name="visible" value="!_showYellowBar"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<bind name="style" value="'alpha'; (_activeIndex == $index) &amp;&amp; (_currValue != 0) ? 1 : 0.5"/>
				<bind name="style" value="'height'; _height ? _height : '5px'"/>
				<bind name="value" value="progressValue"/>
			</block>
		</block>
		<block>
			<style>
				<right value="0px"/>
				<marginTop value="8"/>
			</style>
			<bind name="style" value="'alpha'; (_activeIndex == $index) &amp;&amp; (_currValue != 0) ? 1 : 0.5"/>
			<block type="text">
				<styleClass value="$TextDefaultBoldNM"/>
				<bind name="text" value="_arrayValues[$index]"/>
			</block>
		</block>
	</block>
	<block className="RewardItemWithStamp">
		<block>
			<style>
				<width value="80px"/>
				<height value="80px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; _backgroundImage"/>
			<bind name="scaleX" value="_scale ? _scale : 1"/>
			<bind name="scaleY" value="_scale ? _scale : 1"/>
		</block>
		<block>
			<bind name="scaleX" value="_scale ? (_scale - 0.14) : 0.86"/>
			<bind name="scaleY" value="_scale ? (_scale - 0.14) : 0.86"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.9"/>
				<hitTest value="false"/>
				<top value="46%"/>
				<left value="42%"/>
			</style>
			<block className="icon_issued" type="native">
				<bind name="gotoAndStop!" value="_issued	? 'issued' : 'not_issued'"/>
				<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
				<bind name="rotation" value="-2"/>
			</block>
		</block>
	</block>
	<block className="GiftBoxIconSmall">
		<block className="icon_giftbox_small" type="native">
			<bind name="scaleX" value="_scale ? _scale : 1"/>
			<bind name="scaleY" value="_scale ? _scale : 1"/>
			<bind name="gotoAndStop!" value="'normal'"/>
		</block>
		<block className="icon_issued_small" type="native">
			<style>
				<position value="absolute"/>
				<top value="55%"/>
				<left value="50%"/>
				<alpha value="0.9"/>
				<hitTest value="false"/>
			</style>
			<bind name="scaleX" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="scaleY" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="rotation" value="-2"/>
			<bind name="gotoAndStop!" value="_issued	? 'issued' : 'not_issued'"/>
			<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
		</block>
	</block>
	<block className="GiftBoxIconBig">
		<block className="icon_giftbox" type="native">
			<bind name="scaleX" value="_scale ? _scale : 1"/>
			<bind name="scaleY" value="_scale ? _scale : 1"/>
			<bind name="gotoAndStop!" value="'normal'"/>
		</block>
		<block className="icon_issued" type="native">
			<style>
				<position value="absolute"/>
				<top value="55%"/>
				<left value="50%"/>
				<alpha value="0.9"/>
				<hitTest value="false"/>
			</style>
			<bind name="scaleX" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="scaleY" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="rotation" value="-2"/>
			<bind name="gotoAndStop!" value="_issued	? 'issued' : 'not_issued'"/>
			<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
		</block>
	</block>
	<block className="ColorTransformPicker">
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 1, _minimum: 0, _step: 0.01, _value:1, _name:'redMultiplier'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 1, _minimum: 0, _step: 0.01, _value:1, _name:'greenMultiplier'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 1, _minimum: 0, _step: 0.01, _value:1, _name:'blueMultiplier'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 1, _minimum: 0, _step: 0.01, _value:1, _name:'alphaMultiplier'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 255, _minimum: -255, _step: 1, _value:0, _name:'redOffset'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 255, _minimum: -255, _step: 1, _value:0, _name:'greenOffset'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 255, _minimum: -255, _step: 1, _value:0, _name:'blueOffset'}"/>
		<bind name="instance" value="'ColorTransformSlider'; {_maximum : 255, _minimum: -255, _step: 1, _value:0, _name:'alphaOffset'}"/>
	</block>
	<block className="ColorTransformSlider">
		<style>
			<marginTop value="20px"/>
		</style>
		<block>
			<bind name="dispatch" value="'value'+varChanged; 'colorTransformChanged'; [_name, value]"/>
			<block>
				<style>
					<maxHeight value="500"/>
					<overflow value="scroll"/>
					<backgroundColor value="0x80000000"/>
				</style>
				<styleClass value="$DefaultScrollBar"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<style>
						<textColor value="0xffffffff"/>
						<maxWidth value="600"/>
						<marginBottom value="3px"/>
					</style>
					<bind name="text" value="'_name: ' + (_name)"/>
				</block>
			</block>
			<block>
				<style>
					<maxHeight value="500"/>
					<overflow value="scroll"/>
					<backgroundColor value="0x80000000"/>
				</style>
				<styleClass value="$DefaultScrollBar"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<style>
						<textColor value="0xffffffff"/>
						<maxWidth value="600"/>
						<marginBottom value="3px"/>
					</style>
					<bind name="text" value="'value: ' + (value)"/>
				</block>
			</block>
			<block>
				<bind name="mc" value="'slider_default'; ['valueChange']; ['value']; {maximum:_maximum, minimum:_minimum, step:_step, value:_value}"/>
			</block>
		</block>
	</block>
	<block className="ClubInfoTooltip">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'name';['entityClub.club.evNameChanged']; entityClub.club.name"/>
		<bind name="watchDH" value="'league';['entityClub.club.evRatingChanged']; entityClub.club.league"/>
		<bind name="watchDH" value="'creationTimeStamp';['entityClub.club.evRatingChanged']; entityClub.club.creatingTime"/>
		<bind name="watchDH" value="'battlesCount';['entityClub.club.evRatingChanged']; entityClub.club.battlesCount"/>
		<bind name="watchDH" value="'winCount';['entityClub.club.evRatingChanged']; entityClub.club.winCount"/>
		<bind name="watchDH" value="'drawCount';['entityClub.club.evRatingChanged']; entityClub.club.drawCount"/>
		<bind name="watchDH" value="'loseCount';['entityClub.club.evRatingChanged']; entityClub.club.loseCount"/>
		<bind name="watchDH" value="'lastBattleTimeStamp';['entityClub.club.evRatingChanged']; entityClub.club.lastBattleTime"/>
		<bind name="watchDH" value="'winRate';['entityClub.club.evRatingChanged']; entityClub.club.winRate"/>
		<bind name="watch" value="'drawRate'; drawCount / battlesCount * 100"/>
		<bind name="watch" value="'loseRate'; loseCount / battlesCount * 100"/>
		<bind name="watch" value="'stats'; [	{label: 'IDS_CLUB_BATTLES_COUNT', rate: 'no_rate',	count: battlesCount},
							{label: 'IDS_VICTORIES'			, rate: winRate,	count: winCount},
							{label: 'IDS_DRAWS'				, rate: drawRate,	count: drawCount},
							{label: 'IDS_DEFEATS'			, rate: loseRate,	count: loseCount}]"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextAccentBold"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="name"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<style>
					<width value="100%"/>
					<alpha value="0.7"/>
					<marginTop value="-2px"/>
				</style>
				<bind name="text" value="tr('IDS_LEAGUE_'+league)"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="tr('IDS_CLUB_CREATOR')+tr('IDS_COLON')"/>
				</block>
				<block>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="instance" value="'PlayerContactItem'; {_entityAccountId: entityClub.club.creatorEntityId, _isOfflineAlpha: true}"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<bottom value="0"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="timeFormat" value="creationTimeStamp; 'dd.MM.yyyy'; 'creationTime'; false"/>
				<bind name="text" value="tr('IDS_CREATION_DATE')+tr('IDS_COLON') + ' ' + creationTime"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="battlesCount &gt; 0"/>
			<bind name="timeFormat" value="lastBattleTimeStamp; 'dd.MM.yyyy'; 'lastBattleDate'; false"/>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="tr('IDS_LAST_BATTLE')+tr('IDS_COLON') + ' ' + lastBattleDate"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="repeat" value="stats; 'ClubTooltipStatRow'"/>
			</block>
		</block>
	</block>
	<block className="ClubTooltipStatRow">
		<style>
			<width value="100%"/>
		</style>
		<bind name="style" value="'marginBottom'; (rate == 'no_rate') ? '4px' : '0px'"/>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="label"/>
		</block>
		<block type="text">
			<bind name="visible" value="rate != 'no_rate'"/>
			<style>
				<alpha value="0.7"/>
				<position value="absolute"/>
				<right value="70"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="format((rate ? rate : 0), 0) +'%'"/>
		</block>
		<block type="text">
			<styleClass value="$AlignRight"/>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="count"/>
		</block>
	</block>
	<block className="ClubLeagueIconSmall">
		<style>
			<width value="60px"/>
			<height value="60px"/>
		</style>
		<style>
			<backgroundSize value="cover"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'symbol:club_icon_league_' + ((_league != null)	? ((_league &gt; 2)	? '2'
																										: _league)
																					: '-1')"/>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<bind name="child" value="_state ? _state : 'Rating'; { _rating: _rating, _isPartyMember: _isPartyMember, _isCommander: _isCommander}; {	Rating: 'ClubIconRatingSmall',
																																	InBattle: 'ClubIconInBattleSmall',
																																	Party: 'ClubIconPartySmall'}"/>
		</block>
	</block>
	<block className="ClubIconRatingSmall">
		<block type="text">
			<style>
				<marginBottom value="1px"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="text" value="format(_rating, -1)"/>
		</block>
	</block>
	<block className="ClubIconInBattleSmall">
		<block>
			<style>
				<width value="32px"/>
				<height value="29px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; _isPartyMember	? 'symbol:icon_club_status_in_battle_member_small'
														: 'symbol:icon_club_status_in_battle_small'"/>
		</block>
	</block>
	<block className="ClubIconPartySmall">
		<block>
			<style>
				<marginTop value="1px"/>
				<width value="32px"/>
				<height value="29px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; _isCommander	? 'symbol:icon_club_status_party_commander_small' :
										_isPartyMember 	? 'symbol:icon_club_status_party_member_small'
														: 'symbol:icon_club_status_party_small'"/>
		</block>
	</block>
	<block className="ClubLeagueIconSmallSimple">
		<bind name="tooltip" value="'ClubInfoTooltipSimple'; {_teamName: _teamName, _rating: _rating, _league: _league, _isInBattle: _isInBattle}"/>
		<block className="ClubLeagueIconSmall">
			<style>
				<width value="60px"/>
				<height value="60px"/>
			</style>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'symbol:club_icon_league_' + ((_league != null)	? ((_league &gt; 2)	? '2'
																										: _league)
																					: '-1')"/>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<bind name="child" value="_state ? _state : 'Rating'; { _rating: _rating, _isPartyMember: _isPartyMember, _isCommander: _isCommander}; {	Rating: 'ClubIconRatingSmall',
																																	InBattle: 'ClubIconInBattleSmall',
																																	Party: 'ClubIconPartySmall'}"/>
			</block>
		</block>
	</block>
	<block className="ClubInfoTooltipSimple">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="240px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextAccentBold"/>
				<style>
					<width value="100%"/>
					<marginTop value="-4px"/>
				</style>
				<bind name="text" value="_teamName"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="text" value="tr('IDS_RATING')+tr('IDS_COLON') + ' ' + format(_rating, -1) +', ' + tr('IDS_LEAGUE_'+ _league)"/>
			</block>
		</block>
	</block>
	<block className="ClubHeaderIcon">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'league';['entityClub.club.evRatingChanged']; entityClub.club.league"/>
		<bind name="watch" value="'curLeague';	_fakeLeague		? ((_fakeLeague &gt; 2) ? '2'
																	 : _fakeLeague) :
								league != null	? ((league &gt; 2) ? '2'
																: league)
												: '-1'"/>
		<style>
			<width value="260px"/>
			<height value="330px"/>
		</style>
		<block>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="watch" value="'clubHeaderBgrSymbol'; 'symbol:club_header_bgr_league_' + curLeague"/>
			<bind name="style" value="'backgroundImage'; clubHeaderBgrSymbol"/>
			<bind name="transition" value="_isActiveClubIcon; 0.15; {alpha: 0.65}; {alpha: 1}; {alpha: 0.65}; 0"/>
			<block>
				<bind name="name" value="'clubInfo'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="child" value="_clubIconState ? _clubIconState : 'Party'; {	_clubEntityId: _clubEntityId,
																		_animParams: _animParams,
																		_ratingValue: _ratingValue};

																	{	RatingCounter: 'ClubIconRatingCounter',
																		Rating: 'ClubIconRating',
																		InBattle: 'ClubIconInBattle',
																		Party: 'ClubIconParty'}"/>
			</block>
			<block>
				<style>
					<bottom value="102"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="appear" value="'CountPoints_0'; 0.2; 0.3; {top: 10, alpha: 0}; {top: 0, alpha: 1}; 1"/>
				<bind name="instance" value="'ClubLeagueLabel'; (curLeague != '-1') ? {	_league: (_fakeLeague	? _fakeLeague : league),
																		_state : (_leagueState ? _leagueState : 'issued')} : null"/>
			</block>
		</block>
		<block>
			<style>
				<backgroundSize value="cover"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="watch" value="'clubLeagueSymbol'; 'symbol:club_header_league_' + curLeague"/>
			<bind name="style" value="'backgroundImage'; clubLeagueSymbol"/>
		</block>
		<block>
			<bind name="visible" value="_isLeader &amp;&amp; (curLeague != '-1')"/>
			<style>
				<marginLeft value="16px"/>
				<marginTop value="26px"/>
				<position value="absolute"/>
			</style>
			<block className="icon_club_leader_big" type="native"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [	{_paragraphText: 'IDS_YOU_ARE_CLUB_LEADER'},
																			{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_0'},
																			{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_1'},
																			{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_2'}],
													_marginBottom: '4px'}"/>
		</block>
	</block>
	<block className="ClubIconRating">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'lastBattleRatingDelta';['entityClub.club.evRatingChanged']; entityClub.club.lastBattleRatingDelta"/>
		<bind name="watchDH" value="'rating';['entityClub.club.evRatingChanged']; entityClub.club.rating"/>
		<bind name="watch" value="'ratingValue'; _clubEntityId ? rating : _ratingValue"/>
		<styleClass value="$Fullsize"/>
		<style>
			<marginTop value="80px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<bind name="appear" value="'addedToStage'; 0.15; 0.3;	{scaleY: 0.5, scaleX: 0.5, ubScaleY: 0.5, ubScaleX: 0.5, alpha: 0, top: 10};
														{scaleY: 1, scaleX: 1, ubScaleY: 1, ubScaleX: 1, alpha: 1, top: 0}"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_RATING_HINT_0'}, {_paragraphText: 'IDS_RATING_HINT_1'}]}"/>
				<styleClass value="$TextAccentBoldAccountLevel1"/>
				<bind name="text" value="format(ratingValue, -1)"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="appear" value="'addedToStage'; 0.15; 0.42; {scaleY: 0.5, alpha: 0, top: 20}; {scaleY: 1, alpha: 1, top: 0}"/>
			<style>
				<marginTop value="-8px"/>
			</style>
			<block>
				<block>
					<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_RATING_HINT_0'}, {_paragraphText: 'IDS_RATING_HINT_1'}]}"/>
					<block type="text">
						<styleClass value="$TextHeader"/>
						<bind name="class" value="'$Bold'"/>
						<bind name="text" value="toLowerCase(tr('IDS_RATING'))"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="(lastBattleRatingDelta &amp;&amp; (lastBattleRatingDelta != 0))"/>
					<block className="icon_value_changed" type="native">
						<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: lastBattleRatingDelta &gt; 0 ? [{_paragraphText: 'IDS_RATING_UP_LB'}]
																												: [{_paragraphText: 'IDS_RATING_DOWN_LB'}]}"/>
						<style>
							<marginTop value="11px"/>
						</style>
						<bind name="gotoAndStop!" value="lastBattleRatingDelta &gt; 0 	? 'up' 
																	: 'down'"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ClubIconPartyState">
		<style>
			<width value="34px"/>
			<height value="34px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0.3; {width: 34, height: 34, alpha: 0, top: 20};
											 {width: 68, height: 68, alpha: 1, top: 0}"/>
		<bind name="var" value="{firstChange: true}"/>
		<bind name="dispatch" value="'addedToStage'; 'changePartyStateEv'; false; 0.5"/>
		<bind name="catch" value="'changePartyStateEv'; {firstChange: false}"/>
		<bind name="watch" value="'change';  _isPartyCommander 	? 2 :
							_isPartyMember 		? 1
												: 0"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="change==0; 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange	? 0 :
																												change==0	? 0.57
																															: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_party'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="change==1; 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange	? 0 :
																												change==1	? 0.57
																															: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_party_member'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="change==2; 0.14; {left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange	? 0 :
																											change==2	? 0.57
																														: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_party_commander'"/>
		</block>
	</block>
	<block className="ClubIconParty">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'partyPlayersCount'; ['entityClub.party.evUpdate']; entityClub.party.playersCount"/>
		<bind name="watchDH" value="'partyPlayersLimit'; ['entityClub.party.evUpdate']; entityClub.party.playersLimit"/>
		<bind name="watchDH" value="'isPartyMember'; ['entityClub.party.evUpdate']; entityClub.party.isMember"/>
		<bind name="watchDH" value="'isPartyCommander'; ['entityClub.party.evUpdate']; entityClub.party.isOwner"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: isPartyMember ? [{_paragraphText: 'IDS_PARTY_UP_FOR_BATTLE'}]
																					: [{_paragraphText: 'IDS_PARTY_UP_FOR_BATTLE'}, {_paragraphText: 'IDS_PROFILE_CLUBS_INSTRUCTION_9_1'}]}"/>
		<style>
			<marginTop value="63px"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<height value="68px"/>
			</style>
			<bind name="instance" value="'ClubIconPartyState'; {_isPartyCommander: isPartyCommander, _isPartyMember: isPartyMember}"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.42; {scaleY: 0.7, alpha: 0, top: 25}; {scaleY: 1, alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<style>
					<marginTop value="-4px"/>
					<alpha value="0.85"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="toLowerCase(tr('IDS_GATHERING_TO_BATTLE'))"/>
			</block>
			<block>
				<style>
					<marginTop value="-4px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<style>
						<marginTop value="-4px"/>
					</style>
					<bind name="text" value="partyPlayersCount"/>
				</block>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<style>
						<alpha value="0.9"/>
						<marginTop value="-4px"/>
						<marginRight value="-1px"/>
						<marginLeft value="-3px"/>
					</style>
					<text value="/"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontSizeHeader5'"/>
					<style>
						<alpha value="0.9"/>
					</style>
					<bind name="text" value="partyPlayersLimit"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ClubIconBattleState">
		<style>
			<width value="34px"/>
			<height value="34px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0.3; {width: 34, height: 34, alpha: 0, top: 20};
											 {width: 68, height: 68, alpha: 1, top: 0}"/>
		<bind name="var" value="{firstChange: true}"/>
		<bind name="dispatch" value="'addedToStage'; 'changeBattleStateEv'; false; 0.5"/>
		<bind name="catch" value="'changeBattleStateEv'; {firstChange: false}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="!(_isPartyMember); 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange			? 0 :
																														!(_isPartyMember)	? 0.57
																																			: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_in_battle'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="_isPartyMember; 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange			? 0 :
																													_isPartyMember		? 0.57
																																		: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_in_battle_member'"/>
		</block>
	</block>
	<block className="ClubIconInBattle">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'isPartyMember'; ['entityClub.party.evUpdate']; entityClub.party.isMember"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_PARTY_IN_BATTLE'}]}"/>
		<style>
			<marginTop value="75px"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<height value="68px"/>
			</style>
			<bind name="instance" value="'ClubIconBattleState'; {_isPartyMember: isPartyMember}"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="appear" value="'addedToStage'; 0.15; 0.42; {scaleY: 0.5, alpha: 0, top: 20}; {scaleY: 1, alpha: 1, top: 0}"/>
			<block type="text">
				<style>
					<marginTop value="-8px"/>
					<alpha value="0.9"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="toLowerCase(tr('IDS_IN_BATTLE'))"/>
			</block>
		</block>
	</block>
	<block className="ClubLeagueLabel">
		<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_CURRENT_LEAGUE_' + _league}]}"/>
		<bind name="watch" value="'label'; toUpperCase(tr('IDS_LEAGUE_'+_league))"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
				</style>
				<block className="icon_issued" type="native">
					<bind name="name" value="'league'"/>
					<innerBind elementName="item.item" name="text" value="label"/>
					<bind name="gotoAndPlay!" value="_state"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ClubLeagueIconTiny">
		<style>
			<width value="35px"/>
			<height value="35px"/>
			<backgroundSize value="cover"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'symbol:club_icon_league_'+(_league != null	? ((_league &gt; 2)	? '2'
																									: _league)
																				: '-1')"/>
	</block>
	<block className="ClubBattleClubsVS">
		<styleClass value="$MiddleAligned"/>
		<block>
			<style>
				<marginBottom value="15px"/>
			</style>
			<block>
				<bind name="visible" value="_alliedClub.clubLeague != null &amp;&amp; _alliedClub.clubLeague == _enemyClub.clubLeague"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.25"/>
					<bottom value="-6"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'ClubLeagueLabel'; (_alliedClub.clubLeague != '-1') ? {	_league: _alliedClub.clubLeague, _state: 'issued'} : null"/>
			</block>
			<block>
				<bind name="tooltip" value="'ClubInfoTooltipSimple'; {_teamName: _alliedClub.clubName, _rating: format(_alliedClub.clubRating, -1), _league: _alliedClub.clubLeague}"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<right value="105%"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginRight value="6px"/>
						<alpha value="0.85"/>
					</style>
					<bind name="text" value="_alliedClub.clubName"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="_alliedClub.clubLeague != _enemyClub.clubLeague"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.25"/>
							<top value="90%"/>
							<left value="10%"/>
							<hitTest value="false"/>
						</style>
						<bind name="instance" value="'ClubLeagueLabel'; (_alliedClub.clubLeague != '-1') ? {	_league: _alliedClub.clubLeague, _state: 'issued'} : null"/>
					</block>
					<block type="text">
						<styleClass value="$TextAccentBold"/>
						<bind name="class" value="'$FontAccentSize2'"/>
						<bind name="text" value="format(_alliedClub.clubRating, -1)"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="30px"/>
					<height value="30px"/>
				</style>
			</block>
			<block>
				<bind name="tooltip" value="'ClubInfoTooltipSimple'; {_teamName: _enemyClub.clubName, _rating: _enemyClub.clubRating, _league: _enemyClub.clubLeague}"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<left value="105%"/>
				</style>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="_alliedClub.clubLeague != _enemyClub.clubLeague"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.25"/>
							<top value="90%"/>
							<right value="10%"/>
							<hitTest value="false"/>
						</style>
						<bind name="instance" value="'ClubLeagueLabel'; (_enemyClub.clubLeague != '-1') ? { _league: _enemyClub.clubLeague, _state: 'issued' } : null"/>
					</block>
					<block type="text">
						<styleClass value="$TextAccentBold"/>
						<bind name="class" value="'$FontAccentSize2'"/>
						<bind name="text" value="format(_enemyClub.clubRating, -1)"/>
					</block>
				</block>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="6px"/>
						<alpha value="0.85"/>
					</style>
					<bind name="text" value="_enemyClub.clubName"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<css name="$ShipTreeTooltipBehaviour">
		<userData value="{
		appearDelay: 0.3,
		appearDuration: 0,
		appearOffset: 5.0,
		disappearDelay: 0.2,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$ModuleTreeInfotipBehaviour">
		<userData value="{
		appearDelay: 0.1,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 0,
		rightOffset: -10,
		bottomOffset: 0
	}"/>
	</css>
	<block className="PurchaseSlotTooltip">
		<bind name="style" value="'userData'; { rightOffset: _hOffset }"/>
		<styleClass value="$ShipTreeTooltipBehaviour"/>
		<style>
			<width value="330px"/>
		</style>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'InstructionParagraph'; { _text: 'IDS_INSTRUCTION_SLOT_PURCHASE', _maxWidth: '300' }"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction';  { _type: 'left', _instructionText: 'IDS_MOUSE_INSTRUCTION_SLOT_PURCHASE', _maxWidth: '300'}"/>
		</block>
	</block>
	<block className="PurchaseShipTooltip">
		<bind name="style" value="'userData'; { rightOffset: _hOffset }"/>
		<styleClass value="$ShipTreeTooltipBehaviour"/>
		<style>
			<width value="300px"/>
			<height value="80px"/>
		</style>
		<styleClass value="$MouseDisable"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<style>
				<width value="100%"/>
				<bottom value="0px"/>
			</style>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$Fullsize"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; { _instructionText: 'IDS_INSTRUCTION_SHIP_PURCHASE', _type: 'left', _maxWidth: '250' }"/>
			</block>
		</block>
	</block>
	<block className="ModuleTooltipHeader">
		<style>
			<marginTop value="-6px"/>
			<marginBottom value="3px"/>
			<flow value="horizontal"/>
		</style>
		<block className="icon_tree_module_states" type="native">
			<style>
				<marginTop value="3px"/>
			</style>
			<styleClass value="$MouseDisable"/>
			<bind name="gotoAndStop!" value="moduleInfo.type + (((moduleInfo.toPurchase &amp;&amp; moduleInfo.creditsDeficit &lt;= 0) || (moduleInfo.toExplore &amp;&amp; moduleInfo.expDeficit &lt;= 0)) ? '_A' : '_P') "/>
		</block>
		<block className="icon_discount" type="native">
			<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: (_explorePrice &amp;&amp; !(moduleInfo.isExplored) ? _explorePrice : _buyPrice)}"/>
			<bind name="visible" value="((_explorePrice.finalPrice != _explorePrice.basePrice &amp;&amp; !(moduleInfo.isExplored)) || (_buyPrice.finalPrice != _buyPrice.basePrice &amp;&amp; moduleInfo.isExplored))"/>
			<style>
				<position value="absolute"/>
				<left value="45px"/>
				<marginTop value="4px"/>
			</style>
			<bind name="gotoAndStop!" value="'normal'"/>
		</block>
		<block>
			<style>
				<marginTop value="3px"/>
				<marginLeft value="3px"/>
			</style>
			<block type="text">
				<style>
					<marginBottom value="5px"/>
					<maxWidth value="200"/>
				</style>
				<styleClass value="$TextHeaderBold"/>
				<bind name="class" value="	moduleInfo.count.Installed &gt; 0 	? '$FontColorGolden'	:
							moduleInfo.toPurchase			? '$FontColorDefault'	:
							moduleInfo.isExplored			? '$FontColorWhite' 
															: '$FontColorExp'"/>
				<bind name="text" value="moduleInfo.nameIDS"/>
			</block>
			<block type="text">
				<style>
					<marginTop value="-9px"/>
					<maxWidth value="200"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="moduleInfo.subTypeIDS != '' ? moduleInfo.subTypeIDS : moduleInfo.typeIDS"/>
			</block>
		</block>
	</block>
	<block className="ModuleTreeInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + moduleInfo.id; 'moduleBuyPrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + moduleInfo.id; 'moduleExplorePrice'"/>
		<styleClass value="$ModuleTreeInfotipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-10px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-16px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="300px"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<style>
					<marginBottom value="0px"/>
				</style>
				<bind name="instance" value="'ModuleTooltipHeader'; {_explorePrice: moduleExplorePrice.prices[0], _buyPrice: moduleBuyPrice.prices[0], moduleInfo: moduleInfo}"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<bind name="watch" value="'showStats'; !(_isEventLike) || _shipIsOwned)"/>
			<block>
				<bind name="visible" value="showStats"/>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'ModuleStatus'; {	_isStock: moduleInfo.isStock, _isExplored: moduleInfo.isExplored, _count: moduleInfo.count,
												_unableToInstallIncompatibles: moduleInfo.unableToInstallIncompatibles }"/>
			</block>
			<block>
				<bind name="visible" value="showStats"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
					<block className="inner_panel" type="native">
						<styleClass value="$Fullsize"/>
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<position value="absolute"/>
							<marginBottom value="1px"/>
							<marginTop value="1px"/>
						</style>
					</block>
					<block>
						<bind name="watch" value="'deepWaterTorpedoes'; 		moduleInfo.params.torpedoes.isDeepWater"/>
						<bind name="watch" value="'deepWaterTorpedoBombers'; moduleInfo.params.torpedoIsDeepWater"/>
						<styleClass value="$InfoBlockIndent"/>
						<bind name="visible" value="(deepWaterTorpedoes == true) || (deepWaterTorpedoBombers == true)"/>
						<bind name="instance" value="'TorpedoAffectedShipsParamRow'; (deepWaterTorpedoes == true) || (deepWaterTorpedoBombers == true) 	? { _torpedoId: moduleInfo.params.ammoNameRaw, 
																																			_isTooltip: true }
																																		: null"/>
					</block>
					<block>
						<bind name="visible" value="(deepWaterTorpedoes == true) || (deepWaterTorpedoBombers == true)"/>
						<style>
							<width value="100%"/>
						</style>
						<block className="HorizontalDivider">
							<styleClass value="$PxHorizontalCorrection"/>
							<style>
								<width value="100%"/>
								<height value="3px"/>
							</style>
							<block className="divider_h" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<bind name="instance" value="'ShipParamsTooltipList'; { typeList: 'tooltipModuleParams' + moduleInfo.type, params: moduleInfo.params, testParams: _testModuleParams, testObjectIsBaseForView: 0, testObjectIsBaseForCompare: 0, showCompareWithZero: 1}"/>
				</block>
				<block>
					<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 0; null; 'tooltipModuleParams'; _shipParams; moduleInfo.shipParamsWithThisModule; 1; 0; null; 1; 1; 0"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ParamsAfterMount'; !(moduleInfo.count.Installed) &amp;&amp; viewParams.hasDiff ? { _viewParams: viewParams,
																											_title: 'IDS_AFTER_MOUNT'}
																										: null"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="style" value="'marginTop'; moduleInfo.unableToInstallIncompatibles.length &gt; 0 moduleInfo.dependentModules.length &gt; 0 ? '8px' : '0px'"/>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'IncompatiblesBlock'; moduleInfo.unableToInstallIncompatibles.length &gt; 0 ? { _type: [2,'mount'], _incompatibleModules: moduleInfo.unableToInstallIncompatibles } : null"/>
					</block>
					<bind name="instance" value="'ModuleDependenciesBlock'; moduleInfo.dependentModules.length &gt; 0 ? {  _type: [0,'research'], _dependentModules: moduleInfo.dependentModules, _priceInfo: moduleExplorePrice.prices[0]} : null"/>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="style" value="'marginBottom'; moduleInfo.count.Installed ? '0px' : '9px'"/>
					<block>
						<bind name="instance" value="'PriceTagWithLabel'; ( moduleInfo.toExplore) &amp;&amp; ( moduleInfo.expDeficit &gt;  0) 	? { priceInfo: {finalPrice:moduleInfo.totalCostXP, currency: 'exp'}, _label: 'IDS_RESEARCH_COST', _medium : true}
																								: !(moduleInfo.toExplore) &amp;&amp; ( moduleInfo.toPurchase ) &amp;&amp; (moduleInfo.creditsDeficit &gt; 0) ? { priceInfo: {finalPrice:moduleInfo.totalCostCR, currency: 'credits'}, _label: 'IDS_PURCHASE_COST', _medium : true}
																								: null"/>
					</block>
					<block>
						<bind name="instance" value="'PriceDeficit'; moduleInfo.toExplore &amp;&amp; (moduleInfo.expDeficit &gt; 0) ? { _deficit: moduleInfo.expDeficit, priceInfo: {finalPrice:moduleInfo.totalCostXP, currency: 'exp'}, _tooltipText: 'IDS_TOOLTIP_NO_XP' }
													: moduleInfo.toPurchase &amp;&amp; (moduleInfo.creditsDeficit &gt; 0) ? { _deficit: moduleInfo.creditsDeficit, priceInfo: {finalPrice:moduleInfo.totalCostCR, currency: 'credits'}, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS' }
													: null"/>
					</block>
					<block>
						<bind name="name" value="'ButtonModuleResearchOrPurchase'"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'DefaultButtonCostMedium'; moduleInfo.expDeficit &lt;= 0 &amp;&amp; moduleInfo.toExplore	? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: {finalPrice:moduleInfo.totalCostXP, currency: 'exp'}, _action: 'researchModule', _actionParams: { shipId: moduleInfo.shipId,  moduleId: moduleInfo.id }, _enabled: (moduleInfo.expDeficit &lt;= 0)}
																								: !(_isNeedRepair || _isNeedShell || _isLocked) &amp;&amp; moduleInfo.creditsDeficit &lt;= 0 &amp;&amp; moduleInfo.toPurchase	? { _label: (moduleInfo.toInstall	? toUpperCase(tr('IDS_DO_PURCHASE_AND_INSTALL')) : toUpperCase(tr('IDS_DO_PURCHASE'))),
																																															priceInfo: {finalPrice:moduleInfo.totalCostCR, currency: 'credits'},
																																															_action: moduleInfo.toInstall ? 'purchaseAndInstallModule' : 'purchaseModule',
																																															_actionParams: { shipId: moduleInfo.shipId, moduleId: moduleInfo.id },
																																															_enabled: (moduleInfo.creditsDeficit &lt;= 0)}
																																														: null "/>
					</block>
					<block>
						<styleClass value="$MiddleAligned"/>
						<bind name="instance" value="'StatusLineWithIcon'; (_isNeedRepair || _isNeedShell || _isLocked) &amp;&amp; (moduleInfo.isExplored || moduleInfo.isStock) &amp;&amp; (moduleInfo.count.Installed == 0) ?
						(_isNeedRepair || _isNeedShell)			? {_text: 'IDS_COMPLETE_SERVICE_FIRST', _maxWidth: 270}
						: _isInFormation 						? {_text: moduleInfo.toInstall &amp;&amp; !(moduleInfo.toPurchase) 	? tr(toUpperCase('IDS_UNREADY_TO_INSTALL_MODULE_' + divisionEntranceData.divisionType))
																															: tr(toUpperCase('IDS_UNREADY_TO_PURCHASE_AND_INSTALL_MODULE_' + divisionEntranceData.divisionType)),
																	_maxWidth: 270}
						: _isLocked	&amp;&amp; moduleInfo.count.Installed == 0	? {_text: 'IDS_SHIP_IN_BATTLE', _maxWidth: 270}
						: !(_shipIsResearched) 					? (moduleInfo.isExplored	? { _text: 'IDS_TO_INSTALL_PURCHASE_SHIP_FIRST', _maxWidth: 270 } 
																				: { _text: 'IDS_TO_RESEARCH_MODULE_RESEARCH_SHIP_FIRST', _maxWidth: 270 })
						: !(_shipIsOwned) 						?	{ _text: 'IDS_TO_INSTALL_PURCHASE_SHIP_FIRST', _maxWidth: 270 }
																: null
					: null"/>
					</block>
					<block>
						<bind name="visible" value="!(_isNeedRepair || _isNeedShell || _isLocked)"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'DefaultButton'; moduleInfo.toInstall &amp;&amp; !(moduleInfo.toPurchase)	? { _label: toUpperCase(tr('IDS_INSTALL')), _action: 'installModule', _actionParams: { shipId: moduleInfo.shipId, moduleId: moduleInfo.id },
																								_enabled: !(moduleInfo.unableToInstall), _containerName: 'upgrade_tree_Install_module_button'}
																							: null"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="!showStats"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'LabelComingSoon'; { _showTestSampleLabel: showStats }"/>
			</block>
		</block>
		<block className="dock_panel_pin_h" type="native">
			<style>
				<position value="absolute"/>
				<width value="9px"/>
				<height value="16px"/>
			</style>
			<bind name="gotoAndStop!" value="'left'"/>
			<params>
				<param name="name" value="pinLeft"/>
			</params>
		</block>
	</block>
	<block className="ModuleTreeTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + moduleInfo.id; 'moduleBuyPrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + moduleInfo.id; 'moduleExplorePrice'"/>
		<styleClass value="$ModuleTreeTooltipBehaviour"/>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<width value="300px"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'ModuleTooltipHeader'; {_explorePrice: moduleExplorePrice.prices[0], _buyPrice: moduleBuyPrice.prices[0], moduleInfo: moduleInfo}"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<bind name="watch" value="'showStats'; !(_isEventLike) || _shipIsOwned)"/>
			<block>
				<bind name="visible" value="showStats"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="instance" value="'ModuleStatus'; { _isStock: moduleInfo.isStock, _isExplored: moduleInfo.isExplored, _count: moduleInfo.count, _unableToInstallIncompatibles: moduleInfo.unableToInstallIncompatibles }"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="visible" value="!(moduleInfo.isStock) &amp;&amp; (moduleInfo.toPurchase || moduleInfo.toExplore || !(_shipIsResearched) || moduleInfo.unableToInstallIncompatibles.length &gt; 0)"/>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
					<block>
						<style>
							<marginTop value="9px"/>
							<marginBottom value="9px"/>
							<width value="100%"/>
						</style>
						<block>
							<bind name="visible" value="!(moduleInfo.isExplored) &amp;&amp; !(moduleInfo.isStock)"/>
							<styleClass value="$InfoBlockHorizontalIndent"/>
							<style>
								<width value="100%"/>
								<marginBottom value="9px"/>
							</style>
							<bind name="instance" value="'PriceInLine'; moduleInfo.totalCostXP &gt; 0 &amp;&amp; !(moduleInfo.isStock) &amp;&amp; !(moduleInfo.isExplored) 	? { priceInfo: moduleExplorePrice.prices[0], _showDiscountTag:true}
																																		: null"/>
						</block>
						<block>
							<styleClass value="$InfoBlockHorizontalIndent"/>
							<style>
								<width value="100%"/>
							</style>
							<bind name="instance" value="'PriceInLine'; moduleInfo.totalCostCR &gt; 0 &amp;&amp; !(moduleInfo.isStock) &amp;&amp; (moduleInfo.toPurchase || moduleInfo.toExplore || !(_shipIsResearched) || moduleInfo.unableToInstallIncompatibles.length &gt; 0) 	? {priceInfo: moduleBuyPrice.prices[0], _showDiscountTag:true}
																												: null"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
					<block className="inner_panel" type="native">
						<styleClass value="$Fullsize"/>
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<position value="absolute"/>
							<marginBottom value="1px"/>
							<marginTop value="1px"/>
						</style>
					</block>
					<block>
						<bind name="watch" value="'deepWaterTorpedoes'; 		moduleInfo.params.torpedoes.isDeepWater"/>
						<bind name="watch" value="'deepWaterTorpedoBombers'; moduleInfo.params.torpedoIsDeepWater"/>
						<styleClass value="$InfoBlockIndent"/>
						<bind name="visible" value="(deepWaterTorpedoes == true) || (deepWaterTorpedoBombers == true)"/>
						<bind name="instance" value="'TorpedoAffectedShipsParamRow'; (deepWaterTorpedoes == true) || (deepWaterTorpedoBombers == true) 	? { _torpedoId: moduleInfo.params.ammoNameRaw, 
																																		 	_isTooltip: true }
																																		: null"/>
					</block>
					<block>
						<bind name="visible" value="(deepWaterTorpedoes == true) || (deepWaterTorpedoBombers == true)"/>
						<style>
							<width value="100%"/>
						</style>
						<block className="HorizontalDivider">
							<styleClass value="$PxHorizontalCorrection"/>
							<style>
								<width value="100%"/>
								<height value="3px"/>
							</style>
							<block className="divider_h" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<bind name="instance" value="'ShipParamsTooltipList'; { typeList: 'tooltipModuleParams' + moduleInfo.type, params: moduleInfo.params, testParams: _testModuleParams, testObjectIsBaseForView: 0, testObjectIsBaseForCompare: 0, showCompareWithZero: 1}"/>
				</block>
				<block>
					<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 0 ; null; 'tooltipModuleParams'; _shipParams; moduleInfo.shipParamsWithThisModule; 1; 0; null; 1; 1; 0"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ParamsAfterMount'; !(moduleInfo.count.Installed) &amp;&amp; viewParams.hasDiff ? { _viewParams: viewParams,
																											_title: 'IDS_AFTER_MOUNT'}
																										: null"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ModuleDependenciesBlock'; moduleInfo.neededModules.length &gt; 0 ? { _type: [2,'mount'], _dependentModules: moduleInfo.neededModules, _costXP: moduleExplorePrice.prices[0].finalPrice } : null"/>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="visible" value="(moduleInfo.toPurchase || moduleInfo.toExplore || moduleInfo.toInstall) &amp;&amp; !(_noMouseInstruction)"/>
					<bind name="instance" value="'MouseInstruction'; (moduleInfo.toPurchase || moduleInfo.toExplore || moduleInfo.toInstall)	? {_type: 'left', _instructionText: 'IDS_INSTRUCTION_LMB_EXPLORE_PURCHASE_INSTALL_MODULE', _maxWidth: 250}
																															: null"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!showStats"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'LabelComingSoon'; { _showTestSampleLabel: showStats }"/>
			</block>
		</block>
	</block>
	<block className="ModuleTreeHelpTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="330px"/>
		</style>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block className="icon_question_mark" type="native">
				<style>
					<marginRight value="6px"/>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderWhiteBold"/>
				<text value="IDS_HELP_CREDITS_AND_EXPERIENCE"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block className="ModuleTreeHelpBlock">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$InfoLineBoundaries"/>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<block>
							<style>
								<width value="18px"/>
								<marginTop value="5px"/>
							</style>
							<block className="icon_credit_small" type="native">
								<styleClass value="$MiddleAligned"/>
							</block>
						</block>
						<block type="text">
							<styleClass value="$TextHeaderBold"/>
							<bind name="class" value="'$FontColorDefault'"/>
							<text value="IDS_CREDITS_C"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block type="text">
						<styleClass value="$TextHeaderBigDefault"/>
						<style>
							<width value="100%"/>
						</style>
						<text value="IDS_HELP_MODULES_CREDITS"/>
					</block>
				</block>
				<block className="ModuleTreeHelpBlock">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$InfoLineBoundaries"/>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<block>
							<style>
								<width value="18px"/>
								<marginTop value="5px"/>
							</style>
							<block className="icon_exp_small" type="native">
								<styleClass value="$MiddleAligned"/>
							</block>
						</block>
						<block type="text">
							<styleClass value="$TextHeaderBold"/>
							<bind name="class" value="'$FontColorExp'"/>
							<text value="IDS_EXPERIENCE_C"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block type="text">
						<styleClass value="$TextHeaderBigDefault"/>
						<style>
							<width value="100%"/>
						</style>
						<text value="IDS_HELP_MODULES_EXPERIENCE"/>
					</block>
				</block>
				<block className="ModuleTreeHelpBlock">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$InfoLineBoundaries"/>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<block>
							<style>
								<width value="18px"/>
								<marginTop value="5px"/>
							</style>
							<block className="icon_exp_free_small" type="native">
								<styleClass value="$MiddleAligned"/>
							</block>
						</block>
						<block type="text">
							<styleClass value="$TextHeaderBold"/>
							<bind name="class" value="'$FontColorFreeExp'"/>
							<text value="IDS_FREE_EXPERIENCE_C"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block type="text">
						<styleClass value="$TextHeaderBigDefault"/>
						<style>
							<width value="100%"/>
						</style>
						<text value="IDS_HELP_ABOUT_FREE_EXPERIENCE"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="VideoTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="330px"/>
		</style>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block className="button_play_video" type="native">
				<bind name="selected" value="_isVideoSeen"/>
				<style>
					<marginRight value="6px"/>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="_headerText"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(_isVideoSeen)"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block className="icon_warning_orange" type="native">
					<style>
						<marginRight value="6px"/>
						<marginTop value="4px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorUnready'"/>
					<text value="IDS_NEW_VIDEO"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_multiParagraphArray != null)"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {}"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_descriptionText != null)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$PxHorizontalCorrection"/>
			</block>
			<block type="text">
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="text" value="_descriptionText"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; {_type: 'left', _instructionText: 'IDS_WATCH_EDUCATIONAL_VIDEO', _maxWidth: 300}"/>
		</block>
	</block>
	<block className="SlotInfotip">
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100px"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="dispatch" value="'click'; 'changeSlotBuy'; {buySlot:true}"/>
				<style>
					<width value="100%"/>
					<height value="24px"/>
				</style>
				<block>
					<style>
						<right value="4px"/>
						<hitTest value="false"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<text value="IDS_WITH_SLOT"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="divider_h" type="native">
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
			</block>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="dispatch" value="'click'; 'changeSlotBuy'; {buySlot:false}"/>
				<style>
					<width value="100%"/>
					<height value="24px"/>
				</style>
				<block>
					<style>
						<right value="4px"/>
						<hitTest value="false"/>
					</style>
					<block className="icon_warning_orange" type="native">
						<style>
							<marginTop value="5px"/>
						</style>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<text value="IDS_WITHOUT_SLOT"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="FormationReadyButtonTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerShipId'; ['selfPlayerEntity.preBattlePlayerSimple.evShipIdChanged']; selfPlayerEntity.preBattlePlayerSimple.shipId"/>
		<bind name="watchDH" value="'isSelfPlayerReady'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.isReady"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<style>
			<width value="280"/>
		</style>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<marginTop value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockHorizontalIndent"/>
				<style>
					<marginBottom value="7px"/>
				</style>
				<bind name="instance" value="'ShipTitleWithIconAndLevel'; {_shipID: isSelfPlayerReady ? selfPlayerShipId : shipId}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<bottom value="0px"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="repeat" value="isSelfPlayerReady	? [ {_paragraphText: tr('IDS_READY_TO_BATTLE_IN_' + toUpperCase(divisionEntranceData.divisionType) + '_INFO')},
											{_paragraphText: tr('IDS_READY_TO_BATTLE_IN_FORMATION_INFO_2')}]
										: null; 'RepeatParagraphItem'; {	_maxWidth: 270, _marginBottom: '6px',
																			_middleAligned: false, _class: '$TextDefault'}"/>
			<bind name="instance" value="'MouseInstruction'; isSelfPlayerReady 	? null
																 : {_type: 'left', _instructionText: tr('IDS_SET_READY_TO_BATTLE_IN_FORMATION'), _maxWidth: 270}"/>
		</block>
	</block>
	<block className="FormationNotReadyButtonTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'isSelfPlayerReady'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.isReady"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<style>
			<width value="280"/>
		</style>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<bind name="repeat" value="isSelfPlayerReady	? [ {_paragraphText: tr('IDS_NOT_READY_TO_BATTLE_IN_FORMATION_INFO')}]
											: [ {_paragraphText: tr('IDS_NOT_READY_TO_BATTLE_IN_' + toUpperCase(divisionEntranceData.divisionType) + '_INFO')},
												{_paragraphText: tr('IDS_NOT_READY_TO_BATTLE_IN_FORMATION_INFO_2')}]; 'RepeatParagraphItem'; {	_maxWidth: 270, _marginBottom: '6px',
																																				_middleAligned: false, _class: '$TextDefault'}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<bottom value="0px"/>
					<position value="absolute"/>
				</style>
				<bind name="visible" value="isSelfPlayerReady"/>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="isSelfPlayerReady"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="instance" value="'MouseInstruction'; isSelfPlayerReady 	? {_type: 'left', _instructionText: tr('IDS_SET_NOT_READY_TO_BATTLE_IN_FORMATION'), _maxWidth: 270}
																: null"/>
		</block>
	</block>
	<block className="StartBattleTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInDivision'; 'playersInDivision'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInDivision'; 'isReady'; true; 'readyPlayersInDivision'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="primaryEntityDH" value="'battleTypeEntity'; CC.battleType; _battleType"/>
		<bind name="watchDH" value="'label'; []; battleTypeEntity.battleType.label"/>
		<bind name="watchDH" value="'status'; ['battleTypeEntity.battleType.evStatusChanged']; battleTypeEntity.battleType.status"/>
		<bind name="watchDH" value="'type'; ['battleTypeEntity.battleType.evStatusChanged']; battleTypeEntity.battleType.type"/>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'chosenDifficulty';	['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenDifficulty"/>
		<styleClass value="$FightButtonTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<style>
			<width value="260px"/>
		</style>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<bind name="visible" value="!(divisionData.divisionExist &amp;&amp; !(divisionData.isCommander))"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="watch" value="'rankBattleIcon'; 	(status == 0)	? 	(rankedBattlesSeason.isJuniorSeason == true)	? 'RankedBattle_junior'
																																: 'RankedBattle'
																			:	(status == 1) 				? (rankedBattlesSeason.isJuniorSeason == true)	? 'RankedBattle_junior_inactive'
																																												: 'RankedBattle_inactive'
																																: 	'RankedBattle_disabled'"/>
			<block>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<block>
					<block className="icon_battletypes_small" type="native">
						<bind name="gotoAndStop!" value=" type == BattleTypes.RANKED_BATTLE 	? 	rankBattleIcon
										: type == BattleTypes.CLAN_BATTLE		? 	(status == 0)				?	'ClanBattle'
																				:	(status == 2)				?	'ClanBattle_disabled'
																																	: 	'ClanBattle_inactive'
										: type == BattleTypes.PVE_BATTLE		?	(status == 2)				?	'PVEBattle_disabled'
																				:	(chosenDifficulty == 'hard')		?	'PVEBattle_hard'
																																	:	'PVEBattle'
																				: 	_battleType"/>
					</block>
				</block>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<style>
						<marginLeft value="4px"/>
						<marginTop value="4px"/>
					</style>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="label"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!(divisionData.divisionExist) || readyPlayersInDivision.length &gt; 0"/>
				<style>
					<marginTop value="6px"/>
					<width value="100%"/>
				</style>
				<block>
					<bind name="visible" value="!(divisionData.divisionExist)"/>
					<styleClass value="$InfoBlockHorizontalIndent"/>
					<bind name="instance" value="'ShipTitleWithIconAndLevelWithDenyReason'; {_shipID : _shipID, _battleType: _battleType, isReady: true}"/>
				</block>
				<block>
					<bind name="visible" value="divisionData.divisionExist"/>
					<styleClass value="$InfoBlockHorizontalIndent"/>
					<bind name="repeat" value="playersInDivision; 'ShipTitleWithIconAndLevelWithDenyReason'; {divisionData: divisionData, _battleType: _battleType, _playerInDivision: true}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="divisionData.divisionExist &amp;&amp; divisionData.isCommander &amp;&amp; ((_battleType == BattleTypes.RANKED_BATTLE) &amp;&amp; (rankedBattlesSeason.isDivisionAllowed != true))"/>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<block>
					<style>
						<width value="100%"/>
						<marginTop value="2px"/>
					</style>
					<block className="icon_warning_orange" type="native">
						<style>
							<marginTop value="5px"/>
							<marginRight value="2px"/>
							<leading value="-3"/>
						</style>
					</block>
					<block type="text">
						<style>
							<maxWidth value="216"/>
						</style>
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorUnready'"/>
						<bind name="text" value="'IDS_DIVISIONS_ARE_NOT_ALLOWED_IN_RANK_BATTLES'"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<bind name="visible" value="	!((_battleType == BattleTypes.RANKED_BATTLE) &amp;&amp; rankedBattlesSeason.denyReason) &amp;&amp; !(_buttonDisabled)"/>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<bind name="instance" value="'MouseInstruction'; {_type: _instructionType, _instructionText: 'IDS_STARTTRAININGBATTLEBUTTON', _maxWidth: 260}"/>
			</block>
		</block>
	</block>
	<block className="BattletypeTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<style>
			<width value="260"/>
		</style>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<style>
					<maxWidth value="240"/>
				</style>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="text" value="_description"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_battleType == BattleTypes.RANKED_BATTLE &amp;&amp; rankedBattlesSeason.denyReason"/>
			<block>
				<styleClass value="$InfoBlockHorizontalIndent"/>
				<style>
					<marginBottom value="9px"/>
				</style>
				<bind name="instance" value="'RankBattleNotAvailableReason';  rankedBattlesSeason.denyReason ? { _maxWidth: 220} : null"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_CHOOSE_BATTLETYPE_HINT', _maxWidth: 220 }"/>
		</block>
	</block>
	<block className="RankSeasonNotActive">
		<block>
			<block>
				<style>
					<marginLeft value="2px"/>
					<marginTop value="3px"/>
				</style>
				<block className="icon_warning_orange" type="native"/>
			</block>
			<block type="text">
				<bind name="style" value="'maxWidth'; _maxWidth"/>
				<bind name="class" value="'$TextSecondary'"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="text" value="(rankedBattlesSeason.denyReason &amp; RBDeny.SEASON_NOT_STARTED)	? (tr('IDS_RANK_BATTLES_SEASON_IS_NOT_ACTIVE')+' '+tr('IDS_SEASON_STARTS_IN') + ' '+ seasonTimeStart)
																						: 'IDS_RANK_BATTLES_SEASON_IS_NOT_ACTIVE'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="IconRankSmall">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="27px"/>
				<height value="27px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + '../ranks/icons/icon_rank_small_' + _rankId + '.png'"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="-3px"/>
				<marginTop value="5px"/>
			</style>
			<styleClass value="$TextSecondaryBold"/>
			<bind name="class" value="'$FontSizeNano'"/>
			<bind name="text" value="_rankId "/>
		</block>
	</block>
	<block className="RankStars">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="tooltip" value="'RankStarTooltip'; !(rankInfo.starLossPlace == 0 &amp;&amp; rankInfo.starEarnPlace == 0) ? {_rankId: _rankId} : null"/>
		<style>
			<flow value="htile"/>
			<align value="center"/>
		</style>
		<bind name="style" value="'width'; _noWidth ? 'auto' : '100%'"/>
		<bind name="repeat" value="rankInfo.starsToNext; (_size ? 'RankStarIconSmall' : 'RankStarIcon'); {_starState: (rankedBattlesStats.rank &lt; rankInfo.id)	? 'earned'
																																				: (rankedBattlesStats.rank &gt; rankInfo.id)	? 'not_earned'
																																															: 'unknown', _size: _size}"/>
	</block>
	<block className="TotalEarnedStars">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<flow value="htile"/>
				<align value="center"/>
			</style>
			<bind name="repeat" value="_starsCount; 'RankStarIconSmall'; {_starState: 'earned'}"/>
		</block>
	</block>
	<block className="RankStarIcon">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<block className="icon_rank_star" type="native">
			<style>
				<marginLeft value="5px"/>
				<marginRight value="5px"/>
			</style>
			<bind name="gotoAndStop!" value="(_starState != 'unknown')	? _starState
														: ( $index + 1 &lt;= rankedBattlesStats.stars)	? 'earned'
																									: 'not_earned'"/>
		</block>
	</block>
	<block className="RankStarIconSmall">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<block className="icon_rank_star_small" type="native">
			<style>
				<marginLeft value="2px"/>
				<marginRight value="2px"/>
				<marginTop value="1px"/>
				<marginBottom value="1px"/>
			</style>
			<bind name="style" value="'width'; _size == 'small' ? '27px' : 'auto'"/>
			<bind name="style" value="'height'; _size == 'small' ? '27px' : 'auto'"/>
			<bind name="gotoAndStop!" value="(_starState != 'unknown')	? _starState
														: ( $index + 1 &lt;= rankedBattlesStats.stars)	? 'earned'
																									: 'not_earned'"/>
		</block>
	</block>
	<block className="RankStarLostNotice">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="visible" value="rankInfo.starLossPlace != 0"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="icon_star_earn_condition_small" type="native">
				<style>
					<marginLeft value="-2px"/>
				</style>
				<bind name="gotoAndStop!" value="2"/>
			</block>
			<bind name="watch" value="'additionalCondition'; rankInfo.starLossPlace == 2 ? 'IDS_RANKED_BATTLE_STAR_LOSS_PLACE_CONDITION' :
											rankInfo.starLossPlace &gt; 2	? subst('IDS_RANKED_BATTLE_STAR_LOSS_PLACE_RANGE_CONDITION', [], {starLossPlace: rankInfo.starLossPlace})
																		: null"/>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="1px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="228"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<bind name="text" value="rankInfo.lossCondition"/>
				</block>
				<block type="text">
					<bind name="visible" value="additionalCondition != null"/>
					<style>
						<maxWidth value="228"/>
						<marginTop value="-6px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="additionalCondition"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RankStarEarnCondition">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="icon_star_earn_condition_small" type="native">
				<style>
					<marginLeft value="-2px"/>
				</style>
				<bind name="gotoAndStop!" value="1"/>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="1px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="228"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<bind name="text" value="rankInfo.earnCondition"/>
				</block>
				<block type="text">
					<bind name="visible" value="rankInfo.starLossPlace == 0"/>
					<style>
						<maxWidth value="228"/>
						<marginTop value="-6px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<text value="IDS_YOU_WILL_NOT_LOSE_STAR"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RankStarTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="6px"/>
				</style>
				<bind name="instance" value="'RankStarEarnCondition'; {_rankId: _rankId}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'RankStarLostNotice'; {_rankId: _rankId}"/>
			</block>
		</block>
	</block>
	<block className="PlayerRankIcon">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<block className="icons_rank_outer" type="native">
			<bind name="gotoAndStop!" value="rankedBattlesSeason.isJuniorSeason == true 	? rankInfo.id == 1 			? 'top' 
																		: rankInfo.leagueId == 1 	? 'big'
																									: 'small' 
																		: rankInfo.id == 1 			? 'top'
																		: rankInfo.leagueId == 1 	? 'big' 
																		: rankInfo.leagueId == 2 	? 'medium' 
																		: 'small'"/>
			<bind name="style" value="'width'; _small ? '70px' : '98px'"/>
			<bind name="style" value="'height'; _small ? '70px' : '98px'"/>
			<block>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<bind name="style" value="'width'; _small ? '27px' : '35px'"/>
				<bind name="style" value="'height'; _small ? '27px' : '35px'"/>
				<bind name="style" value="'top'; _small ? '23px' : '32px'"/>
				<bind name="style" value="'backgroundImage';  _small ? 'url:' + '../ranks/icons/icon_rank_small_' + (rankInfo.id) + '.png' 
													: 'url:' + '../ranks/icons/icon_rank_big_' + (rankInfo.id) + '.png'"/>
			</block>
		</block>
	</block>
	<block className="PlayerRankIconBig">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<block className="icons_rank_outer_big" type="native">
			<style>
				<width value="146px"/>
				<height value="146px"/>
			</style>
			<bind name="gotoAndStop!" value="rankedBattlesSeason.isJuniorSeason == true 	? rankInfo.id == 1 			? 'top' 
																		: rankInfo.leagueId == 1 	? 'big'
																									: 'small' 
																		: rankInfo.id == 1 			? 'top'
																		: rankInfo.leagueId == 1 	? 'big' 
																		: rankInfo.leagueId == 2 	? 'medium' 
																		: 'small'"/>
			<block>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<style>
					<top value="45px"/>
					<width value="54px"/>
					<height value="54px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + '../ranks/icons/icon_rank_big_' + (rankInfo.id) + '.png'"/>
			</block>
		</block>
	</block>
	<css name="$TextDefault13NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<marginText value="-3px|-3px|-6px|-5px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultNM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<marginText value="-3px|-3px|-6px|-5px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBoldNM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<marginText value="-3px|-3px|-6px|-5px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault17NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<marginText value="-3px|-4px|-7px|-6px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold17NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<marginText value="-3px|-3px|-7px|-6px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault19NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<marginText value="-3px|-3px|-7px|-5px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold19NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<marginText value="-3px|-3px|-8px|-6px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault21NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<marginText value="-3px|-3px|-8px|-7px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold21NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<marginText value="-3px|-3px|-8px|-7px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold23NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="23"/>
		<marginText value="-3px|-3px|-9px|-6px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault25NM">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<marginText value="-3px|-3px|-9px|-8px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold25NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<marginText value="-3px|-3px|-9px|-8px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold30NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="30"/>
		<marginText value="-3px|-4px|-11px|-8px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold36NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="36"/>
		<marginText value="-3px|-4px|-12px|-10px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold40NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="40"/>
		<marginText value="-3px|-4px|-13px|-10px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold46NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="46"/>
		<marginText value="-3px|-4px|-12px|-10px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultBold60NM">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<marginText value="-3px|-4px|-20px|-15px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefault17NMTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<marginText value="-3px|-4px|-7px|-6px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="ClanInset">
		<bind name="name" value="'ClansHomePage'"/>
		<styleClass value="$Fullsize"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'inset'; ['dockEntity.insetComponent.evUpdate']; dockEntity.insetComponent.inset"/>
		<bind name="primaryEntityDH" value="'pageEntity'; CC.insetPage; LobbyConstants.CLAN"/>
		<bind name="watchDH" value="'page'; ['pageEntity.insetPage.evUpdate']; pageEntity.insetPage.page"/>
		<bind name="watchDH" value="'pageData'; ['pageEntity.dataComponent.evDataChanged']; pageEntity.dataComponent.data"/>
		<bind name="changeDispatch" value="pageData; 'evPageDataChanged'"/>
		<bind name="action" value="'addedToStage'; 'openClansWindow'; pageData"/>
		<bind name="action" value="'evPageDataChanged'; 'navigateClansWindow' : ''; { 'urlParams': pageData}"/>
		<bind name="action" value="'removedFromStage'; 'closeClansWindow'; {}"/>
	</block>
	<block className="LeadingClanSquadIcon">
		<style>
			<backgroundSize value="cover"/>
		</style>
		<bind name="style" value="'width'; _isBig ? '30px' : '18px'"/>
		<bind name="style" value="'height'; _isBig ? '30px' : '18px'"/>
		<bind name="style" value="'backgroundImage'; 'url:../service_kit/icons/icon_leading_squad_' + (_isGolden ? 'golden_' : 'white_') + (_isBig ? 'big' : 'small') + '.png'"/>
	</block>
	<css name="$TextModernizationCostCr">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextModernizationCostGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextModernizationCostDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="ModernizationSlotInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<styleClass value="$VerticalInfotipBehaviourCenter"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="-13px"/>
				<marginRight value="-13px"/>
				<marginTop value="-9px"/>
				<marginBottom value="-18px"/>
			</style>
		</block>
		<block className="dock_panel_pin" type="native">
			<bind name="gotoAndStop!" value="'up'"/>
			<params>
				<param name="name" value="pinTop"/>
			</params>
			<style>
				<position value="absolute"/>
				<top value="-10px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="350px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="list; 'ModernizationSlotInfotipItem'"/>
			</block>
			<block>
				<bind name="visible" value="!(playerShipInfo.isLocked || playerShipInfo.isInFormation)"/>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorStrongBlueish'"/>
					<text value="IDS_CHOOSE_MODERNIZATION"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!!(playerShipInfo.isLocked || playerShipInfo.isInFormation)"/>
				<styleClass value="$InfoBlockIndent"/>
				<block className="icon_warning_orange" type="native">
					<style>
						<marginTop value="4px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<style>
						<maxWidth value="300"/>
					</style>
					<bind name="class" value="'$FontColorUnready'"/>
					<bind name="text" value="playerShipInfo.isInFormation ? (divisionEntranceData.divisionType == 'party')	? 'IDS_SET_UNREADY_PARTY_FIRST_TO_BUY_MODERNIZATION'
																											: 'IDS_SET_UNREADY_DIVISION_FIRST_TO_BUY_MODERNIZATION'
														 : 'IDS_LEAVE_BATTLE_FIRST_TO_BUY_MODERNIZATION'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="dock_panel_pin" type="native">
				<bind name="gotoAndStop!" value="'down'"/>
				<params>
					<param name="name" value="pinBottom"/>
				</params>
				<style>
					<position value="absolute"/>
					<bottom value="-9"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ModernizationEmptySlotTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap3" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="350px"/>
				<marginTop value="9px"/>
			</style>
			<bind name="repeat" value="list; 'ModernizationSlotInfotipItem'; {_showInTooltip: true}"/>
		</block>
		<block>
			<bind name="visible" value="!(playerShipInfo.isLocked || playerShipInfo.isInFormation)"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_TOOLTIP_EMPTY_SLOT', _maxWidth: 300 }"/>
		</block>
		<block>
			<bind name="visible" value="(playerShipInfo.isLocked || playerShipInfo.isInFormation)"/>
			<styleClass value="$InfoBlockIndent"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<style>
					<maxWidth value="300"/>
				</style>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="text" value="playerShipInfo.isInFormation ? (divisionEntranceData.divisionType == 'party')	? 'IDS_SET_UNREADY_PARTY_FIRST_TO_BUY_MODERNIZATION'
																										: 'IDS_SET_UNREADY_DIVISION_FIRST_TO_BUY_MODERNIZATION'
													 : 'IDS_LEAVE_BATTLE_FIRST_TO_BUY_MODERNIZATION'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ModernizationSlotInfotipItem">
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'MODS_COST_Demontage'; 'unmountPrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + modNumericId; 'priceInfoSet'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_INFO + 'SELL_COEF'; 'sellCoef'"/>
		<bind name="var" value="{unmountCost:unmountPrice.prices[0].finalPrice}"/>
		<bind name="catch" value="'selectedPriceChanged'"/>
		<bind name="var" value="{ selectedPriceIndex: 0 }"/>
		<bind name="watch" value="'validSelectedPriceIndex'; selectedPriceIndex &gt;= priceInfoSet.prices.length ? 0 : selectedPriceIndex"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="title"/>
		<style>
			<width value="100%"/>
			<height value="70px"/>
		</style>
		<block>
			<bind name="tooltip" value="'ModernizationTooltip'; {installed:installed, iconPath: iconPath, title: title, _attributesPositive: attributesPositive, _attributesNegative: attributesNegative,
												_attributesNeutral: attributesNeutral, numInStorage:numInStorage, tooltiptype: 0, priceInfoSet: priceInfoSet, _modId: modId, 
												type:type, description: description}; 0"/>
			<styleClass value="$Fullsize"/>
			<block>
				<bind name="request" value="'click'; !(playerShipInfo.isLocked) ? 'modernizationClicked' : null; {modId:modId, slotId:slotId, selectedCurrency: priceInfoSet.prices[validSelectedPriceIndex].currencyID, selectedPriceIndex: validSelectedPriceIndex}"/>
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<bind name="menu" value="'SelectUnmountTypeInfotip'; !(playerShipInfo.isLocked)	? {sellCoef: sellCoef, numInStorage:numInStorage, installed:installed, modId:modId, slotId:slotId, _unmountPriceInfo: unmountPrice.prices[0], purchasePriceInfo: priceInfoSet.prices[validSelectedPriceIndex], selectedPriceIndex: validSelectedPriceIndex }
																					: null; null; 'selectUnmountTypeInfotipVisible'"/>
					<bind name="selected" value="(installed || selectUnmountTypeInfotipVisible)"/>
					<styleClass value="$Fullsize"/>
					<params>
						<param name="soundSet" value="dropmenu_button"/>
					</params>
					<bind name="action" value="'rollOver'; 'ServerUIDataUSS.setModernizationSeen'; { modId: modId }"/>
				</block>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<style>
					<position value="absolute"/>
					<marginTop value="10px"/>
				</style>
				<block>
					<style>
						<width value="70px"/>
						<marginTop value="-6px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="style" value="'backgroundImage'; 'url:' + iconPath"/>
						<styleClass value="$MiddleAligned"/>
						<style>
							<width value="60px"/>
							<height value="60px"/>
							<backgroundStretchX value="true"/>
							<backgroundStretchY value="true"/>
							<hitTest value="false"/>
						</style>
					</block>
				</block>
				<block>
					<bind name="class" value="playerShipInfo.isLocked ? '$MouseDisable' : '$MouseEnable'"/>
					<style>
						<width value="100%"/>
					</style>
					<block>
						<style>
							<width value="150px"/>
							<marginTop value="-5px"/>
						</style>
						<block type="text">
							<style>
								<width value="100%"/>
								<leading value="-2"/>
								<hitTest value="false"/>
							</style>
							<styleClass value="$TextDefaultBold"/>
							<bind name="text" value="'IDS_TITLE_' + toUpperCase(title)"/>
							<bind name="class" value="installed ? '$FontColorGolden' : '$FontColorWhite'"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="class" value="playerShipInfo.isLocked ? '$MouseDisable' : '$MouseEnable'"/>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<right value="10px"/>
			</style>
			<block>
				<style>
					<right value="0px"/>
					<marginTop value="6px"/>
					<width value="24px"/>
					<height value="24px"/>
				</style>
				<bind name="visible" value="installed &amp;&amp; rollOver &amp;&amp; !(playerShipInfo.isLocked)"/>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:2, slotId:slotId, modId:modId, selectedCurrency:priceInfoSet.prices[validSelectedPriceIndex].currencyID, selectedPriceIndex: validSelectedPriceIndex}"/>
				<block className="button_cross" type="native">
					<bind name="name" value="'ButtonUnmount'"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_UNMOUNT'}], _maxWidth: 250 }"/>
					<params>
						<param name="soundSet" value="dropmenu_button"/>
					</params>
				</block>
			</block>
			<block>
				<bind name="name" value="'installed_' + title"/>
				<style>
					<right value="6px"/>
					<marginTop value="12px"/>
				</style>
				<block className="icon_check" type="native"/>
				<bind name="visible" value="(installed &amp;&amp; !rollOver) || (playerShipInfo.isLocked &amp;&amp; installed)"/>
			</block>
			<block>
				<bind name="name" value="'bought_' + title"/>
				<bind name="visible" value="numInStorage &gt; 0 &amp;&amp; !installed"/>
				<style>
					<right value="0px"/>
					<marginTop value="6px"/>
					<hitTest value="false"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<text value="IDS_IN_WAREHOUSE"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="text" value="numInStorage"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="class" value="$parent.isLocked ? '$MouseDisable' : '$MouseEnable'"/>
			<bind name="visible" value="!installed &amp;&amp; (numInStorage == 0) &amp;&amp; !(_showInTooltip)"/>
			<style>
				<position value="absolute"/>
				<right value="12px"/>
				<marginTop value="5px"/>
			</style>
			<block>
				<style>
					<right value="0"/>
				</style>
				<bind name="instance" value="'AlterablePriceTag'; {_prices: priceInfoSet.prices, _showDiscountTag: true, _selectedPriceIndex: validSelectedPriceIndex}"/>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="12px"/>
				<marginTop value="6px"/>
			</style>
			<bind name="visible" value="!installed &amp;&amp; (numInStorage == 0) &amp;&amp; _showInTooltip"/>
			<block>
				<style>
					<right value="0px"/>
				</style>
				<bind name="visible" value="priceInfoSet.prices[0].finalPrice &gt; 0"/>
				<bind name="instance" value="'PriceTag'; { priceInfo:priceInfoSet.prices[0], _showDiscountTag:true}"/>
			</block>
			<block>
				<style>
					<marginTop value="3px"/>
				</style>
				<block type="text">
					<style>
						<marginRight value="3px"/>
					</style>
					<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<text value="IDS_OR"/>
				</block>
				<block>
					<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'PriceTag'; { priceInfo:priceInfoSet.prices[1], _showDiscountTag:true }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<bottom value="0px"/>
				<position value="absolute"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModernizationTooltip">
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="changeDispatch" value="shipId + _modId; 'evCompareChanged'"/>
		<bind name="dispatch" value="'Tooltip.selfOpened'; 'evCompareChanged'"/>
		<bind name="action" value="'evCompareChanged'; 'getShipWithUpgrade'; {id: _modId, type : 'modernization', shipId: shipId}"/>
		<bind name="primaryEntityDH" value="'compareItemEntity'; CC.compareItem; 'modernization_' + _modId"/>
		<bind name="watchDH" value="'modernizationCompare'; ['compareItemEntity.compareItem.evUpdate']; compareItemEntity.dataComponent.data"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="340px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<paddingTop value="8px"/>
					<paddingBottom value="8px"/>
					<paddingLeft value="6px"/>
					<paddingRight value="6px"/>
				</style>
				<block>
					<bind name="style" value="'backgroundImage'; 'url:' + iconPath"/>
					<style>
						<width value="60px"/>
						<height value="60px"/>
						<backgroundStretchX value="true"/>
						<backgroundStretchY value="true"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="6px"/>
						<marginTop value="-1px"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeaderBold"/>
						<style>
							<width value="100%"/>
							<leading value="-5"/>
						</style>
						<bind name="text" value="'IDS_TITLE_' + toUpperCase(title)"/>
						<bind name="class" value="installed ? '$FontColorGolden' : '$FontColorWhite'"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<style>
							<width value="100%"/>
							<marginTop value="-4px"/>
						</style>
						<bind name="class" value="installed ? '$FontColorGolden' : '$FontColorWhite'"/>
						<bind name="text" value="'IDS_MODERNIZATION_' + toUpperCase(type)"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<bind name="visible" value="(numInStorage &gt; 0) &amp;&amp; !(installed)"/>
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="text" value="tr('IDS_IN_WAREHOUSE') + ' ' + numInStorage"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="2px"/>
					</style>
					<bind name="visible" value="installed"/>
					<block className="icon_check" type="native">
						<styleClass value="$MiddleVAligned"/>
					</block>
					<block type="text">
						<style>
							<marginLeft value="4px"/>
						</style>
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="class" value="'$FontColorGolden'"/>
						<text value="IDS_MODERNIZATION_IS_INSTALLED"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="visible" value="numInStorage == 0 &amp;&amp; !(installed)"/>
					<block>
						<bind name="visible" value="priceInfoSet.prices[0].finalPrice &gt; 0"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="instance" value="'PriceTagWithLabel'; { priceInfo:priceInfoSet.prices[0], _showDiscountTag:true, _label: 'IDS_PURCHASE_COST'}"/>
					</block>
					<block type="text">
						<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<text value="IDS_OR"/>
					</block>
					<block>
						<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="instance" value="'PriceTag'; { priceInfo:priceInfoSet.prices[1], _showDiscountTag:true }"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<style>
						<maxWidth value="315"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="'IDS_DESC_' + toUpperCase(description)"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$Fullsize"/>
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<paddingTop value="16px"/>
						<paddingLeft value="12px"/>
						<paddingRight value="12px"/>
					</style>
					<bind name="instance" value="'ParamsModifierList'; { _attributesPositive: _attributesPositive,
														_attributesNegative: _attributesNegative,
														_attributesNeutral:	_attributesNeutral}"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 0; null; 'tooltipShipParams'; playerShipInfo.params; modernizationCompare; 1; 0; null; 1; 1; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'ParamsAfterMount'; !installed &amp;&amp; viewParams.hasDiff ? { _viewParams: 	viewParams,
																									_title: 'IDS_AFTER_MOUNT'}
																								 	: null"/>
			</block>
			<block>
				<bind name="visible" value="!(playerShipInfo.isLocked) &amp;&amp; (tooltiptype!='modalWindow')"/>
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; !installed &amp;&amp; numInStorage == 0 ? { _type: 'left', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_PURCHASE_AND_INSTALL', _maxWidth: '270'} :
												installed &amp;&amp; tooltiptype == 0	? { _type: 'right', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_INSTALLED_ITEM', _maxWidth: '270'} :
												installed &amp;&amp; tooltiptype == 1	? { _type: 'left', _instructionText: 'IDS_TOOLTIP_EMPTY_SLOT', _maxWidth: '270'} :
												!installed &amp;&amp; numInStorage &gt; 0	? { _type: 'left', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_INSTALL', _maxWidth: '270'}
																				: null"/>
			</block>
		</block>
	</block>
	<block className="SelectUnmountTypeInfotip">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountGold';		['resourceEntity.accountResource.evChangedGold'];	resourceEntity.accountResource.gold"/>
		<bind name="watchDH" value="'accountCredits';	['resourceEntity.accountResource.evChangedCredit'];	resourceEntity.accountResource.credits"/>
		<bind name="watch" value="'curCurrencyResource'; ((_unmountPriceInfo.currency == 'gold') ? accountGold : accountCredits)"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<bind name="visible" value="installed"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<bind name="name" value="'RemoveInSelectUnmountTypeInfotip'"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:2, modId:modId, slotId:slotId, selectedCurrency: purchasePriceInfo.currencyID, selectedPriceIndex: selectedPriceIndex }"/>
				<styleClass value="$ContextMenuListItem"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<right value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<text value="IDS_UNMOUNT"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; { 	priceInfo: _unmountPriceInfo, 
													_showDiscountTag: true, 
													_deficit: _unmountPriceInfo.finalPrice - curCurrencyResource}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="dock_submenu_item" type="native">
				<bind name="name" value="'DestroyInSelectUnmountTypeInfotip'"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:8, slotId:slotId, modId:modId, selectedCurrency: purchasePriceInfo.currencyID, selectedPriceIndex: selectedPriceIndex }"/>
				<styleClass value="$ContextMenuListItem"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<right value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<style>
							<hitTest value="false"/>
						</style>
						<text value="IDS_SELL"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; { priceInfo:  {finalPrice: (purchasePriceInfo.finalPrice) * (sellCoef.prices[0].finalPrice), currency: 'credits'}}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="!installed"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:1, slotId:slotId, modId:modId, selectedCurrency: purchasePriceInfo.currencyID, selectedPriceIndex: selectedPriceIndex }"/>
				<styleClass value="$ContextMenuListItem"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<right value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<text value="IDS_INSTALL"/>
					</block>
					<block>
						<bind name="visible" value="numInStorage == 0"/>
						<bind name="instance" value="'PriceTag'; { priceInfo: purchasePriceInfo, _showDiscountTag:true }"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="SelectModarnizationActionInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountGold';		['resourceEntity.accountResource.evChangedGold'];	resourceEntity.accountResource.gold"/>
		<bind name="watchDH" value="'accountCredits';	['resourceEntity.accountResource.evChangedCredit'];	resourceEntity.accountResource.credits"/>
		<bind name="watch" value="'curCurrencyResource'; ((unmountPrice.prices[0].currency == 'gold') ? accountGold : accountCredits)"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'MODS_COST_Demontage'; 'unmountPrice'"/>
		<bind name="var" value="{unmountCost: unmountPrice.prices[0].finalPrice}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="168px"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="dispatch" value="'click'; 'unmountTypeChanged'; {unmountFlag: LobbyConstants.MODERNIZATION_UNSET}"/>
				<bind name="selected" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_UNSET"/>
				<style>
					<width value="100%"/>
					<height value="24px"/>
				</style>
				<block>
					<style>
						<right value="2px"/>
						<hitTest value="false"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_UNSET ? '$Bold' : '$None'"/>
						<text value="IDS_UNMOUNT"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; { 	priceInfo: unmountPrice.prices[0], _showDiscountTag: true, 
													_deficit: unmountPrice.prices[0].finalPrice - curCurrencyResource}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="dispatch" value="'click'; 'unmountTypeChanged'; {unmountFlag: LobbyConstants.MODERNIZATION_SELL}"/>
				<bind name="selected" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_SELL"/>
				<style>
					<width value="100%"/>
					<height value="24px"/>
				</style>
				<block>
					<bind name="visible" value="action == 0"/>
					<style>
						<right value="4px"/>
						<hitTest value="false"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_SELL ? '$Bold' : '$None'"/>
						<text value="IDS_SELL"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; {priceInfo: {finalPrice: sellCost, currency: 'credits'}}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="ModernizationsParams">
		<bind name="controller" value="lesta.unbound.core.UbController"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="6px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="percent &gt; 0 ? '+' + percent + '%' + ' ' + ids
									: percent &lt; 0 	? percent + '%' + ' '+ ids
													: percent == 0 ? ids
																	: ' '"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CarouselFilters">
		<bind name="stageSize"/>
		<bind name="watch" value="'isFourRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 160)) : true"/>
		<bind name="watch" value="'isThreeRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 88)) : true"/>
		<bind name="watch" value="'curCarouselRows';	(userPrefs.curRowCountIndex == null)															? 0 :
									(userPrefs.curRowCountIndex == 2 &amp;&amp; isFourRowsEnabled)											? 2 :
									((userPrefs.curRowCountIndex == 2 || userPrefs.curRowCountIndex == 1) &amp;&amp; isThreeRowsEnabled)	? 1
																																	: 0"/>
		<bind name="action" value="'carouselRowsCountChangedByStageHeight'; 'setUserPref' ; {value : curCarouselRows, name: 'curRowCountIndex'}"/>
		<bind name="changeDispatch" value="curCarouselRows; 'carouselRowsCountChangedByStageHeight'"/>
		<bind name="feature" value="13;''"/>
		<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITH_COMMANDER', value: false, ident: 0 }"/>
		<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITHOUT_COMMANDER', value: false, ident: 0 }"/>
		<style>
			<marginLeft value="7px"/>
			<height value="30px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="name" value="'CarouselFiltersButton'"/>
			<block className="button_carousel_filters" type="native">
				<bind name="tooltip" value="'CarouselFiltersInfotip'; {	AppliedFiltersCounter: AppliedFiltersCounter,
														_isSmallCarouselView: isSmallCarouselView,
														_isFilteredShipsHided: isFilteredShipsHided}; TooltipBehaviour.verticalInfotipSwitch; null; 'carouselFiltersInfotipIsVIsible'"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_TOOLTIP_CAROUSEL_FILTERS'}], _maxWidth: 240 }"/>
				<bind name="selected" value="carouselFiltersInfotipIsVIsible"/>
			</block>
		</block>
		<bind name="catch" value="'shipNameFIlterInfotipSelectedChanged'"/>
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<bind name="watchDH" value="'selectedFilters'; ['panelEntity.shipRestrictions.evUpdate']; panelEntity.shipRestrictions.selectedFilters"/>
		<block>
			<style>
				<height value="32px"/>
				<marginTop value="-4px"/>
				<marginRight value="12px"/>
				<marginLeft value="4px"/>
			</style>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
			<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
			<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
			<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
			<block>
				<block className="HasTrainingRoomRestrictions">
					<bind name="watchDH" value="'shipRestrictions' ; ['trainingRoomEntity.shipRestrictions.evUpdate']; trainingRoomEntity.shipRestrictions.selectedFilters"/>
					<bind name="watchDH" value="'shipsCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.shipsCount"/>
					<bind name="watchDH" value="'typesCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.typesCount"/>
					<bind name="primaryEntityDH" value="'defaultRestrictionsEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
					<bind name="watchDH" value="'defaultTypesCount' ; ['defaultRestrictionsEntity.divisionRestrictions.evUpdate']; defaultRestrictionsEntity.divisionRestrictions.typesCount"/>
					<bind name="collectionDH" value="CC.shipFilterItem; 'idsfilters'+'ROOT'"/>
					<bind name="collectionDesign" value="'DES_'+'idsfilters'+'ROOT'; 'idsfilters'; {'filter':$entity.shipFilterItem.type == 'shipId' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
					<bind name="collectionDH" value="CC.shipFilterItem; 'levelfilters'+'ROOT'"/>
					<bind name="collectionDesign" value="'DES_'+'levelfilters'+'ROOT'; 'levelfilters'; {'filter':$entity.shipFilterItem.type == 'level' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
					<bind name="collectionDH" value="CC.shipFilterItem; 'nationfilters'+'ROOT'"/>
					<bind name="collectionDesign" value="'DES_'+'nationfilters'+'ROOT'; 'nationfilters'; {'filter':$entity.shipFilterItem.type == 'nation' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
					<bind name="collectionFields" value="levelfilters; ['shipFilterItem.field']"/>
					<bind name="contains" value="typesCount; $item[1] == -1; 'isAnyShipTypeNotAllowed'"/>
					<bind name="watch" value="'isCarriersRestricted'; typesCount[ShipTypes.AircraftCarrier] &amp;&amp; typesCount[ShipTypes.AircraftCarrier][1] != defaultTypesCount[ShipTypes.AircraftCarrier][1]"/>
					<bind name="watch" value="'isBattleShipsRestricted'; typesCount[ShipTypes.BattleShip] &amp;&amp; typesCount[ShipTypes.BattleShip][1] != defaultTypesCount[ShipTypes.BattleShip][1]"/>
					<bind name="watch" value="'isCruisersRestricted'; typesCount[ShipTypes.Cruiser] &amp;&amp; typesCount[ShipTypes.Cruiser][1] != defaultTypesCount[ShipTypes.Cruiser][1]"/>
					<bind name="watch" value="'isDestroyersRestricted'; typesCount[ShipTypes.Destroyer] &amp;&amp; typesCount[ShipTypes.Destroyer][1] != defaultTypesCount[ShipTypes.Destroyer][1]"/>
					<bind name="watch" value="'isAnyShipTypeRestricted'; isCarriersRestricted || isBattleShipsRestricted || isCruisersRestricted || isDestroyersRestricted"/>
					<bind name="watch" value="'hasTrainingRoomRestrictions'; (idsfilters.length &gt; 0)			||
												(shipTypefilters.length &gt; 0)	||
												(levelfilters.length &gt; 0)		||
												(nationfilters.length &gt; 0)		||
												isShipFilterRestrictionsVisible"/>
					<bind name="watch" value="'isShipFilterRestrictionsVisible'; isAnyShipTypeRestricted &amp;&amp; isAnyShipTypeNotAllowed"/>
				</block>
				<bind name="watch" value="'pveFilterVisible'; selectedBattle.type == BattleTypes.PVE_BATTLE"/>
				<bind name="watch" value="'trainingFilterVisible'; trainingRoomEntity &amp;&amp; hasTrainingRoomRestrictions"/>
				<bind name="watch" value="'rankedFilterVisible'; selectedBattle.type == BattleTypes.RANKED_BATTLE"/>
				<bind name="watch" value="'eventFilterVisible'; selectedBattle.type == BattleTypes.EVENT_BATTLE"/>
				<bind name="watch" value="'clanFilterVisible'; selectedBattle.type == BattleTypes.CLAN_BATTLE"/>
				<bind name="watch" value="'battleTypeFilterVisible'; pveFilterVisible || trainingFilterVisible || rankedFilterVisible || eventFilterVisible || clanFilterVisible"/>
				<bind name="instance" value="'AppliedBattleTypeFilter'; battleTypeFilterVisible ? {}	: null"/>
			</block>
			<block>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipName', shipNameFilterInfotipSelected: shipNameFilterInfotipSelected, _panelEntityId: panelEntity.id}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'level', _panelEntityId: panelEntity.id}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipType', _panelEntityId: panelEntity.id}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'nation', _panelEntityId: panelEntity.id}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'special', _panelEntityId: panelEntity.id}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<bind name="instance" value="'ResetAllFilters'; selectedFilters.length &gt; 0 ? {} : null"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CarouselFiltersInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'selectedFilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'selectedFilters'+'ROOT'; 'selectedFilters'; {'filter':isIn($entity.id, panelEntity.shipRestrictions.selectedFilters)}; []"/>
		<styleClass value="$VerticalInfotipBehaviourCenterUpper"/>
		<bind name="dispatch" value="'carouselRowsCountChanged'; 'Tooltip.Place'; {}; 2; 0.15"/>
		<bind name="dispatch" value="'carouselViewChanged'; 'Tooltip.Place'; {}; 2; 0.15"/>
		<bind name="name" value="CarouselFiltersInfotipClip"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="8px"/>
				<marginRight value="13px"/>
				<marginTop value="9px"/>
				<marginBottom value="11px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-6px"/>
				<marginLeft value="-6px"/>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<style>
				<marginLeft value="9px"/>
				<marginRight value="13px"/>
				<marginTop value="10px"/>
			</style>
			<bind name="var" value="{isSearchingShipByName: false}"/>
			<bind name="catch" value="'searchShipButtonClicked'; {isSearchingShipByName: true}"/>
			<bind name="catch" value="'closeSearchField'; {isSearchingShipByName: false}"/>
			<bind name="catch" value="'TextInputWithCancel.shipSearchCancelled'; {isSearchingShipByName: false, inputStr: ''}"/>
			<bind name="watch" value="'shipSearchStringValue'; searchStr ? searchStr : false"/>
			<bind name="dispatch" value="'Tooltip.selfOpened'; shipSearchStringValue ? 'searchShipButtonClicked' : 'closeSearchField'"/>
			<bind name="dispatch" value="'Tooltip.selfClosed'; shipSearchStringValue ? null : 'closeSearchField'"/>
			<block>
				<style>
					<height value="34px"/>
					<width value="100%"/>
					<position value="absolute"/>
				</style>
				<block type="text">
					<style>
						<marginLeft value="12px"/>
						<marginTop value="3px"/>
					</style>
					<styleClass value="$TextHeaderBold"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="'IDS_FILTERS'"/>
				</block>
				<block>
					<style>
						<marginTop value="1px"/>
						<marginLeft value="6px"/>
					</style>
					<bind name="instance" value="'ResetAllFilters'; selectedFilters.length &gt; 0 ? {} : null"/>
				</block>
				<block className="button_search" type="native">
					<style>
						<right value="12px"/>
						<marginTop value="6px"/>
						<position value="absolute"/>
					</style>
					<bind name="visible" value="!(isSearchingShipByName)"/>
					<bind name="dispatch" value="'buttonClick';'searchShipButtonClicked'"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SEARCH_SHIP_BY_NAME'}"/>
				</block>
				<block>
					<bind name="visible" value="isSearchingShipByName"/>
					<bind name="collectionDH" value="CC.shipFilterItem; 'shipNameFilters'+'ROOT'"/>
					<bind name="collectionDesign" value="'DES_'+'shipNameFilters'+'ROOT'; 'shipNameFilters'; {'filter':$entity.shipFilterItem.type == 'shipName'}; []"/>
					<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
					<bind name="watchDH" value="'searchStr'; ['panelEntity.shipRestrictions.evUpdate']; panelEntity.shipRestrictions.selectedFiltersData[shipNameFilters[0].id]"/>
					<style>
						<width value="284px"/>
						<position value="absolute"/>
						<top value="15px"/>
						<right value="0"/>
					</style>
					<bind name="instance" value="'TextInputWithCancelCustom'; isSearchingShipByName	?	{	onEnterEvent: 'startShipSearch',
																						onCancelEvent: 'shipSearchCancelled',
																						onInputStrChangedEvent: 'inputStrChanged',
																						_onEnterTooltipText: 'IDS_HINT_FIND',
																						_closeButtonTooltipText: 'IDS_HINT_RESET_FILTER',
																						_defaultInputValue: searchStr,
																						_maxChars: 20,
																						_tfWidth: '250px'}
																				: null"/>
					<bind name="watch" value="'strForSearch'; inputStr"/>
					<bind name="catch" value="'TextInputWithCancel.inputStrChanged'"/>
					<bind name="changeDispatch" value="strForSearch; 'strForChanged'"/>
					<bind name="action" value="'strForChanged'; 'setFilterValue' ; {type: 'shipName', field: 'IDS_SHIP_NAME_FILTER', value: strForSearch, ident: 0}"/>
				</block>
				<block>
					<style>
						<bottom value="0px"/>
						<position value="absolute"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<marginTop value="34px"/>
					<marginBottom value="80px"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_LEVEL', _filterType: 'level', needDivider: false, _panelEntityId: panelEntity.id, _ident: 0}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_CLASS', _filterType: 'shipType', needDivider: true, _panelEntityId: panelEntity.id, _ident: 0}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_NATION', _filterType: 'nation', needDivider: true, _panelEntityId: panelEntity.id, _ident: 0}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_SPECIAL', _filterType: 'special', needDivider: true, _panelEntityId: panelEntity.id, _ident: 0}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<bottom value="-1px"/>
						<position value="absolute"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<bottom value="0px"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="14px"/>
						<marginBottom value="2px"/>
					</style>
					<block>
						<style>
							<marginTop value="7px"/>
						</style>
						<bind name="name" value="'SmallCarouselView'"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText:	(_isSmallCarouselView ?	'IDS_HINT_CHECKBOX_DISABLE_SMALL_VIEW' :
																							'IDS_HINT_CHECKBOX_ENABLE_SMALL_VIEW')}"/>
						<bind name="instance" value="'CheckBox'; {switchProperty: _isSmallCarouselView, label: 'IDS_SMALL_CAROUSEL_VIEW'}"/>
						<bind name="dispatch" value="'left_click'; 'carouselViewChanged'"/>
						<bind name="clickSplit"/>
					</block>
					<block>
						<bind name="style" value="'hitTest'; _isSmallCarouselView == true ? true : false"/>
						<bind name="transition" value="_isSmallCarouselView == true; 0.1; {alpha: 0}; {alpha: 1}"/>
						<bind name="instance" value="'CarouselRowsChooser'; {}"/>
					</block>
					<block>
						<style>
							<right value="14px"/>
							<position value="absolute"/>
						</style>
						<block type="text">
							<style>
								<marginTop value="4px"/>
							</style>
							<styleClass value="$TextHeaderBold"/>
							<bind name="class" value="'$FontColorBlueish'"/>
							<bind name="text" value="tr('IDS_SORTING_TYPE')+tr('IDS_COLON')"/>
						</block>
						<block>
							<bind name="name" value="'CarouselOrdering'"/>
							<style>
								<marginLeft value="2px"/>
								<marginTop value="3px"/>
							</style>
							<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
							<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
							<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
							<bind name="watch" value="'_curItemIndex';	(userPrefs.shipCarouselSortIndex == null) 	? 0 		: userPrefs.shipCarouselSortIndex"/>
							<bind name="watch" value="'_direction';		(userPrefs.shipCarouselSortReverse == null) ? false 	: userPrefs.shipCarouselSortReverse"/>
							<bind name="action" value="'shipSortChanged'; 'setUserPref' ; {value: _curItemIndex, name: 'shipCarouselSortIndex'}"/>
							<bind name="catch" value="'ItemChooser.shipsSortSelected'"/>
							<bind name="watchDH" value="'shipSorter'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.sortFields"/>
							<bind name="instance" value="'ItemChooser'; {	_items: [shipSorter[0].ids, shipSorter[1].ids, shipSorter[2].ids, shipSorter[3].ids], curIndex: _curItemIndex, curDirection: _direction,
															_choosedItemRenderer: 'BluishTextChoosedItemRenderer', _listItemRenderer: 'TextListItemRenderer',
															onItemSelectedEvent: 'shipsSortSelected', _itemChooserTooltipText: 'IDS_HINT_SHIP_CAROUSEL_SORT'}"/>
							<bind name="changeDispatch" value="_curItemIndex; 'shipSortChanged'"/>
							<bind name="changeDispatch" value="_direction; 'shipSortChanged'"/>
							<bind name="action" value="'shipSortChanged'; 'setSortOrder'; {sortPriority: shipSorter[_curItemIndex].field, reverse: _direction}"/>
							<bind name="action" value="'shipSortChanged'; 'setUserPref' ; {value: _direction, name: 'shipCarouselSortReverse'}"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<marginLeft value="14px"/>
						<marginBottom value="13px"/>
					</style>
					<bind name="name" value="'HideFilteredShips'"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText:	(_isFilteredShipsHided	?	'IDS_TURN_OFF_HIDE_FILTERED_SHIPS'
																						:	'IDS_TURN_ON_HIDE_FILTERED_SHIPS')}"/>
					<bind name="instance" value="'CheckBox'; {switchProperty: _isFilteredShipsHided, label: 'IDS_HIDE_FILTERED_SHIPS'}"/>
					<bind name="dispatch" value="'left_click'; 'carouselHideFilteredChanged'"/>
					<bind name="clickSplit"/>
				</block>
			</block>
		</block>
		<block className="dock_panel_pin" type="native">
			<style>
				<marginLeft value="10px"/>
				<marginBottom value="3px"/>
				<alpha value="0.5"/>
			</style>
			<bind name="gotoAndStop!" value="'down'"/>
		</block>
	</block>
	<block className="TextInputWithCancelCustom">
		<styleClass value="$Fullsize"/>
		<bind name="var" value="{textInput: ''}"/>
		<bind name="catch" value="'removedFromStage'; {textInput: ''}"/>
		<bind name="changeDispatch" value="_defaultInputValue; 'setDefaultValue'"/>
		<bind name="catch" value="'setDefaultValue'; {textInput: _defaultInputValue}"/>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block className="text_input_caps_enter" type="native">
				<bind name="tooltip" value="'SimpleTooltip'; _tooltipText ? {tooltipText: _tooltipText} : null"/>
				<bind name="style" value="'width'; _tfWidth ? _tfWidth : '270px'"/>
				<params>
					<param name="actAsButton" value="true"/>
				</params>
				<bind name="maxChars" value="_maxChars ? _maxChars : 32"/>
				<bind name="defaultText" value="defaultText"/>
				<bind name="focus" value="0; true"/>
				<bind name="restrict" value="restrict"/>
				<bind name="text" value="textInput"/>
				<bind name="sync" value="'text'; 'change'; textInput"/>
				<bind name="dispatch" value="'change'; 'TextInputWithCancel.'+ onInputStrChangedEvent; {inputStr: textInput}"/>
				<bind name="dispatch" value="'textInputEnter'; 'TextInputWithCancel.' + onEnterEvent; {inputStr: textInput}"/>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'SimpleTooltip'; _onEnterTooltipText ? {tooltipText: _onEnterTooltipText} : null"/>
					<styleClass value="$TextInputEnterButton"/>
					<bind name="enabled" value="textInput"/>
					<bind name="dispatch" value="'buttonClick'; 'TextInputWithCancel.' + onEnterEvent; {inputStr: textInput}"/>
				</block>
			</block>
			<block className="button_close" type="native">
				<bind name="tooltip" value="'SimpleTooltip'; _closeButtonTooltipText ? {tooltipText: _closeButtonTooltipText} : null"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="6px"/>
				</style>
				<bind name="dispatch" value="'buttonClick'; 'TextInputWithCancel.' + onCancelEvent"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CarouselRowsChooser">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'_curItemIndex';	(userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="action" value="'carouselRowsCountChanged'; 'setUserPref' ; {value : _curItemIndex, name: 'curRowCountIndex'}"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="name" value="'CarouselRows'"/>
			<style>
				<marginLeft value="2px"/>
				<marginRight value="6px"/>
				<marginTop value="3px"/>
			</style>
			<bind name="catch" value="'ItemChooser.carouselRowsSelected'"/>
			<bind name="instance" value="'ItemChooser'; {	_items: ['2', '3', '4'], curIndex: _curItemIndex, _dropDownWidth: '50px',
											_choosedItemRenderer: 'BluishTextChoosedItemRenderer', _listItemRenderer: 'CarouselShipRowsListItemRenderer',
											onItemSelectedEvent: 'carouselRowsSelected', _itemChooserTooltipText: 'IDS_HINT_ROWS_IN_CAROUSEL'}"/>
			<bind name="changeDispatch" value="_curItemIndex; 'carouselRowsCountChanged'"/>
		</block>
	</block>
	<block className="CarouselAppliedFilterInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="class" value="(_arrow == 'top') ? '$ReplaysInfotipFilter' : '$VerticalInfotipBehaviourCenterUpper'"/>
		<bind name="name" value="'CarouselAppliedFilterInfotip'"/>
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<block className="dock_panel_pin" type="native">
			<bind name="visible" value="_arrow == 'top'"/>
			<bind name="gotoAndStop!" value="'up'"/>
			<params>
				<param name="name" value="pinTop"/>
			</params>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="8px"/>
				<marginRight value="13px"/>
				<marginTop value="9px"/>
				<marginBottom value="11px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-6px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
		<block>
			<style>
				<marginLeft value="9px"/>
				<marginRight value="13px"/>
				<marginTop value="10px"/>
			</style>
			<bind name="instance" value="'FilterBlock'; {_title: _title, _filterType: _filterType, needDivider: false, _panelEntityId: panelEntity.id, _ident: 0}}"/>
		</block>
		<block className="dock_panel_pin" type="native">
			<bind name="style" value="'alpha'; _arrow != 'top' ? '0.5' : '0'"/>
			<style>
				<marginBottom value="3px"/>
			</style>
			<bind name="gotoAndStop!" value="'down'"/>
			<params>
				<param name="name" value="pinBottom"/>
			</params>
		</block>
	</block>
	<block className="CarouselAppliedFilterShipNameInfotip">
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'shipNameFilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'shipNameFilters'+'ROOT'; 'shipNameFilters'; {'filter':$entity.shipFilterItem.type == 'shipName'}; []"/>
		<bind name="watchDH" value="'searchStr'; ['panelEntity.shipRestrictions.evUpdate']; panelEntity.shipRestrictions.selectedFiltersData[shipNameFilters[0].id]"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$VerticalInfotipBehaviourCenterUpper"/>
		<bind name="name" value="'CarouselAppliedFilterShipNameInfotip'"/>
		<style>
			<width value="305px"/>
			<height value="65px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="8px"/>
				<marginRight value="13px"/>
				<marginTop value="9px"/>
				<marginBottom value="11px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-6px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="284px"/>
				<height value="40px"/>
				<marginTop value="11px"/>
				<right value="6px"/>
			</style>
			<bind name="instance" value="'TextInputWithCancelCustom'; {	onEnterEvent: 'startShipSearch',
													onCancelEvent: 'shipSearchCancelled',
													onInputStrChangedEvent: 'inputStrChanged',													
													_onEnterTooltipText: 'IDS_HINT_FIND',
													_closeButtonTooltipText: 'IDS_HINT_RESET_FILTER',
													_defaultInputValue: searchStr,
													_maxChars: 20,
													_tfWidth: '250px'}"/>
			<bind name="watch" value="'strForSearch'; inputStr"/>
			<bind name="catch" value="'TextInputWithCancel.inputStrChanged'"/>
			<bind name="changeDispatch" value="strForSearch; 'strForChanged'"/>
			<bind name="catch" value="'TextInputWithCancel.shipSearchCancelled'; {inputStr: ''}"/>
			<bind name="action" value="'strForChanged'; 'setFilterValue' ; {type: 'shipName', field: 'IDS_SHIP_NAME_FILTER', value: strForSearch, ident: 0}"/>
			<bind name="dispatch" value="'TextInputWithCancel.shipSearchCancelled'; 'Tooltip.Close'; {}; false; 0.1"/>
		</block>
		<block className="dock_panel_pin" type="native">
			<style>
				<position value="absolute"/>
				<bottom value="3px"/>
				<alpha value="0.5"/>
			</style>
			<bind name="gotoAndStop!" value="'down'"/>
			<params>
				<param name="name" value="pinBottom"/>
			</params>
		</block>
	</block>
	<block className="FilterBlock">
		<bind name="collectionDH" value="CC.shipFilterItem; 'filters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'filters'+'ROOT'; 'filters'; {'filter':$entity.shipFilterItem.type == _filterType}; []"/>
		<block type="text">
			<style>
				<marginTop value="5px"/>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="_title"/>
		</block>
		<block>
			<bind name="name" value="'FilterBlockValues'"/>
			<style>
				<flow value="vtile"/>
				<height value="155px"/>
				<marginLeft value="30px"/>
				<marginRight value="6px"/>
			</style>
			<bind name="repeat" value="filters; 'FilterItem'; {_panelEntityId: _panelEntityId, _ident: _ident, _tooltipPrefix: _tooltipPrefix}"/>
		</block>
		<block>
			<bind name="visible" value="needDivider == true"/>
			<style>
				<height value="100%"/>
				<position value="absolute"/>
			</style>
			<block className="divider_v" type="native">
				<style>
					<height value="100%"/>
				</style>
			</block>
		</block>
	</block>
	<block className="FilterItem">
		<bind name="entityDH" value="'entity'; id"/>
		<bind name="entityDH" value="'panelEntity'; _panelEntityId"/>
		<bind name="watchDH" value="'_value'; ['panelEntity.shipRestrictions.evUpdate']; isIn(entity.id, panelEntity.shipRestrictions.selectedFilters)"/>
		<bind name="watchDH" value="'_filterType'; ['entity.shipFilterItem.evUpdate']; entity.shipFilterItem.type"/>
		<bind name="watchDH" value="'_field'; ['entity.shipFilterItem.evUpdate']; entity.shipFilterItem.field"/>
		<bind name="instance" value="(_filterType == 'level')	? 'ShipLevelCheckBox'	:
                    (_filterType == 'shipType')	? 'ShipClassCheckBox'	:
                    (_filterType == 'nation')	? (_field != 'Events' ? 'ShipNationCheckBox' : 'EmptyItem') :
                    (_filterType == 'special')	? 'ShipSpecialCheckBox'
                                          		: 'FilterCheckBox'; {_filterType: _filterType, value: _value, field: _field, _ident: _ident, _tooltipPrefix: _tooltipPrefix}"/>
	</block>
	<block className="FilterCheckBox">
		<style>
			<marginRight value="44px"/>
			<marginBottom value="8px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: value, label: field, _maxTfWidth: 150}"/>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value, ident: _ident}"/>
		<bind name="clickSplit"/>
	</block>
	<block className="ShipLevelCheckBox">
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
		</style>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value, ident: _ident}"/>
		<bind name="clickSplit"/>
		<bind name="watch" value="'tooltipPrefix'; _tooltipPrefix ? _tooltipPrefix : 'IDS_'"/>
		<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: subst(tooltipPrefix + 'HINT_CHECKBOX_FILTER_LEVEL', [], {level: field}) }"/>
		<bind name="instance" value="'CheckBox'; {switchProperty: !!(value), label: ShipLevels.RLEVELS[field], _maxTfWidth: 150}"/>
	</block>
	<block className="ShipClassCheckBox">
		<bind name="visible" value="field != ShipTypes.Submarine"/>
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value, ident: _ident}"/>
		<bind name="clickSplit"/>
		<bind name="watch" value="'tooltipPrefix'; _tooltipPrefix ? _tooltipPrefix : 'IDS_'"/>
		<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: tooltipPrefix + 'HINT_CHECKBOX_FILTER_CLASS_' + toUpperCase(field) }"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
			<height value="21px"/>
			<flow value="horizontal"/>
		</style>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="!!(value)"/>
		</block>
		<block>
			<style>
				<marginTop value="5px"/>
				<hitTest value="false"/>
			</style>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="style" value="'marginLeft'; 	field == ShipTypes.Submarine 	? '29px' :
									field == ShipTypes.Destroyer 	? '24px'
																	: '27px'"/>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="field"/>
			</block>
		</block>
	</block>
	<block className="ShipNationCheckBox">
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value, ident: _ident}"/>
		<bind name="watch" value="'tooltipPrefix'; _tooltipPrefix ? _tooltipPrefix : 'IDS_'"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr(tooltipPrefix + 'HINT_CHECKBOX_FILTER_NATION_') +  tr(toUpperCase(field))}"/>
		<bind name="clickSplit"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
			<flow value="horizontal"/>
		</style>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="!!(value)"/>
		</block>
		<block>
			<style>
				<marginLeft value="27px"/>
				<hitTest value="false"/>
			</style>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: field}"/>
		</block>
	</block>
	<block className="ShipSpecialCheckBox">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; field == 'IDS_RANKED_BATTLES' ? 'rankedBattlesSeason' : null"/>
		<bind name="collectionDH" value="CC.clubsCommon; 'clubsCommonCollection'"/>
		<bind name="entityDH" value="'clubsCommonEntity'; clubsCommonCollection[0].id"/>
		<bind name="watchDH" value="'clubBattlesSeasonId'; ['clubsCommonEntity.clubsCommon.evRulesChanged']; clubsCommonEntity.clubsCommon.seasonId"/>
		<bind name="watchDH" value="'clubBattlesSeasonStage'; ['clubsCommonEntity.clubsCommon.evRulesChanged']; clubsCommonEntity.clubsCommon.stage"/>
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<bind name="feature" value="13; ''"/>
		<bind name="feature" value="16; ''"/>
		<bind name="feature" value="19; ''"/>
		<bind name="watch" value="'isVisible';	(field == 'IDS_RANKED_BATTLES'	&amp;&amp;	(feature_16 == 'locked' || rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON))			? false :
								(field == 'IDS_CLUB_BATTLES'	&amp;&amp;	(feature_19 == 'locked' || clubBattlesSeasonId &lt;= 0 || clubBattlesSeasonStage != 2))	? false :
								((field == 'IDS_WITH_COMMANDER'	||	field == 'IDS_WITHOUT_COMMANDER') &amp;&amp; feature_13 == 'locked')							? false
																																							: true"/>
		<bind name="visible" value="isVisible"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value, ident: _ident}"/>
		<bind name="clickSplit"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText:	((field == 'IDS_SELECTED_BY_USER') 	? 'IDS_HINT_CHECKBOX_FILTER_SELECTED_BY_USER':
													(field == 'IDS_FILTER_PREMIUM') 	? 'IDS_HINT_CHECKBOX_FILTER_PREMIUM':
													(field == 'IDS_WITH_COMMANDER') 	? 'IDS_HINT_CHECKBOX_FILTER_WITH_COMMANDER':
													(field == 'IDS_WITHOUT_COMMANDER') 	? 'IDS_HINT_CHECKBOX_FILTER_WITHOUT_COMMANDER':
													(field == 'IDS_FILTER_ELITE')	 	? 'IDS_HINT_CHECKBOX_FILTER_ELITE'	:
													(field == 'IDS_FILTER_NOT_ELITE')	? 'IDS_HINT_CHECKBOX_FILTER_NOT_ELITE':
													(field == 'IDS_RANKED_BATTLES')		? 'IDS_HINT_CHECKBOX_FILTER_RANKED':
													(field == 'IDS_PVE_BATTLES')		? 'IDS_HINT_CHECKBOX_FILTER_PVE'	:
													(field == 'IDS_CLUB_BATTLES')		? 'IDS_HINT_CHECKBOX_FILTER_CLUB'	:
													(field == 'IDS_PROMO_FILTER')		? 'IDS_HINT_CHECKBOX_FILTER_SHARE'	:
													'UNKNOWN_FILTER_TYPE')}"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
			<height value="21px"/>
			<flow value="horizontal"/>
		</style>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="!!(value)"/>
		</block>
		<block>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<style>
				<marginTop value="-2px"/>
				<marginLeft value="27px"/>
				<hitTest value="false"/>
			</style>
			<bind name="child" value="field; {_isCheckBox: true}; {	IDS_SELECTED_BY_USER: 'PrimaryIcon',
													IDS_FILTER_NOT_ELITE: 'NotEliteIcon',
													IDS_FILTER_ELITE: 'EliteIcon',
													IDS_FILTER_PREMIUM: 'PremiumIcon',
													IDS_RANKED_BATTLES: 'RankedIcon',
													IDS_PVE_BATTLES	: 'PVEIcon',
													IDS_CLUB_BATTLES: 'ClubIcon',
													IDS_PROMO_FILTER: 'ShareIcon',
													IDS_WITH_COMMANDER: 'WithCrewIcon',
													IDS_WITHOUT_COMMANDER: 'WithoutCrewIcon'}"/>
		</block>
	</block>
	<block className="AppliedBattleTypeFilter">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="firstEntityDH" value="'enterBattleEntity'; CC.enterBattle"/>
		<bind name="watchDH" value="'selectedBattle'; ['enterBattleEntity.enterBattle.evBattleTypesChanged']; enterBattleEntity.enterBattle.selectedBattle"/>
		<bind name="primaryEntityDH" value="'selectedBattleTypeEntity'; CC.battleType; selectedBattle.type"/>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'chosenOperationId'; ['pveStateEntity.pveState.evStateUpdated']; pveStateEntity.pveState.chosenOperation"/>
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
		<bind name="watchDH" value="'operationType';	['operationEntity.operation.evStatusChanged']; operationEntity.operation.type"/>
		<bind name="watchDH" value="'operationIsHard'; []; operationEntity.operation.isHard"/>
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="primaryEntityDH" value="'defaultRestrictionsEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
		<bind name="primaryEntityDH" value="'rankedRestrictionsEntity'; CC.shipRestrictions; 7"/>
		<bind name="watch" value="'pveDifficultyPostfix'; operationIsHard ? '_hard' : ''"/>
		<bind name="watch" value="'pveIconLabel'; (operationType == 'event' ? 'PVEBattle_event' : 'PVEBattle') + pveDifficultyPostfix"/>
		<bind name="firstEntityDH" value="'currentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="watch" value="'restrictionsEntityId';	selectedBattle.type == BattleTypes.PVE_BATTLE 		? 	operationEntity.id :
											selectedBattle.type == BattleTypes.TRAINING_BATTLE	?	trainingRoomEntity.id :
											selectedBattle.type == BattleTypes.RANKED_BATTLE	?	rankedRestrictionsEntity.id :
											selectedBattle.type == BattleTypes.CLAN_BATTLE		?	currentSeasonEntity.id
																								:	selectedBattleTypeEntity.id"/>
		<bind name="watch" value="'filterIcons';	selectedBattle.type == BattleTypes.PVE_BATTLE 		? 	pveIconLabel :
								selectedBattle.type == BattleTypes.TRAINING_BATTLE	?	'training_room':
								selectedBattle.type == BattleTypes.RANKED_BATTLE	?	(rankedBattlesSeason.isJuniorSeason == true) 	? 'rank_junior' 
																																		: 'rank' :
								selectedBattle.type == BattleTypes.EVENT_BATTLE		?	'event' :
								selectedBattle.type == BattleTypes.CLAN_BATTLE		?	'club'
																					:	'no_icon'"/>
		<bind name="watch" value="'filterText';	selectedBattle.type == BattleTypes.PVE_BATTLE		? tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME') :
								selectedBattle.type == BattleTypes.TRAINING_BATTLE	? 'IDS_CUSTOM_ROOM' :
								selectedBattle.type == BattleTypes.RANKED_BATTLE 	? 'IDS_RANKED_BATTLES' :
								selectedBattle.type == BattleTypes.CLAN_BATTLE 		? 'IDS_CLANBATTLE' :
								selectedBattle.type == BattleTypes.EVENT_BATTLE 	? 'IDS_EVENTBATTLE'
																					: 'UNKNOWN_BATTLE_TYPE'"/>
		<style>
			<height value="30px"/>
			<flow value="horizontal"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="tooltip" value="'SimpleTooltip'; selectedBattle.type != BattleTypes.CLAN_BATTLE ? {tooltipText: tr(toUpperCase('IDS_CAROUSEL_' + selectedBattle.type + '_FILTER'))} : null"/>
		<block className="button_dock_bg" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="gotoAndStop!" value="'down'"/>
		</block>
		<block className="icon_filters" type="native">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="4px"/>
			</style>
			<bind name="gotoAndStop!" value="filterIcons"/>
		</block>
		<block type="text">
			<style>
				<marginTop value="2px"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="filterText"/>
		</block>
		<block>
			<style>
				<marginLeft value="16px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'ShipRestrictions'; 
			selectedBattle.type == BattleTypes.TRAINING_BATTLE 	? {	_restrictionsEntityId: restrictionsEntityId, 
																	_defaultRestrictionsEntityId: defaultRestrictionsEntity.id }
																: { _restrictionsEntityId: restrictionsEntityId }"/>
		</block>
	</block>
	<css name="$HugeFilterMargins">
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
	</css>
	<css name="$TinyFilterMargins">
		<marginLeft value="4px"/>
		<marginRight value="4px"/>
	</css>
	<block className="AppliedFilter">
		<bind name="visible" value="selectedItems.length &gt; 0"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="entityDH" value="'panelEntity'; _panelEntityId"/>
		<bind name="watchDH" value="'selectedFilters'; ['panelEntity.shipRestrictions.evUpdate']; panelEntity.shipRestrictions.selectedFilters"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'selectedItems'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'selectedItems'+'ROOT'; 'selectedItems'; {'filter':isIn($entity.id, selectedFilters) &amp;&amp; ($entity.shipFilterItem.type == _filterType)}; []"/>
		<bind name="collectionFields" value="selectedItems; ['shipFilterItem.field']"/>
		<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) || appliedFiltersInfotipSelected || shipNameFilterInfotipSelected; 0.15; {alpha: 0.7}; {alpha: 1}"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 0.7, top: 0}; 2"/>
		<style>
			<height value="30px"/>
		</style>
		<block className="button_dock_bg" type="native">
			<bind name="gotoAndStop!" value="'down'"/>
			<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || (mouseDown)) || appliedFiltersInfotipSelected || shipNameFilterInfotipSelected; 0.15; {alpha: 0}; {alpha: 0.7}"/>
			<style>
				<height value="100%"/>
			</style>
			<bind name="tooltip" value="'CarouselAppliedFilterInfotip';	_filterType == 'level' 		? {_title: 'IDS_LEVEL', _filterType: _filterType, _arrow: _arrow} :
														_filterType == 'shipType'	? {_title: 'IDS_CLASS', _filterType: _filterType, _arrow: _arrow} :
														_filterType == 'nation' 	? {_title: 'IDS_NATION', _filterType: _filterType, _arrow: _arrow} :
														_filterType == 'special'	? {_title: 'IDS_SPECIAL', _filterType: _filterType, _arrow: _arrow}
																					: null; TooltipBehaviour.verticalInfotip; null; 'appliedFiltersInfotipSelected'"/>
			<bind name="tooltip" value="'CarouselAppliedFilterShipNameInfotip'; (_filterType == 'shipName')	? {}
																							: null;	 TooltipBehaviour.verticalInfotip; null; 'shipNameFIlterInfotipSelected'"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; (_filterType != 'shipName') ? { _mouseInstructions: [{_type: 'left', _instructionText: tr('IDS_CAROUSEL_APPLIED_FILTER_HINT_'+toUpperCase(_filterType))}], _maxWidth: 240 }
																				: null"/>
			<bind name="changeDispatch" value="shipNameFilterInfotipSelected; 'shipNameFIlterInfotipSelectedChanged';{shipNameFilterInfotipSelected: shipNameFilterInfotipSelected}"/>
			<block>
				<style>
					<height value="100%"/>
					<marginTop value="1px"/>
				</style>
				<bind name="class" value="_disableReset ? '$TinyFilterMargins' : '$HugeFilterMargins'"/>
				<block>
					<bind name="visible" value="_filterType == 'level'"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="repeat" value="reduceAppliedValues(selectedItems_shipFilterItem_field); 'ShipLevelRome'"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="_filterType != 'level'"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="repeat" value="selectedItems; (_filterType == 'shipName')	? 'CarouselSortingText'
											:(_filterType == 'shipType')	? 'ShipTypeIcon'
											:(_filterType == 'nation')		? 'TinyNationFlag'
											:(_filterType == 'special')		? 'SpecialSortingIcon'
																			: 'CarouselSortingText'"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<height value="100%"/>
						<marginLeft value="0px"/>
					</style>
					<bind name="visible" value="_needDivider == true"/>
					<block className="VerticalDivider">
						<style>
							<height value="100%"/>
							<width value="3px"/>
						</style>
						<block className="divider_v" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<block>
					<bind name="visible" value="_disableReset != true"/>
					<style>
						<height value="100%"/>
						<width value="12px"/>
					</style>
					<block>
						<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || mouseDown) || appliedFiltersInfotipSelected || shipNameFilterInfotipSelected; 0.15; {alpha: 0}; {alpha: 0.7}"/>
						<bind name="action" value="'click'; 'resetFilterType' ; {type: _filterType, ident: 0}"/>
						<styleClass value="$MiddleVAligned"/>
						<block className="button_close" type="native">
							<style>
								<marginRight value="1px"/>
							</style>
							<bind name="name" value="'CarouselFilterClose_' + _filterType"/>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_RESET_FILTER'}"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ResetAllFilters">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<style>
			<height value="30px"/>
			<marginRight value="4px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="action" value="'click'; 'resetAllFilters'; {ident: 0}"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_HINT_RESET_ALL_FILTERS'}], _maxWidth: 250}"/>
		<bind name="soundSet" value="'resetallfilters_item'"/>
		<block className="button_dock_bg" type="native">
			<bind name="gotoAndStop!" value="'down'"/>
			<style>
				<height value="100%"/>
			</style>
			<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || (mouseDown)); 0.15; {alpha: 0}; {alpha: 0.7}"/>
			<block>
				<style>
					<height value="100%"/>
					<marginLeft value="8px"/>
					<marginRight value="8px"/>
				</style>
				<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.7}; {alpha: 1}"/>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="'IDS_RESET_ALL_FILTERS'"/>
				</block>
				<block>
					<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || mouseDown); 0.15; {alpha: 0}; {alpha: 0.7}"/>
					<style>
						<marginLeft value="2px"/>
						<marginRight value="1px"/>
						<marginTop value="10px"/>
						<hitTest value="false"/>
					</style>
					<block className="button_close" type="native"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipLevelRome">
		<style>
			<marginRight value="2px"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="ShipLevels.RLEVELS[$value]"/>
		</block>
	</block>
	<block className="CarouselSortingText">
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'shipNameFilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'shipNameFilters'+'ROOT'; 'shipNameFilters'; {'filter':$entity.shipFilterItem.type == 'shipName'}; []"/>
		<bind name="watchDH" value="'searchStr'; ['panelEntity.shipRestrictions.evUpdate']; panelEntity.shipRestrictions.selectedFiltersData[shipNameFilters[0].id]"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<hitTest value="false"/>
				<marginTop value="2px"/>
				<marginRight value="1px"/>
			</style>
			<block className="button_search" type="native"/>
		</block>
		<block type="text">
			<style>
				<marginRight value="4px"/>
				<marginTop value="-1px"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="searchStr"/>
		</block>
	</block>
	<block className="ShipTypeIcon">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<block>
			<style>
				<marginRight value="4px"/>
			</style>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="_field"/>
			</block>
		</block>
	</block>
	<block className="TinyNationFlag">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<block>
			<style>
				<marginRight value="2px"/>
			</style>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: _field}"/>
		</block>
	</block>
	<block className="SpecialSortingIcon">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<style>
			<marginLeft value="-2px"/>
		</style>
		<bind name="child" value="_field; {}; {	IDS_SELECTED_BY_USER: 'PrimaryIcon',
								IDS_FILTER_NOT_ELITE: 'NotEliteIcon',
								IDS_FILTER_ELITE: 'EliteIcon',
								IDS_FILTER_PREMIUM: 'PremiumIcon',
								IDS_RANKED_BATTLES: 'RankedIcon',
								IDS_PVE_BATTLES: 'PVEIcon', 
								IDS_CLUB_BATTLES: 'ClubIcon',
								IDS_PROMO_FILTER: 'ShareIcon',
								IDS_WITH_COMMANDER: 'WithCrewIcon',
								IDS_WITHOUT_COMMANDER: 'WithoutCrewIcon'}"/>
	</block>
	<block className="NotEliteIcon">
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'default'"/>
		</block>
	</block>
	<block className="EliteIcon">
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'elite'"/>
		</block>
	</block>
	<block className="PrimaryIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'primary'"/>
		</block>
	</block>
	<block className="WithCrewIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '1px': '2px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'withCrew'"/>
		</block>
	</block>
	<block className="WithoutCrewIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'withoutCrew'"/>
		</block>
	</block>
	<block className="PremiumIcon">
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'premium'"/>
		</block>
	</block>
	<block className="ShareIcon">
		<style>
			<marginTop value="1px"/>
		</style>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'share'"/>
		</block>
	</block>
	<block className="RankedIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'rank'"/>
		</block>
	</block>
	<block className="PVEIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'pve'"/>
		</block>
	</block>
	<block className="ClubIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'club'"/>
		</block>
	</block>
	<block className="CarouselShipRowsListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<bind name="var" value="{_toLowerCase: true}"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'isFourRowsEnabled'; (stageHeight &gt; (720 + 160))"/>
		<bind name="watch" value="'isThreeRowsEnabled'; (stageHeight &gt; (720 + 88))"/>
		<bind name="watch" value="'isEnabled';	($index == 0)							? true :
								(isThreeRowsEnabled &amp;&amp; ($index == 1))	? true :
								(isFourRowsEnabled &amp;&amp; ($index == 2))	? true
																		: false"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="tooltip" value="'SimpleWarningTooltip'; isEnabled ? null : {_text: tr('IDS_NOT_ENABLED_ON_LOW_RESOLUTION')}"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="style" value="'alpha'; isEnabled ? 1 : 0.5"/>
			<bind name="style" value="'hitTest'; isEnabled"/>
			<block className="MenuItemWithSelection">
				<styleClass value="$Fullsize"/>
				<bind name="name" value="$value"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="selected" value="(_curItemIndex == $index)"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
					<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
				</block>
			</block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 	($index == 0)	? tr('IDS_SHOW_TWO_ROWS_IN_CAROUSEL') :
														($index == 1)	? tr('IDS_SHOW_THREE_ROWS_IN_CAROUSEL') :
														($index == 2)	? tr('IDS_SHOW_FOUR_ROWS_IN_CAROUSEL')
																		: ''}"/>
			<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
			<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
		</block>
	</block>
	<block className="HasTrainingRoomRestrictions">
		<bind name="watchDH" value="'shipRestrictions' ; ['trainingRoomEntity.shipRestrictions.evUpdate']; trainingRoomEntity.shipRestrictions.selectedFilters"/>
		<bind name="watchDH" value="'shipsCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.shipsCount"/>
		<bind name="watchDH" value="'typesCount' ; ['trainingRoomEntity.divisionRestrictions.evUpdate']; trainingRoomEntity.divisionRestrictions.typesCount"/>
		<bind name="primaryEntityDH" value="'defaultRestrictionsEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
		<bind name="watchDH" value="'defaultTypesCount' ; ['defaultRestrictionsEntity.divisionRestrictions.evUpdate']; defaultRestrictionsEntity.divisionRestrictions.typesCount"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'idsfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'idsfilters'+'ROOT'; 'idsfilters'; {'filter':$entity.shipFilterItem.type == 'shipId' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'levelfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'levelfilters'+'ROOT'; 'levelfilters'; {'filter':$entity.shipFilterItem.type == 'level' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'nationfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'nationfilters'+'ROOT'; 'nationfilters'; {'filter':$entity.shipFilterItem.type == 'nation' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionFields" value="levelfilters; ['shipFilterItem.field']"/>
		<bind name="contains" value="typesCount; $item[1] == -1; 'isAnyShipTypeNotAllowed'"/>
		<bind name="watch" value="'isCarriersRestricted'; typesCount[ShipTypes.AircraftCarrier] &amp;&amp; typesCount[ShipTypes.AircraftCarrier][1] != defaultTypesCount[ShipTypes.AircraftCarrier][1]"/>
		<bind name="watch" value="'isBattleShipsRestricted'; typesCount[ShipTypes.BattleShip] &amp;&amp; typesCount[ShipTypes.BattleShip][1] != defaultTypesCount[ShipTypes.BattleShip][1]"/>
		<bind name="watch" value="'isCruisersRestricted'; typesCount[ShipTypes.Cruiser] &amp;&amp; typesCount[ShipTypes.Cruiser][1] != defaultTypesCount[ShipTypes.Cruiser][1]"/>
		<bind name="watch" value="'isDestroyersRestricted'; typesCount[ShipTypes.Destroyer] &amp;&amp; typesCount[ShipTypes.Destroyer][1] != defaultTypesCount[ShipTypes.Destroyer][1]"/>
		<bind name="watch" value="'isAnyShipTypeRestricted'; isCarriersRestricted || isBattleShipsRestricted || isCruisersRestricted || isDestroyersRestricted"/>
		<bind name="watch" value="'hasTrainingRoomRestrictions'; (idsfilters.length &gt; 0)			||
												(shipTypefilters.length &gt; 0)	||
												(levelfilters.length &gt; 0)		||
												(nationfilters.length &gt; 0)		||
												isShipFilterRestrictionsVisible"/>
		<bind name="watch" value="'isShipFilterRestrictionsVisible'; isAnyShipTypeRestricted &amp;&amp; isAnyShipTypeNotAllowed"/>
	</block>
	<css name="$MarginsBig">
		<marginBottom value="16"/>
		<marginTop value="16"/>
		<marginLeft value="16"/>
		<marginRight value="16"/>
	</css>
	<css name="$MarginsMedium">
		<marginBottom value="16"/>
		<marginTop value="16"/>
		<marginLeft value="16"/>
		<marginRight value="16"/>
	</css>
	<css name="$FontColorAvA">
		<textColor value="0xded5c6"/>
	</css>
	<block className="ArcEventTeamPresentationLogo">
		<style>
			<width value="150px"/>
			<height value="150px"/>
			<backgroundSize value="cover"/>
		</style>
		<bind name="style" value="'backgroundImage'; _side == 0 	? 'url:../events/american_event/team_logo/american_event_icon_sharks_own.png'
												: 'url:../events/american_event/team_logo/american_event_icon_eagles_own.png'"/>
	</block>
	<block className="ArcEventTeamPresentationHeaderSmall">
		<bind name="controller" value="lesta.unbound.core.UbController"/>
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sides';[]; arcEventEntity.arcEvent.sides"/>
		<bind name="watchDH" value="'sideId';['arcEventEntity.playerArcEventInfo.evSideChanged']; arcEventEntity.playerArcEventInfo.sideId"/>
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; sides[_side]"/>
		<bind name="watchDH" value="'sideDailyProgress';['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.sideDailyProgress"/>
		<bind name="catch" value="'resetDailyProgress'; {sideDailyProgressTrans: 0}"/>
		<bind name="dispatchDelayReset" value="'sideDailyProgress'+varChanged; 'startSideTransition'; {}; 2; 0.05"/>
		<bind name="dispatchDelayReset" value="'resetDailyProgress'; 'startSideTransition'; {}; 2; 0.05"/>
		<bind name="catch" value="'startSideTransition'; {sideDailyProgressTrans: sideDailyProgress}"/>
		<block>
			<style>
				<width value="150px"/>
				<height value="150px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; (_side == 0) 	? 	(_side == sideId)	? 'url:../events/american_event/team_logo/american_event_icon_sharks_own.png'
																				: 'url:../events/american_event/team_logo/american_event_icon_sharks.png':
										(_side == 1) 	? 	(_side == sideId) 	? 	_isInStat 	? 'url:../events/american_event/team_logo/american_event_icon_eagles_own.png'
																								: 'url:../events/american_event/team_logo/american_event_icon_eagles_own2.png'
																				:   _isInStat 	? 'url:../events/american_event/team_logo/american_event_icon_eagles.png'
																								: 'url:../events/american_event/team_logo/american_event_icon_eagles2.png'
														: ''"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<textAlign value="center"/>
			</style>
			<styleClass value="$TextDefaultBold30NM"/>
			<bind name="transition" value="sideDailyProgressTrans; (sideDailyProgressTrans &gt; 0) ? 0.5 : 0; {intValue: 0}; {intValue: sideDailyProgressTrans}; {intValue: 0}; 3; (sideDailyProgressTrans &gt; 0) ? 0.2 : 0"/>
			<bind name="class" value="(_side == sideId) ? '$FontColorGolden' : '$FontColorAvA'"/>
		</block>
	</block>
	<block className="ArcEventPresentationHeaderBig">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'smallResolution';	(stageWidth &lt;= 1300) || (stageHeight &lt; 960)"/>
		<bind name="style" value="'width'; smallResolution ? '283px' : '424px'"/>
		<bind name="style" value="'height'; smallResolution ? '400px' : '600px'"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; (_side == 0)	? 'url:../events/american_event/recruiter/sharks.png'
														: 'url:../events/american_event/recruiter/eagles.png'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="fade" value="rollOver; 0.1; {alpha: 0}; {alpha: 0.2}; {alpha: 0}"/>
			<style>
				<backgroundSize value="cover"/>
				<position value="absolute"/>
				<backgroundColor value="0xffffffff"/>
			</style>
		</block>
	</block>
	<block className="ArcEventLoyaltyInfoTooltip">
		<bind name="firstEntityDH" value="'arcEventConfigEntity'; CC.arcEventConfig"/>
		<bind name="watchDH" value="'endDayLoyalty';[]; arcEventConfigEntity.arcEventConfig.endDayLoyalty"/>
		<bind name="watchDH" value="'staySideLoyalty';[]; arcEventConfigEntity.arcEventConfig.staySideLoyalty"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<block type="text">
				<styleClass value="$TextDefaultBold19NM"/>
				<bind name="text" value="'IDS_ARC_EVENT_TEAM_LOYALTY'"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="watch" value="'loyaltyParams'; [	{ attributeIDS: 'IDS_ARC_EVENT_END_DAY_RESTRICTION', measuredValue: ('+' + endDayLoyalty),   category: 'positive' },
										{ attributeIDS: 'IDS_ARC_EVENT_LOYALTY_RESTRICTION', measuredValue: ('+' + staySideLoyalty), category: 'positive' }]"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="16"/>
					<marginRight value="16"/>
					<marginTop value="16"/>
				</style>
				<bind name="instance" value="'ParamsModifierList'; { _attributesPositive: loyaltyParams }"/>
			</block>
		</block>
	</block>
	<block className="ArcEventLoyaltyRewardTooltip">
		<bind name="primaryEntityDH" value="'arcProgressWithRewardsEntity'; CC.progressWithRewards; ('loyalty_' + _side)"/>
		<bind name="watchDH" value="'pointsArray';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsArray"/>
		<bind name="watchDH" value="'pointsCurrent';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsCurrent"/>
		<bind name="watchDH" value="'rewards';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.rewards"/>
		<bind name="watchDH" value="'activeIndex';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.activeIndex"/>
		<bind name="watch" value="'isFull'; (pointsCurrent &gt;= pointsArray[_index])"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<block>
				<bind name="instance" value="'GiftBoxIconSmall'; { _issued: isFull }"/>
			</block>
			<block type="text">
				<style>
					<width value="260px"/>
					<marginLeft value="16"/>
					<marginTop value="2"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="'IDS_ARC_EVENT_REWARD_FOR_LOYALTY_DESCRIPTION_TOOLTIP'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isFull == true"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MarginsBig"/>
				<block className="icon_check" type="native">
					<styleClass value="$MiddleVAligned"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="8"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<bind name="class" value="'$FontColorGolden'"/>
					<bind name="text" value="'IDS_ARC_EVENT_LOYALTY_REWARD_REACHED'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="isFull != true"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MarginsBig"/>
				<styleClass value="$TextDefault17NM"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="((_index == activeIndex) &amp;&amp; (pointsCurrent &gt; 0))	? subst('IDS_ARC_EVENT_LOYALTY_LEFT', [], {loyalty: (pointsArray[_index] - pointsCurrent)})
																			: subst('IDS_ARC_EVENT_LOYALTY_COST', [], {loyalty: (pointsArray[_index] - pointsCurrent)})"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<bind name="repeat" value="rewards[_index]; 'RewardContainerTooltipItemAdapter'"/>
		</block>
	</block>
	<block className="ArcEventPersonalDailyProgressTooltip">
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sides';[]; arcEventEntity.arcEvent.sides"/>
		<bind name="watchDH" value="'sideId';['arcEventEntity.playerArcEventInfo.evSideChanged']; arcEventEntity.playerArcEventInfo.sideId"/>
		<bind name="primaryEntityDH" value="'arcProgressWithRewardsEntity'; CC.progressWithRewards; 'progress'"/>
		<bind name="watchDH" value="'pointsArray';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsArray"/>
		<bind name="watchDH" value="'pointsCurrent';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsCurrent"/>
		<bind name="watchDH" value="'activeIndex';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.activeIndex"/>
		<bind name="watch" value="'isFull'; pointsCurrent &gt;= pointsArray[_index]"/>
		<bind name="watch" value="'isEmpty'; pointsCurrent &lt;= pointsArray[_index - 1]"/>
		<bind name="watch" value="'commonPoints'; (isFull == false) &amp;&amp; (isEmpty == false) ? pointsArray[_index] - pointsCurrent : pointsArray[_index]"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<marginLeft value="16"/>
			</style>
			<block>
				<style>
					<width value="80px"/>
					<height value="80px"/>
					<backgroundSize value="cover"/>
				</style>
				<bind name="style" value="'backgroundImage'; sideId == sides[0] 	? 'url:../reward_icons/icon_reward_lootbox_31.png'
																: 'url:../reward_icons/icon_reward_lootbox_32.png'"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="16"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold19NM"/>
					<bind name="class" value="(isFull == true) ? '$FontColorGolden' : '$FontColorWhite'"/>
					<bind name="text" value="'IDS_AVA_REWARD_LOOTBOX'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="8"/>
					</style>
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="sideId == sides[0] ? 'IDS_AVA_LOOTBOX_SHARKS' : 'IDS_AVA_LOOTBOX_EAGLES'"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isFull == true"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MarginsBig"/>
				<block className="icon_check" type="native">
					<styleClass value="$MiddleVAligned"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="8"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<bind name="class" value="'$FontColorGolden'"/>
					<bind name="text" value="'IDS_ARC_EVENT_LOYALTY_REWARD_REACHED'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="isFull != true"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="watch" value="'pointsToReach'; (pointsArray[_index] - pointsCurrent)"/>
			<styleClass value="$MarginsBig"/>
			<block type="text">
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="((_index == activeIndex) &amp;&amp; (pointsCurrent &gt; 0))	? subst('IDS_ARC_EVENT_POINTS_LEFT', [], {points: pointsToReach}, pointsToReach)
																			: subst('IDS_ARC_EVENT_POINTS_COST', [], {points: pointsToReach}, pointsToReach)"/>
			</block>
		</block>
	</block>
	<block className="ArcEventTeamPresentationTooltip">
		<bind name="firstEntityDH" value="'playerArcEventInfoEntity'; CC.playerArcEventInfo"/>
		<bind name="watchDH" value="'hasLoyalty'; ['playerArcEventInfoEntity.playerArcEventInfo.evHasLoyaltyChanged']; playerArcEventInfoEntity.playerArcEventInfo.hasLoyalty"/>
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sideId';['arcEventEntity.playerArcEventInfo.evSideChanged']; arcEventEntity.playerArcEventInfo.sideId"/>
		<bind name="watchDH" value="'sides';[]; arcEventEntity.arcEvent.sides"/>
		<bind name="watchDH" value="'yesterdayWinnerSideId'; ['arcEventEntity.arcEvent.evChanged']; arcEventEntity.arcEvent.yesterdayWinnerSideId"/>
		<bind name="watchDH" value="'arcEventStartTime'; ['']; arcEventEntity.arcEvent.startTime"/>
		<bind name="watchDH" value="'arcEventCurrentStageAt'; ['arcEventEntity.arcEvent.evChanged']; arcEventEntity.arcEvent.currentStageAt"/>
		<bind name="watch" value="'arcEventCurrentDay'; ((arcEventCurrentStageAt-arcEventStartTime)/86400) + 1"/>
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; sides[_side]"/>
		<bind name="watchDH" value="'sideDailyProgress';['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.sideDailyProgress"/>
		<bind name="watchDH" value="'sideModifierPerc';['arcEventSideEntity.arcEventSide.evModifierChanged']; arcEventSideEntity.arcEventSide.sideModifierPerc"/>
		<bind name="primaryEntityDH" value="'arcProgressWithRewardsEntity'; CC.progressWithRewards; ('loyalty_' + _side)"/>
		<bind name="watchDH" value="'pointsCurrent';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsCurrent"/>
		<bind name="watchDH" value="'pointsArray';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsArray"/>
		<bind name="watchDH" value="'activeIndex';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.activeIndex"/>
		<bind name="watch" value="'rowArrayLoyalty';   [ { 	title: 'IDS_ARC_EVENT_TEAM_LOYALTY',
											playerPointsCounter: pointsCurrent, 
											totalPointsCounter: pointsArray[pointsArray.length - 1]}]"/>
		<bind name="watch" value="'headerBackgroundImage'; _side == 0 	? _side == sideId 	? 'url:../events/american_event/team_logo/american_event_icon_sharks_own_small.png'
																			: 'url:../events/american_event/team_logo/american_event_icon_sharks_small.png'
														: _side == sideId 	? _isInTeamPresentation == true ? 'url:../events/american_event/team_logo/american_event_icon_eagles_own2_small.png'
																											: 'url:../events/american_event/team_logo/american_event_icon_eagles_own_small.png'
																			: _isInTeamPresentation == true ? 'url:../events/american_event/team_logo/american_event_icon_eagles2_small.png'
																											: 'url:../events/american_event/team_logo/american_event_icon_eagles_small.png'"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$MarginsMedium"/>
			<block>
				<style>
					<backgroundSize value="cover"/>
					<width value="80px"/>
					<height value="80px"/>
				</style>
				<bind name="style" value="'backgroundImage'; headerBackgroundImage"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="100%"/>
					<marginLeft value="16"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold19NM"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="class" value="(_side == sideId) ? '$FontColorGolden' : '$FontColorWhite'"/>
					<bind name="text" value="tr('IDS_ARC_EVENT_SIDE_' + _side)"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<style>
						<width value="100%"/>
						<marginTop value="8"/>
					</style>
					<bind name="text" value="tr('IDS_ARC_EVENT_TEAM_' + _side)"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="(arcEventCurrentDay != 1) &amp;&amp; (yesterdayWinnerSideId == _side) &amp;&amp; _isPromo == true"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MarginsBig"/>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<bind name="text" value="'IDS_EVENT_PAST_PERIOD_WINNERS'"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(hasLoyalty == true)"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MarginsBig"/>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<width value="300px"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<bind name="text" value="'IDS_ARC_EVENT_SIDE_DAILY_PROGRESS'"/>
				</block>
				<block type="text">
					<style>
						<position value="absolute"/>
						<right value="0px"/>
					</style>
					<styleClass value="$TextDefaultBold17NM"/>
					<bind name="text" value="format(sideDailyProgress)"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="sideModifierPerc &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$MarginsBig"/>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<width value="280px"/>
					</style>
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="'IDS_ARC_EVENT_SIDE_DAILY_COEFFICIENT'"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultBoldNM"/>
					<style>
						<position value="absolute"/>
						<right value="0px"/>
					</style>
					<bind name="class" value="'$FontColorComparePositive'"/>
					<bind name="text" value="'+' + sideModifierPerc + '%'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="3px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(hasLoyalty == true)"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MarginsBig"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<marginTop value="-3px"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="-2px"/>
						</style>
						<bind name="repeat" value="rowArrayLoyalty; 'StatRow'; {}"/>
					</block>
					<block>
						<style>
							<width value="100%"/>
							<marginTop value="-6px"/>
						</style>
						<bind name="style" value="'colorMatrixFilter'; (sideId == _side) ? '0 0 0 0' : '0 -100 0 0'"/>
						<bind name="repeat" value="pointsArray; 'StepProgressBar'; { _width: '65px', _side: _side, _showYellowBar: _side == sideId, 
																	_currValue: pointsCurrent, _arrayValues: pointsArray, _activeIndex: activeIndex }"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="('IDS_ARC_EVENT_SIDE_' + _side + '_DESCRIPTION' + (_isPromo ? '_PROMO' : ''))"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!_hideInstuction == true"/>
			<styleClass value="$MarginsMedium"/>
			<bind name="instance" value="'MouseInstruction'; {_type: 'left', _instructionText: 'IDS_ARC_EVENT_CHOOSE_SIDE', _maxWidth: 260}"/>
		</block>
	</block>
	<block className="ArcEventTeamCurrencyTooltip">
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sideId';['arcEventEntity.playerArcEventInfo.evSideChanged']; arcEventEntity.playerArcEventInfo.sideId"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$MarginsMedium"/>
			<block>
				<style>
					<backgroundSize value="cover"/>
					<width value="80px"/>
					<height value="80px"/>
				</style>
				<bind name="style" value="'backgroundImage'; _side == 0 	? 'url:../reward_icons/icon_reward_sharks.png'
														: 'url:../reward_icons/icon_reward_eagles.png'"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="100%"/>
					<marginLeft value="16"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold19NM"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="class" value="(_side == sideId) ? '$FontColorGolden' : '$FontColorWhite'"/>
					<bind name="text" value="tr('IDS_PERSONAL_TEAM_CURRENCY_' + _side)"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<style>
						<width value="100%"/>
						<marginTop value="8"/>
					</style>
					<bind name="text" value="tr('IDS_PERSONAL_TEAM_CURRENCY_DESCR')"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="'IDS_PERSONAL_TEAM_CURRENCY_TEXT'"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="-2px"/>
					<marginRight value="6px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultNM"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="'IDS_PERSONAL_TEAM_CURRENCY_WARNING'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<css name="$TextMetaHeader">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextParams">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextParams_measure">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<alpha value="0.7"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextParams_tight_left">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<marginLeft value="-1px"/>
		<fontSize value="15"/>
		<alpha value="0.55"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextParams_tight_right">
		<fontFamily value="$WWSDefaultFont"/>
		<marginRight value="-3px"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<alpha value="0.55"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextParams_slash">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<marginLeft value="-2px"/>
		<fontSize value="15"/>
		<marginRight value="-2px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextParams_x">
		<mouseChildren value="false"/>
		<bottom value="2px"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<marginLeft value="-2px"/>
		<fontSize value="13"/>
		<marginRight value="-2px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextParams_hyphen">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<marginLeft value="-2px"/>
		<fontSize value="15"/>
		<marginRight value="-2px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<block className="StatValueBar">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="1px"/>
			<position value="absolute"/>
			<bottom value="1"/>
		</style>
		<bind name="transition" value="rollOver || _expand; 0.15; {height: 3}; {height: 25}; {height: 3}; 2; 0.2"/>
		<block>
			<style>
				<height value="100%"/>
				<width value="3px"/>
			</style>
			<bind name="width" value="(_width * _currentValue) / 100 + (_hasDiff ? 	(_isGood 	? -(_width * _diffValue / 100) : 0): 0 )"/>
			<block className="bar_color" type="native">
				<styleClass value="$Fullsize"/>
				<bind name="transition" value="rollOver || _expand; 0.35; {alpha: 0.8}; {alpha: 0.6}; {alpha: 0.8}; 2"/>
				<bind name="gotoAndStop!" value="_hasDiff || $parent.$parent.viewParams.hasDiff || _diffValue == 0 ? 'BarColorWhite' : 'BarColorGreen'"/>
			</block>
		</block>
		<block>
			<style>
				<height value="100%"/>
				<width value="3px"/>
			</style>
			<bind name="width" value="(_width * (_isGood ? _diffValue : -_diffValue)) / 100"/>
			<block className="bar_color_compare" type="native">
				<styleClass value="$Fullsize"/>
				<bind name="gotoAndStop!" value="_isGood ? 'BarComparePositive' : 'BarCompareNegative'"/>
			</block>
		</block>
	</block>
	<block className="StatValueCompareBar">
		<styleClass value="$Fullsize"/>
		<bind name="class" value="_isGood ? '$BarColorComparePositive' : '$BarColorCompareNegative'"/>
		<bind name="scaleX" value="_diffValue"/>
	</block>
	<block className="CompareElement">
		<block>
			<block type="text">
				<bind name="class" value="isGood ? '$FontColorComparePositive' : '$FontColorCompareNegative'"/>
				<bind name="class" value="$parent.$parent.$parent.$parent.meta ? '$TextDefaultBold' : '$TextParams'"/>
				<style>
					<alpha value="0.9"/>
				</style>
				<bind name="text" value="textValue"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ParamElement">
		<bind name="watch" value="'id'; $parent.id"/>
		<bind name="child" value="mockupClass; 'DefaultMockup'; 'ListAmmoMockup'; 'DiffColorsMockup'; 'PlaneTypesMockup'; 'GunsAndTubesMockup'; 'RangeMockup'; 'ListValuesMockup'; 'ListValuesInvMockup';'GunInfoMockup'"/>
	</block>
	<block className="DefaultMockupItem">
		<bind name="watch" value="'id'; $parent.id"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<bind name="class" value="$parent.$parent.$parent.meta ? '$TextMetaHeader' : '$TextParams'"/>
			<params>
				<param name="name" value="field0"/>
			</params>
			<bind name="name" value="'param_content_' + $parent.id"/>
			<bind name="text" value="$parent.$parent.$parent.meta ? ((textValue != '0' || $parent.$parent.hasDiff) ? textValue : '') : textValue"/>
		</block>
		<block>
			<bind name="visible" value="measure;value != null"/>
			<block type="text">
				<styleClass value="$TextParams_measure"/>
				<bind name="pluralText" value="measure;value"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!isLast"/>
			<block type="text">
				<bind name="class" value="!isLast ? '$TextParams_slash' : '$TextParams'"/>
				<bind name="text" value="!isLast ? '/' : ''"/>
			</block>
		</block>
	</block>
	<block className="DefaultCompareItem">
		<bind name="watch" value="'id'; $parent.id"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="instance" value="'CompareElement'; diffData"/>
		</block>
		<block type="text">
			<bind name="class" value="!isLast ? '$TextParams_slash' : '$TextParams'"/>
			<bind name="text" value="!isLast ? '/' : ''"/>
			<bind name="name" value="'param_content_' + $parent.id"/>
		</block>
	</block>
	<block className="DefaultMockup">
		<bind name="watch" value="'id'; $parent.id"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<bind name="class" value="$parent.hasDiff ? '$TextParams_tight_right' : '$TextParams'"/>
			<bind name="text" value="$parent.hasDiff ? '(' : ''"/>
		</block>
		<bind name="watch" value="'item0'; $parent.data.items[0]"/>
		<bind name="watch" value="'item1'; $parent.data.items[1]"/>
		<bind name="watch" value="'item2'; $parent.data.items[2]"/>
		<block>
			<bind name="instance" value="'DefaultCompareItem'; $parent.hasDiff ? item0 : null"/>
		</block>
		<block>
			<bind name="instance" value="'DefaultCompareItem'; $parent.hasDiff ? item1 : null"/>
		</block>
		<block>
			<bind name="instance" value="'DefaultCompareItem'; $parent.hasDiff ? item2 : null"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams_tight_left"/>
			<bind name="text" value="$parent.hasDiff ? ')' : ''"/>
		</block>
		<block>
			<bind name="instance" value="'DefaultMockupItem'; $parent.data.items[0]"/>
		</block>
		<block>
			<bind name="instance" value="'DefaultMockupItem'; $parent.data.items[1]"/>
		</block>
		<block>
			<bind name="instance" value="'DefaultMockupItem'; $parent.data.items[2]"/>
		</block>
		<block>
			<bind name="visible" value="$parent.data.measure != ''"/>
			<block type="text">
				<style>
					<textAlign value="right"/>
				</style>
				<styleClass value="$TextParams_measure"/>
				<bind name="text" value="$parent.data.measure"/>
			</block>
		</block>
	</block>
	<block className="AmmoMockup">
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="name" value="'item' + $index"/>
		<block type="text">
			<styleClass value="$TextParams"/>
			<params>
				<param name="name" value="field0"/>
			</params>
			<bind name="text" value="dataArray[0] * dataArray[2]"/>
			<bind name="name" value="'param_content_' + $parent.id"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams_x"/>
			<text value="x"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams"/>
			<params>
				<param name="name" value="field1"/>
			</params>
			<bind name="text" value="dataArray[1]"/>
			<bind name="name" value="'param_content_' + $parent.id"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams_measure"/>
			<bind name="text" value="$parent.$parent.measureIDS"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams"/>
			<bind name="text" value="$index &lt; ($parent.$parent.values.length - 1) ? ',' : ''"/>
		</block>
	</block>
	<block className="ListAmmoMockup">
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="repeat" value="$parent.values; 'AmmoMockup'"/>
	</block>
	<block className="DiffColorsMockup">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<block type="text">
				<bind name="class" value="$parent.hasDiff ? '$TextParams_tight_right' : '$TextParams'"/>
				<bind name="text" value="$parent.hasDiff ? '(' : ''"/>
			</block>
			<block>
				<bind name="instance" value="'CompareElement'; ($parent.diffData.length &gt; 0 &amp;&amp; $parent.diffData[0].diff) ? $parent.diffData[0] : null"/>
			</block>
			<block type="text">
				<styleClass value="$TextParams_tight_left"/>
				<bind name="text" value="$parent.hasDiff ? ')' : ''"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<bind name="watch" value="'textvalue'; $parent.values[0]"/>
		<block type="text">
			<styleClass value="$TextParams"/>
			<params>
				<param name="name" value="field1"/>
			</params>
			<bind name="text" value="format(textvalue, -1)"/>
			<bind name="name" value="'param_content_h_' + $parent.id"/>
		</block>
	</block>
	<block className="PlaneTypeMockup">
		<style>
			<flow value="horizontal"/>
			<marginLeft value="2px"/>
		</style>
		<bind name="name" value="'planeType' + type"/>
		<block className="icon_airplane_type" type="native">
			<bind name="gotoAndStop!" value="type"/>
			<block>
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<bind name="class" value="$parent.hasDiff ? '$TextParams_tight_right' : '$TextParams'"/>
					<bind name="text" value="$parent.$parent.hasDiff ? '(' : ''"/>
				</block>
				<block>
					<bind name="instance" value="'CompareElement'; diffData"/>
				</block>
				<block type="text">
					<styleClass value="$TextParams_tight_left"/>
					<bind name="text" value="$parent.$parent.hasDiff ? ')' : ''"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextParams"/>
			<params>
				<param name="name" value="count"/>
			</params>
			<bind name="text" value="count"/>
			<bind name="name" value="'param_content_' + $parent.id "/>
		</block>
	</block>
	<block className="PlaneTypesMockup">
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="repeat" value="$parent.data.list; 'PlaneTypeMockup'"/>
	</block>
	<block className="GunsAndTubesMockup">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<styleClass value="$TextParams_x"/>
			<text value="x"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams"/>
			<params>
				<param name="name" value="field0"/>
			</params>
			<bind name="text" value="$parent.values[0]"/>
			<bind name="name" value="'param_content_1_' + $parent.id"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams_tight_right"/>
			<text value="("/>
		</block>
		<block type="text">
			<styleClass value="$TextParams"/>
			<style>
				<marginLeft value="1px"/>
				<marginRight value="-1px"/>
			</style>
			<params>
				<param name="name" value="field1"/>
			</params>
			<bind name="text" value="$parent.values[1]"/>
			<bind name="name" value="'param_content_2_' + $parent.id"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams_tight_left"/>
			<text value=")"/>
		</block>
		<block>
			<bind name="instance" value="'GunsAndTubesCompareElement'; diffData[0]"/>
		</block>
		<block type="text">
			<bind name="class" value="$parent.hasDiff ? '$TextParams_tight_right' : '$TextParams'"/>
			<bind name="text" value="$parent.$parent.hasDiff ? '(' : ''"/>
		</block>
		<block>
			<bind name="instance" value="'GunsAndTubesCompareElement'; diffData[1]"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams_tight_left"/>
			<bind name="text" value="$parent.$parent.hasDiff ? ')' : ''"/>
		</block>
	</block>
	<block className="GunsAndTubesCompareElement">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<styleClass value="$TextParams"/>
			<bind name="class" value="isGood ? '$FontColorComparePositive' : '$FontColorCompareNegative'"/>
			<bind name="text" value="textValue"/>
			<bind name="name" value="'param_content_' + $parent.id"/>
		</block>
	</block>
	<block className="RangeMockup">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<styleClass value="$TextParams"/>
			<params>
				<param name="name" value="field0"/>
			</params>
			<bind name="text" value="$parent.values[0]"/>
			<bind name="name" value="'param_content_min_' + $parent.id"/>
		</block>
		<block>
			<bind name="instance" value="'CompareElement'; ($parent.diffData.length &gt; 0 &amp;&amp; $parent.diffData[0].diff) ? $parent.diffData[0] : null"/>
		</block>
		<block type="text">
			<bind name="class" value="$parent.values[0] != $parent.values[1] ? '$TextParams_hyphen' : '$TextParams'"/>
			<bind name="text" value="$parent.values[0] != $parent.values[1] ? '-' : '' "/>
		</block>
		<block type="text">
			<styleClass value="$TextParams"/>
			<params>
				<param name="name" value="field1"/>
			</params>
			<bind name="text" value="$parent.values[0] != $parent.values[1] ? $parent.values[1] : '' "/>
			<bind name="name" value="'param_content_max_' + $parent.id"/>
		</block>
		<block>
			<bind name="instance" value="'CompareElement'; ($parent.diffData.length &gt; 1 &amp;&amp; $parent.diffData[1].diff &amp;&amp; $parent.values[0] != $parent.values[1]) ? $parent.diffData[1] : null"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams_measure"/>
			<bind name="text" value="$parent.measureIDS"/>
		</block>
	</block>
	<block className="ListValuesItemMockup">
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="name" value="'item' + $index"/>
		<block type="text">
			<styleClass value="$TextParams"/>
			<bind name="text" value="textValue"/>
			<bind name="name" value="'param_content_' + $parent.id"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams_measure"/>
			<bind name="text" value="measure"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams_slash"/>
			<bind name="text" value="!isLast ? '/' : ''"/>
		</block>
	</block>
	<block className="CompareListValuesItem">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="instance" value="'CompareElement'; diffData"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams_slash"/>
			<bind name="text" value="!isLast &amp;&amp; diffData != null ? '/' : ''"/>
		</block>
	</block>
	<block className="ListValuesMockup">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<bind name="class" value="$parent.hasDiff ? '$TextParams_tight_right' : '$TextParams'"/>
			<bind name="text" value="$parent.hasDiff ? '(' : ''"/>
		</block>
		<block>
			<bind name="repeat" value="$parent.data.list; 'CompareListValuesItem'"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block type="text">
			<styleClass value="$TextParams_tight_left"/>
			<bind name="text" value="$parent.hasDiff ? ')' : ''"/>
		</block>
		<block>
			<bind name="repeat" value="$parent.data.list; 'ListValuesItemMockup'"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ListValuesInvMockup">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<marginLeft value="0px"/>
			</style>
			<bind name="repeat" value="$parent.data.list; 'ListValuesItemMockup'"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block type="text">
			<style>
				<marginLeft value="2px"/>
			</style>
			<bind name="class" value="$parent.hasDiff ? '$TextParams_tight_right' : '$TextParams'"/>
			<bind name="text" value="$parent.hasDiff ? '(' : ''"/>
		</block>
		<block>
			<bind name="repeat" value="$parent.data.list; 'CompareListValuesItem'"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block type="text">
			<styleClass value="$TextParams_tight_left"/>
			<bind name="text" value="$parent.hasDiff ? ')' : ''"/>
		</block>
	</block>
	<block className="GunTypeMockup">
		<block>
			<block type="text">
				<styleClass value="$TextParams"/>
				<bind name="text" value="$parent.data.items[0].textValue"/>
			</block>
			<bind name="name" value="'param_content_' + $parent.id"/>
		</block>
	</block>
	<block className="GunInfoMockup">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<styleClass value="$TextParams"/>
			<bind name="text" value="$parent.data.items[0].textValue"/>
		</block>
		<bind name="name" value="'param_content_' + $parent.id"/>
		<block type="text">
			<styleClass value="$TextParams_x"/>
			<bind name="text" value="'x'"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams"/>
			<bind name="text" value="$parent.data.items[1].textValue"/>
		</block>
		<bind name="name" value="'param_content_' + $parent.id"/>
		<block type="text">
			<styleClass value="$TextParams"/>
			<bind name="text" value="''"/>
		</block>
		<block type="text">
			<styleClass value="$TextParams"/>
			<bind name="text" value="$parent.data.items[2].textValue"/>
		</block>
		<bind name="name" value="'param_content_' + $parent.id"/>
		<block type="text">
			<styleClass value="$TextParams_measure"/>
			<bind name="text" value="$parent.data.measure"/>
		</block>
	</block>
	<block className="BranchTypeLabel">
		<style>
			<position value="absolute"/>
			<width value="1px"/>
			<flow value="horizontal"/>
		</style>
		<bind name="left" value="x * $parent.blockWidth"/>
		<bind name="width" value="$parent.blocHalfWidth * 2"/>
		<styleClass value="$MiddleVAligned"/>
		<block>
			<style>
				<width value="100%f"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="watch" value="'shipType';	nameIDS == 'IDS_DESTROYER'	? 'Destroyer' :
									nameIDS == 'IDS_CARRIER'	? 'AirCarrier' :
									nameIDS == 'IDS_CRUISER'	? 'Cruiser' :
									nameIDS == 'IDS_BATTLESHIP'	? 'BattleShip'
																: 'premiumShip' "/>
			<bind name="watch" value="'shipDescriptionText'; nameIDS != 'IDS_PREMIUM' 	?	[{_paragraphText: (nameIDS + '_DESCRIPTION'), _leading: -2}] 
																		: 	
																			[{_paragraphText: (nameIDS + '_DESCRIPTION'), _leading: -2},																			
																			{_paragraphText: 'IDS_PREMIUM_SHIP_DESCRIPTION_2', _leading: -2},
																			{_paragraphText: 'IDS_PREMIUM_SHIP_DESCRIPTION_3', _leading: -2},
																			{_paragraphText: 'IDS_PREMIUM_SHIP_DESCRIPTION_4', _leading: -2},
																			{_paragraphText: 'IDS_PREMIUM_SHIP_DESCRIPTION_5', _leading: -2}]"/>
			<bind name="watch" value="'brunchTitle'; (nameIDS + 'S')"/>
			<bind name="tooltip" value="'MultiParagraphHelpTooltip'; {_tooltipHeader: brunchTitle, _multiParagraphArray: shipDescriptionText, _iconType: 'ship', _shipType: shipType}"/>
			<block className="mc_icon_ship" type="native">
				<bind name="visible" value="shipType != 'premiumShip'"/>
				<style>
					<marginRight value="8px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<bind name="gotoAndStop!" value="shipType"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultBoldNM"/>
				<bind name="class" value="(nameIDS == 'IDS_PREMIUM' ? '$FontColorGolden' : '$None')"/>
				<bind name="text" value="brunchTitle"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="BranchTypeLabelDark">
		<style>
			<position value="absolute"/>
			<width value="1px"/>
		</style>
		<bind name="left" value="x * $parent.blockWidth"/>
		<bind name="width" value="$parent.blocHalfWidth * 2"/>
		<styleClass value="$MiddleVAligned"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.35"/>
					<top value="1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.1"/>
					<top value="-1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.15"/>
					<left value="1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.15"/>
					<left value="-1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<maxWidth value="110"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
		</block>
	</block>
	<block className="CurrentFreeXP">
		<styleClass value="$InfoLineBoundaries"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<params>
			<param name="name" value="upgrade_tree_CurrentFreeXP"/>
		</params>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="text" value="_label"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="class" value="'$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorFreeExp'"/>
			<bind name="text" value="format(_freeXP, -1)"/>
		</block>
		<block className="icon_exp_free" type="native">
			<style>
				<marginBottom value="-2px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
		</block>
	</block>
	<block className="CurrentXP">
		<styleClass value="$InfoLineBoundaries"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<params>
			<param name="name" value="upgrade_tree_CurrentShipXP"/>
		</params>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="class" value="_light ? '$None' : '$FontColorBlueish'"/>
			<bind name="class" value="_light ? '$None' : '$Bold'"/>
			<bind name="text" value="_label"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="class" value="'$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorExp'"/>
			<bind name="text" value="format(_exp, -1)"/>
		</block>
		<block className="icon_exp" type="native">
			<style>
				<marginBottom value="-2px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
		</block>
	</block>
	<block className="CurrentXPLarge">
		<styleClass value="$InfoLineBoundaries"/>
		<style>
			<marginBottom value="-6px"/>
		</style>
		<params>
			<param name="name" value="upgrade_tree_CurrentShipXP"/>
		</params>
		<block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="class" value="'$FontColorExp'"/>
				<bind name="text" value="format(_exp, -1)"/>
			</block>
			<block className="icon_exp" type="native">
				<styleClass value="$MiddleVAligned"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block type="text">
			<style>
				<marginTop value="2px"/>
				<alpha value="0.8"/>
			</style>
			<styleClass value="$TextDefaultWhite"/>
			<bind name="text" value="_label"/>
		</block>
	</block>
	<block className="StatusLineBig">
		<block>
			<block type="text">
				<style>
					<maxWidth value="300"/>
					<textAlign value="center"/>
				</style>
				<styleClass value="$TextHeader"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="class" value="_positive ? '$FontColorComparePositive' : '$FontColorUnready'"/>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="StatusLineMedium">
		<block type="text">
			<style>
				<maxWidth value="300"/>
				<textAlign value="center"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="StatusLineWithIcon">
		<block>
			<block className="icon_warning_orange" type="native">
				<bind name="style" value="'top'; _small 	? '4'
										: _large ? '7' : '6'"/>
				<style>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 264"/>
				<bind name="class" value="_large ? '$TextHeaderBigDefault' 
								:_small ? '$TextSecondary' : '$TextDefault'"/>
				<bind name="class" value="_positive ? '$FontColorComparePositive' : '$FontColorUnready'"/>
				<bind name="class" value="_bold ? '$Bold' : '$None'"/>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ModuleStatus">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'ModuleStatusIcon'; _count.Installed &gt; 0								? { _state: 'installed' } :
											!(_isExplored) &amp;&amp; !(_isStock)						? { _state: 'action' } :
											(_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0)	? { _state: 'not_enough' }
																								: null "/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="_count.Installed &gt; 0 	? '$FontColorGolden'
												: _count.Available &gt; 0 	? '$FontColorWhite'
																		: _isExplored 	? '$FontColorUnready'
																						: _isStock 	? '$FontColorDefault'
																									: '$FontColorUnready'"/>
				<bind name="text" value="_count.Installed &gt; 0 	? 'IDS_INSTALLED'
												: _isExplored 	? 	(_count.Available &gt; 0 	? (_count.toPurchase &gt; 0 	? 'IDS_IN_STOCK_Q'
																														: 'IDS_IN_STOCK')
																							: 'IDS_NOT_PURCHASED'
																	)
																: _isStock 	? 'IDS_STOCK'
																			: 'IDS_NOT_RESEARCHED' "/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="_count.Installed &gt; 0 	? '$FontColorGolden'
												: _count.Available &gt; 0 	? '$FontColorWhite'
																		: _isExplored 	? '$FontColorDefault'
																						: '$FontColorExp'"/>
				<bind name="text" value="_count.Installed &gt; 0 	? ''
												: _isExplored	? 	((_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0) 	? _count.Available + 0
																														: ''
																	)
																: '' "/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorCompareNegative'"/>
				<style>
					<marginLeft value="3px"/>
				</style>
				<bind name="text" value="(_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0) 	? 'IDS_TO_BUY_Q'
																			: '' "/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorCompareNegative'"/>
				<bind name="text" value="(_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0) 	? _count.toPurchase
																			: '' "/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ModuleStatusIcon">
		<block className="icon_module_state" type="native">
			<bind name="gotoAndStop!" value="_state"/>
		</block>
	</block>
	<block className="ShipHeaderModuleTree">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountFreeXP';		['resourceEntity.accountResource.evChangedFreeXP'];	resourceEntity.accountResource.freeXP"/>
		<bind name="watchDH" value="'accountGold';		['resourceEntity.accountResource.evChangedGold'];	resourceEntity.accountResource.gold"/>
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="34px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<top value="-5px"/>
			</style>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap_h_no_right" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="tooltip" value="'ShipExtendedTooltip'; { shipId: _shipId }; 0"/>
			<style>
				<marginTop value="5px"/>
				<marginLeft value="3px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<top value="-6px"/>
				</style>
				<bind name="visible" value="_isElite || _isPremium || _uiSpecial"/>
				<bind name="gotoAndStop!" value="_uiSpecial	? 'special' :
								_isPremium 	? 'premium'
											: 'elite'"/>
			</block>
			<block className="icon_ship" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<marginLeft value="5px"/>
					<marginTop value="2px"/>
				</style>
				<bind name="gotoAndStop!" value="_isPremium || _uiSpecial	? _subtype + '_P'
											: _unavailable 	? _subtype + '_U'
															: _subtype"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="3px"/>
				</style>
				<bind name="class" value="_unavailable ? '$BlockGlowFilterBright' : '$GlowDisabler'"/>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<style>
						<position value="absolute"/>
						<alpha value="0.25"/>
						<top value="1px"/>
					</style>
					<bind name="visible" value="_unavailable"/>
					<bind name="class" value="'$FontGlowFilterBright'"/>
					<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
					<bind name="text" value="_levelRome + ' ' + tr(_shipName)"/>
				</block>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<style>
						<position value="absolute"/>
						<alpha value="0.15"/>
						<top value="-1px"/>
					</style>
					<bind name="visible" value="_unavailable"/>
					<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
					<bind name="text" value="_levelRome + ' ' + tr(_shipName)"/>
				</block>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
					<bind name="class" value="_isPremium || _uiSpecial 	? '$FontShipnameGolden'
										: _unavailable 	? '$FontShipnameBlack' : '$FontShipnameWhite'"/>
					<bind name="text" value="_levelRome + ' ' + tr(_shipName)"/>
				</block>
			</block>
			<block className="icon_check" type="native">
				<style>
					<marginLeft value="-2px"/>
					<marginTop value="-4px"/>
				</style>
				<bind name="visible" value="_isOwned"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="!_isDownloaded"/>
			<style>
				<marginTop value="-3px"/>
			</style>
			<bind name="instance" value="'IconSlimClient'; !_isDownloaded ? { _isEventLike: _eventShips } : null"/>
		</block>
		<block>
			<style>
				<marginLeft value="6px"/>
				<marginTop value="-1px"/>
				<right value="12"/>
				<position value="absolute"/>
			</style>
			<block>
				<style>
					<marginLeft value="6px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_SHIP_EXPERIENCE'}"/>
				<bind name="instance" value="'CurrentXP'; _isOwned ? { _exp: _shipExp} : null "/>
				<bind name="name" value="'AvailableExpBalanceModuleTreeHeader'"/>
			</block>
			<block>
				<style>
					<marginLeft value="9px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_FREE_EXPERIENCE_C'}"/>
				<bind name="feature" value="5; ''"/>
				<bind name="visible" value="feature_5 != 'locked' &amp;&amp; _isOwned"/>
				<bind name="instance" value="'CurrentFreeXP'; { _freeXP: accountFreeXP }"/>
				<bind name="name" value="'freeExpBalanceModuleTreeHeader'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
		<bind name="watchDH" value="'isLazyLogin'; ['loginEntity.loginData.evUpdate']; (loginEntity.loginData.currentLoginType == 'DEMO')"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watch" value="'defaultButtonCostSmallData'; _isOwned 	? null
															: !(_dependencyResearched || _isExplored) ? null
															: !(_isExplored) &amp;&amp; (_expDeficit &lt;= 0) &amp;&amp; (_group == 'upgradeable' || _group == 'upgradeableExclusive') ? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (_totalCostXP == _explorePriceFinal ? _explorePrice : { finalPrice: _totalCostXP, currency: 'exp' }), _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'researchShip', _actionParams: { shipId: _shipId }, _enabled: true, _showDiscountTag:true }
															: (_isExplored) &amp;&amp; (_creditsDeficit &lt;= 0) &amp;&amp; !(_isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: _buyPrice, _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: _shipId }, _enabled: (_creditsDeficit &lt;= 0), _showDiscountTag:true }
															: _isExplored &amp;&amp; _isPremium  &amp;&amp; (accountGold - _buyPriceFinal) &gt;= 0 ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: _buyPrice, _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: _shipId }, _enabled: ((accountGold - _costGold) &gt;= 0), _showDiscountTag:true }
															: null "/>
		<bind name="watch" value="'priceTagWithLabelData'; _isOwned 	? null
													: (!(_isExplored) &amp;&amp; !(_dependencyResearched)) || (!(_isExplored) &amp;&amp; _expDeficit &gt; 0)? { priceInfo: { finalPrice: _totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _small : true}
													: _isExplored &amp;&amp; _creditsDeficit &gt; 0 &amp;&amp; !(_isPremium) ? { priceInfo: _buyPrice, _label: 'IDS_PURCHASE_COST', _small : true}
													: _isExplored &amp;&amp; _isPremium &amp;&amp; (accountGold - _buyPriceFinal) &lt; 0 ? {priceInfo: _buyPrice, _label: 'IDS_PURCHASE_COST', _small : true }
													: null"/>
		<bind name="watch" value="'priceDeficitData'; _isOwned 	? null
												: !(_dependencyResearched) ? null
												: !(_isExplored) &amp;&amp; _expDeficit &gt; 0 ? { priceInfo: { finalPrice: _totalCostXP, currency: 'exp' }, _small : true, _tooltipText: 'IDS_TOOLTIP_NO_XP', _deficit: _expDeficit}
												: _isExplored &amp;&amp; _creditsDeficit &gt; 0 &amp;&amp; !(_isPremium) ? { priceInfo: _buyPrice, _label: 'IDS_PURCHASE_COST', _small : true, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS', _deficit: _creditsDeficit}
												: _isExplored &amp;&amp; _isPremium &amp;&amp; (accountGold - _buyPriceFinal) &lt; 0 ? {priceInfo: _buyPrice, _label: 'IDS_PURCHASE_COST', _deficit: -(accountGold - _buyPriceFinal), _tooltipText: 'IDS_TOOLTIP_NO_GOLD', _small : true }
												: null"/>
		<bind name="watch" value="'statusLineWithIconData'; (_dependencyResearched || _isExplored) 	? null
																					: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false, _small: true, _maxWidth: 300}"/>
		<block>
			<bind name="visible" value="!_eventShips"/>
			<style>
				<right value="6px"/>
				<position value="absolute"/>
				<marginTop value="2px"/>
			</style>
			<block>
				<bind name="visible" value="!!defaultButtonCostSmallData"/>
				<bind name="name" value="'ButtonShipResearchOrPurchaseSmall'"/>
				<style>
					<right value="0px"/>
				</style>
				<bind name="action" value="'click'; (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? 'forceCreateAccount' : null"/>
				<bind name="instance" value="'DefaultButtonCostSmall'; !!defaultButtonCostSmallData ? defaultButtonCostSmallData : null"/>
			</block>
			<block>
				<bind name="visible" value="!defaultButtonCostSmallData"/>
				<style>
					<marginTop value="-8px"/>
				</style>
				<block>
					<bind name="visible" value="!!priceTagWithLabelData"/>
					<style>
						<right value="0px"/>
					</style>
					<bind name="instance" value="'PriceTagWithLabel'; !!priceTagWithLabelData ? priceTagWithLabelData : null"/>
				</block>
				<block>
					<bind name="visible" value="!!statusLineWithIconData"/>
					<style>
						<right value="0px"/>
						<marginTop value="-5px"/>
					</style>
					<bind name="instance" value="'StatusLineWithIcon'; !!statusLineWithIconData ? statusLineWithIconData : null"/>
				</block>
				<block>
					<bind name="visible" value="!!priceDeficitData"/>
					<style>
						<right value="0px"/>
						<marginTop value="-5px"/>
					</style>
					<bind name="instance" value="'PriceDeficit'; !!priceDeficitData ? priceDeficitData : null"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_eventShips &amp;&amp; !_isOwned"/>
			<style>
				<width value="80px"/>
				<right value="0px"/>
				<position value="absolute"/>
			</style>
			<block className="icon_issued_small" type="native">
				<style>
					<marginTop value="12px"/>
					<marginLeft value="30px"/>
				</style>
				<bind name="rotation" value="-3"/>
				<innerBind elementName="item.item" name="text" value="toUpperCase(tr('IDS_UNAVAILABLE_TO_DISPLAY_SOON'))"/>
				<bind name="gotoAndPlay!" value="'issued'"/>
			</block>
		</block>
	</block>
	<block className="LevelItem">
		<style>
			<height value="80px"/>
			<width value="100%"/>
		</style>
		<bind name="height" value="$parent.blockHeight"/>
		<bind name="style" value="'backgroundColor'; ($index + 1) % 2 == 0 ? '0x00000000' : '0x10000000'"/>
		<block className="icon_level_elite" type="native">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="35px"/>
				<alpha value="0.2"/>
			</style>
			<bind name="gotoAndStop!" value="$index + 1"/>
		</block>
	</block>
	<block className="IncompatiblesBlock">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="7px"/>
					<marginLeft value="12px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<marginTop value="3px"/>
					<marginBottom value="6px"/>
					<marginLeft value="2px"/>
					<marginRight value="12px"/>
				</style>
				<text value="IDS_INSTALL_COMPATIBLE_MODULE"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<block className="icon_warning_red" type="native">
					<style>
						<marginTop value="7px"/>
						<marginLeft value="12px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorCompareNegative'"/>
					<style>
						<marginTop value="3px"/>
						<marginLeft value="2px"/>
						<marginRight value="12px"/>
					</style>
					<text value="IDS_MODULE_INCOMPATIBLE_WITH"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="3px"/>
				</style>
				<bind name="repeat" value="_incompatibleModules; 'DependencyRepeatItem'; {_type: _type}"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
	</block>
	<block className="ModuleDependenciesBlock">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<flow value="horizontal"/>
				<width value="100%"/>
				<marginLeft value="12px"/>
				<marginRight value="12px"/>
				<marginTop value="8px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<bind name="instance" value="'PriceTagWithLabel'; 	_type[1] == 'research' ? { priceInfo: _priceInfo, _label: 'IDS_RESEARCH_COST', _techText:true, _showDiscountTag:true}
													: _type[1] == 'purchase' ? { priceInfo:_priceInfo, _label: 'IDS_PURCHASE_COST', _techText:true, _showDiscountTag:true}
													: null"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="_type[1] == 'mount' ? 'IDS_HAVE_TO_BE_MOUNTED' : ''"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="visible" value="_type[1] != 'mount'"/>
				<style>
					<marginTop value="4px"/>
					<marginLeft value="12px"/>
					<marginRight value="12px"/>
				</style>
				<bind name="text" value="_type[1] == 'research' ? 'IDS_WILL_BE_ALSO_RESEARCHED' 
												: _type[1] == 'purchase' 	? 'IDS_HAVE_TO_BE_PURCHASED' 
																			: ''"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="3px"/>
				</style>
				<bind name="repeat" value="_dependentModules;  'DependencyRepeatItem' ; {_type: _type}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-1px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="DependencyRepeatItem">
		<style>
			<width value="100%"/>
			<marginLeft value="12px"/>
			<marginRight value="12px"/>
			<marginTop value="3px"/>
			<marginBottom value="3px"/>
		</style>
		<bind name="child" value="_type[0]; {dataArray:dataArray};'ResearchDependenciesListItem'; 'PurchaseDependenciesListItem'; 'MountDependenciesListItem'"/>
	</block>
	<block className="ResearchDependenciesListItem">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + dataArray[1]; 'moduleExplorePrice'"/>
		<style>
			<width value="100%"/>
			<height value="40px"/>
			<flow value="horizontal"/>
		</style>
		<block className="icon_tree_module_states" type="native">
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="44px"/>
				<height value="44px"/>
			</style>
			<bind name="gotoAndStop!" value="dataArray[3] + '_P'"/>
		</block>
		<block>
			<block type="text">
				<style>
					<marginTop value="3px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorExp'"/>
				<bind name="text" value="toUpperCase(dataArray[2])"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginTop value="-4px"/>
				</style>
				<bind name="text" value="dataArray[4]"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!($parent.$parent._incompatibleModules)"/>
			<styleClass value="$AlignRight"/>
			<bind name="instance" value="'PriceTag'; { priceInfo: moduleExplorePrice.prices[0], _showDiscountTag:true}"/>
		</block>
	</block>
	<block className="PurchaseDependenciesListItem">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + dataArray[2]; 'moduleBuyPrice'"/>
		<style>
			<width value="100%"/>
			<height value="40px"/>
			<flow value="horizontal"/>
		</style>
		<block className="icon_tree_module_states" type="native">
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="gotoAndStop!" value="dataArray[3] + '_P'"/>
		</block>
		<block>
			<block type="text">
				<style>
					<marginTop value="1px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="dataArray[0]"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginTop value="-5px"/>
				</style>
				<bind name="text" value="dataArray[4]"/>
			</block>
		</block>
		<block>
			<styleClass value="$AlignRight"/>
			<block>
				<bind name="visible" value="dataArray[1] &gt; 1"/>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="dataArray[1] + ' x'"/>
				</block>
			</block>
			<block>
				<bind name="instance" value="'PriceTag'; { priceInfo: moduleBuyPrice.prices[0], _showDiscountTag:true}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="MountDependenciesListItem">
		<style>
			<width value="100%"/>
			<height value="40px"/>
			<flow value="horizontal"/>
		</style>
		<block className="icon_tree_module_states" type="native">
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="44px"/>
				<height value="44px"/>
			</style>
			<bind name="gotoAndStop!" value="dataArray[1] + '_P'"/>
		</block>
		<block>
			<block type="text">
				<style>
					<marginTop value="1px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="dataArray[0]"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginTop value="-5px"/>
				</style>
				<bind name="text" value="'IDS' + toUpperCase(dataArray[1])"/>
			</block>
		</block>
	</block>
	<block className="IncompatibleListItem">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="30px"/>
			<marginLeft value="12px"/>
			<marginRight value="12px"/>
		</style>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextDefault"/>
			<bind name="text" value="dataArray[0]"/>
		</block>
	</block>
	<block className="PremiumShipPointsItem">
		<block type="text">
			<style>
				<maxWidth value="480"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="CostSmallTransparent">
		<bind name="controller" value="lesta.unbound.core.UbController"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<styleClass value="$InfoLineBoundaries"/>
		<params>
			<param name="name" value="upgrade_tree_CostXP"/>
		</params>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="text" value="_label"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.35"/>
					<top value="1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.1"/>
					<top value="-1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.15"/>
					<left value="1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.15"/>
					<left value="-1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<bind name="class" value="_deficit ? '$FontCostBlack' : '$FontCostNormal'"/>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_costXP != null"/>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_exp_small" type="native"/>
		</block>
		<block>
			<bind name="visible" value="_costCR != null"/>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_credit_small" type="native"/>
		</block>
	</block>
	<block className="ShipTreeMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="visible" value="slimClientData.isFull"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<bind name="feature" value="'17'; ''"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="name" value="'ShipContextMenu'"/>
		<block>
			<bind name="visible" value="isOwned"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Primary'"/>
				<bind name="request" value="'buttonClick'; 'primaryThisShip'; {shipId: shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="text" value="playerShipInfo.isPrimary ? 'IDS_REMOVE_PRIMARY' : 'IDS_ASSIGN_PRIMARY'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	feature_17 != 'locked' &amp;&amp;
						!_disableShipActions"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Modules'"/>
				<bind name="action" value="'buttonClick'; 'selectShipUpgrade'; {shipId : shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_MODULES"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	feature_17 != 'locked' &amp;&amp;
						isOwned &amp;&amp;
						playerShipInfo.sellable &amp;&amp;
						(playerShipInfo.timeRent == 0) &amp;&amp;
						!(playerShipInfo.isLocked || playerShipInfo.isNeedRepair || playerShipInfo.isInFormation) &amp;&amp;
						!_disableShipActions"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Sell'"/>
				<bind name="request" value="'buttonClick'; 'sellShipWindow'; {shipName: shipInfo.fullName, shipId: shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_SELL"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	feature_17 != 'locked' &amp;&amp;
						(!isOwned || (playerShipInfo.timeRent != 0)) &amp;&amp;
						upgradableShipInfo.isExplored &amp;&amp;
						shipInfo.canBuy &amp;&amp;
						!_disableShipActions"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Purchase'"/>
				<bind name="action" value="'buttonClick'; 'purchaseShip'; { shipId: shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_DO_PURCHASE"/>
			</block>
		</block>
		<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
		<bind name="watchDH" value="'isLazyLogin'; ['loginEntity.loginData.evUpdate']; (loginEntity.loginData.currentLoginType == 'DEMO')"/>
		<block>
			<bind name="visible" value="	feature_17 != 'locked'&amp;&amp;
						!(upgradableShipInfo.isExplored) 
						&amp;&amp; upgradableShipInfo.dependencyResearched 
						&amp;&amp; upgradableShipInfo.expDeficit &lt;= 0 
						&amp;&amp; !shipInfo.isEventLike"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Research'"/>
				<bind name="action" value="'buttonClick'; isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier) ? null : 'researchShip'; { shipId: shipId }"/>
				<bind name="action" value="'click'; (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? 'forceCreateAccount' : null"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_DO_RESEARCH"/>
			</block>
		</block>
	</block>
	<block className="ShipInfoArmourBlock">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<style>
			<width value="100%"/>
			<height value="0px"/>
		</style>
		<bind name="transition" value="dockDefaultValues.armourVisibility; 0.15; {height: 0, alpha: 0}; {height: 110, alpha: 1}; {height: 0, alpha: 0}"/>
		<block>
			<style>
				<position value="absolute"/>
				<top value="-3px"/>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'ArmourPickerControls'; dockDefaultValues.armourVisibility ? {shipId: shipId} : null"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="0"/>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipInfoCrewBlock">
		<bind name="feature" value="13; 'click'"/>
		<style>
			<width value="100%"/>
			<height value="80px"/>
		</style>
		<block>
			<style>
				<marginLeft value="2px"/>
				<marginRight value="2px"/>
			</style>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'CrewShipPanelBlock';		(_crewId &gt; 0)	? {_crewId: _crewId} : null"/>
			<bind name="instance" value="'CrewHireShipPanelBlock';	(_crewId == 0)	? {} : null "/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<marginTop value="-6px"/>
			</style>
			<block className="icon_sticker_new" type="native">
				<bind name="fade" value="feature_13 == 'new'; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<style>
					<hitTest value="false"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="0"/>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<css name="$TextAccentWhiteBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$LocalTextHeaderUnready">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<block className="PlayerRanks">
		<styleClass value="$Fullsize"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  selectedIndex + 1; 'rankInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="catch" value="'mainCarouselElement.selectedIndexChanged'"/>
		<bind name="watch" value="'starsForNextSeason'; rankedBattlesSeason.denyReason &amp; RBDeny.SEASON_OVER ? rankedBattlesSeason.startRank - rankedBattlesStats.rank : rankedBattlesStats.totalStars"/>
		<style>
			<width value="66sw"/>
			<height value="100%"/>
			<maxWidth value="1240"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="6sh"/>
			</style>
			<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block className="PlayerRanksHeader">
				<style>
					<width value="100%"/>
				</style>
				<bind name="watch" value="'headerText'; (rankedBattlesSeason.denyReason &amp; RBDeny.SEASON_OVER)	? (((rankedBattlesStats.startRank - rankedBattlesStats.rank) &gt; 0)	? rankedBattlesStats.messageStartWithStars
																																							: ' ')
																						: (rankedBattlesSeason.denyReason &amp; RBDeny.SEASON_NOT_STARTED)	? rankedBattlesStats.messageStartFromRank
																						: rankedBattlesStats.rankInSeasonMessage"/>
				<block type="text">
					<style>
						<width value="100%"/>
						<textAlign value="center"/>
					</style>
					<styleClass value="$TextHeaderHugeWhite"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="headerText"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="2sh"/>
			</style>
			<block>
				<bind name="visible" value="(rankedBattlesSeason.active &amp;&amp; (rankInfo.starsToNext &gt; 0))"/>
				<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'RankStars'; rankedBattlesSeason.active ? {_rankId: selectedIndex + 1} : null"/>
			</block>
			<block>
				<bind name="visible" value="(!(rankedBattlesSeason.active) &amp;&amp; ((rankedBattlesStats.startRank - rankedBattlesStats.rank) &gt; 0)|| (rankedBattlesStats.totalStars &gt; 0))"/>
				<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'TotalEarnedStars'; !(rankedBattlesSeason.active) &amp;&amp; (starsForNextSeason &gt; 0) ? { _starsCount: starsForNextSeason } : null"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.18; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<width value="100%"/>
				<marginTop value="1sh"/>
			</style>
			<block className="SeasonDateLabel">
				<bind name="countdown" value="	(rankedBattlesSeason.active)	? rankedBattlesSeason.finishTime
														: rankedBattlesSeason.startTime; 'countTime'; 'HIGHEST,WITH_DAYS'; ''; (rankedBattlesSeason.active) ? '' : 'ACC'"/>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<styleClass value="$MiddleAligned"/>
					<bind name="style" value="'alpha'; (!(rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON) &amp;&amp;  rankedBattlesSeason.active) ? 1 : 0.75"/>
					<bind name="class" value="(!(rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON) &amp;&amp; rankedBattlesSeason.active) ? '$TextHeaderWhite' : '$TextAccentWhiteBold'"/>
					<bind name="text" value="(rankedBattlesSeason.denyReason &amp; RBDeny.SEASON_OVER)	? tr('IDS_NO_SEASON_PLANNED')
																				: (rankedBattlesSeason.active)	? tr('IDS_TILL_SEASON_ENDS') + ' ' + countTime + (rankedBattlesSeason.active &amp;&amp; rankedBattlesStats.participated ? '.' : '')
																												: tr('IDS_SEASON_STARTS_IN') + ' ' + countTime"/>
				</block>
				<block>
					<bind name="visible" value="rankedBattlesSeason.active &amp;&amp; rankedBattlesStats.participated"/>
					<bind name="watch" value="'battleCounter'; format(dockDefaultValues.rankBattlesCount, -1)"/>
					<styleClass value="$MiddleAligned"/>
					<block>
						<block type="text">
							<styleClass value="$TextHeaderWhite"/>
							<text value="IDS_YOUR_BEST_RANK_IN_SEASON"/>
						</block>
						<block>
							<style>
								<marginLeft value="3px"/>
								<marginTop value="2px"/>
							</style>
							<bind name="instance" value="'IconRankSmall'; { _rankId: rankedBattlesStats.rankBest }"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block type="text">
						<style>
							<marginLeft value="13px"/>
						</style>
						<styleClass value="$TextHeaderWhite"/>
						<bind name="text" value="subst('IDS_RANK_BATTLE_COUNTER', [], {count: battleCounter}, dockDefaultValues.rankBattlesCount)"/>
					</block>
					<block className="button_dock" type="native">
						<styleClass value="$FullsizeAbsolute"/>
						<style>
							<marginBottom value="-6px"/>
							<marginTop value="-2px"/>
							<marginLeft value="-6px"/>
							<marginRight value="-6px"/>
						</style>
						<bind name="name" value="'ButtonGoToRankBattleStats'"/>
						<bind name="action" value="'click'; 'changeInset'; {inset : LobbyConstants.PLAYER_PROFILE, page : LobbyConstants.PLAYER_PROFILE_SUMMARY}"/>
						<bind name="dispatch" value="'click'; 'setBattleType'; {_curItemIndex: 2}"/>
						<bind name="tooltip" value="'MouseInstructionTooltip';  {_multiParagraphArray: [ {_paragraphText: 'IDS_SEE_MORE_DETAILS_ABOUT_SEASON' } ],
														_mouseInstructions: [{_type: 'left', _instructionText: 'IDS_OPEN_RANK_BATTLES_STATS'}],
														_maxWidth: 300}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block type="text">
				<bind name="visible" value="((rankedBattlesSeason.active) &amp;&amp; !(rankedBattlesStats.participated) &amp;&amp; (starsForNextSeason &gt; 0))"/>
				<style>
					<width value="100%"/>
					<textAlign value="center"/>
					<marginTop value="-10%"/>
				</style>
				<styleClass value="$TextHeaderWhite"/>
				<bind name="text" value="'IDS_ACTIVATE_RANKED_BATTLE_SEASON'"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.3; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks'; 'ranksCollection'"/>
			<style>
				<marginTop value="1sh"/>
				<height value="100%f"/>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ProfileCarousel'; (rankedBattlesSeason.denyReason &amp; RBDeny.SEASON_OVER) ? null : {_mainCarouselElementName: 'RanksCarouselMainBlock', _rewardsCarouselElementName: 'RanksCarouselRewardsBlock',
											_carouselData: ranksCollection, selectedIndex: selectedIndex &gt;= 0 ? selectedIndex : rankedBattlesStats.rank}"/>
		</block>
	</block>
	<block className="PlayerRanksHeader">
		<style>
			<width value="100%"/>
		</style>
		<bind name="watch" value="'headerText'; (rankedBattlesSeason.denyReason &amp; RBDeny.SEASON_OVER)	? (((rankedBattlesStats.startRank - rankedBattlesStats.rank) &gt; 0)	? rankedBattlesStats.messageStartWithStars
																																							: ' ')
																						: (rankedBattlesSeason.denyReason &amp; RBDeny.SEASON_NOT_STARTED)	? rankedBattlesStats.messageStartFromRank
																						: rankedBattlesStats.rankInSeasonMessage"/>
		<block type="text">
			<style>
				<width value="100%"/>
				<textAlign value="center"/>
			</style>
			<styleClass value="$TextHeaderHugeWhite"/>
			<bind name="class" value="'$Bold'"/>
			<bind name="text" value="headerText"/>
		</block>
	</block>
	<block className="SeasonDateLabel">
		<bind name="countdown" value="	(rankedBattlesSeason.active)	? rankedBattlesSeason.finishTime
														: rankedBattlesSeason.startTime; 'countTime'; 'HIGHEST,WITH_DAYS'; ''; (rankedBattlesSeason.active) ? '' : 'ACC'"/>
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$MiddleAligned"/>
			<bind name="style" value="'alpha'; (!(rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON) &amp;&amp;  rankedBattlesSeason.active) ? 1 : 0.75"/>
			<bind name="class" value="(!(rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON) &amp;&amp; rankedBattlesSeason.active) ? '$TextHeaderWhite' : '$TextAccentWhiteBold'"/>
			<bind name="text" value="(rankedBattlesSeason.denyReason &amp; RBDeny.SEASON_OVER)	? tr('IDS_NO_SEASON_PLANNED')
																				: (rankedBattlesSeason.active)	? tr('IDS_TILL_SEASON_ENDS') + ' ' + countTime + (rankedBattlesSeason.active &amp;&amp; rankedBattlesStats.participated ? '.' : '')
																												: tr('IDS_SEASON_STARTS_IN') + ' ' + countTime"/>
		</block>
		<block>
			<bind name="visible" value="rankedBattlesSeason.active &amp;&amp; rankedBattlesStats.participated"/>
			<bind name="watch" value="'battleCounter'; format(dockDefaultValues.rankBattlesCount, -1)"/>
			<styleClass value="$MiddleAligned"/>
			<block>
				<block type="text">
					<styleClass value="$TextHeaderWhite"/>
					<text value="IDS_YOUR_BEST_RANK_IN_SEASON"/>
				</block>
				<block>
					<style>
						<marginLeft value="3px"/>
						<marginTop value="2px"/>
					</style>
					<bind name="instance" value="'IconRankSmall'; { _rankId: rankedBattlesStats.rankBest }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block type="text">
				<style>
					<marginLeft value="13px"/>
				</style>
				<styleClass value="$TextHeaderWhite"/>
				<bind name="text" value="subst('IDS_RANK_BATTLE_COUNTER', [], {count: battleCounter}, dockDefaultValues.rankBattlesCount)"/>
			</block>
			<block className="button_dock" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<marginBottom value="-6px"/>
					<marginTop value="-2px"/>
					<marginLeft value="-6px"/>
					<marginRight value="-6px"/>
				</style>
				<bind name="name" value="'ButtonGoToRankBattleStats'"/>
				<bind name="action" value="'click'; 'changeInset'; {inset : LobbyConstants.PLAYER_PROFILE, page : LobbyConstants.PLAYER_PROFILE_SUMMARY}"/>
				<bind name="dispatch" value="'click'; 'setBattleType'; {_curItemIndex: 2}"/>
				<bind name="tooltip" value="'MouseInstructionTooltip';  {_multiParagraphArray: [ {_paragraphText: 'IDS_SEE_MORE_DETAILS_ABOUT_SEASON' } ],
														_mouseInstructions: [{_type: 'left', _instructionText: 'IDS_OPEN_RANK_BATTLES_STATS'}],
														_maxWidth: 300}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RanksCarouselMainBlock">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks'; 'ranksCollection'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<params>
				<param name="name" value="RanksCarouselMainBlock"/>
			</params>
			<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerRanksCarousel; ''; 101"/>
			<bind name="event" value="'profileCarousel.scrollOneUnitLeft'; scrollLeftByOneUnit"/>
			<bind name="event" value="'profileCarousel.scrollOneUnitRight'; scrollRightByOneUnit"/>
			<style>
				<width value="100%f"/>
				<overflow value="scroll"/>
				<scrollArea value="ModernScrollAreaHorizontal"/>
				<scrollbarController value="lesta.unbound.style.UbScrollingControllerTouch"/>
				<layout value="lesta.unbound.layout.measure.CarouselLayout"/>
				<wheelScrollSpeed value="101"/>
				<revertFlow value="true"/>
				<itemWidth value="100px"/>
				<itemHeight value="133px"/>
			</style>
			<bind name="changeDispatch" value="selectedIndex; 'mainCarouselElement.selectedIndexChanged'; {selectedIndex: selectedIndex}"/>
			<bind name="generator" value="ranksCollection; 'RankCarouselItem'; {onCarouselItemClick: onCarouselItemClick, _selectedIndex: selectedIndex}"/>
			<bind name="var" value="{initialSelectedIndex:-1}"/>
			<bind name="changeDispatch" value="rankedBattlesStats.rank; 'rankedBattlesStatsChanged'"/>
			<bind name="dispatch" value="'rankedBattlesStatsChanged'; 'evSelectedIndexChanged'; initialSelectedIndex == -1 ? {initialSelectedIndex: ranksCollection.length - rankedBattlesStats.rank - 3} : null; 2; 0.1"/>
			<bind name="catch" value="'evSelectedIndexChanged'"/>
			<bind name="scrollToIndex!" value="initialSelectedIndex"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RankCarouselItem">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  $index + 1; 'rankInfo'"/>
		<style>
			<width value="100px"/>
			<height value="133px"/>
		</style>
		<block>
			<bind name="event" value="'click'; onCarouselItemClick; $index"/>
			<bind name="tooltip" value="'MouseInstructionTooltip';  {_multiParagraphArray: (!(rankInfo.isSavePoint) 	? [ {_paragraphText: subst('IDS_RANK_X_IN_SEASON_TOOLTIP', [], {rank: id, league: rankInfo.leagueId })}]
                                                                                                    : [ {_paragraphText: subst('IDS_RANK_X_IN_SEASON_TOOLTIP', [], {rank: id, league: rankInfo.leagueId })}, {_paragraphText:'IDS_FIREPROOF_RANK'}]),
                                                    _mouseInstructions: (($index == _selectedIndex) ? null
                                                                                                    : [{_type: 'left', _instructionText: 'IDS_TOOLTIP_ICON_AVAILABLE_RANK'}]),
                                                    _maxWidth: 250}"/>
			<bind name="watch" value="'isLockedState'; ((rankedBattlesStats.rank &gt; ($index + 1)) || (rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON))"/>
			<style>
				<marginLeft value="26px"/>
				<marginRight value="26px"/>
			</style>
			<block className="buttons_rank_outer" type="native">
				<bind name="name" value="'carouselRankItem' + id"/>
				<bind name="gotoAndStop!" value="isLockedState	? 'locked' 
												: rankedBattlesSeason.isJuniorSeason == true 	? rankInfo.id == 1 			? 'top' 
																								: rankInfo.leagueId == 1 	? 'big'
																															: 'small' 
																								: rankInfo.id == 1 			? 'top'
																								: rankInfo.leagueId == 1 	? 'big' 
																								: rankInfo.leagueId == 2 	? 'medium' 
																								: 'small'"/>
				<bind name="selected" value="$index == _selectedIndex"/>
				<params>
					<param name="name" value="buttons_rank_outer"/>
				</params>
				<styleClass value="$MiddleAligned"/>
				<block>
					<styleClass value="$MiddleAlignedAbsolutely"/>
					<block>
						<style>
							<hitTest value="false"/>
							<width value="35px"/>
							<height value="35px"/>
							<backgroundStretchX value="true"/>
							<backgroundStretchY value="true"/>
						</style>
						<styleClass value="$MiddleAlignedAbsolutely"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="visible" value="!(isLockedState)"/>
						<bind name="style" value="'backgroundImage'; 'url:' + '../ranks/icons/icon_rank_big_' + (rankInfo.id) + '.png'"/>
						<bind name="transition" value="$index == _selectedIndex; 0.1; {width: 31, height: 31, top: 50}; {width: 38, height: 38, top: 50}"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="-8px"/>
				</style>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="transition" value="$index == _selectedIndex;	0.1; {top: -8}; {top: -3}"/>
					<style>
						<position value="absolute"/>
					</style>
					<block type="text">
						<bind name="class" value="$index == _selectedIndex 	? '$TextHeaderBold' :  (isComingSoon ? '$TextHeaderBigDefault' : '$TextHeaderBigDefault') "/>
						<bind name="text" value="id"/>
					</block>
				</block>
				<block>
					<style>
						<marginTop value="26px"/>
					</style>
					<bind name="fade" value="$index == _selectedIndex; 0.1; {alpha: 0}; {alpha: 1}"/>
					<block>
						<style>
							<position value="absolute"/>
							<bottom value="-2px"/>
							<height value="20px"/>
							<width value="100%"/>
						</style>
						<block className="BlurMapCustom">
							<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
							<styleClass value="$FullsizeAbsolute"/>
							<style>
								<hitTest value="false"/>
							</style>
							<bind name="visible" value="optionData.blurEnabled"/>
							<block className="mc_blurmap_empty" type="native">
								<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
								<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
								<styleClass value="$Fullsize"/>
								<bind name="blurMap" value="0"/>
							</block>
						</block>
					</block>
					<block className="scroll_arrow" type="native"/>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<top value="74px"/>
					<left value="50%"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; (rankedBattlesStats.rankBest - 1) &lt;= $index ? 1 : 0.4"/>
				<bind name="visible" value="rankInfo.isSavePoint"/>
				<bind name="transition" value="$index == _selectedIndex; 0.1; {scaleX: 0.89, scaleY: 0.89, top: 0}; {scaleX: 0.945, scaleY: 0.945, top:2}"/>
				<block className="icon_issued_small" type="native">
					<innerBind elementName="item.item" name="text" value="'IDS_PROOF_RANK'"/>
					<bind name="gotoAndPlay!" value="'issued'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="RanksCarouselRewardsBlock">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _selectedIndex + 1; 'rankInfo'"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0.42; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
			<marginTop value="18px"/>
		</style>
		<bind name="style" value="'colorMatrixFilter'; ((_selectedIndex + 1) &lt; rankedBattlesStats.rankBest) ? '0 -80 0 0' : '0 0 0 0'"/>
		<block>
			<bind name="fade" value="(_selectedIndex+1); 0.25; {alpha: 0.1, top: 15}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginBottom value="3sh"/>
				</style>
				<bind name="instance" value="'RankStarCarouselShipsLevelsCondition'; {_rankId: _selectedIndex + 1}"/>
			</block>
			<block>
				<bind name="visible" value="!(rankInfo.starLossPlace == 0 &amp;&amp; rankInfo.starEarnPlace == 0)"/>
				<style>
					<marginBottom value="3sh"/>
				</style>
				<bind name="instance" value="'RankStarEarnLossCondition'; {_rankId: _selectedIndex + 1}"/>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'RankRewardGiftbox'; (rankInfo.rewards.length + rankInfo.rewardsSpecial.length &gt; 0) ? {_rankId: _selectedIndex + 1, _state: ((((_selectedIndex + 1) &lt; rankedBattlesStats.rankBest) || !(rankedBattlesStats.participated)) ? 'not_issued' : 'issued')} : null"/>
			</block>
		</block>
	</block>
	<block className="RankRewardGiftbox">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<block type="text">
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextHeaderBold"/>
			<style>
				<marginBottom value="6px"/>
			</style>
			<bind name="class" value="'$FontSizeHeader3'"/>
			<bind name="text" value="'IDS_REWARD_FOR_RANK'"/>
		</block>
		<block>
			<bind name="name" value="'reward_for_rank'"/>
			<styleClass value="$MiddleAligned"/>
			<block>
				<bind name="transition" value="_state == 'animation' || _state == 'issued'; 0.15; {alpha: 1}; {alpha: 0.6}; {alpha: 1}; 2; _state == 'issued' ? 0 : 0.45"/>
				<bind name="instance" value="'RewardContainer'; (rankInfo.rewards.length &gt; 0 || rankInfo.rewardsSpecial.length &gt; 0) ? {_rewards: rankInfo.rewards, _rewardsSpecial: rankInfo.rewardsSpecial, _tooltipHeader: 'IDS_REWARD_FOR_RANK' } : null"/>
			</block>
			<block>
				<styleClass value="$MouseDisable"/>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
				</style>
				<block>
					<style>
						<position value="absolute"/>
					</style>
					<block className="icon_issued" type="native">
						<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
						<bind name="gotoAndPlay!" value="_state"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="RankStarCarouselShipsLevelsCondition">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks'; _rankId; 'rankInfo'"/>
		<styleClass value="$MiddleAligned"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault19NM"/>
			<bind name="text" value="rankInfo.allowedTheirsShipsDescription"/>
		</block>
		<block>
			<bind name="visible" value="rankedBattlesSeason.isDivisionAllowed == true"/>
			<style>
				<marginLeft value="8px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault19NM"/>
				<bind name="text" value="'IDS_JUNIOR_RANK_DIVISION_ALLOWED'"/>
			</block>
		</block>
	</block>
	<block className="RankStarEarnLossCondition">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<block>
			<block className="icon_star_earn_condition" type="native">
				<style>
					<marginTop value="-4px"/>
				</style>
				<bind name="gotoAndStop!" value="1"/>
			</block>
			<block>
				<style>
					<marginLeft value="5px"/>
				</style>
				<block type="text">
					<bind name="style" value="'maxWidth'; rankInfo.isStarSafe ? '850' : '350'"/>
					<styleClass value="$TextDefault19NM"/>
					<bind name="text" value="rankInfo.earnCondition"/>
				</block>
				<block type="text">
					<bind name="visible" value="rankInfo.starLossPlace == 0"/>
					<bind name="style" value="'maxWidth'; rankInfo.isStarSafe ? '850' : '350'"/>
					<styleClass value="$TextDefault"/>
					<text value="IDS_YOU_WILL_NOT_LOSE_STAR"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!(rankInfo.isStarSafe) &amp;&amp; (rankInfo.starLossPlace != 0)"/>
				<style>
					<marginLeft value="20px"/>
				</style>
				<block className="icon_star_earn_condition" type="native">
					<style>
						<marginTop value="-4px"/>
					</style>
					<bind name="gotoAndStop!" value="2"/>
				</block>
				<bind name="watch" value="'additionalCondition'; rankInfo.starLossPlace == 2 ? 'IDS_RANKED_BATTLE_STAR_LOSS_PLACE_CONDITION' :
												rankInfo.starLossPlace &gt; 2	? subst('IDS_RANKED_BATTLE_STAR_LOSS_PLACE_RANGE_CONDITION', [], {starLossPlace: rankInfo.starLossPlace})
																			: null"/>
				<block>
					<style>
						<marginLeft value="5px"/>
					</style>
					<block type="text">
						<style>
							<maxWidth value="350"/>
						</style>
						<styleClass value="$TextDefault19NM"/>
						<bind name="text" value="rankInfo.lossCondition"/>
					</block>
					<block type="text">
						<bind name="visible" value="additionalCondition != null"/>
						<style>
							<maxWidth value="350"/>
						</style>
						<styleClass value="$TextDefault"/>
						<bind name="text" value="additionalCondition"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="SelectAccountRenderer">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'isSyncedWithWallet'; ['resourceEntity.accountResource.evChangedIsSyncedWithWallet']; resourceEntity.accountResource.isSyncedWithWallet"/>
		<bind name="watchDH" value="'walletAvailable'; ['resourceEntity.accountResource.evChangedWalletStatus']; resourceEntity.accountResource.walletStatus"/>
		<bind name="watch" value="'showWGWalletWarning'; ((isSyncedWithWallet == false) || (walletAvailable == false))"/>
		<bind name="watch" value="'playerInfotipItem'; rankedBattlesStats.participated &amp;&amp; !(rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON) ? 0 : 1"/>
		<style>
			<width value="260px"/>
			<marginLeft value="15px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'PlayerInfotipItemAccount'; {}"/>
		</block>
		<block className="divider_h" type="native">
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
		</block>
		<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
		<bind name="firstEntityDH" value="'AccountSelfEntity'; CC.accountSelf"/>
		<bind name="firstEntityDH" value="'steamLoginEntity'; CC.steamLoginData"/>
		<bind name="watchDH" value="'shouldRedirectOnCompletion'; 	[]; AccountSelfEntity.accountSelf.shouldRedirectOnCompletion"/>
		<bind name="watchDH" value="'isSteamClient'; 	['loginEntity.loginData.evUpdate']; loginEntity.loginData.isSteam"/>
		<bind name="watchDH" value="'isExternalPlatformClient'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isExternalPlatformClient"/>
		<bind name="watchDH" value="'isWinstoreClient'; 	['loginEntity.loginData.evUpdate']; loginEntity.loginData.isWinStore"/>
		<bind name="watchDH" value="'accountCompleted'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.emailBind"/>
		<bind name="watchDH" value="'isDMMClient'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isDMM"/>
		<bind name="watch" value="'externalFeaturesEnabled'; (isSteamClient 		&amp;&amp; realmConstants.accountCompletion.steam) ||
											(isWinstoreClient 	&amp;&amp; realmConstants.accountCompletion.live)"/>
		<block>
			<bind name="visible" value="externalFeaturesEnabled &amp;&amp; !(accountCompleted) &amp;&amp; !shouldRedirectOnCompletion"/>
			<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_FINISH_ACCOUNT_COMPLETION_TOOLTIP', tooltipSubText: 'IDS_ACCOUNT_COMPLETION_TOOLTIP_SUBTEXT' }"/>
			<bind name="name" value="'buttonAccountCompletion'"/>
			<bind name="input"/>
			<block className="icon_sticker_new" type="native">
				<style>
					<hitTest value="false"/>
					<position value="absolute"/>
					<left value="22px"/>
					<top value="11px"/>
				</style>
			</block>
			<block>
				<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_FINISH_ACCOUNT_COMPLETION')), _icon: 'wg_account', _external: false}"/>
			</block>
		</block>
		<block>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="style" value="'alpha'; showWGWalletWarning ? 0.5 : 1"/>
			<bind name="name" value="'buttonShowPremium'"/>
			<bind name="input"/>
			<bind name="tooltip" value="'SubTextTooltip'; {	tooltipText: 'IDS_TOOLTIP_BUY_PREMIUM_ACCOUNT',
											tooltipSubText: 'IDS_HINT_PREM_GET_MORE_CREDITS_AND_EXP'}"/>
			<bind name="instance" value="'AccountInfotipItem'; { _text: 'IDS_BUY_PREMIUM_ACCOUNT', _icon: 'premium', _external: false}"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'WGWalletServiceStatus'; showWGWalletWarning ? {_walletAvailable: walletAvailable, _isSyncedWithWallet: isSyncedWithWallet } : null"/>
		</block>
		<block>
			<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_EXCHANGE_GOLD'}"/>
			<bind name="instance" value="'AccountInfotipItem'; { _text: 'IDS_EXCHANGE_GOLD', _icon: 'change_gold', _external: false}"/>
			<bind name="name" value="'buttonExchangeGold'"/>
			<bind name="input"/>
		</block>
		<block>
			<bind name="feature" value="5; 'rollOver'"/>
			<bind name="visible" value="feature_5 != 'locked'"/>
			<bind name="name" value="'buttonConvertExp'"/>
			<bind name="action" value="'click'; 'xpFreeExpWindow'"/>
			<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_CONVERT_EXP'}"/>
			<bind name="instance" value="'AccountInfotipItem'; { _text: 'IDS_CONVERT_EXP', _icon: 'convert_gold', _external: false}"/>
		</block>
		<block>
			<bind name="visible" value="realmConstants.premshopUIAvailable || isExternalPlatformClient"/>
			<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
			<bind name="watchDH" value="'isExternalPlatformClient'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isExternalPlatformClient"/>
			<bind name="request" value="'click'; 'webBrowser'; {url: URL.SHOP_IN_GAME}"/>
			<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_PREMSHOP', tooltipSubText: 'IDS_TOOLTIP_PREMSHOP'}"/>
			<bind name="instance" value="'AccountInfotipItem'; realmConstants.premshopUIAvailable || isExternalPlatformClient	? { _text: toUpperCase(tr('IDS_PREMSHOP')), _icon: 'premshop', _external: false }
																									: null"/>
		</block>
		<block>
			<bind name="visible" value="!(realmConstants.premshopUIAvailable)"/>
			<bind name="name" value="'buttonBuyGold'"/>
			<bind name="watch" value="'isOpenPremInClientBrowser'; (isExternalPlatformClient == true || realmConstants.premshopUIAvailable == true)"/>
			<bind name="request" value="'click'; isOpenPremInClientBrowser ? 'webBrowser' : null; {url: URL.BUY_GOLD_IN_GAME }"/>
			<bind name="action" value="'click'; isOpenPremInClientBrowser	? null
															: 'gotoUrlByIdent'; {ident: URL.BUY_GOLD}"/>
			<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_BUY_GOLD_LC', tooltipSubText: isOpenPremInClientBrowser ? 'IDS_HINT_OPEN_INGAME_STORE' : 'IDS_HINT_REDIRECT_TO_STORE'}"/>
			<bind name="instance" value="'AccountInfotipItem'; { _text: 'IDS_BUY_GOLD', _icon: 'buy_gold', _external: !(isOpenPremInClientBrowser)}"/>
		</block>
		<block>
			<bind name="visible" value="realmConstants.inviteRefferalFriendUIAvailable &amp;&amp; (accountLevelInfo.accountLevel &gt;= 3) &amp;&amp; (isDMMClient != true)"/>
			<bind name="name" value="'buttonPlaytogether'"/>
			<bind name="request" value="'click'; 'webBrowser'; {url: URL.PLAYTOGETHER_WEBSITE}"/>
			<bind name="collectionDH" value="CC.userTask; 'userTaskCollection'"/>
			<bind name="entityDH" value="'userTaskEntity'; userTaskCollection[0].id"/>
			<bind name="watchDH" value="'currentUserTaskFlag'; ['userTaskEntity.userTask.evFlagChanged']; userTaskEntity.userTask.flag"/>
			<bind name="action" value="'rollOver'; 'ServerUIDataUSS.setUserTaskExecuted'; { taskId: UserTasksFlags.CONTROL_SEEN_PLAYTOGETHER }"/>
			<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_INVITE_FRIEND', tooltipSubText: 'IDS_HINT_INVITE_FRIEND_EXTERNAL'}"/>
			<block>
				<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_INVITE_FRIEND')), _icon: 'invite_friend', _external: false}"/>
			</block>
			<block className="icon_sticker_new" type="native">
				<bind name="fade" value="(currentUserTaskFlag &amp; UserTasksFlags.CONTROL_SEEN_PLAYTOGETHER) == 0; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<style>
					<hitTest value="false"/>
					<position value="absolute"/>
					<marginTop value="3px"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="feature" value="27; ''"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
			<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
			<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
			<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
			<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
			<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; selfPlayerEntity.clanman.clanId"/>
			<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
			<bind name="watchDH" value="'clanName'; ['clanEntity.clanExtended.evNameChanged']; clanEntity.clanExtended.name"/>
			<bind name="visible" value="!(selfPlayerEntity.clanman) &amp;&amp; (feature_27 == 'locked')"/>
			<bind name="request" value="'click'; 'WebBrowserFull'; {url: 'clansInGame'}"/>
			<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_CLANS', tooltipSubText: 'IDS_HINT_CLANS'}"/>
			<block>
				<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_CLANS')), _icon: 'clans', _external: false }"/>
			</block>
		</block>
		<block>
			<bind name="feature" value="23; 'rollOver'"/>
			<bind name="visible" value="feature_23 != 'locked'"/>
			<bind name="name" value="'buttonWarehouse'"/>
			<bind name="request" value="'click'; 'webBrowser'; {url: URL.WAREHOUSE_IN_GAME}"/>
			<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_WAREHOUSE', tooltipSubText: 'IDS_HINT_WAREHOUSE'}"/>
			<block>
				<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_WAREHOUSE')), _icon: 'warehouse', _external: false }"/>
			</block>
			<block className="icon_sticker_new" type="native">
				<bind name="fade" value="feature_23 == 'new'; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<style>
					<hitTest value="false"/>
					<position value="absolute"/>
					<marginTop value="3px"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="realmConstants.newsUIAvailable &amp;&amp; (accountLevelInfo.accountLevel &gt; 1)"/>
			<bind name="name" value="buttonNewsBrowser"/>
			<bind name="instance" value="'AccountButtonNewsBrowser'; realmConstants.newsUIAvailable ? {} : null"/>
		</block>
		<block>
			<bind name="visible" value="accountSelfEntity.accountSelf.replaysAvailable"/>
			<bind name="firstEntityDH" value="'accountSelfEntity'; CC.accountSelf"/>
			<bind name="request" value="'click'; 'showReplaysWindow'"/>
			<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_REPLAYS')), _icon: 'replays', _external: false}"/>
			<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_REPLAYS', tooltipSubText: 'IDS_HINT_REPLAYS'}"/>
		</block>
	</block>
	<block className="PlayerInfotipItemAccount">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'isPremiumAccount';	['resourceEntity.accountResource.evChangedPrem'];	resourceEntity.accountResource.isPremium"/>
		<bind name="watchDH" value="'premiumAccountTimeStr';	['resourceEntity.accountResource.evChangedPrem'];	resourceEntity.accountResource.premiumTimeStr"/>
		<bind name="watchDH" value="'premiumAccountTimeStr';	['selfPlayerEntity.accountResource.evChangedPrem'];	selfPlayerEntity.accountResource.premiumTimeStr"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="dock_submenu_item" type="native">
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<bind name="action" value="'buttonClick'; 'changeInset'; { inset: LobbyConstants.PLAYER_PROFILE, page: LobbyConstants.PLAYER_PROFILE_ACCOUNT }"/>
			<bind name="dispatch" value="'buttonClick'; 'Tooltip.Close'; {}"/>
			<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_GO_TO_ACCOUNT'}"/>
			<style>
				<width value="100%"/>
				<paddingLeft value="90px"/>
				<height value="90px"/>
			</style>
			<block>
				<styleClass value="$MouseDisable"/>
				<style>
					<width value="100%"/>
					<marginLeft value="-3px"/>
					<marginBottom value="6px"/>
				</style>
				<block>
					<bind name="watch" value="'currentProgress'; (accountLevelInfo.currentProgress - accountLevelInfo.thisLevelProgress)"/>
					<bind name="watch" value="'levelProgress'; (accountLevelInfo.nextLevelProgress - accountLevelInfo.thisLevelProgress)"/>
					<bind name="watch" value="'maxLevelEnabled'; accountLevelInfo.maxLevelEnabled"/>
					<style>
						<width value="100%"/>
						<marginRight value="8px"/>
					</style>
					<bind name="instance" value="'PlayerStereotype'; {_playerDbId: selfPlayerDbId, _currentProgress: currentProgress, _levelProgress: levelProgress, _maxLevelEnabled: maxLevelEnabled, _abuseStatus: accountLevelInfo.abuseStatus}"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<style>
				<width value="80px"/>
				<height value="80px"/>
				<position value="absolute"/>
				<top value="4px"/>
				<left value="4px"/>
			</style>
			<block>
				<bind name="transition" value="rollOver; 0.15; {alpha: 1}; {alpha: 0.3}"/>
				<bind name="instance" value="'PlayerDogTag'; {_playerDbId: selfPlayerDbId, _size: 'small'}"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; {_mouseInstructions: [{_type: 'left', _instructionText: 'IDS_DOGTAG_TOOLTIP_GO_TO_CONSTUCTOR'}], _maxWidth: 250}"/>
				<bind name="request" value="'click'; 'modalDogTag' ; {}"/>
			</block>
			<bind name="collectionDH" value="CC.dogTagComponentNew; 'dogTagCollectionNew'"/>
			<bind name="watch" value="'showSticker'; dogTagCollectionNew.length &gt; 0"/>
			<block className="icon_sticker_new_no_pulse" type="native">
				<bind name="fade" value="showSticker; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<style>
					<hitTest value="false"/>
					<position value="absolute"/>
					<top value="2px"/>
					<right value="6px"/>
				</style>
			</block>
			<block>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="transition" value="(rollOver); 0.15; {alpha: 0}; {alpha: 1}; {alpha: 0}"/>
				<block className="button_dock_bg" type="native">
					<style>
						<hitTest value="false"/>
						<paddingLeft value="8px"/>
						<paddingRight value="8px"/>
						<paddingTop value="8px"/>
						<paddingBottom value="8px"/>
					</style>
					<bind name="transition" value="rollOver &amp;&amp; !(mouseDown); 0.2; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1; 0.3"/>
					<bind name="gotoAndStop!" value="'up'"/>
					<block>
						<params>
							<param name="name" value="changeDogTag"/>
						</params>
						<bind name="transition" value="(rollOver); 0.15; {top: 10}; {top: 0}; {top: 10}"/>
						<style>
							<hitTest value="false"/>
						</style>
						<block type="text">
							<styleClass value="$TextDefaultBoldNM"/>
							<bind name="text" value="toUpperCase(tr('IDS_DOG_TAG_DOLL_CHANGE'))"/>
						</block>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="AccountInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<block>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<marginLeft value="13px"/>
				<marginRight value="13px"/>
				<marginBottom value="18px"/>
				<marginTop value="9px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
		</block>
		<block>
			<block className="dock_panel" type="native">
				<style>
					<width value="290px"/>
				</style>
				<block className="dock_panel_pin" type="native">
					<style>
						<position value="absolute"/>
						<top value="0px"/>
						<left value="47%"/>
					</style>
				</block>
				<block>
					<style>
						<marginTop value="10px"/>
						<marginBottom value="18px"/>
						<width value="100%"/>
					</style>
					<block className="SelectAccountRenderer">
						<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
						<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
						<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
						<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
						<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
						<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
						<bind name="watchDH" value="'isSyncedWithWallet'; ['resourceEntity.accountResource.evChangedIsSyncedWithWallet']; resourceEntity.accountResource.isSyncedWithWallet"/>
						<bind name="watchDH" value="'walletAvailable'; ['resourceEntity.accountResource.evChangedWalletStatus']; resourceEntity.accountResource.walletStatus"/>
						<bind name="watch" value="'showWGWalletWarning'; ((isSyncedWithWallet == false) || (walletAvailable == false))"/>
						<bind name="watch" value="'playerInfotipItem'; rankedBattlesStats.participated &amp;&amp; !(rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON) ? 0 : 1"/>
						<style>
							<width value="260px"/>
							<marginLeft value="15px"/>
						</style>
						<block>
							<style>
								<width value="100%"/>
							</style>
							<bind name="instance" value="'PlayerInfotipItemAccount'; {}"/>
						</block>
						<block className="divider_h" type="native">
							<style>
								<width value="100%"/>
								<height value="3px"/>
							</style>
						</block>
						<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
						<bind name="firstEntityDH" value="'AccountSelfEntity'; CC.accountSelf"/>
						<bind name="firstEntityDH" value="'steamLoginEntity'; CC.steamLoginData"/>
						<bind name="watchDH" value="'shouldRedirectOnCompletion'; 	[]; AccountSelfEntity.accountSelf.shouldRedirectOnCompletion"/>
						<bind name="watchDH" value="'isSteamClient'; 	['loginEntity.loginData.evUpdate']; loginEntity.loginData.isSteam"/>
						<bind name="watchDH" value="'isExternalPlatformClient'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isExternalPlatformClient"/>
						<bind name="watchDH" value="'isWinstoreClient'; 	['loginEntity.loginData.evUpdate']; loginEntity.loginData.isWinStore"/>
						<bind name="watchDH" value="'accountCompleted'; ['steamLoginEntity.steamLoginData.evUpdate']; steamLoginEntity.steamLoginData.emailBind"/>
						<bind name="watchDH" value="'isDMMClient'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isDMM"/>
						<bind name="watch" value="'externalFeaturesEnabled'; (isSteamClient 		&amp;&amp; realmConstants.accountCompletion.steam) ||
											(isWinstoreClient 	&amp;&amp; realmConstants.accountCompletion.live)"/>
						<block>
							<bind name="visible" value="externalFeaturesEnabled &amp;&amp; !(accountCompleted) &amp;&amp; !shouldRedirectOnCompletion"/>
							<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_FINISH_ACCOUNT_COMPLETION_TOOLTIP', tooltipSubText: 'IDS_ACCOUNT_COMPLETION_TOOLTIP_SUBTEXT' }"/>
							<bind name="name" value="'buttonAccountCompletion'"/>
							<bind name="input"/>
							<block className="icon_sticker_new" type="native">
								<style>
									<hitTest value="false"/>
									<position value="absolute"/>
									<left value="22px"/>
									<top value="11px"/>
								</style>
							</block>
							<block>
								<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_FINISH_ACCOUNT_COMPLETION')), _icon: 'wg_account', _external: false}"/>
							</block>
						</block>
						<block>
							<style>
								<backgroundColor value="0x01000000"/>
							</style>
							<bind name="style" value="'alpha'; showWGWalletWarning ? 0.5 : 1"/>
							<bind name="name" value="'buttonShowPremium'"/>
							<bind name="input"/>
							<bind name="tooltip" value="'SubTextTooltip'; {	tooltipText: 'IDS_TOOLTIP_BUY_PREMIUM_ACCOUNT',
											tooltipSubText: 'IDS_HINT_PREM_GET_MORE_CREDITS_AND_EXP'}"/>
							<bind name="instance" value="'AccountInfotipItem'; { _text: 'IDS_BUY_PREMIUM_ACCOUNT', _icon: 'premium', _external: false}"/>
						</block>
						<block>
							<styleClass value="$FullsizeAbsolute"/>
							<bind name="instance" value="'WGWalletServiceStatus'; showWGWalletWarning ? {_walletAvailable: walletAvailable, _isSyncedWithWallet: isSyncedWithWallet } : null"/>
						</block>
						<block>
							<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_EXCHANGE_GOLD'}"/>
							<bind name="instance" value="'AccountInfotipItem'; { _text: 'IDS_EXCHANGE_GOLD', _icon: 'change_gold', _external: false}"/>
							<bind name="name" value="'buttonExchangeGold'"/>
							<bind name="input"/>
						</block>
						<block>
							<bind name="feature" value="5; 'rollOver'"/>
							<bind name="visible" value="feature_5 != 'locked'"/>
							<bind name="name" value="'buttonConvertExp'"/>
							<bind name="action" value="'click'; 'xpFreeExpWindow'"/>
							<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_CONVERT_EXP'}"/>
							<bind name="instance" value="'AccountInfotipItem'; { _text: 'IDS_CONVERT_EXP', _icon: 'convert_gold', _external: false}"/>
						</block>
						<block>
							<bind name="visible" value="realmConstants.premshopUIAvailable || isExternalPlatformClient"/>
							<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
							<bind name="watchDH" value="'isExternalPlatformClient'; ['loginEntity.loginData.evUpdate']; loginEntity.loginData.isExternalPlatformClient"/>
							<bind name="request" value="'click'; 'webBrowser'; {url: URL.SHOP_IN_GAME}"/>
							<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_PREMSHOP', tooltipSubText: 'IDS_TOOLTIP_PREMSHOP'}"/>
							<bind name="instance" value="'AccountInfotipItem'; realmConstants.premshopUIAvailable || isExternalPlatformClient	? { _text: toUpperCase(tr('IDS_PREMSHOP')), _icon: 'premshop', _external: false }
																									: null"/>
						</block>
						<block>
							<bind name="visible" value="!(realmConstants.premshopUIAvailable)"/>
							<bind name="name" value="'buttonBuyGold'"/>
							<bind name="watch" value="'isOpenPremInClientBrowser'; (isExternalPlatformClient == true || realmConstants.premshopUIAvailable == true)"/>
							<bind name="request" value="'click'; isOpenPremInClientBrowser ? 'webBrowser' : null; {url: URL.BUY_GOLD_IN_GAME }"/>
							<bind name="action" value="'click'; isOpenPremInClientBrowser	? null
															: 'gotoUrlByIdent'; {ident: URL.BUY_GOLD}"/>
							<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_BUY_GOLD_LC', tooltipSubText: isOpenPremInClientBrowser ? 'IDS_HINT_OPEN_INGAME_STORE' : 'IDS_HINT_REDIRECT_TO_STORE'}"/>
							<bind name="instance" value="'AccountInfotipItem'; { _text: 'IDS_BUY_GOLD', _icon: 'buy_gold', _external: !(isOpenPremInClientBrowser)}"/>
						</block>
						<block>
							<bind name="visible" value="realmConstants.inviteRefferalFriendUIAvailable &amp;&amp; (accountLevelInfo.accountLevel &gt;= 3) &amp;&amp; (isDMMClient != true)"/>
							<bind name="name" value="'buttonPlaytogether'"/>
							<bind name="request" value="'click'; 'webBrowser'; {url: URL.PLAYTOGETHER_WEBSITE}"/>
							<bind name="collectionDH" value="CC.userTask; 'userTaskCollection'"/>
							<bind name="entityDH" value="'userTaskEntity'; userTaskCollection[0].id"/>
							<bind name="watchDH" value="'currentUserTaskFlag'; ['userTaskEntity.userTask.evFlagChanged']; userTaskEntity.userTask.flag"/>
							<bind name="action" value="'rollOver'; 'ServerUIDataUSS.setUserTaskExecuted'; { taskId: UserTasksFlags.CONTROL_SEEN_PLAYTOGETHER }"/>
							<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_INVITE_FRIEND', tooltipSubText: 'IDS_HINT_INVITE_FRIEND_EXTERNAL'}"/>
							<block>
								<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_INVITE_FRIEND')), _icon: 'invite_friend', _external: false}"/>
							</block>
							<block className="icon_sticker_new" type="native">
								<bind name="fade" value="(currentUserTaskFlag &amp; UserTasksFlags.CONTROL_SEEN_PLAYTOGETHER) == 0; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
								<style>
									<hitTest value="false"/>
									<position value="absolute"/>
									<marginTop value="3px"/>
								</style>
							</block>
						</block>
						<block>
							<bind name="feature" value="27; ''"/>
							<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
							<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
							<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
							<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
							<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
							<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; selfPlayerEntity.clanman.clanId"/>
							<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
							<bind name="watchDH" value="'clanName'; ['clanEntity.clanExtended.evNameChanged']; clanEntity.clanExtended.name"/>
							<bind name="visible" value="!(selfPlayerEntity.clanman) &amp;&amp; (feature_27 == 'locked')"/>
							<bind name="request" value="'click'; 'WebBrowserFull'; {url: 'clansInGame'}"/>
							<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_CLANS', tooltipSubText: 'IDS_HINT_CLANS'}"/>
							<block>
								<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_CLANS')), _icon: 'clans', _external: false }"/>
							</block>
						</block>
						<block>
							<bind name="feature" value="23; 'rollOver'"/>
							<bind name="visible" value="feature_23 != 'locked'"/>
							<bind name="name" value="'buttonWarehouse'"/>
							<bind name="request" value="'click'; 'webBrowser'; {url: URL.WAREHOUSE_IN_GAME}"/>
							<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_WAREHOUSE', tooltipSubText: 'IDS_HINT_WAREHOUSE'}"/>
							<block>
								<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_WAREHOUSE')), _icon: 'warehouse', _external: false }"/>
							</block>
							<block className="icon_sticker_new" type="native">
								<bind name="fade" value="feature_23 == 'new'; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
								<style>
									<hitTest value="false"/>
									<position value="absolute"/>
									<marginTop value="3px"/>
								</style>
							</block>
						</block>
						<block>
							<bind name="visible" value="realmConstants.newsUIAvailable &amp;&amp; (accountLevelInfo.accountLevel &gt; 1)"/>
							<bind name="name" value="buttonNewsBrowser"/>
							<bind name="instance" value="'AccountButtonNewsBrowser'; realmConstants.newsUIAvailable ? {} : null"/>
						</block>
						<block>
							<bind name="visible" value="accountSelfEntity.accountSelf.replaysAvailable"/>
							<bind name="firstEntityDH" value="'accountSelfEntity'; CC.accountSelf"/>
							<bind name="request" value="'click'; 'showReplaysWindow'"/>
							<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_REPLAYS')), _icon: 'replays', _external: false}"/>
							<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_REPLAYS', tooltipSubText: 'IDS_HINT_REPLAYS'}"/>
						</block>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipTitleWithIconAndLevelWithDenyReason">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _shipID ? _shipID : shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID ? _shipID : shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<block>
			<bind name="visible" value="isReady"/>
			<block>
				<style>
					<marginBottom value="6px"/>
				</style>
				<block className="icon_wreath" type="native">
					<styleClass value="$MouseDisable"/>
					<style>
						<position value="absolute"/>
						<top value="1px"/>
					</style>
					<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
					<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
									shipInfo.isPremium 	? 'premium'
														: 'elite'"/>
				</block>
				<block className="icon_ship" type="native">
					<bind name="style" value="'marginLeft'; upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial ? 5 : 2"/>
					<styleClass value="$MouseDisable"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="6px"/>
					</style>
					<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial 	? shipInfo.subtype + '_P'
																				: shipInfo.subtype"/>
				</block>
				<block>
					<style>
						<marginLeft value="3px"/>
					</style>
					<block type="text">
						<styleClass value="$FontShipnameWhite"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial	? '$FontShipnameGolden'
																			: '$FontShipnameWhite'"/>
						<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="_battleType == BattleTypes.RANKED_BATTLE &amp;&amp; rankedBattlesSeason.denyReason"/>
				<style>
					<width value="100%"/>
					<marginTop value="-6px"/>
					<marginBottom value="6px"/>
				</style>
				<bind name="instance" value="'RankBattleNotAvailableReason'; rankedBattlesSeason.denyReason ? { _maxWidth: 224} : null"/>
			</block>
		</block>
	</block>
	<block className="RankBattleNotAvailableReason">
		<bind name="primaryEntityDH" value="'battleTypeEntity'; CC.battleType; BattleTypes.RANKED_BATTLE"/>
		<bind name="watchDH" value="'battleTypeDenyReasons'; ['battleTypeEntity.battleType.evDisableReasonChanged']; battleTypeEntity.battleType.battleTypeReasons"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="countdown" value="rankedBattlesSeason.startTime; 'seasonTimeStart'; 'HIGHEST'; ''; 'ACC'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  rankedBattlesStats.rank; 'curRankInfo'"/>
		<style>
			<hitTest value="false"/>
		</style>
		<bind name="watch" value="'reasonText'; ((battleTypeDenyReasons[0] == 'IDS_RANK_BATTLES_SEASON_IS_NOT_ACTIVE_SEASON_STARTS_IN')	?	(tr(battleTypeDenyReasons[0]) + ' ' + seasonTimeStart)
																														:	battleTypeDenyReasons[0])"/>
		<bind name="instance" value="'BattletypeDenyReason'; (battleTypeDenyReasons.length &gt; 0)	? { _neutral: false,
																					_reasonText: reasonText,
																					_maxWidth: _maxWidth}
																				: { _neutral: true,
																					_reasonText: curRankInfo.allowedTheirsShipsDescription,
																					_maxWidth: _maxWidth}"/>
	</block>
	<block className="StickerCounterNews">
		<bind name="visible" value="unreadNewsCount &gt; 0"/>
		<bind name="firstEntityDH" value="'ingamePortalEntity'; CC.ingamePortal"/>
		<bind name="watchDH" value="'unreadNewsCount'; ['ingamePortalEntity.ingamePortal.evUpdate']; ingamePortalEntity.ingamePortal.unreadNewsCount"/>
		<bind name="instance" value="'StickerCounter'; (unreadNewsCount &gt; 0) ? { _count: unreadNewsCount } : null"/>
	</block>
	<block className="StickerCounter">
		<style>
			<hitTest value="false"/>
		</style>
		<block>
			<block className="icon_sticker_new_small_active30" type="native"/>
		</block>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<top value="9px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBoldNM"/>
				<bind name="text" value="_count &lt; 99 ? _count : '99+'"/>
			</block>
		</block>
	</block>
	<block className="AccountButtonNewsBrowser">
		<bind name="request" value="'click'; 'webBrowser'; {url: URL.NEWS_IN_GAME}"/>
		<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_HINT_NEWS_TOOLTIP_EXTENDED'}"/>
		<block>
			<bind name="instance" value="'AccountInfotipItem'; { _text: toUpperCase(tr('IDS_NEWS')), _icon: 'news', _external: false}"/>
		</block>
		<block>
			<style>
				<hitTest value="false"/>
				<position value="absolute"/>
				<marginTop value="6px"/>
				<right value="4px"/>
			</style>
			<bind name="instance" value="'StickerCounterNews'; {}"/>
		</block>
	</block>
	<css name="$TextShipLineNormal">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextShipLinePremium">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLineBlack">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextMetaHeader">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextMetaInfo">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$ShipParamTitleWidth">
		<width value="160px"/>
	</css>
	<css name="$ShipParamOnePieceTitleWidth">
		<maxWidth value="160"/>
	</css>
	<css name="$TextShipLinePremiumAccentBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLineBoldAccent">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextShipLinePremiumBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLineBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextShipLineBlackAccentBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextShipLineBlackBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextShipHeaderNameGolden21">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="21"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipHeaderNameNormal21">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="21"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextShipHeaderNameBlack21">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="ShipLineItem">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'notInvertable'; (playerShipInfo != null) || _notInvertable"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="style" value="'marginTop'; _large ? '7px' : '1px'"/>
			<block className="icon_wreath" type="native">
				<style>
					<position value="absolute"/>
					<left value="-5px"/>
					<top value="-8px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="shipInfo.subtype + (!notInvertable ? '_U' : (shipInfo.isPremium || shipInfo.uiSpecial ? '_P' : '')) "/>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-5px"/>
				<marginLeft value="3px"/>
			</style>
			<bind name="instance" value="'InvertableTextLine'; { _text: shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS)),
												_invert: !notInvertable, 
												_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial ? (_large ? '$TextShipLinePremiumAccentBold' : '$TextShipLinePremiumBold') 
																										: (_large ? '$TextShipLineBoldAccent' : '$TextShipLineBold')), 
												_invertedClass: (_large ? '$TextShipLineBlackAccentBold': '$TextShipLineBlackBold'),
												_width: _width ? _width : '110px',
												_letterSpacing: 0.8}"/>
		</block>
	</block>
	<block className="ShipInfoTabHeader">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="instance" value="'NationFlagsBig'; {_width: '300px', _height: '184px', _alpha: 0.5, shipCountry: shipInfo.flagName}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<style>
				<marginTop value="12px"/>
				<marginBottom value="12px"/>
			</style>
			<block>
				<block>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_CLASS'}; 0"/>
					<style>
						<height value="20px"/>
					</style>
					<block className="icon_wreath" type="native">
						<styleClass value="$MiddleVAligned"/>
						<style>
							<position value="absolute"/>
							<left value="-3px"/>
						</style>
						<bind name="visible" value="(upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip"/>
						<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
										shipInfo.isPremium 	? 'premium'
															: 'elite'"/>
					</block>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<marginLeft value="2px"/>
						</style>
						<block className="icon_ship" type="native">
							<style>
								<marginBottom value="2px"/>
							</style>
							<bind name="gotoAndStop!" value="_fromCrew 	? (isOwned ? ((shipInfo.isPremium || shipInfo.uiSpecial) ? shipInfo.subtype + '_P' : shipInfo.subtype) : shipInfo.subtype + '_U')
														: _inSideCompare &amp;&amp; _isNotMyShip ? shipInfo.subtype
														: ((shipInfo.isPremium || shipInfo.uiSpecial) ? shipInfo.subtype + '_P' : shipInfo.subtype)"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_LEVEL'}; 0"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="3px"/>
					</style>
					<bind name="instance" value="'InvertableTextLine'; { _text: (shipInfo.levelRome) + ' ' + toUpperCase(tr(shipInfo.nameIDS + '_FULL')),
														_invert: _fromCrew ? !isOwned : false, 
														_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip ? '$TextShipHeaderNameGolden21' : '$TextShipHeaderNameNormal21',
														_invertedClass: '$TextShipHeaderNameBlack21' }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<alpha value="0.8"/>
				</style>
				<bind name="watch" value="'shipClass';	(shipInfo.subtype == ShipTypes.Cruiser) 		? tr('IDS_CRUISER') :
										(shipInfo.subtype == ShipTypes.AircraftCarrier)	? tr('IDS_AIRCARRIER') :
										(shipInfo.subtype == ShipTypes.BattleShip) 		? tr('IDS_BATTLESHIP') : 
										(shipInfo.subtype == ShipTypes.Auxiliary) 		? tr('IDS_AUXILIARY') :
										(shipInfo.subtype == ShipTypes.Submarine) 		? tr('IDS_SUBMARINE')
																						: tr('IDS_DESTROYER')"/>
				<bind name="instance" value="'InvertableTextLine'; { _text: subst('IDS_SHIP_LEVEL', [], {_shipClass: shipClass, _shipLevel: shipInfo.levelRome}),
													_invert: _fromCrew ? !isOwned : false, 
													_normalClass: shipInfo.isPremium &amp;&amp; !_isNotMyShip ? '$TextShipLinePremium' : '$TextShipLineNormal', 
													_invertedClass: '$TextShipLineBlack' }"/>
			</block>
		</block>
	</block>
	<block className="TitleDefaultMockup">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<leading value="-4"/>
				<maxWidth value="184"/>
				<marginRight value="9px"/>
			</style>
			<bind name="class" value="meta ? '$TextMetaHeader' : '$TextMetaInfo'"/>
			<bind name="style" value="'alpha'; meta ? 1 : 0.7"/>
			<bind name="text" value="tr(nameIDS) + ' ' + (title.data.items ? tr(title.data.items[0].textValue) : '')"/>
		</block>
	</block>
	<block className="TitleVertMockup">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$TextMetaInfo"/>
			<style>
				<leading value="-4"/>
				<width value="184px"/>
				<marginRight value="9px"/>
			</style>
			<bind name="style" value="'alpha'; meta ? 1 : 0.7"/>
			<bind name="text" value="nameIDS"/>
		</block>
		<block type="text">
			<style>
				<leading value="-4"/>
				<maxWidth value="184"/>
				<marginRight value="9px"/>
			</style>
			<styleClass value="$TextMetaInfo"/>
			<style>
				<alpha value="0.7"/>
				<marginTop value="-7px"/>
			</style>
			<bind name="text" value="title.data.items[0].textValue"/>
		</block>
	</block>
	<block className="ShipInfoTabRow">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="watch" value="'id'; id"/>
		<bind name="name" value="'param_' + id"/>
		<bind name="dispatch" value="'click'; dockDefaultValues.armourVisibility &amp;&amp; !(excursionOff) ? null : 'onParamRowClicked'; index"/>
		<bind name="action" value="'click'; (id == 'armour') &amp;&amp; (_armourOff != true) ? (dockDefaultValues.armourVisibility ? 'hideArmour' : 'showArmour') : null"/>
		<bind name="fade" value="!empty &amp;&amp; (state &amp;&amp; isRoot || (!(parent.empty) &amp;&amp; parent.state.active)); 0.15; {alpha: 0, ubScaleY: 0.0}; {alpha: 1, ubScaleY: 1.0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<bind name="visible" value="!(!_armorEnabled &amp;&amp; id == 'armour')"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="tooltip" value="'ShipParamTooltip';{	id: id, meta: meta, secondLevel: secondLevel, tooltipIDS: tooltipIDS, nameIDS: nameIDS,
											_hasExcursion: (!excursionOff &amp;&amp; !(dockDefaultValues.armourVisibility)),
											_isArmour: id == 'armour', _armourOff: _armourOff, _torpedoId: aviations.params.ammoNameRaw, 
											_deepWaterTorpedoBombers: deepWaterTorpedoBombers }"/>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="visible" value="!(isRoot)"/>
			</block>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="style" value="'alpha'; (!(isRoot) &amp;&amp; !(excursionOff) &amp;&amp; !(dockDefaultValues.armourVisibility)) || ((id == 'armour') &amp;&amp; (_armourOff != true)) ? 1 : 0"/>
				<bind name="selected" value="state.selected"/>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<left value="1px"/>
				</style>
				<bind name="instance" value="'StatValueBar'; meta ? {_width: 310,	 						_hasDiff: root.hasDiff,
													_currentValue: root.values[0], 			_diffValue: root.diffData[0].value,
													_isGood: root.diffData[0].isGood, 		_expand: state.active,
													_invert: ident == 'visibility',			rollOver: rollOver,
													viewParams: viewParams} : null"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<bottom value="-1px"/>
				</style>
				<styleClass value="$MouseDisable"/>
				<bind name="visible" value="meta"/>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MouseDisable"/>
				<style>
					<width value="100%"/>
					<marginRight value="12px"/>
				</style>
				<bind name="style" value="'marginLeft'; secondLevelTooltip ? '12px' : '32px'"/>
				<bind name="style" value="'marginTop'; (viewParams.list[$index - 1].meta || viewParams.list[$index - 1] == null) &amp;&amp; !(meta) ? '5px' : '1px'"/>
				<bind name="style" value="'marginBottom'; viewParams.list[$index + 1].meta || viewParams.list[$index + 1] == null ? '8px' : '3px'"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'TitleDefaultMockup';(title == null || titleMockup == 0) ? { meta: meta, isRoot: isRoot, nameIDS: nameIDS, title: title } : null"/>
					<bind name="instance" value="'TitleVertMockup'; (title != null &amp;&amp; titleMockup == 1) ? { meta: meta, isRoot: isRoot, nameIDS: nameIDS, title: title } : null"/>
				</block>
				<block>
					<block>
						<style>
							<right value="0"/>
							<position value="absolute"/>
						</style>
						<block>
							<bind name="visible" value="secondLevel.hasDiff ? true : false"/>
							<block type="text">
								<styleClass value="$TextParams"/>
								<style>
									<marginTop value="-1px"/>
									<alpha value="0.55"/>
								</style>
								<text value="("/>
							</block>
							<block className="icon_warning_orange" type="native">
								<styleClass value="$MiddleVAligned"/>
								<style>
									<marginLeft value="-2px"/>
									<marginRight value="-2px"/>
								</style>
							</block>
							<block type="text">
								<styleClass value="$TextParams_tight_left"/>
								<style>
									<marginTop value="-1"/>
								</style>
								<text value=")"/>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
						<bind name="instance" value="'ParamElement'; value"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<block>
					<bind name="fade" value="!(isRoot) &amp;&amp; !(excursionOff) &amp;&amp; !(dockDefaultValues.armourVisibility); 0.3; {alpha: 0}; {alpha: 1}"/>
					<style>
						<position value="absolute"/>
						<left value="-22px"/>
						<top value="7px"/>
					</style>
					<block className="icon_camera_off" type="native">
						<style>
							<position value="absolute"/>
						</style>
						<bind name="fade" value="!(state.selected); 0.3; {alpha: 0}; {alpha: 1}"/>
					</block>
					<block className="icon_camera_on" type="native">
						<style>
							<position value="absolute"/>
						</style>
						<bind name="fade" value="state.selected; 0.3; {alpha: 0}; {alpha: 1}"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="((id == 'armour') &amp;&amp; (_armourOff != true))"/>
					<style>
						<position value="absolute"/>
						<left value="-22px"/>
						<top value="6px"/>
					</style>
					<block className="button_armour_switcher_small" type="native">
						<bind name="selected" value="dockDefaultValues.armourVisibility"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerModernizations"/>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'weaponsInfo'; deepWaterTorpedoRow ? torpedoSlotsList[0].itemsInSlot[0].id : null; 'torpedoes'"/>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'weaponsInfo'; deepWaterBomberRow  ? planesSlotsList[2].itemsInSlot[0].id : null;  'aviations'"/>
			<bind name="watch" value="'deepWaterTorpedoRow'; (parent.nameIDS == 'IDS_SHIP_PARAM_TORPEDY') &amp;&amp; (id == 'listTorpedoes0')"/>
			<bind name="watch" value="'deepWaterBomberRow'; 	(parent.nameIDS == 'IDS_SHIP_PARAM_AVIATION') &amp;&amp; (id == 'tbomber_squadrons')"/>
			<bind name="watch" value="'deepWaterTorpedoes'; 		(parent.nameIDS == 'IDS_SHIP_PARAM_TORPEDY') &amp;&amp; (id == 'listTorpedoes0') &amp;&amp; (torpedoes.params.torpedoes.isDeepWater == true)"/>
			<bind name="watch" value="'deepWaterTorpedoBombers'; (parent.nameIDS == 'IDS_SHIP_PARAM_AVIATION') &amp;&amp; (id == 'tbomber_squadrons') &amp;&amp; (aviations.params.torpedoIsDeepWater == true)"/>
			<bind name="visible" value="deepWaterTorpedoes == true"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$MouseDisable"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="visible" value="!(isRoot)"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="32px"/>
					<marginRight value="12px"/>
					<marginTop value="1px"/>
					<marginBottom value="3px"/>
				</style>
				<bind name="instance" value="'TorpedoAffectedShipsParamRow'; (deepWaterTorpedoes == true) ? { _torpedoId: torpedoes.params.torpedoes.ammoName, _isTooltip: true } : null"/>
			</block>
		</block>
		<block className="button_expand" type="native">
			<bind name="selected" value="state.active"/>
			<bind name="visible" value="expandable"/>
			<params>
				<param name="toggle" value="true"/>
				<param name="soundSet" value="dropmenu_button"/>
				<param name="focusable" value="false"/>
			</params>
			<style>
				<position value="absolute"/>
				<height value="24px"/>
				<width value="100%"/>
				<marginLeft value="8px"/>
			</style>
		</block>
	</block>
	<block className="ShipDescription">
		<styleClass value="$InfoBlockIndent"/>
		<block>
			<bind name="visible" value="_peculiarity == 'default' &amp;&amp; _needShowProjectYear == true"/>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<block>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="(_isPaperShip ? tr('IDS_PROJECT_YEAR') : tr('IDS_RELEASE_YEAR')) + tr('IDS_COLON')"/>
				</block>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="text" value="_shipNameIDS + '_YEAR'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<bind name="visible" value="_isPaperShip != true"/>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="tr('IDS_SHIPS_IN_SERIES') + tr('IDS_COLON')"/>
				</block>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="text" value="_shipNameIDS + '_NUMBER'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block type="text">
			<bind name="style" value="'marginTop'; (_peculiarity == 'default') ? '3px' : '-2px' "/>
			<styleClass value="$TextSecondaryBold"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="text" value="_shipNameIDS + '_DESCR'"/>
		</block>
	</block>
	<block className="ShipParamsList">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="viewParams.list; 'ShipInfoTabRow'; {secondLevelTooltip: secondLevelTooltip, viewParams: viewParams, _excursionOff: _excursionOff}"/>
	</block>
	<block className="ShipParamsListView">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="appear" value="'hideParams'; 0.45; 0.0; {alpha: 1.0}; {alpha: 0.0}"/>
			<bind name="appear" value="'showParams'; 0.3; 0.10; {alpha: 0.0}; {alpha: 1.0}"/>
			<block className="stat_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="appear" value="'hideParams'; 0.45; 0.0; {alpha: 1.0, top: 0}; {alpha: 0.0, top: -10}"/>
			<bind name="appear" value="'showParams'; 0.3; 0.10; {alpha: 0.0, top: 10}; {alpha: 1.0, top: 0}"/>
			<bind name="repeat" value="viewParams.list; 'ShipInfoTabRow'; {secondLevelTooltip: secondLevelTooltip, viewParams: viewParams, _armourOff: _armourOff, _armorEnabled: _armorEnabled}"/>
		</block>
	</block>
	<block className="ShipSilhouetteRightAligned">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<style>
			<width value="122px"/>
			<height value="22px"/>
		</style>
		<bind name="style" value="'right'; (shipInfo.subtype == ShipTypes.Destroyer)	? '-26px'
																		:	(shipInfo.subtype ==  ShipTypes.Cruiser)	? '-12px'
																														: '0px'"/>
		<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathTinyIcon"/>
	</block>
	<block className="ShipPanel">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'compareItemEntity'; CC.compareItem; 'testShipParams'"/>
		<bind name="watchDH" value="'testShipParams'; ['compareItemEntity.compareItem.evUpdate']; compareItemEntity.dataComponent.data"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="primaryEntityDH" value="'crewEntity'; CC.crew; playerShipInfo.crewId"/>
		<bind name="watchDH" value="'crew'; ['crewEntity.crew.evBasketChanged', 'crewEntity.crew.evLevelUp', 'crewEntity.crew.evExpChanged', 'crewEntity.crew.evShipChanged', 'crewEntity.crew.evSkillsChanged', 'crewEntity.crew.evResetCostChanged', 'crewEntity.crew.evAdaptationUpdated', 'crewEntity.crew.evChanged', 'crewEntity.crew.evRecentnessUpdated']; crewEntity.crew"/>
		<bind name="watchDH" value="'crew'+'Retraining'; ['crewEntity.crew.evRetrainingUpdated']; crewEntity.retraining"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 450.0; shipId; 'fullShipParams'; playerShipInfo != null ? playerShipInfo.params : shipInfo.params; testShipParams; 1; 0; null; 0; 1; 1; excursionOff"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + shipId; 'shipExplorePrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + shipId; 'shipBuyPrice'"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<bind name="watch" value="'showPanel'; _crewInset != 1 &amp;&amp; ((isOwned &amp;&amp; (_dockInset == LobbyConstants.DOCK)) || _dockInset == LobbyConstants.SHIP_MODULES || _dockInset == LobbyConstants.SHIP_EXTERIOR)"/>
		<bind name="watch" value="'carouselRows'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<bind name="watch" value="'excursionOff'; (testShipParams != null || (isOwned &amp;&amp; playerShipInfo.isLocked) || !(shipInfoSlim.isDownloaded) || (shipInfo.subtype == ShipTypes.Submarine))"/>
		<bind name="watch" value="'armorEnabled'; shipInfo.subtype != ShipTypes.Submarine"/>
		<bind name="fade" value="showPanel; showPanel ? 0.3 : 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'addedToStage'; 0.3; 0.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<bind name="updateAllStates!" value="showPanel"/>
		<params>
			<param name="name" value="panelShipStats"/>
		</params>
		<styleClass value="$ShipTechStats"/>
		<style>
			<top value="92px"/>
		</style>
		<bind name="style" value="'marginBottom'; isSmallCarouselView	?	(carouselRows == 1) ? '353px' :
															(carouselRows == 2) ? '416px'
																				: '290px'
														: '290px'"/>
		<block>
			<style>
				<height value="100%f"/>
				<width value="100%"/>
			</style>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block className="notification_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="stat_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ShipInfoTabHeader'; { shipId: shipId }"/>
				</block>
				<block>
					<bind name="visible" value="!isOwned"/>
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginTop value="-40px"/>
						<marginBottom value="-20px"/>
						<width value="214px"/>
						<height value="126px"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
				</block>
				<block>
					<bind name="style" value="'marginTop'; isOwned ? '-15px' : '0px'"/>
					<style>
						<width value="100%"/>
					</style>
					<block className="ShipResearchBlock">
						<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
						<bind name="watchDH" value="'accountGold';	['resourceEntity.accountResource.evChangedGold'];	resourceEntity.accountResource.gold"/>
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
						<styleClass value="$InfoBlockIndent"/>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'PriceTagWithLabel'; isOwned ? null
														: (!(upgradableShipInfo.isExplored) &amp;&amp; !(upgradableShipInfo.dependencyResearched)) || (!(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0)? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice &lt; 0) ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true }
														: null"/>
						</block>
						<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
						<bind name="watchDH" value="'isLazyLogin'; ['loginEntity.loginData.evUpdate']; (loginEntity.loginData.currentLoginType == 'DEMO')"/>
						<block>
							<style>
								<width value="220px"/>
							</style>
							<styleClass value="$MiddleAligned"/>
							<bind name="action" value="'click'; (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? 'forceCreateAccount' : null"/>
							<bind name="instance" value="'DefaultButtonCostMedium'; isOwned ? null
													: !(upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0) &amp;&amp; ((shipInfo.group == 'upgradeable') || (shipInfo.group == 'upgradeableExclusive')) ? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (upgradableShipInfo.totalCostXP == shipExplorePrice.prices[0].finalPrice ? shipExplorePrice.prices[0] : { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }), _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'researchShip', _actionParams: { shipId: shipInfo.id}, _enabled: ( upgradableShipInfo.dependencyResearched &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0)), _showDiscountTag:true, _name: 'ButtonShipResearch' }
													: (upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.creditsDeficit &lt;= 0) &amp;&amp; !(shipInfo.isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: (upgradableShipInfo.creditsDeficit &lt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium  &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice &gt;= 0) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: ((accountGold - shipBuyPrice.prices[0].finalPrice) &gt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: null "/>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'StatusLineWithIcon'; upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored 	? null
																												: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false} "/>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'PriceDeficit'; isOwned 	? null
													: !(upgradableShipInfo.dependencyResearched) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0 ? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _deficit: upgradableShipInfo.expDeficit,  _tooltipText: 'IDS_TOOLTIP_NO_XP'}
													: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: upgradableShipInfo.creditsDeficit, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS'}
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice)  &lt; 0 ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: -(accountGold - shipBuyPrice.prices[0].finalPrice), _tooltipText: 'IDS_TOOLTIP_NO_GOLD' }
													: null"/>
						</block>
						<block>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_EXPERIENCE_USAGE'}; 0"/>
							<bind name="instance" value="'CurrentXPLarge'; isOwned ? { _exp: playerShipInfo.exp, _label: 'IDS_SHIP_EXPERIENCE'} : null "/>
						</block>
					</block>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<bind name="feature" value="13; ''"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ShipInfoCrewBlock'; isOwned &amp;&amp; (feature_13 != 'locked') ? {_crewId: playerShipInfo.crewId}	: null"/>
				</block>
				<block>
					<bind name="visible" value="crew.isUnique == true"/>
					<style>
						<position value="absolute"/>
						<right value="0px"/>
					</style>
					<bind name="instance" value="'UniqueCrewIcon'; {}"/>
				</block>
				<block>
					<bind name="visible" value="armorEnabled"/>
					<style>
						<width value="100%"/>
						<height value="31px"/>
					</style>
					<bind name="instance" value="'ArmourDisplaySwitcher'; armorEnabled ? {} : null"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ShipInfoArmourBlock'; armorEnabled ? {shipId: shipId} : null"/>
				</block>
				<block>
					<bind name="visible" value="armorEnabled"/>
					<style>
						<position value="absolute"/>
						<bottom value="0"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<bind name="watch" value="'showStats'; !(shipInfo.isEventLike) || isOwned)"/>
			<bind name="watch" value="'showLabelComingSoon'; shipInfo.isEventLike &amp;&amp; (shipInfo.group != 'event')"/>
			<block>
				<style>
					<height value="100%f"/>
					<width value="100%"/>
					<overflow value="scroll"/>
				</style>
				<styleClass value="$DefaultScrollBar"/>
				<bind name="instance" value="'ShipParamsListView'; showStats ? { viewParams: viewParams, _armorEnabled: armorEnabled } : null"/>
			</block>
			<block>
				<bind name="visible" value="showLabelComingSoon"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'LabelComingSoon'; { _showTestSampleLabel: showStats }"/>
			</block>
		</block>
	</block>
	<block className="LabelComingSoon">
		<block>
			<style>
				<width value="100%"/>
				<height value="80px"/>
			</style>
			<block className="icon_issued" type="native">
				<style>
					<marginLeft value="150px"/>
					<marginTop value="40px"/>
				</style>
				<bind name="rotation" value="-3"/>
				<innerBind elementName="item.item" name="text" value="_showTestSampleLabel ? toUpperCase(tr('IDS_TEST_SAMPLE')) : toUpperCase(tr('IDS_UNAVAILABLE_TO_DISPLAY_SOON')) : "/>
				<bind name="gotoAndPlay!" value="'issued'"/>
			</block>
		</block>
	</block>
	<block className="ShipResearchBlock">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountGold';	['resourceEntity.accountResource.evChangedGold'];	resourceEntity.accountResource.gold"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<styleClass value="$InfoBlockIndent"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'PriceTagWithLabel'; isOwned ? null
														: (!(upgradableShipInfo.isExplored) &amp;&amp; !(upgradableShipInfo.dependencyResearched)) || (!(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0)? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice &lt; 0) ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true }
														: null"/>
		</block>
		<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
		<bind name="watchDH" value="'isLazyLogin'; ['loginEntity.loginData.evUpdate']; (loginEntity.loginData.currentLoginType == 'DEMO')"/>
		<block>
			<style>
				<width value="220px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="action" value="'click'; (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? 'forceCreateAccount' : null"/>
			<bind name="instance" value="'DefaultButtonCostMedium'; isOwned ? null
													: !(upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0) &amp;&amp; ((shipInfo.group == 'upgradeable') || (shipInfo.group == 'upgradeableExclusive')) ? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (upgradableShipInfo.totalCostXP == shipExplorePrice.prices[0].finalPrice ? shipExplorePrice.prices[0] : { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }), _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'researchShip', _actionParams: { shipId: shipInfo.id}, _enabled: ( upgradableShipInfo.dependencyResearched &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0)), _showDiscountTag:true, _name: 'ButtonShipResearch' }
													: (upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.creditsDeficit &lt;= 0) &amp;&amp; !(shipInfo.isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: (upgradableShipInfo.creditsDeficit &lt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium  &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice &gt;= 0) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: ((accountGold - shipBuyPrice.prices[0].finalPrice) &gt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: null "/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'StatusLineWithIcon'; upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored 	? null
																												: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false} "/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'PriceDeficit'; isOwned 	? null
													: !(upgradableShipInfo.dependencyResearched) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0 ? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _deficit: upgradableShipInfo.expDeficit,  _tooltipText: 'IDS_TOOLTIP_NO_XP'}
													: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: upgradableShipInfo.creditsDeficit, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS'}
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice)  &lt; 0 ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: -(accountGold - shipBuyPrice.prices[0].finalPrice), _tooltipText: 'IDS_TOOLTIP_NO_GOLD' }
													: null"/>
		</block>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_EXPERIENCE_USAGE'}; 0"/>
			<bind name="instance" value="'CurrentXPLarge'; isOwned ? { _exp: playerShipInfo.exp, _label: 'IDS_SHIP_EXPERIENCE'} : null "/>
		</block>
	</block>
	<css name="$TextPriceDefault">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceDefaultGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceDefaultFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceDefaultDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceLarge">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceLargeGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceLargeFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceMedium">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceMediumGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceMediumFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceMediumDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceLargeDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceSmall">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceSmallGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceSmallFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceSmallDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="PriceTag">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="visible" value="priceInfo.basePrice != null &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) &amp;&amp; (_showDiscountTag == true)"/>
			<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: priceInfo, _customLabel: _customLabel, _isExternal: _isExternal }"/>
			<bind name="name" value="'icon_discount_' + priceInfo.id"/>
			<block className="icon_discount" type="native">
				<style>
					<marginTop value="4px"/>
					<marginRight value="-3px"/>
				</style>
				<bind name="gotoAndStop!" value="_large || _medium ? 'large' : 'normal'"/>
			</block>
		</block>
		<block>
			<bind name="name" value="'price_' + priceInfo.id"/>
			<bind name="instance" value="'InvertableTextLine'; { _name: _name,
												_text: (_isNextPriceInARow ? (tr('IDS_AND') + ' ') : '') + format(priceInfo.finalPrice, -1) + (priceInfo.currency == 'money' ? ' ' + tr(priceInfo.currencyIds) : ''), 
												_invert: _deficit &gt; 0, 
												_normalClass:
															_large		?	(priceInfo.currency == 'gold' ? '$TextPriceLargeGold' : priceInfo.currency == 'freexp' ? '$TextPriceLargeFreeExp' : '$TextPriceLarge')
															: _medium 	? 	(priceInfo.currency == 'gold' ? '$TextPriceMediumGold' : priceInfo.currency == 'freexp' ? '$TextPriceMediumFreeExp' : '$TextPriceMedium')
															: _small		?	(priceInfo.currency == 'gold' ? '$TextPriceSmallGold' : priceInfo.currency == 'freexp' ? '$TextPriceSmallFreeExp' : '$TextPriceSmall')
															: (priceInfo.currency == 'gold' ? '$TextPriceDefaultGold' : priceInfo.currency == 'freexp' ? '$TextPriceDefaultFreeExp' :'$TextPriceDefault'), 
												_invertedClass:
															_large		?	'$TextPriceLargeDeficit'
															: _medium	?	'$TextPriceMediumDeficit'
															: _small	?	'$TextPriceSmallDeficit'
															: '$TextPriceDefaultDeficit' }"/>
		</block>
		<block>
			<bind name="visible" value="!_duplicateCurrency"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'Currency'; (priceInfo.currency != 'money') ? { _currency: priceInfo.currency, _large: _large, _medium: _medium } : null"/>
		</block>
		<block>
			<bind name="visible" value="_duplicateCurrency == true"/>
			<bind name="instance" value="'DuplicateCurrency'; { _large: _large }"/>
		</block>
	</block>
	<block className="Currency">
		<bind name="style" value="'marginBottom'; _large || _medium ? '1px' : '0px'"/>
		<block className="icon_currency" type="native">
			<bind name="gotoAndStop!" value="_large || _medium ? _currency + '_large' : _currency"/>
		</block>
	</block>
	<block className="DuplicateCurrency">
		<bind name="style" value="'marginTop'; _large ? '5px' : '0px'"/>
		<bind name="style" value="'backgroundImage'; 'url:../collections/duplicate_icons/duplicate_medium.png'"/>
	</block>
	<block className="AlterablePriceTag">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountGold';		['resourceEntity.accountResource.evChangedGold'];		resourceEntity.accountResource.gold"/>
		<bind name="watchDH" value="'accountCredits';	['resourceEntity.accountResource.evChangedCredit'];		resourceEntity.accountResource.credits"/>
		<bind name="watchDH" value="'accountFreeXP';		['resourceEntity.accountResource.evChangedFreeXP'];		resourceEntity.accountResource.freeXP"/>
		<bind name="watchDH" value="'eliteXP';			['resourceEntity.accountResource.evChangedEliteXP'];	resourceEntity.accountResource.eliteXP"/>
		<bind name="watch" value="'metaXP'; eliteXP + accountFreeXP"/>
		<bind name="watch" value="'curCurrency'; _prices[_selectedPriceIndex].currency"/>
		<bind name="watch" value="'curCurrencyResource'; curCurrency == 'gold'		? accountGold :
										curCurrency ==	'eliteXP'	? metaXP
																	: accountCredits"/>
		<bind name="dispatch" value="'isAlterablePriceMenuVisible' + varChanged; 'alterablePriceTagMenuVisibleChanged'; {isAlterablePriceMenuVisible: isAlterablePriceMenuVisible}; 0; isAlterablePriceMenuVisible ? 0 : 0.05"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="visible" value="(_prices[_selectedPriceIndex].basePrice != null) &amp;&amp; (_prices[_selectedPriceIndex].finalPrice != _prices[_selectedPriceIndex].basePrice) &amp;&amp; _showDiscountTag == true"/>
			<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: _prices[_selectedPriceIndex] }"/>
			<block className="icon_discount" type="native">
				<style>
					<marginRight value="-6px"/>
				</style>
				<bind name="gotoAndStop!" value="_large || _medium ? 'large' : 'normal'"/>
			</block>
		</block>
		<block className="button_dock" type="native">
			<style>
				<flow value="horizontal"/>
			</style>
			<bind name="style" value="'hitTest'; _prices.length &gt; 1"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; ( _tooltipText != null )	? { _multiParagraphArray:  [{_paragraphText: _tooltipText}],
																				_mouseInstructions:	[{_type: 'left', _instructionText: 'IDS_HINT_CURRENCY_CHOICE'} ], _maxWidth: 250 }
																			: { _mouseInstructions:	[{_type: 'left', _instructionText: 'IDS_HINT_CURRENCY_CHOICE'} ], _maxWidth: 250 }"/>
			<bind name="tooltip" value="'PriceSelectionMenu'; {_prices: _prices, _showDiscountTag: _showDiscountTag, _selectedPriceIndex: _selectedPriceIndex, _small: _small, _medium: _medium, _large: _large,}; TooltipBehaviour.verticalInfoWidget; null; 'isAlterablePriceMenuVisible'"/>
			<block>
				<style>
					<marginTop value="0px"/>
					<marginBottom value="3px"/>
					<marginLeft value="3px"/>
					<marginRight value="1px"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'AdjustablePriceTag'; { 	_prices: _prices[_selectedPriceIndex],
														_showDiscountTag: false, 
														_small: _small, _medium: _medium, _large: _large,
														_customLabel: _customLabel, _isExternal: _isExternal }"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MouseDisable"/>
				<bind name="visible" value="_prices.length &gt; 1"/>
				<style>
					<marginRight value="3px"/>
					<hitTest value="false"/>
				</style>
				<block className="icon_navigate" type="native">
					<bind name="gotoAndStop!" value="'down'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="AdjustablePriceTag">
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="watch" value="'_isMixedPrice'; _prices.mixPrice ? true : false"/>
		<bind name="instance" value="'PriceTagWithDeficit'; !_isMixedPrice 	? { priceInfo: _prices, 
																_showDiscountTag: _showDiscountTag, 
																_small: _small, _medium: _medium, _large: _large,
																_customLabel: _customLabel, _isExternal: _isExternal } 
															: null"/>
		<bind name="repeat" value="_isMixedPrice ? _prices.mixPrice : 0; 'MixedPriceTag'; {	_priceInfos: _prices.mixPrice, 
																			_large: _large, _medium: _medium, _small: _small, 
																			_showDiscountTag: _showDiscountTag, 
																			_customLabel: _customLabel, _isExternal: _isExternal } : null"/>
	</block>
	<block className="PriceTagWithDeficit">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountGold';		['resourceEntity.accountResource.evChangedGold'];		resourceEntity.accountResource.gold"/>
		<bind name="watchDH" value="'accountCredits';	['resourceEntity.accountResource.evChangedCredit'];		resourceEntity.accountResource.credits"/>
		<bind name="watchDH" value="'accountFreeXP';		['resourceEntity.accountResource.evChangedFreeXP'];		resourceEntity.accountResource.freeXP"/>
		<bind name="watchDH" value="'eliteXP';			['resourceEntity.accountResource.evChangedEliteXP'];	resourceEntity.accountResource.eliteXP"/>
		<bind name="watch" value="'metaXP'; eliteXP + accountFreeXP"/>
		<bind name="watch" value="'curCurrency'; priceInfo.currency"/>
		<bind name="watch" value="'curCurrencyResource'; curCurrency == 'gold'		? accountGold :
										curCurrency ==	'eliteXP'	? metaXP
																	: accountCredits"/>
		<bind name="watch" value="'_deficit'; (priceInfo.finalPrice - curCurrencyResource)"/>
		<block className="PriceTag">
			<style>
				<flow value="horizontal"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="visible" value="priceInfo.basePrice != null &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) &amp;&amp; (_showDiscountTag == true)"/>
				<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: priceInfo, _customLabel: _customLabel, _isExternal: _isExternal }"/>
				<bind name="name" value="'icon_discount_' + priceInfo.id"/>
				<block className="icon_discount" type="native">
					<style>
						<marginTop value="4px"/>
						<marginRight value="-3px"/>
					</style>
					<bind name="gotoAndStop!" value="_large || _medium ? 'large' : 'normal'"/>
				</block>
			</block>
			<block>
				<bind name="name" value="'price_' + priceInfo.id"/>
				<bind name="instance" value="'InvertableTextLine'; { _name: _name,
												_text: (_isNextPriceInARow ? (tr('IDS_AND') + ' ') : '') + format(priceInfo.finalPrice, -1) + (priceInfo.currency == 'money' ? ' ' + tr(priceInfo.currencyIds) : ''), 
												_invert: _deficit &gt; 0, 
												_normalClass:
															_large		?	(priceInfo.currency == 'gold' ? '$TextPriceLargeGold' : priceInfo.currency == 'freexp' ? '$TextPriceLargeFreeExp' : '$TextPriceLarge')
															: _medium 	? 	(priceInfo.currency == 'gold' ? '$TextPriceMediumGold' : priceInfo.currency == 'freexp' ? '$TextPriceMediumFreeExp' : '$TextPriceMedium')
															: _small		?	(priceInfo.currency == 'gold' ? '$TextPriceSmallGold' : priceInfo.currency == 'freexp' ? '$TextPriceSmallFreeExp' : '$TextPriceSmall')
															: (priceInfo.currency == 'gold' ? '$TextPriceDefaultGold' : priceInfo.currency == 'freexp' ? '$TextPriceDefaultFreeExp' :'$TextPriceDefault'), 
												_invertedClass:
															_large		?	'$TextPriceLargeDeficit'
															: _medium	?	'$TextPriceMediumDeficit'
															: _small	?	'$TextPriceSmallDeficit'
															: '$TextPriceDefaultDeficit' }"/>
			</block>
			<block>
				<bind name="visible" value="!_duplicateCurrency"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'Currency'; (priceInfo.currency != 'money') ? { _currency: priceInfo.currency, _large: _large, _medium: _medium } : null"/>
			</block>
			<block>
				<bind name="visible" value="_duplicateCurrency == true"/>
				<bind name="instance" value="'DuplicateCurrency'; { _large: _large }"/>
			</block>
		</block>
	</block>
	<block className="MixedPriceTag">
		<bind name="instance" value="'PriceTagWithDeficit'; { priceInfo: _priceInfos[$index], 
											_showDiscountTag: _showDiscountTag, 
											_small: _small, _medium: _medium, _large: _large,
											_customLabel: _customLabel, _isExternal: _isExternal }"/>
	</block>
	<block className="PriceSelectionMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<bind name="repeat" value="_prices; 'PriceSelectionMenuItem'; {_prices: _prices, _showDiscountTag: _showDiscountTag, _selectedPriceIndex: _selectedPriceIndex, _small: _small, _medium: _medium, _large: _large, }"/>
	</block>
	<block className="PriceSelectionMenuItem">
		<bind name="style" value="'width'; _large ? '140px' : '100px'"/>
		<bind name="style" value="'height'; _large ? '36px' : '24px'"/>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<bind name="selected" value="_selectedPriceIndex == $index"/>
			<bind name="dispatch" value="'buttonClick'; 'selectedPriceChanged'; { selectedPriceIndex: $index }"/>
			<bind name="name" value="'selectablePrice_' + $index"/>
			<bind name="tooltip" value="'DiscountTooltip'; (basePrice != null) &amp;&amp; (finalPrice != basePrice) ? { priceInfo: {	currency: currency, finalPrice: finalPrice,
																											basePrice: basePrice, till: till,
																											discountEventName: discountEventName}}
																							: null"/>
		</block>
		<block>
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<right value="3px"/>
			</style>
			<bind name="instance" value="'AdjustablePriceTag'; { _prices: _prices[$index],
												_showDiscountTag: _showDiscountTag, 
												_small: _small, _medium: _medium, _large: _large,
												_customLabel: _customLabel,
												_isExternal: _isExternal }"/>
		</block>
	</block>
	<block className="PriceDeficit">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_warning_red" type="native">
				<bind name="style" value="'marginTop'; _large ? '5px' : '0px'"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="	_large ? '$FontSizeHeader6':
						_medium ? '$FontSizeLarge' :
						_small ? '$FontSizeSmall' : '$None'"/>
			<bind name="class" value="'$FontColorCompareNegative'"/>
			<text value="IDS_NOT_ENOUGH"/>
		</block>
		<block type="text">
			<bind name="style" value="'marginLeft'; _large ? '2px' : '0px'"/>
			<styleClass value="$TextDefaultBold"/>
			<bind name="class" value="'$FontColorCompareNegative'"/>
			<bind name="class" value="	_large ? '$FontSizeHeader6':
						_medium ? '$FontSizeLarge' :
						_small ? '$FontSizeSmall' : '$None'"/>
			<bind name="text" value="format(_deficit, -1)"/>
		</block>
		<block>
			<bind name="visible" value="!_duplicateCurrency"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="style" value="'marginLeft'; _large ? '-2px' : '0px'"/>
			<bind name="instance" value="'Currency'; (priceInfo.currency != 'money') ? { _currency: priceInfo.currency, _large: _large, _medium: _medium } : null"/>
		</block>
		<block>
			<bind name="visible" value="_duplicateCurrency == true"/>
			<bind name="instance" value="'DuplicateCurrency'; { large: _large }"/>
		</block>
	</block>
	<block className="PriceInLine">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	_large ? '$FontSizeHeader6':
							_medium ? '$FontSizeLarge' :
							_small ? '$FontSizeSmall' : '$None'"/>
				<bind name="text" value="	_customLabel 						? _customLabel :
							priceInfo.currency == 'credits' ||
							priceInfo.currency == 'gold' ||
							priceInfo.currency == 'eliteXP'		? 'IDS_PURCHASE_COST'
																: 'IDS_RESEARCH_COST'"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$AlignRight"/>
				<bind name="instance" value="'PriceTag'; { priceInfo: priceInfo, _deficit: _deficit, _showDiscountTag: _showDiscountTag, _medium: _medium }"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="priceInfo.finalPrice != priceInfo.basePrice "/>
			<bind name="countdown" value="priceInfo.till; 'timeLeft'; 'HIGHEST'; ''; ''; 'rawTimeLeft'"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<leading value="-3"/>
				</style>
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="priceInfo.type == 2 	? 'IDS_SHARE_FROM_CLAN_BUILDINGS_TIMING' :
										(rawTimeLeft &gt; 0) 		? tr('IDS_SHARE_ENDS_IN') + ' ' + priceInfo.timeLeft
																: tr('IDS_SHARE_IS_EXPIRING_WARNING')"/>
			</block>
			<block>
				<bind name="visible" value="priceInfo.basePrice != 0"/>
				<bind name="style" value="'marginRight'; _medium ? '23px' : '15px'"/>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="format(priceInfo.basePrice, -1)"/>
				</block>
				<block className="icon_price_strikethrough" type="native">
					<style>
						<width value="110%"/>
						<height value="40%"/>
						<top value="60%"/>
						<marginTop value="-50%"/>
						<position value="absolute"/>
					</style>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PriceTagWithLabel">
		<block>
			<style>
				<flow value="horizontal"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	_large ? '$FontSizeHeader3':
							_medium ? '$FontSizeLarge' :
							_small ? '$FontSizeSmall' : '$None'"/>
				<bind name="class" value="_techText ? '$FontColorBlueish' : '$None'"/>
				<bind name="class" value="_bold ? '$FontFamilyDefaultBold' : '$None'"/>
				<bind name="text" value="_label"/>
			</block>
			<block>
				<style>
					<marginLeft value="4px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'PriceTag'; { 	priceInfo: priceInfo, _deficit: _deficit , _showDiscountTag: _showDiscountTag,
											_large: _large, _medium: _medium, _small: _small, _duplicateCurrency: _duplicateCurrency}"/>
			</block>
		</block>
	</block>
	<block className="DiscountTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<styleClass value="$DefaultTooltipWidth"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block className="icon_discount" type="native">
				<styleClass value="$MiddleVAligned"/>
				<bind name="gotoAndStop!" value=" _large ? 'large':'normal'"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorGolden'"/>
				<bind name="text" value="(	priceInfo.discountEventName				? priceInfo.discountEventName : 
							priceInfo.type == 1	? 'IDS_EVENT_SHARE' : 
							priceInfo.type == 2	? 'IDS_SHARE_FROM_CLAN_BUILDINGS' : 
							priceInfo.isPrivate 					? 'IDS_PERSONAL_DISCOUNT' 
																	: 'IDS_PROMO_EVENT' )"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<style>
				<marginTop value="0px"/>
			</style>
			<bind name="instance" value="'PriceInLine'; { priceInfo: priceInfo, _showDiscountTag: _showDiscountTag, _customLabel: _customLabel }"/>
		</block>
		<block>
			<bind name="visible" value="(_isExternal == true)"/>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="-5px"/>
					<marginLeft value="-12px"/>
					<marginRight value="-12px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="'IDS_HINT_REDIRECT_TO_STORE'"/>
			</block>
		</block>
	</block>
	<block className="ShipExtendedTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + shipId; 'shipExplorePrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + shipId; 'shipBuyPrice'"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<bind name="style" value="'userData'; { rightOffset: _hOffset }"/>
		<styleClass value="$ShipTreeTooltipBehaviour"/>
		<params>
			<param name="name" value="upgrade_tree_Ship_info"/>
		</params>
		<style>
			<width value="300px"/>
		</style>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ShipInfoTabHeader'; {	_isNotMyShip: _isNotMyShip, _inSideCompare: inSideCompare, shipId: shipId }"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="-40px"/>
					<marginBottom value="-20px"/>
					<width value="214px"/>
					<height value="126px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
			</block>
			<block>
				<bind name="visible" value="(inSideCompare != true) &amp;&amp; !(inIntromissionWindow)"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="instance" value="'CurrentXPLarge'; playerShipInfo != null ? { _exp: playerShipInfo.exp, _label: 'IDS_SHIP_EXPERIENCE'} : null"/>
				</block>
				<block>
					<bind name="visible" value="!isOwned &amp;&amp; !(_inRewards) &amp;&amp; !(shipInfo.isEventLike)"/>
					<style>
						<width value="100%"/>
						<marginTop value="12px"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'PriceInLine'; !(upgradableShipInfo.isExplored)	? { priceInfo: shipExplorePrice.prices[0], _label: 'IDS_RESEARCH_COST',
																						_medium: true, _showDiscountTag: true}
																					: null"/>
					</block>
					<block>
						<bind name="style" value="'marginTop'; upgradableShipInfo.isExplored ? '0px' : '9px'"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'PriceInLine'; 	upgradableShipInfo.isExplored &amp;&amp; isOwned ? null
															:!(isOwned) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true, _showDiscountTag:true}
															: null"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="inSideCompare != true"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<position value="absolute"/>
					<marginBottom value="-1px"/>
					<marginTop value="1px"/>
				</style>
				<styleClass value="$PxHorizontalCorrection"/>
				<styleClass value="$Fullsize"/>
			</block>
			<bind name="instance" value="'ShipDescription'; {_shipNameIDS: shipInfo.nameIDS, _needShowProjectYear: shipInfo.needShowProjectYear, _isPaperShip: shipInfo.isPaperShip, _peculiarity: shipInfo.peculiarity}"/>
		</block>
		<bind name="watch" value="'showStats'; !(shipInfo.isEventLike) || isOwned)"/>
		<bind name="watch" value="'showLabelComingSoon'; shipInfo.isEventLike &amp;&amp; (shipInfo.group != 'event')"/>
		<block>
			<bind name="visible" value="showStats"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'marginTop'; (inSideCompare == true) ? '18px' : '0px'"/>
			<bind name="instance" value="'ShipParamsTooltipList'; _testShipParams ?
			{ inSideCompare: inSideCompare, typeList : 'tooltipShipParams', params: _testShipParams, testParams: (nonPlayerShipParams ? nonPlayerShipParams : (playerShipInfo != null ? playerShipInfo.params : shipInfo.params)), testObjectIsBaseForView: 1, testObjectIsBaseForCompare: 0, showCompareWithZero: 1}
			: { typeList : 'tooltipShipParams', params: (playerShipInfo != null ? playerShipInfo.params : shipInfo.params)}"/>
		</block>
		<block>
			<bind name="visible" value="showLabelComingSoon"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'LabelComingSoon'; { _showTestSampleLabel: showStats }"/>
		</block>
		<block>
			<bind name="visible" value="(_inRewards == true) &amp;&amp; (_isPRMP != true)"/>
			<style>
				<width value="100%"/>
				<marginBottom value="9px"/>
			</style>
			<bind name="instance" value="'RewardReasonsList'; _inRewards ? { _rewardReasons: _rewardReasons } : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="class" value="	_needService ||
						(_isLocked &amp;&amp; !(playerShipInfo.isInFormation))	? '$InfoBlockIndent'
																		: '$None'"/>
			<bind name="instance" value="'InstructionWarning';	_needService 									? { _instructionText: 'IDS_SHIP_NEEDS_SERVICE_MESSAGE', _maxWidth: '280'} :
												_isLocked &amp;&amp; !(playerShipInfo.isInFormation)	? { _instructionText: 'IDS_SHIP_IN_BATTLE_MESSAGE', _maxWidth: '280'}
																								: null"/>
		</block>
		<block>
			<bind name="visible" value="(shipInfoSlim.isDownloaded ? false : true)"/>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="repeat" value="[	{_type: 'warning', _instructionText: _isEventLike	? 'IDS_ENTER_IN_FULL_VERSION_FOR_ANNOUNCE_SHIPS'
																			: 'IDS_ENTER_IN_FULL_VERSION_FOR_SHIPS'},
						{_type: 'left', _instructionText: 'IDS_CONTINUE_DOWNLOADING_HINT_EXIT'}]; 'MouseInstructionRepeater'; {_maxWidth: 260, _lastIndex: 1}"/>
		</block>
	</block>
	<css name="$MetaTooltipTextWidth">
		<maxWidth value="250"/>
	</css>
	<block className="SimpleShipParamTooltip">
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<styleClass value="$MetaTooltipTextWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<styleClass value="$MetaTooltipTextWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.tooltipIDS"/>
			</block>
		</block>
	</block>
	<block className="SecondLevelShipParamTooltip">
		<style>
			<width value="100%"/>
		</style>
		<bind name="name" value="'secondLevelParamsTooltip_' + $parent.id"/>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<styleClass value="$FullWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<styleClass value="$FullWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.tooltipIDS"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$PxHorizontalCorrection"/>
			</block>
			<block>
				<bind name="visible" value="_deepWaterTorpedoBombers == true"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="instance" value="'TorpedoAffectedShipsParamRow'; (_deepWaterTorpedoBombers == true) ? { _torpedoId: _torpedoId, _isTooltip: true } : null"/>
				</block>
			</block>
			<bind name="instance" value="'ShipParamsListView'; { viewParams: $parent.secondLevel, secondLevelTooltip: true }"/>
		</block>
	</block>
	<block className="ShipParamTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<bind name="class" value="meta ? '$None' : '$DefaultTooltipWidth'"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; (_isArmour &amp;&amp; (_armourOff != true)) ? 'dockDefaultValues' : null; 'dockInitData,dockUpdateData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<bind name="class" value="(secondLevel == null || secondLevel.length == 0) ? '$None' : '$FullWidth'"/>
			<bind name="child" value="(secondLevel == null || secondLevel.length == 0) ? 0 : 1; { _torpedoId: _torpedoId, _deepWaterTorpedoBombers: _deepWaterTorpedoBombers }; 'SimpleShipParamTooltip'; 'SecondLevelShipParamTooltip'"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="visible" value="_hasExcursion || (_isArmour &amp;&amp; (_armourOff != true))"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<bind name="instance" value="'MouseInstruction'; _hasExcursion 							? { _type: 'left', _instructionText: 'IDS_INSTRUCTION_SHIP_COMPONENT_DEMO', _maxWidth: '250'} :
												(_isArmour &amp;&amp; (_armourOff != true))		? { _type: 'left', _instructionText: dockDefaultValues.armourVisibility ? 'IDS_INSTRUCTION_SHIP_ARMOUR_DEMO_OFF' : 'IDS_INSTRUCTION_SHIP_ARMOUR_DEMO_ON', _maxWidth: '250' }
																						: null"/>
			</block>
		</block>
	</block>
	<block className="ShipInfoTooltipRow">
		<style>
			<width value="100%"/>
		</style>
		<bind name="height" value="meta ? 27 : $block.measuredHeight"/>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="-1px"/>
			</style>
			<bind name="visible" value="meta"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<left value="1px"/>
				<overflow value="hidden"/>
			</style>
			<bind name="instance" value="'StatValueBar'; meta ? {_width: _width ? _width : 298, _hasDiff: root.hasDiff || inSideCompare, _currentValue: root.values[0], _diffValue: root.diffData[0].value, _isGood: root.diffData[0].isGood, _expand: true, _invert: ident == 'visibility' } : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="12px"/>
				<marginRight value="12px"/>
				<marginTop value="1px"/>
				<marginBottom value="3px"/>
			</style>
			<bind name="style" value="'marginTop'; ($parent.viewParams.list[$index - 1] == null) &amp;&amp; !(meta) ? '5px' : '1px'"/>
			<bind name="style" value="'marginBottom'; $parent.viewParams.list[$index + 1] == null &amp;&amp; !(meta) ? '8px' : '3px'"/>
			<block>
				<block type="text">
					<style>
						<alpha value="0.8"/>
						<leading value="-4"/>
						<maxWidth value="160"/>
					</style>
					<bind name="class" value="meta ? '$TextMetaHeader' : '$TextMetaInfo'"/>
					<bind name="text" value="nameIDS"/>
				</block>
				<block>
					<style>
						<alpha value="0.8"/>
						<marginLeft value="-7px"/>
					</style>
					<bind name="style" value="'marginTop'; title ? '-7px' : '0px'"/>
					<bind name="instance" value="'ParamElement'; title"/>
				</block>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<block>
					<bind name="instance" value="'ParamElement'; value"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipParamsTooltipList">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="viewParams.list; 'ShipInfoTooltipRow'; { inSideCompare: inSideCompare }"/>
	</block>
	<block className="ShipParamsTooltipListView">
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="viewParams.list;'ShipInfoTooltipRow'; { _width: _width }"/>
	</block>
	<block className="ShipSideCompareTooltip">
		<styleClass value="$ShipTreeTooltipBehaviour"/>
		<params>
			<param name="name" value="ShipSideCompareTooltip"/>
		</params>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _selfPlayerShipId; 'evUpdate'"/>
		<bind name="watchDH" value="'selfPlayerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'showOwnShip'; (userPrefs.showOwnShipInCompare == null) ? false : userPrefs.showOwnShipInCompare "/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="showOwnShip || _isSelf"/>
			<style>
				<marginRight value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<style>
					<right value="0px"/>
				</style>
				<text value="IDS_YOUR_SHIP"/>
			</block>
			<block>
				<bind name="instance" value="'ShipExtendedTooltip'; { _isNotMyShip: false, shipId: _selfPlayerShipId, _testShipParams: _isSelf ? null : _nonPlayerShipParams,
													 inSideCompare: true}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(_isSelf)"/>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<style>
					<right value="0px"/>
				</style>
				<bind name="text" value="_nickname"/>
			</block>
			<block>
				<bind name="instance" value="'ShipExtendedTooltip'; relation != 0	? { _isNotMyShip: true, shipId: _shipId, _testShipParams: selfPlayerShipInfo.params,
																		nonPlayerShipParams: _nonPlayerShipParams, inSideCompare: true}
																	: null"/>
			</block>
		</block>
	</block>
	<block className="ParamsAfterMount">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginTop value="8px"/>
				<marginBottom value="3px"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="text" value="_title"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
					<marginBottom value="1px"/>
					<marginTop value="3px"/>
				</style>
			</block>
			<bind name="instance" value="'ShipParamsTooltipListView'; { viewParams: _viewParams, _width: _width }"/>
		</block>
	</block>
	<block className="ParamsModifierItem">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
			<marginBottom value="16px"/>
		</style>
		<bind name="style" value="'paddingTop'; (_shrinkHeight == true) ? '-8px' : '0'"/>
		<block type="text">
			<styleClass value="$TextDefaultNM"/>
			<style>
				<leading value="-3"/>
				<alpha value="0.8"/>
				<width value="100%"/>
			</style>
			<bind name="text" value="attributeIDS"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="12px"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="class" value="category == 'positive' ? '$FontColorComparePositive' : 
					 category == 'negative'	? '$FontColorCompareNegative'
					 						: '$FontColorDefault'"/>
			<bind name="text" value="measuredValue"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="4px"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="style" value="'alpha'; category == 'positive' ? 0.65 : 0.8"/>
			<bind name="class" value="category == 'positive' ? '$FontColorComparePositive' : 
					 category == 'negative'	? '$FontColorCompareNegative'
					 						: '$FontColorDefault'"/>
			<bind name="text" value="measure"/>
		</block>
	</block>
	<block className="ParamsModifierList">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_attributesPositive; 'ParamsModifierItem'; {_shrinkHeight: _shrinkHeight}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_attributesNegative; 'ParamsModifierItem'; {_shrinkHeight: _shrinkHeight}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_attributesNeutral; 'ParamsModifierItem'; {_shrinkHeight: _shrinkHeight}"/>
		</block>
	</block>
	<css name="$TextDockBig">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="ItemChooser">
		<bind name="watch" value="'_curItemIndex'; curIndex"/>
		<bind name="watch" value="'_direction'; curDirection"/>
		<bind name="watch" value="'isEnabled'; _disabled != true"/>
		<bind name="name" value="_name"/>
		<bind name="var" value="{_lastItemIndex: curIndex}"/>
		<bind name="style" value="'width'; _width ? _width : 'auto'"/>
		<bind name="catch" value="('ItemChooserInnerEvent.' + onItemSelectedEvent)"/>
		<block type="text">
			<bind name="name" value="_items[curIndex]"/>
		</block>
		<bind name="catch" value="('ItemChooserInnerEventDublicate.' + onItemSelectedEvent); {	_direction: (_curItemIndex==_lastItemIndex) ? !_direction : false,
																			_lastItemIndex: _curItemIndex}"/>
		<bind name="dispatch" value="('ItemChooserInnerEventDublicate.' + onItemSelectedEvent); ('ItemChooser.'+onItemSelectedEvent); {_curItemIndex: _curItemIndex, _direction: _direction}; false; 0.001"/>
		<bind name="tooltip" value="_customDropdown ? _customDropdown : 'ItemChooserDropdown';
											_items.length &gt; 1 	? {	_items: _items, _listItemRenderer: _listItemRenderer, _listItemRendererData: _listItemRendererData, _onItemSelectedEvent: onItemSelectedEvent,
																	_curItemIndex: _curItemIndex, _maxDropDownHeight: _maxDropDownHeight, _dropDownWidth: _dropDownWidth, _showHint: _showHint, _text: _text}
																: null;
											TooltipBehaviour.verticalInfoWidget; null; 'dropdownChooserListIsVisible'"/>
		<bind name="var" value="{ _tooltipData: !_itemChooserTooltipText || (_items.length &lt;= 1) ? null : { tooltipText: _itemChooserTooltipText } }"/>
		<bind name="tooltip" value="'SimpleTooltip'; _tooltipData"/>
		<bind name="style" value="'hitTest'; _items.length &gt; 1 &amp;&amp; isEnabled"/>
		<bind name="watch" value="'isItemNavigateVisible'; (_items.length &gt; 1 &amp;&amp; isEnabled)"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="style" value="'marginRight'; isItemNavigateVisible ? '-8px' : '0px'"/>
		<block className="button_dock" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginTop value="1px"/>
				<marginBottom value="1px"/>
			</style>
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<bind name="enabled" value="_items.length &gt; 1"/>
			<bind name="selected" value="dropdownChooserListIsVisible"/>
		</block>
		<block>
			<bind name="style" value="'width'; _width ? '100%f' : 'auto'"/>
			<bind name="instance" value="_choosedItemRenderer; {_item: _items[curIndex], _choosedItemRendererParams: _choosedItemRendererParams}"/>
		</block>
		<block>
			<bind name="visible" value="isItemNavigateVisible"/>
			<style>
				<marginLeft value="5px"/>
				<marginRight value="4px"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_navigate" type="native">
				<bind name="gotoAndStop!" value="'down'"/>
			</block>
		</block>
	</block>
	<block className="ItemChooserDropdown">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<bind name="style" value="'width'; _dropDownWidth ? _dropDownWidth : '180px'"/>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<bind name="visible" value="optionData.contrast &amp;&amp; !(true)"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(true)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="true"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<backgroundColor value="0x01000000"/>
				<hitTest value="false"/>
			</style>
			<params>
				<param name="name" value="ItemChooserDropdown"/>
			</params>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<bind name="style" value="'maxHeight'; _maxDropDownHeight ? _maxDropDownHeight : 220"/>
			<style>
				<width value="100%"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="_items; _listItemRenderer; {_onItemSelectedEvent: _onItemSelectedEvent, _curItemIndex: _curItemIndex, _listItemRendererData: _listItemRendererData}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON) &amp;&amp; (_showHint == true)"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'StatusLineWithIcon'; { _text: _text, _maxWidth: 140}"/>
		</block>
	</block>
	<block className="BluishTextChoosedItemRenderer">
		<style>
			<height value="32px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="(tr(_item))"/>
		</block>
	</block>
	<block className="LowerCaseTextListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<bind name="var" value="{_toLowerCase: true}"/>
		<block className="MenuItemWithSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="$value"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="LargeTextChoosedItemRenderer">
		<style>
			<height value="35px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextDockBig"/>
			<bind name="text" value="(tr(_item))"/>
		</block>
	</block>
	<block className="TextListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<block className="MenuItemWithSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="$value"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="TextChoosedItemRenderer">
		<style>
			<height value="33px"/>
		</style>
		<bind name="style" value="'width'; _choosedItemRendererParams.width ? _choosedItemRendererParams.width : 'auto'"/>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="5px"/>
				<marginTop value="4px"/>
			</style>
			<bind name="class" value="_choosedItemRendererParams.fontClass ? _choosedItemRendererParams.fontClass : '$TextDockBig'"/>
			<bind name="text" value="(tr(_item))"/>
		</block>
	</block>
	<block className="ShipRestrictions">
		<style>
			<height value="21px"/>
			<flow value="horizontal"/>
			<marginRight value="4px"/>
		</style>
		<bind name="style" value="'flow'; _flow ? _flow : 'horizontal'"/>
		<bind name="style" value="'width'; _width ? _width : 'auto'"/>
		<bind name="entityDH" value="'restrictionsEntity'; _restrictionsEntityId"/>
		<bind name="watchDH" value="'shipRestrictions' ; ['restrictionsEntity.shipRestrictions.evUpdate']; restrictionsEntity.shipRestrictions.selectedFilters"/>
		<bind name="watchDH" value="'shipsCount' ; ['restrictionsEntity.divisionRestrictions.evUpdate']; restrictionsEntity.divisionRestrictions.shipsCount"/>
		<bind name="watchDH" value="'typesCount' ; ['restrictionsEntity.divisionRestrictions.evUpdate']; restrictionsEntity.divisionRestrictions.typesCount"/>
		<bind name="entityDH" value="'defaultRestrictionsEntity'; _defaultRestrictionsEntityId"/>
		<bind name="watchDH" value="'defaultTypesCount' ; ['defaultRestrictionsEntity.divisionRestrictions.evUpdate']; defaultRestrictionsEntity.divisionRestrictions.typesCount"/>
		<bind name="watch" value="'isAllShipTypesAllowed'; 	shipTypefilters.length == ShipTypes.AVAILABLE_TYPES.length"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'idsfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'idsfilters'+'ROOT'; 'idsfilters'; {'filter':$entity.shipFilterItem.type == 'shipId' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'shipTypefilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'shipTypefilters'+'ROOT'; 'shipTypefilters'; {'filter':$entity.shipFilterItem.type == 'shipType' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'levelfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'levelfilters'+'ROOT'; 'levelfilters'; {'filter':$entity.shipFilterItem.type == 'level' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionDH" value="CC.shipFilterItem; 'nationfilters'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'nationfilters'+'ROOT'; 'nationfilters'; {'filter':$entity.shipFilterItem.type == 'nation' &amp;&amp; isIn($entity.id, shipRestrictions)}; []"/>
		<bind name="collectionFields" value="levelfilters; ['shipFilterItem.field']"/>
		<bind name="contains" value="typesCount; $item[1] == -1; 'isAnyShipTypeNotAllowed'"/>
		<bind name="watch" value="'isCarriersRestricted'; typesCount[ShipTypes.AircraftCarrier] &amp;&amp; typesCount[ShipTypes.AircraftCarrier][1] != (defaultRestrictionsEntity ? defaultTypesCount[ShipTypes.AircraftCarrier][1] : 0)"/>
		<bind name="watch" value="'isBattleShipsRestricted'; typesCount[ShipTypes.BattleShip] &amp;&amp; typesCount[ShipTypes.BattleShip][1] != (defaultRestrictionsEntity ? defaultTypesCount[ShipTypes.BattleShip][1] : 0)"/>
		<bind name="watch" value="'isCruisersRestricted'; typesCount[ShipTypes.Cruiser] &amp;&amp; typesCount[ShipTypes.Cruiser][1] != (defaultRestrictionsEntity ? defaultTypesCount[ShipTypes.Cruiser][1] : 0)"/>
		<bind name="watch" value="'isDestroyersRestricted'; typesCount[ShipTypes.Destroyer] &amp;&amp; typesCount[ShipTypes.Destroyer][1] != (defaultRestrictionsEntity ? defaultTypesCount[ShipTypes.Destroyer][1] : 0)"/>
		<bind name="watch" value="'isSubmarinesRestricted'; typesCount[ShipTypes.Submarine] &amp;&amp; typesCount[ShipTypes.Submarine][1] != (defaultRestrictionsEntity ? defaultTypesCount[ShipTypes.Submarine][1] : 0)"/>
		<bind name="watch" value="'isAnyShipTypeRestricted'; isCarriersRestricted || isBattleShipsRestricted || isCruisersRestricted || isDestroyersRestricted || isSubmarinesRestricted"/>
		<bind name="watch" value="'hasRestrictions'; (idsfilters.length &gt; 0)			||
									(shipTypefilters.length &gt; 0)	||
									(levelfilters.length &gt; 0)		||
									(nationfilters.length &gt; 0)		||
									(isAnyShipTypeRestricted)"/>
		<bind name="watch" value="'shipTypeFiltersEnabled'; shipTypefilters.length &gt; 0"/>
		<bind name="watch" value="'isShipFilterRestrictionsVisible'; isAnyShipTypeRestricted &amp;&amp; (isAnyShipTypeNotAllowed || _withShipTypeCounters) &amp;&amp; !(shipTypeFiltersEnabled)"/>
		<block>
			<bind name="visible" value="(idsfilters.length &gt; 0)"/>
			<style>
				<marginRight value="4px"/>
				<marginTop value="-2px"/>
			</style>
			<bind name="repeat" value="idsfilters; 'ConcreteShipRestriction'; (idsfilters.length &gt; 0)	? {_concreteShipsLength: idsfilters.length}
																						: null"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="	(idsfilters.length &gt; 0)					&amp;&amp;
						(
							(levelfilters.length &gt; 0) 			|| 
							(nationfilters.length &gt; 0)			||
							(isAnyShipTypeRestricted == true)
						)"/>
			<style>
				<height value="21px"/>
				<marginRight value="4px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-2px"/>
			</style>
			<bind name="visible" value="(levelfilters.length &gt; 0)"/>
			<bind name="repeat" value="reduceAppliedValues(levelfilters_shipFilterItem_field); 'ShipLevelRome'"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="	(levelfilters.length &gt; 0)				&amp;&amp;
						(
							(shipTypeFiltersEnabled)		||
                        	(nationfilters.length &gt; 0)			||
							(isShipFilterRestrictionsVisible)
						)"/>
			<style>
				<height value="21px"/>
				<marginRight value="4px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(isShipFilterRestrictionsVisible)"/>
			<style>
				<alpha value="0.9"/>
				<marginTop value="5px"/>
			</style>
			<bind name="instance" value="'ShipFilterRestrictions'; isShipFilterRestrictionsVisible ? {_filters: typesCount, _withShipTypeCounters: _withShipTypeCounters} : null"/>
		</block>
		<block>
			<bind name="visible" value="isShipFilterRestrictionsVisible &amp;&amp; ((shipTypeFiltersEnabled) &amp;&amp; !(isAllShipTypesAllowed))"/>
			<style>
				<height value="21px"/>
				<marginRight value="4px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(shipTypeFiltersEnabled) &amp;&amp; !(isAllShipTypesAllowed)"/>
			<style>
				<marginRight value="4px"/>
			</style>
			<bind name="repeat" value="shipTypefilters; 'IconShipClasses'; (shipTypefilters.length &gt; 0)	? {_shipTypefiltersLength: shipTypefilters.length}
																						: null"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="	(nationfilters.length &gt; 0) &amp;&amp; ((shipTypeFiltersEnabled) &amp;&amp; !(isAllShipTypesAllowed))"/>
			<style>
				<height value="21px"/>
				<marginRight value="4px"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(nationfilters.length &gt; 0)"/>
			<style>
				<marginRight value="4px"/>
			</style>
			<bind name="repeat" value="nationfilters; 'ShipNationsRestriction'; (nationfilters.length &gt; 0)	? {_shipNationsLength: nationfilters.length}
																							: null"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="!hasRestrictions &amp;&amp; _noRestrictionsText"/>
			<style>
				<alpha value="0.9"/>
				<marginRight value="4px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultWhite"/>
				<bind name="text" value="_noRestrictionsText"/>
			</block>
		</block>
	</block>
	<block className="ShipFilterRestrictions">
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="instance" value="'ShipFilterRestriction'; {_shipType: ShipTypes.Destroyer,		_filter: _filters[ShipTypes.Destroyer],			_withShipTypeCounters: _withShipTypeCounters}"/>
		<bind name="instance" value="'ShipFilterRestriction'; {_shipType: ShipTypes.Cruiser,			_filter: _filters[ShipTypes.Cruiser],			_withShipTypeCounters: _withShipTypeCounters}"/>
		<bind name="instance" value="'ShipFilterRestriction'; {_shipType: ShipTypes.BattleShip,		_filter: _filters[ShipTypes.BattleShip],		_withShipTypeCounters: _withShipTypeCounters}"/>
		<bind name="instance" value="'ShipFilterRestriction'; {_shipType: ShipTypes.AircraftCarrier,	_filter: _filters[ShipTypes.AircraftCarrier],	_withShipTypeCounters: _withShipTypeCounters}"/>
	</block>
	<block className="ShipFilterRestriction">
		<bind name="visible" value="(_filter[1] != -1)"/>
		<style>
			<flow value="horizontal"/>
			<marginRight value="4px"/>
		</style>
		<bind name="collectionDH" value="CC.shipFilterItem; 'typeFilter'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'typeFilter'+'ROOT'; 'typeFilter'; {'filter':$entity.shipFilterItem.type == 'shipType' &amp;&amp; $entity.shipFilterItem.field == _shipType}; []"/>
		<bind name="style" value="'marginLeft'; (_shipType == ShipTypes.Destroyer) ? '-3px' : '0px'"/>
		<block className="icon_ship" type="native">
			<style>
				<marginRight value="2px"/>
			</style>
			<bind name="gotoAndStop!" value="_shipType"/>
		</block>
		<block>
			<bind name="visible" value="((_filter[1] &gt; 0 || _filter[1] == -1) &amp;&amp; _withShipTypeCounters)"/>
			<block type="text">
				<styleClass value="$TextDefaultNM"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="text" value="((_filter[0] == _filter[1]) ? _filter[0]
													: (_filter[0] + '-' + _filter[1]))"/>
			</block>
		</block>
	</block>
	<block className="ShipNationsRestriction">
		<bind name="entityDH" value="'filterEntity'; id"/>
		<bind name="style" value="'marginRight'; ($index &lt; _shipNationsLength - 1) ? '4px' : '0px'"/>
		<bind name="instance" value="'NationFlagsTiny'; {shipCountry: filterEntity.shipFilterItem.field}"/>
	</block>
	<block className="ConcreteShipRestriction">
		<bind name="style" value="'marginRight'; ($index &lt; _concreteShipsLength) ? '4px' : '0px'"/>
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'shipId'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; Number(shipId); 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<marginLeft value="-4px"/>
				<marginRight value="-4px"/>
			</style>
			<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS)) + (($index &lt; _concreteShipsLength - 1) ? ', ' : '')"/>
		</block>
	</block>
	<block className="IconShipClasses">
		<bind name="style" value="'marginRight'; ($index &lt; _shipTypefiltersLength - 1) ? '4px' : '0px'"/>
		<bind name="entityDH" value="'filterEntity'; id"/>
		<block className="icon_ship" type="native">
			<style>
				<marginTop value="6px"/>
			</style>
			<bind name="gotoAndStop!" value="filterEntity.shipFilterItem.field"/>
		</block>
	</block>
	<block className="LootboxesBanner">
		<params>
			<param name="name" value="LootboxesBanner"/>
		</params>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="firstEntityDH" value="'lootboxEntity'; CC.lootboxConfigComponent"/>
		<bind name="watchDH" value="'maxBought';				['lootboxEntity.lootboxConfigComponent.evUpdate'];	lootboxEntity.lootboxConfigComponent.maxBought"/>
		<bind name="watchDH" value="'lootboxExp';			['lootboxEntity.lootboxStorageComponent.evUpdate'];	lootboxEntity.lootboxStorageComponent.lootExp"/>
		<bind name="watchDH" value="'boughtToday';			['lootboxEntity.lootboxStorageComponent.evUpdate'];	lootboxEntity.lootboxStorageComponent.boughtToday"/>
		<bind name="watchDH" value="'lootboxesInStorage';	['lootboxEntity.lootboxStorageComponent.evUpdate'];	lootboxEntity.lootboxStorageComponent.inStorage"/>
		<bind name="watch" value="'allBoxesBought'; (maxBought == boughtToday)"/>
		<bind name="watch" value="'canBuyLootbox'; (lootboxExp &gt;= lootboxEntity.lootboxConfigComponent.prices[boughtToday])"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0.3; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<style>
			<width value="223px"/>
			<height value="36px"/>
		</style>
		<bind name="style" value="'height'; allBoxesBought ? '36px' : '72px'"/>
		<bind name="action" value="'click'; 'moveToBarge'; {}"/>
		<bind name="feature" value="21; 'click'"/>
		<bind name="soundSet" value="'lootbox_banner'"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_GO_TO_LOOTBOXES'}], _maxWidth: 250 }; 0"/>
		<block>
			<styleClass value="$Fullsize"/>
			<block className="quest_thumb_title" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="transition" value="rollOver &amp;&amp; !(mouseDown); 0.15; {alpha: 0.75}; {alpha: 1.0}"/>
			</block>
			<block>
				<bind name="visible" value="!(allBoxesBought)"/>
				<styleClass value="$Fullsize"/>
				<bind name="instance" value="'LootboxesBannerProgress'; {}"/>
			</block>
			<block>
				<bind name="visible" value="allBoxesBought"/>
				<styleClass value="$Fullsize"/>
				<bind name="instance" value="'LootboxesBannerTimer'; {}"/>
			</block>
			<block>
				<style>
					<marginRight value="3px"/>
					<width value="71px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block>
					<bind name="visible" value="canBuyLootbox == true"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MiddleAlignedAbsolutely"/>
					<block className="icon_lootbox_glow_animation" type="native">
						<style>
							<position value="absolute"/>
						</style>
					</block>
				</block>
				<block className="icon_lootbox" type="native">
					<bind name="transition" value="rollOver &amp;&amp; !(mouseDown); 0.15; {alpha: 0.95}; {alpha: 1}"/>
					<bind name="gotoAndStop!" value="'normal'"/>
				</block>
				<block type="text">
					<bind name="visible" value="(lootboxesInStorage &gt; 0)"/>
					<bind name="style" value="'bottom'; allBoxesBought ? '-6px' : '-9px'"/>
					<style>
						<right value="0px"/>
						<position value="absolute"/>
					</style>
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="class" value="'$FontSizeHeader3'"/>
					<bind name="text" value="'x'+lootboxesInStorage"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="LootboxesBannerProgress">
		<bind name="firstEntityDH" value="'lootboxEntity'; CC.lootboxConfigComponent"/>
		<bind name="watchDH" value="'lootboxExp'; ['lootboxEntity.lootboxStorageComponent.evUpdate']; lootboxEntity.lootboxStorageComponent.lootExp"/>
		<bind name="watchDH" value="'boughtToday'; ['lootboxEntity.lootboxStorageComponent.evUpdate']; lootboxEntity.lootboxStorageComponent.boughtToday"/>
		<bind name="watchDH" value="'lootboxesInStorage'; ['lootboxEntity.lootboxStorageComponent.evUpdate']; lootboxEntity.lootboxStorageComponent.inStorage"/>
		<bind name="watch" value="'curLootboxPrice'; lootboxEntity.lootboxConfigComponent.prices[boughtToday]"/>
		<bind name="watch" value="'expToCurLootbox'; (lootboxExp &gt;= curLootboxPrice)	? 0
																	: (curLootboxPrice - lootboxExp)"/>
		<bind name="watch" value="'nextLootboxProgress'; ((expToCurLootbox &gt; 0) ? ( lootboxExp / curLootboxPrice) : 1)"/>
		<styleClass value="$Fullsize"/>
		<style>
			<marginLeft value="9px"/>
		</style>
		<block>
			<style>
				<marginTop value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="text" value="format(lootboxExp, -1)"/>
			</block>
			<block className="icon_exp" type="native">
				<style>
					<marginLeft value="-3px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<top value="32px"/>
			</style>
			<bind name="instance" value="'LootboxProgressBar'; {_width: 132, _height: 9, _curValue: (nextLootboxProgress*10)}"/>
		</block>
		<block type="text">
			<style>
				<marginTop value="12px"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="class" value="'$FontSizeSmall'"/>
			<bind name="text" value="(expToCurLootbox &gt; 0 ? (toUpperCase(tr('IDS_MORE')) + ' ' + expToCurLootbox)
										 : toUpperCase(tr('IDS_YOU_SHOULD_PURCHASE_LOOTBOX')))"/>
		</block>
	</block>
	<block className="LootboxesBannerTimer">
		<bind name="firstEntityDH" value="'lootboxEntity'; CC.lootboxConfigComponent"/>
		<bind name="watchDH" value="'dropTimeStamp';	['lootboxEntity.lootboxStorageComponent.evUpdate'];	lootboxEntity.lootboxStorageComponent.dropAt"/>
		<bind name="countdown" value="dropTimeStamp; 'countdownText'; 'hh:mm:ss'"/>
		<styleClass value="$MiddleVAligned"/>
		<styleClass value="$MiddleAligned"/>
		<block type="text">
			<styleClass value="$TextHeaderWhiteBold"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<bind name="pureText" value="'-' + countdownText"/>
		</block>
	</block>
	<block className="LootboxProgressBar">
		<bind name="style" value="'width'; _width+'px'"/>
		<bind name="style" value="'height'; _height+'px'"/>
		<block className="indicator_progress_bar_yellow" type="native">
			<styleClass value="$Fullsize"/>
			<bind name="value" value="_curValue"/>
		</block>
	</block>
	<css name="$TextHeaderLargeBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TableCell">
		<width value="100%"/>
		<height value="23px"/>
	</css>
	<css name="$TableHeaderCell">
		<width value="100%"/>
		<marginBottom value="12px"/>
		<height value="23px"/>
	</css>
	<css name="$TableCellTextValue">
		<position value="absolute"/>
		<right value="0px"/>
	</css>
	<css name="$TextAccentGreyBold1">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xDDDDDD"/>
		<fontSize value="70"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<block className="StatColumn">
		<style>
			<width value="33%"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5_feather" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="12px"/>
				<marginRight value="12px"/>
			</style>
			<bind name="repeat" value="array[$index]; 'StatRowProxy'; {statData: statData}"/>
		</block>
	</block>
	<block className="StatRowProxy">
		<style>
			<width value="100%"/>
		</style>
		<bind name="instance" value=" isHeader ? 'StatItemHeader' : 'StatRow'; {header: header, title:title, value:value, statData: statData, hintVehicleId: hintVehicleId}"/>
	</block>
	<block className="StatItemHeader">
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: title + '_TOOLTIP_PROFILE'}"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<styleClass value="$TableHeaderCell"/>
		<block type="text">
			<styleClass value="$TextHeaderLargeBold"/>
			<bind name="text" value="title"/>
		</block>
		<block type="text">
			<styleClass value="$TableCellTextValue"/>
			<styleClass value="$TextHeaderLargeBold"/>
			<bind name="text" value="value"/>
		</block>
	</block>
	<block className="StatRow">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; hintVehicleId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<styleClass value="$TableCell"/>
		<bind name="tooltip" value="tooltipName; (tooltipName != null) ? tooltipParams  : null"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<bind name="tooltip" value="'StatsRowHint'; 	(tooltipName == null) ? { tooltipText: title + '_TOOLTIP_PROFILE', shipInfo: shipInfo, _hintVehicleId: hintVehicleId } : null"/>
				<style>
					<width value="100%"/>
					<backgroundColor value="0x01000000"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block type="text">
						<style>
							<width value="100%"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="title"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="value != null"/>
					<block type="text">
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="style" value="'alpha'; (value == 0) || (value == '0%') ? 0.5 : 1"/>
						<bind name="text" value="value == '100%' ? value : format(value)"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="(playerPointsCounter != null) || (totalPointsCounter != null)"/>
				<bind name="instance" value="'ScoreRatioCounter'; { 	_playerPointsCounter: format(playerPointsCounter), 
													_totalPointsCounter: format(totalPointsCounter),
													_tooltipTextPlayerResult: tooltipTextPlayerResult, 
													_tooltipTextTotalResult: tooltipTextTotalResult }"/>
			</block>
			<block>
				<bind name="visible" value="currency != null"/>
				<bind name="instance" value="'PriceTag'; { priceInfo: {finalPrice: finalPrice, currency: currency}, _medium: true} "/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="title != null"/>
			<style>
				<width value="100%"/>
				<marginTop value="-2px"/>
			</style>
			<bind name="instance" value="'TableDivider'; {}"/>
		</block>
	</block>
	<block className="PlayerSummary">
		<bind name="var" value="{curSeasonIndex: 0}"/>
		<bind name="catch" value="'curSeasonIndexChanged'"/>
		<bind name="catch" value="'currentSeasonIdChanged'"/>
		<bind name="collectionDH" value="CC.rankedSeasonHistory; 'statDataEntities'; 'statToShow'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="entityDH" value="'statDataEntity'; statDataEntities[0].id"/>
		<bind name="watchDH" value="'statData'; ['statDataEntity.dataComponent.evDataChanged']; statDataEntity.dataComponent.data"/>
		<bind name="watchDH" value="'shipsList'; ['statDataEntity.dataComponent.evDataChanged']; statDataEntity.dataComponent.data.shipsList"/>
		<styleClass value="$Fullsize"/>
		<bind name="watch" value="'battleType';	_curItemIndex == 0	? BattleTypes.COOPERATIVE_BATTLE :
								_curItemIndex == 1	? BattleTypes.RANDOM_BATTLE :
								_curItemIndex == 2	? BattleTypes.RANKED_BATTLE :
								_curItemIndex == 3	? BattleTypes.CLUB_BATTLE
													: BattleTypes.COOPERATIVE_BATTLE "/>
		<bind name="action" value="'battleType' + varChanged; 'battleTypeChanged'; {battleType: battleType}"/>
		<bind name="action" value="'addedToStage'; 'battleTypeChanged'; {battleType: battleType}"/>
		<style>
			<marginTop value="720:30,1080:80ah"/>
			<marginBottom value="720:0,1080:60ah"/>
		</style>
		<bind name="feature" value="3;''"/>
		<bind name="feature" value="16;''"/>
		<bind name="feature" value="24;	''"/>
		<bind name="firstEntityDH" value="'clubHistoryEntity'; CC.rankedSeasonHistory; 'byGameType.' + BattleTypes.CLUB_BATTLE"/>
		<bind name="watchDH" value="'hasClubHistoryData'; ['clubHistoryEntity.rankedSeasonHistory.evRankedSeasonHistoryDataUpdate']; clubHistoryEntity.rankedSeasonHistory.hasGamesPlayed"/>
		<bind name="watch" value="'battleTypes';  feature_3	== 'locked' ? ['IDS_COOPERATIVE_BATTLE'] :
								 feature_16 == 'locked'	? ['IDS_COOPERATIVE_BATTLE', 'IDS_RANDOM_BATTLE'] :
								 !hasClubHistoryData 	? ['IDS_COOPERATIVE_BATTLE', 'IDS_RANDOM_BATTLE', 'IDS_RANKED_BATTLE']
								 						: ['IDS_COOPERATIVE_BATTLE', 'IDS_RANDOM_BATTLE', 'IDS_RANKED_BATTLE', 'IDS_CLUB_BATTLE']"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'PlayerSummaryItem'; {_battleType: battleType, _curItemIndex: _curItemIndex, _curSeasonIndex: curSeasonIndex, statData:statData, currentVehicleId: statData.vehicleId}"/>
		</block>
		<block>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<position value="absolute"/>
				<width value="240px"/>
				<right value="1280:5,1920:40aw"/>
				<marginTop value="-33px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<height value="30px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<bind name="instance" value="'RankedSeasonDropdown'; (battleType == BattleTypes.RANKED_BATTLE) ? {statData: statData, _curSeasonIndex: curSeasonIndex, currentSeasonId: currentSeasonId}: null"/>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block>
						<style>
							<width value="152px"/>
						</style>
						<block className="icon_battletypes_big" type="native">
							<bind name="transition" value="statData.vehicleId != 0; 0.15; {alpha: 1}; {alpha: 0.7}"/>
							<styleClass value="$MiddleAligned"/>
							<bind name="gotoAndStop!" value="(currentSeasonId &gt; 100) ? 'RankedBattle_junior' : battleType"/>
						</block>
						<block className="battle_type_overlay_big" type="native">
							<bind name="visible" value="statData.vehicleId != 0"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<position value="absolute"/>
								<alpha value="0.6"/>
							</style>
						</block>
						<block>
							<style>
								<position value="absolute"/>
								<top value="-3"/>
								<left value="-10"/>
							</style>
							<bind name="instance" value="'RankedSeasonFlag'; battleType == BattleTypes.RANKED_BATTLE ? {_curSeasonIndex: curSeasonIndex, statData: statData}: null"/>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<style>
								<position value="absolute"/>
								<bottom value="-10"/>
							</style>
							<bind name="instance" value="'ShipPrewiewItem'; {currentVehicleId: statData.vehicleId}"/>
						</block>
					</block>
					<block>
						<styleClass value="$MiddleAligned"/>
						<style>
							<marginBottom value="6px"/>
						</style>
						<bind name="name" value="'dropdown_battle_types'"/>
						<bind name="instance" value="'ItemChooser'; {	_items: battleTypes, curIndex: _curItemIndex,
														_choosedItemRenderer: 'LargeTextChoosedItemRenderer', _listItemRenderer: 'TextListItemRenderer',
														onItemSelectedEvent: 'battleTypeChanged', _itemChooserTooltipText: 'IDS_CHOOSE_BATTLETYPE_STATS'}"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="statData.shipsList.length == 0"/>
					<style>
						<width value="100%"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<block className="HorizontalDivider">
							<styleClass value="$PxHorizontalCorrection"/>
							<style>
								<width value="100%"/>
								<height value="3px"/>
							</style>
							<block className="divider_h" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<bind name="instance" value="'EmptyStatusParagraph'; {_text: 'IDS_NO_BATTLES_PLAYED_IN_' + toUpperCase(battleType), _maxWidth: 200}"/>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_SELECT_ALL_SHIPS_FOR_DETAILED_STAT'}], _maxWidth: 250}"/>
					<bind name="instance" value="'AllShipsSelectedItem'; statData.shipsList.length != 0 ? {shipListLength: statData.shipsList.length, totalWinRate: statData.diagStats.totalWinRate, battleType: battleType, currentVehicleId: statData.vehicleId, seasonId: seasonId, gamesPlayed: statData.diagStats.gamesPlayed} : null"/>
				</block>
				<block>
					<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
					<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
					<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
					<styleClass value="$DefaultScrollBar"/>
					<style>
						<maxHeight value="328"/>
						<width value="100%"/>
						<overflow value="scroll"/>
					</style>
					<bind name="repeat" value="shipsList; 'ShipRowItem'; {battleType: battleType, currentVehicleId: statData.vehicleId, curSeasonIndex: curSeasonIndex, seasonId: seasonId, _curItemIndex: _curItemIndex}; !(userPrefs.shipSortStatsDirection)"/>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="instance" value="'ShipSortingDropdown'; statData.shipsList.length &gt;= 2 ? {statData: statData.shipsList} : null"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipStatsTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
			<hitTest value="false"/>
		</style>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _vehicleId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'ShipFlagIconLevelName'; {shipInfo: shipInfo, _multiline: true}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_SELECT_SHIP_FOR_DETAILED_STAT', _maxWidth: 250}"/>
		</block>
	</block>
	<block className="ShipPrewiewItem">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; currentVehicleId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<style>
			<width value="214px"/>
			<height value="126px"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
	</block>
	<block className="RankedSeasonDropdown">
		<bind name="var" value="{_curItemIndex: _curItemIndex ? _curItemIndex : 0}"/>
		<bind name="catch" value="'ItemChooserInnerEvent.historySeasonChanged'"/>
		<bind name="action" value="'_curItemIndex' + varChanged; 'rankedSeasonChanged'; {seasonId: statData.seasonList[_curItemIndex].id}"/>
		<bind name="dispatch" value="'_curItemIndex' + varChanged; 'curSeasonIndexChanged'; {curSeasonIndex: _curItemIndex}; false"/>
		<bind name="dispatch" value="'_curItemIndex' + varChanged; 'currentSeasonIdChanged'; {currentSeasonId: statData.seasonList[_curItemIndex].id}"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<bind name="instance" value="'ItemChooser'; {	_items: statData.seasonList, curIndex: _curItemIndex,
											_choosedItemRenderer: 'LargeTextChoosedItemRendererRankedSeason', _listItemRenderer: 'TextListItemRendererRankedSeason',
											onItemSelectedEvent: 'historySeasonChanged', _itemChooserTooltipText: 'IDS_CHOOSE_RANK_SEASON'}"/>
		</block>
	</block>
	<block className="RankedSeasonFlag">
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<style>
				<width value="75px"/>
				<height value="60px"/>
			</style>
			<bind name="style" value="'backgroundImage'; _curSeasonIndex != 0 ? ('url:' + statData.seasonList[_curSeasonIndex].iconPath) : ('url:' + ' ')"/>
		</block>
	</block>
	<block className="ShipSortingDropdown">
		<bind name="var" value="{items:['IDS_SORT_BY_WIN_PERCENT', 'IDS_SORT_BY_BATTLES_COUNT', 'IDS_SORT_BY_LEVEL', 'IDS_SORT_BY_NATION', 'IDS_SORT_BY_SHIPTYPE']}"/>
		<block type="text">
			<style>
				<marginTop value="4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="tr('IDS_SORTING_TYPE') + tr('IDS_COLON')"/>
		</block>
		<block>
			<style>
				<marginLeft value="2px"/>
				<marginTop value="-1px"/>
			</style>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="watch" value="'_curItemIndex';	(userPrefs.shipStatsSortIndex == null) ? 0 : userPrefs.shipStatsSortIndex"/>
			<bind name="action" value="'shipSortStatsChanged'; 'setUserPref' ; {value: _curItemIndex, name: 'shipStatsSortIndex'}"/>
			<bind name="action" value="'shipSortStatsDirectionChanged'; 'setUserPref' ; {value: !(userPrefs.shipSortStatsDirection), name: 'shipSortStatsDirection'}"/>
			<bind name="request" value="'shipSortStatsChanged'; 'sortShipStats' ; {ids: items[_curItemIndex]}"/>
			<bind name="catch" value="'ItemChooser.shipsSortSelected'"/>
			<bind name="instance" value="'ItemChooser'; {	_items: items, curIndex: _curItemIndex, 
											_choosedItemRenderer: 'BluishTextChoosedItemRenderer', _listItemRenderer: 'TextListItemRenderer',
											onItemSelectedEvent: 'shipsSortSelected', _itemChooserTooltipText: 'IDS_HINT_SHIP_CAROUSEL_SORT'}"/>
			<bind name="changeDispatch" value="_curItemIndex; 'shipSortStatsChanged'"/>
			<bind name="changeDispatch" value="_direction; 'shipSortStatsDirectionChanged'"/>
		</block>
	</block>
	<block className="PlayerSummaryItem">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'inset'; 0 "/>
		<bind name="catch" value="'changeInsetPlayerProfileSummaryInset'"/>
		<bind name="changeDispatch" value="inset; 'changeInsetInPrefs'"/>
		<bind name="action" value="'changeInsetInPrefs'; 'setUserPref' ; {value : inset, name : 'playerProfileSummaryInset'}"/>
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="watch" value="'playerSummaryStatsType'; (_battleType == BattleTypes.PVE_BATTLE ? 'PVEStats' : 'commonStats')"/>
			<bind name="child" value="playerSummaryStatsType; {battleType: _battleType, _curItemIndex: _curItemIndex,
											 _curSeasonIndex: curSeasonIndex, statData:statData,
											 currentVehicleId: statData.vehicleId}; 
											 {commonStats: 'PlayerSummaryCommon', PVEStats: 'PlayerSummaryPve'}"/>
		</block>
		<block>
			<bind name="visible" value="(statData.diagStats.gamesPlayed &gt; 0) &amp;&amp; (statData.vehicleId == 0)"/>
			<style>
				<height value="190px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="child" value="inset; {_curItemIndex: _curItemIndex, statData:statData, battleType: _battleType}; 'PlayerSummaryDiagrams'; 'PlayerSummaryBattleHeroes'"/>
		</block>
	</block>
	<block className="PlayerSummaryCommon">
		<styleClass value="$Fullsize"/>
		<style>
			<marginBottom value="20px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginBottom value="24px"/>
			</style>
			<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block className="ProfilePlayerPercentEfficiency">
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<style>
					<width value="160px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentGreyBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="text" value="format(statData.basicStats.gamesPlayed, -1)"/>
					<bind name="name" value="'Stat_' + 'IDS_GAME_PLAYED'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-12px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="'IDS_GAME_PLAYED'"/>
				</block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_GAME_PLAYED' + '_TOOLTIP_PROFILE'}"/>
			</block>
			<block className="ProfilePlayerPercentEfficiency">
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<style>
					<width value="160px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentGreyBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="text" value="statData.basicStats.winRate"/>
					<bind name="name" value="'Stat_' + 'IDS_VICTORY_PERCENT'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-12px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="'IDS_VICTORY_PERCENT'"/>
				</block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_VICTORY_PERCENT' + '_TOOLTIP_PROFILE'}"/>
			</block>
			<block className="ProfilePlayerPercentEfficiency">
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<style>
					<width value="160px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentGreyBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="text" value="format(statData.basicStats.averageExp, -1)"/>
					<bind name="name" value="'Stat_' + 'IDS_EXPERIENCE_C_AVERAGE'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-12px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="'IDS_EXPERIENCE_C_AVERAGE'"/>
				</block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_EXPERIENCE_C_AVERAGE' + '_TOOLTIP_PROFILE'}"/>
			</block>
			<block className="ProfilePlayerPercentEfficiency">
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<style>
					<width value="160px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentGreyBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="text" value="statData.basicStats.maxFrags"/>
					<bind name="name" value="'Stat_' + 'IDS_MAX_SHIPS_PER_BATTLE'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-12px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="'IDS_MAX_SHIPS_PER_BATTLE'"/>
				</block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_MAX_SHIPS_PER_BATTLE' + '_TOOLTIP_PROFILE'}"/>
			</block>
			<block className="ProfilePlayerPercentEfficiency">
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<style>
					<width value="160px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentGreyBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="text" value="statData.basicStats.killDeath"/>
					<bind name="name" value="'Stat_' + 'IDS_DESTROY_RATIO'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-12px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="'IDS_DESTROY_RATIO'"/>
				</block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_DESTROY_RATIO' + '_TOOLTIP_PROFILE'}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="appear" value="'addedToStage'; 0.15; 0.24; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<height value="100%f"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<width value="62sw"/>
					<maxWidth value="1100"/>
				</style>
				<bind name="repeat" value="statData.basicStats.colData; 'StatColumn'; {array:statData.basicStats.colData, statData: statData}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PlayerSummaryDiagrams">
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<bind name="appear" value="'addedToStage'; 0.15; 0.36; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<height value="190px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<style>
				<height value="100%"/>
				<width value="1280:300,1920:310aw"/>
			</style>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STATISTICS_BY_NATIONS_TOOLTIP'}"/>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextHeaderLargeBold"/>
					<bind name="text" value="'IDS_NATIONS'"/>
				</block>
			</block>
			<block>
				<style>
					<marginTop value="5px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'NationsDiagram';  {gamesPlayed: statData.diagStats.gamesPlayed, battlesByNation: statData.diagStats.nations}"/>
			</block>
		</block>
		<block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<style>
				<height value="100%"/>
				<width value="1280:250,1920:310aw"/>
			</style>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STATISTICS_BY_SHIP_TYPES_TOOLTIP'}"/>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextHeaderLargeBold"/>
					<text value="IDS_SHIP_TYPES"/>
				</block>
			</block>
			<block>
				<style>
					<marginTop value="5px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'ShipTypeDiagram'; {gamesPlayed: statData.diagStats.gamesPlayed, battlesByShipType: statData.diagStats.classes}"/>
			</block>
		</block>
		<block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<style>
				<height value="100%"/>
				<width value="1280:280,1920:310aw"/>
			</style>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STATISTICS_BY_SHIP_LEVELS_TOOLTIP'}"/>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextHeaderLargeBold"/>
					<text value="IDS_LEVELS"/>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<height value="140px"/>
					<marginTop value="5px"/>
				</style>
				<bind name="repeat" value="statData.diagStats.levels.shipLevels; 'LineDiagramItem'; {maxValue: statData.diagStats.levels.maxValue}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PlayerSummaryBattleHeroes">
		<bind name="appear" value="'addedToStage'; 0.15; 0.36; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<styleClass value="$MiddleAligned"/>
		<block type="text">
			<styleClass value="$TextHeaderLargeBold"/>
			<bind name="text" value="'PlayerSummaryBattleHeroes'"/>
		</block>
	</block>
	<block className="NationsDiagram">
		<bind name="catch" value="'sectorRollOver'"/>
		<bind name="catch" value="'sectorRollOut'"/>
		<bind name="var" value="{showGamesPlayed: true, currentItemId: null}"/>
		<style>
			<marginLeft value="62px"/>
			<height value="140px"/>
		</style>
		<block>
			<style>
				<marginTop value="70px"/>
				<position value="absolute"/>
			</style>
			<bind name="repeat" value="battlesByNation.diagram; 'CircleDiagramItem'; {currentItemId: currentItemId, showGamesPlayed: showGamesPlayed}"/>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_GAME_PLAYED_TOOLTIP_PROFILE'}"/>
				<bind name="transition" value="showGamesPlayed; 0.2; {alpha: 0}; {alpha: 1}"/>
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextHeaderLargeBold"/>
					<bind name="text" value="gamesPlayed"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="75px"/>
				<flow value="vtile"/>
			</style>
			<bind name="style" value="'height';	battlesByNation.legend.length &lt;= 4 ? ((battlesByNation.legend.length * 35) +'px') : '140px' "/>
			<bind name="repeat" value="battlesByNation.legend; 'NationLegendItem'; {currentItemId: currentItemId, showGamesPlayed: showGamesPlayed}"/>
		</block>
	</block>
	<block className="ShipTypeDiagram">
		<bind name="catch" value="'sectorRollOver'"/>
		<bind name="catch" value="'sectorRollOut'"/>
		<bind name="var" value="{showGamesPlayed: true, currentItemId: null}"/>
		<style>
			<marginLeft value="62px"/>
			<height value="140px"/>
		</style>
		<block>
			<style>
				<marginTop value="70px"/>
				<position value="absolute"/>
			</style>
			<bind name="repeat" value="battlesByShipType.diagram; 'CircleDiagramItem'; {currentItemId: currentItemId, showGamesPlayed: showGamesPlayed}"/>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_GAME_PLAYED_TOOLTIP_PROFILE'}"/>
				<bind name="transition" value="showGamesPlayed; 0.2; {alpha: 0}; {alpha: 1}"/>
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextHeaderLargeBold"/>
					<bind name="text" value="gamesPlayed"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="75px"/>
				<flow value="vtile"/>
			</style>
			<bind name="style" value="'height';	battlesByShipType.legend.length &lt;= 4 ? ((battlesByShipType.legend.length * 35) +'px') : '140px' "/>
			<bind name="repeat" value="battlesByShipType.legend; 'ShipTypeLegendItem'; {currentItemId: currentItemId, showGamesPlayed: showGamesPlayed}"/>
		</block>
	</block>
	<block className="CircleDiagramItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: text}"/>
		<bind name="dispatch" value="'rollOver'; 'sectorRollOver'; {currentItemId: itemId, showGamesPlayed: false}"/>
		<bind name="dispatch" value="'rollOut'; 'sectorRollOut'; {currentItemId: itemId, showGamesPlayed: true}"/>
		<style>
			<position value="absolute"/>
			<left value="0px"/>
			<top value="0px"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<block className="lesta.display.Sector" type="native">
				<bind name="color" value="color"/>
				<bind name="offset" value="offset"/>
				<bind name="arc" value="arc"/>
				<bind name="appear" value="'addedToStage'; 0.2; 0.4; {radius: 44}; {radius: 62}; 1"/>
				<bind name="transition" value="rollOver || ((currentItemId == itemId) &amp;&amp; !(showGamesPlayed)); 0.15; {radius: 62}; {radius: 65}"/>
				<params>
					<param name="innerRadius" value="44"/>
					<param name="radius" value="62"/>
				</params>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MouseDisable"/>
			<bind name="transition" value="rollOver || ((currentItemId == itemId) &amp;&amp; !(showGamesPlayed)); 0.2; {alpha: 0}; {alpha: 1}"/>
			<style>
				<position value="absolute"/>
				<top value="-15px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderLargeBold"/>
				<bind name="text" value="value"/>
			</block>
		</block>
	</block>
	<block className="NationLegendItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: text}"/>
		<bind name="dispatch" value="'rollOver'; 'sectorRollOver'; {currentItemId: itemId, showGamesPlayed: false}"/>
		<bind name="dispatch" value="'rollOut'; 'sectorRollOut'; {currentItemId: itemId, showGamesPlayed: true}"/>
		<style>
			<width value="55px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="35px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block className="lesta.display.Circle" type="native">
					<style>
						<marginTop value="10px"/>
						<marginRight value="10px"/>
					</style>
					<bind name="color" value="color"/>
					<bind name="appear" value="'addedToStage'; 0.3; 0; {radius: 0}; {radius: 4}"/>
					<bind name="transition" value="rollOver || ((currentItemId == itemId) &amp;&amp; !(showGamesPlayed)); 0.15; {radius: 4}; {radius: 6}"/>
				</block>
				<block>
					<bind name="instance" value="'NationFlagsTiny'; {shipCountry: itemId}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipTypeLegendItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: text}"/>
		<bind name="dispatch" value="'rollOver'; 'sectorRollOver'; {currentItemId: itemId, showGamesPlayed: false}"/>
		<bind name="dispatch" value="'rollOut'; 'sectorRollOut'; {currentItemId: itemId, showGamesPlayed: true}"/>
		<block>
			<style>
				<width value="46px"/>
				<height value="35px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block className="lesta.display.Circle" type="native">
					<style>
						<marginTop value="4px"/>
						<marginLeft value="8px"/>
					</style>
					<bind name="color" value="color"/>
					<bind name="transition" value="rollOver || ((currentItemId == itemId) &amp;&amp; !(showGamesPlayed)); 0.15; {radius: 4}; {radius: 6}"/>
					<bind name="appear" value="'addedToStage'; 0.3; 0; {radius: 0}; {radius: 4}"/>
				</block>
				<block className="icon_ship" type="native">
					<styleClass value="$MiddleVAligned"/>
					<bind name="style" value="'marginLeft'; itemId == 'Destroyer' ? '8px' : '10px' "/>
					<bind name="gotoAndStop!" value="itemId"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="LineDiagramItem">
		<bind name="watch" value="'animationTime'; (0.2 + value * 0.0007)"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: text}"/>
		<bind name="changeDispatch" value="value; 'valueChanged'"/>
		<bind name="changeDispatch" value="maxValue; 'valueChanged'"/>
		<bind name="dispatch" value="'addedToStage'; 'valueChanged'"/>
		<style>
			<width value="26px"/>
			<height value="100%"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<bottom value="0px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<bind name="appear" value="'valueChanged'; animationTime; 0.4; {intValue: 0}; {intValue: value}; 1"/>
					<style>
						<textAlign value="center"/>
						<width value="30px"/>
					</style>
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="format(value, -1)"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'valueChanged'; animationTime; 0.4; {height: 0}; {height: value ? ((value/maxValue) * 100) : 1}; 1"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<height value="0px"/>
					<width value="18px"/>
				</style>
				<bind name="style" value="'backgroundColor'; _columnColor ? _columnColor : 0xFF2DF0C9"/>
			</block>
			<block>
				<style>
					<marginTop value="8px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="label"/>
				</block>
			</block>
		</block>
	</block>
	<block className="LargeTextChoosedItemRendererRankedSeason">
		<style>
			<height value="35px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextDockBig"/>
			<bind name="text" value="_item.id == 0 ? ('IDS_ALL_SEASONS') : ('IDS_SEASON_TITLE_' + (tr(_item.id)))"/>
		</block>
	</block>
	<block className="TextListItemRendererRankedSeason">
		<styleClass value="$ContextMenuListItem"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="MenuItemWithIconAndSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="id == 0 ? ('IDS_ALL_SEASONS') : ('IDS_SEASON_TITLE_' + id)"/>
			<style>
				<flow value="horizontal"/>
			</style>
			<block>
				<bind name="visible" value="id != 0"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="style" value="'backgroundImage'; 'url:' + iconPath"/>
				<bind name="scaleX" value="0.4"/>
				<bind name="scaleY" value="0.4"/>
				<style>
					<width value="28px"/>
					<height value="22px"/>
					<marginLeft value="6px"/>
				</style>
			</block>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<style>
					<maxWidth value="136"/>
					<marginLeft value="6px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr(id == 0 ? ('IDS_ALL_SEASONS') : ('IDS_SEASON_TITLE_' + id)))
											: (tr(id == 0 ? ('IDS_ALL_SEASONS') : ('IDS_SEASON_TITLE_' + id))))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="ShipRowItem">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; vehicleId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="tooltip" value="'ShipStatsTooltip'; { _vehicleId: vehicleId, _maxWidth: 250}"/>
		<style>
			<width value="100%"/>
			<height value="36px"/>
		</style>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$PxHorizontalCorrection"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="clickSplit"/>
			<style>
				<marginTop value="-1px"/>
				<marginBottom value="2px"/>
			</style>
			<bind name="action" value="'left_click'; 'vehicleIdChanged'; {vehicleId:vehicleId}"/>
			<bind name="selected" value="currentVehicleId == vehicleId"/>
			<bind name="style" value="'alpha'; currentVehicleId == vehicleId ? 2 : 1"/>
		</block>
		<block>
			<style>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="2px"/>
				</style>
				<bind name="instance" value="'ShipFlagIconLevelName'; {shipInfo: shipInfo}"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextHeaderBold"/>
				<bind name="text" value="(userPrefs.shipStatsSortIndex == 1)	? battlesCount : winRate"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="AllShipsSelectedItem">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; vehicleId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watch" value="'currentVehicleId'; 0"/>
		<bind name="var" value="{vehicleId:0}"/>
		<style>
			<width value="100%"/>
			<height value="36px"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$PxHorizontalCorrection"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="clickSplit"/>
			<style>
				<marginBottom value="2px"/>
				<marginTop value="2px"/>
			</style>
			<bind name="action" value="'left_click'; 'vehicleIdChanged'; {vehicleId:0}"/>
			<bind name="selected" value="currentVehicleId == vehicleId"/>
			<bind name="style" value="'alpha'; currentVehicleId == vehicleId ? 2 : 1"/>
		</block>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<style>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextHeaderBold"/>
				<bind name="text" value="tr('IDS_ALL_VEHICLES') +  ' ' + '(' + shipListLength + ')'"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<right value="0"/>
					<position value="absolute"/>
				</style>
				<styleClass value="$TextHeaderBold"/>
				<bind name="text" value="(userPrefs.shipStatsSortIndex == 1)	? gamesPlayed : totalWinRate"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
	</block>
	<block className="ShipFlagIconLevelName">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginTop value="7px"/>
				<alpha value="0.7"/>
			</style>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: shipInfo.flagName}"/>
		</block>
		<block>
			<style>
				<marginLeft value="-15px"/>
				<marginTop value="12px"/>
			</style>
			<block>
				<bind name="visible" value="shipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<style>
					<position value="absolute"/>
					<left value="-5px"/>
					<top value="-8px"/>
				</style>
				<block className="icon_wreath" type="native">
					<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
									shipInfo.isPremium 	? 'premium'
														: 'elite'"/>
				</block>
			</block>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
			</block>
		</block>
		<block type="text">
			<style>
				<marginLeft value="6px"/>
				<marginTop value="4px"/>
				<multiline value="false"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
			<bind name="text" value="shipInfo.levelRome"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginLeft value="3px"/>
				<marginTop value="4px"/>
			</style>
			<bind name="style" value="'multiline'; _multiline ? _multiline : false"/>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$LetterSpacingSmall'"/>
			<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
			<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS))"/>
		</block>
	</block>
	<block className="StatsRowHint">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block type="text">
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<maxWidth value="276"/>
			</style>
			<bind name="text" value="tooltipText"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_hintVehicleId &gt; 0"/>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="'IDS_ON_SHIP_STATS'"/>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="-4px"/>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'ShipFlagIconLevelName'; {shipInfo: shipInfo, _multiline: true}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ModalWindowDogTag">
		<styleClass value="$Fullsize"/>
		<bind name="var" value="{ windowApperaLag: 0.3 }"/>
		<bind name="action" value="'addedToStage'; 'unmarkAllNew'; {}"/>
		<block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.15; 0.2; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.4; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.2; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.4; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="modal_panel" type="native">
				<style>
					<alpha value="0.7"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<paddingRight value="1280:20,1920:46aw"/>
				<paddingLeft value="1280:20,1920:46aw"/>
				<paddingBottom value="1280:20,1920:46aw"/>
				<paddingTop value="1280:20,1920:46aw"/>
			</style>
			<block>
				<bind name="appear" value="'addedToStage'; 0.15; windowApperaLag + 1 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
				<bind name="appear" value="'startHide'; 0.15; 1 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<position value="absolute"/>
						<top value="1px"/>
					</style>
					<bind name="instance" value="'BackButton'; {_text: 'IDS_RETURN_TO_DOCK', _request: 'closeModalSelectBattleType'}"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<right value="4px"/>
						<top value="9px"/>
					</style>
					<block className="ModalWindowCloseIcon">
						<style>
							<position value="absolute"/>
							<right value="0px"/>
							<top value="0px"/>
							<flow value="horizontal"/>
						</style>
						<bind name="name" value="'btn_cancel'"/>
						<bind name="input"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<style>
								<backgroundColor value="0x01000000"/>
							</style>
							<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
							<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
							<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
							<block>
								<bind name="soundSet" value="'default_button'"/>
								<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
								<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
								<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
								<style>
									<alpha value="0.8"/>
								</style>
								<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
								<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
							</block>
							<block>
								<style>
									<marginTop value="3px"/>
								</style>
								<block className="button_close" type="native">
									<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
									<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
									<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
									<params>
										<param name="focusable" value="false"/>
									</params>
									<bind name="gotoAndPlay!" value="CrossButtonStates"/>
								</block>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block type="text">
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextLargeHeaderBold"/>
						<bind name="text" value="toUpperCase(tr('IDS_MODAL_WINDOW_DOG_TAG_HEADER'))"/>
					</block>
					<block>
						<style>
							<width value="100%"/>
							<marginTop value="720:2,1080:4ah"/>
						</style>
						<block className="HorizontalDivider">
							<styleClass value="$PxHorizontalCorrection"/>
							<style>
								<width value="100%"/>
								<height value="3px"/>
							</style>
							<block className="divider_h" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'DogTagConstructorMain'; {}"/>
			</block>
		</block>
	</block>
	<block className="DogTagConstructorMain">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="var" value="{dogInset: 0}"/>
		<bind name="catch" value="'changeDogInset'"/>
		<bind name="watch" value="'categoryEntityId'; dogInset == 0 ? dtcategories[0].id : dtcategories[1].id"/>
		<bind name="catch" value="'dogTagCategoryChanged'"/>
		<bind name="action" value="'dogTagCategoryChanged'; 'changeDogTagCategory'; {}"/>
		<bind name="action" value="'changeDogInset'; 'changeDogTagCategory'; {}"/>
		<bind name="entityDH" value="'currentCategoryEntity'; categoryEntityId"/>
		<bind name="collectionDH" value="CC.dogTagComponent; 'dtcomponents'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'dtcomponents'+'ROOT'; 'dtcomponents'; 				{'filter':($entity.dogTagComponent.enabled) &amp;&amp; (!$entity.dogTagComponent.unique) &amp;&amp; ($entity.dogTagComponent.categoryId == currentCategoryEntity.dogTagCategory.type), 'sort':['dogTagComponent.sortOrder']}; ['dogTagComponent.evUpdate']"/>
		<bind name="collectionDH" value="CC.dogTagCategory; 'dtcategories'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'dtcategories'+'ROOT'; 'dtcategories'; 				{'filter': ($entity.dogTagCategory.enabled == true), 'sort':['dogTagCategory.type'], 'sortOrder':[SortType.DESCENDING]}; []"/>
		<bind name="collectionDH" value="CC.dogTagComponentDoll; 'playercomponents'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'playercomponents'+'ROOT'; 'playercomponents'; 		{'filter': !$entity.dogTagComponent.unique, 'sort':['dogTagComponent.zindex']}; []"/>
		<bind name="collectionDH" value="CC.dogTagComponentDoll; 'selectedCategoryComponent'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'selectedCategoryComponent'+'ROOT'; 'selectedCategoryComponent'; {'filter': $entity.dogTagComponent.categoryId == currentCategoryEntity.dogTagCategory.type}; []"/>
		<bind name="collectionDH" value="CC.dogTagComponentDoll; 'unAvailableCategoryComponents'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'unAvailableCategoryComponents'+'ROOT'; 'unAvailableCategoryComponents'; {'filter': $entity.dogTagComponent.enabled == false}; []"/>
		<bind name="collectionDH" value="CC.dogTagComponent; 'dtcomponentsUnique'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'dtcomponentsUnique'+'ROOT'; 'dtcomponentsUnique'; 			{'filter': ($entity.dogTagComponent.unique != false) &amp;&amp; ((($entity.dogTagComponent.enabled &amp;&amp; $entity.dogTagComponent.hidden)) || !($entity.dogTagComponent.hidden)), 'sort':['dogTagComponent.sortOrder']}; ['dogTagComponent.evUpdate']"/>
		<bind name="collectionDH" value="CC.dogTagComponentDoll; 'playercomponentsUnique'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'playercomponentsUnique'+'ROOT'; 'playercomponentsUnique'; 	{'filter': ($entity.dogTagComponent.unique != false), 'sort':['dogTagComponent.zindex']}; []"/>
		<bind name="watch" value="'currentDogTagComponents'; dogInset == 0	? playercomponents.length &gt; 0			? playercomponents
																									: playercomponentsUnique :
											dogInset == 1	? playercomponentsUnique.length &gt; 0		? playercomponentsUnique
																									: playercomponents
															: playercomponents"/>
		<style>
			<width value="1280:1184,1920:1502aw"/>
		</style>
		<bind name="var" value="{ windowApperaLag: 0.3 }"/>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; windowApperaLag + 1.5 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="appear" value="'startHide'; 0.15; 1.5 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
			<style>
				<marginTop value="720:16,1080:64ah"/>
				<marginBottom value="720:12,1080:98ah"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block className="tab_bar_bg" type="native">
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<marginLeft value="-2px"/>
					<marginRight value="-2px"/>
					<height value="29px"/>
				</style>
			</block>
			<block>
				<bind name="instance" value="'MainTabNew'; 	{_label: 'IDS_DOGTAG_PATCHES', 
											_name: 'DogTagTabPatches', 
											_index: 0, 
											_width: '143px', 
											_selected: dogInset == 0, 
											_dispatch: 'changeDogInset', _dispatchParams: {dogInset: 0}, 
											_tooltipIDS: 'IDS_DOGTAG_PATCHES_TOOLTIP', _isInBattle: false}"/>
			</block>
			<block className="divider_v" type="native">
				<style>
					<height value="25px"/>
					<marginTop value="2px"/>
				</style>
			</block>
			<block>
				<bind name="instance" value="'MainTabNew'; 	{_label: 'IDS_DOGTAG_EMBLEMS', 
											_name: 'DogTagTabEmblems', 
											_index: 1, 
											_width: '143px', 
											_selected: dogInset == 1, 
											_dispatch: 'changeDogInset', _dispatchParams: {dogInset: 1}, 
											_tooltipIDS: 'IDS_DOGTAG_EMBLEMS_TOOLTIP', _isInBattle: false}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block>
				<bind name="appear" value="'addedToStage'; 0.15; windowApperaLag + 3 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
				<bind name="appear" value="'startHide'; 0.15; 3 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<style>
					<marginTop value="32px"/>
				</style>
				<block>
					<style>
						<width value="512px"/>
						<height value="512px"/>
					</style>
					<bind name="objectUnderPoint" value="'flash.display::Shape'"/>
					<bind name="entityDH" value="'entityToView'; _entityToViewId"/>
					<bind name="watchDH" value="'id'; ['entityToView.dogTagComponent.evUpdate']; entityToView.dogTagComponent.id"/>
					<bind name="catch" value="'viewDogTagChanged'"/>
					<bind name="repeat" value="currentDogTagComponents; 'DogTagDollImageItemRenderer'; {_size: 512}"/>
					<bind name="tooltip" value="'DogTagComponentTooltip'; (!_entityToViewId || _entityToViewId == -1) ? null : {_id: id}"/>
				</block>
				<block>
					<bind name="visible" value="unAvailableCategoryComponents.length &gt; 0"/>
					<styleClass value="$MiddleAlignedAbsolutely"/>
					<style>
						<bottom value="-16px"/>
					</style>
					<block className="icon_module_state" type="native">
						<bind name="gotoAndStop!" value="'action'"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault19NM"/>
						<styleClass value="$FontColorUnready"/>
						<style>
							<marginLeft value="6px"/>
							<maxWidth value="400"/>
							<marginTop value="1px"/>
						</style>
						<bind name="text" value="'IDS_DOGTAG_COMPONENT_NOT_AVAILABLE_TEXT'"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<style>
					<width value="1280:64,1920:128aw"/>
				</style>
			</block>
			<block>
				<block>
					<bind name="appear" value="'addedToStage'; 0.15; windowApperaLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
					<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
					<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
					<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
					<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
					<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginBottom value="15px"/>
					</style>
					<block>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_TOOLTIP_PLAYER_STEREOTYPE_DOGTAG'}"/>
						<style>
							<width value="80px"/>
							<height value="80px"/>
						</style>
						<bind name="repeat" value="currentDogTagComponents; 'PlayerDogTagItem'; {_path: 'url:../dogTags/small/', _playerDbId : selfPlayerDbId, _clanTagPaths:'../fonts/small/', _size:80}"/>
					</block>
					<block>
						<style>
							<marginLeft value="12px"/>
						</style>
						<bind name="instance" value="'PlayerStereotype'; {_playerDbId: selfPlayerDbId, _abuseStatus: accountLevelInfo.abuseStatus}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="appear" value="'addedToStage'; 0.15; windowApperaLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
					<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
					<styleClass value="$MiddleAligned"/>
					<block>
						<bind name="fade" value="(dogInset == 0); 0.15; {alpha:0, height:0}; {alpha:1, height:32}; {alpha:0, height:0}"/>
						<style>
							<height value="1px"/>
						</style>
						<block className="tab_bar_bg" type="native">
							<style>
								<position value="absolute"/>
								<width value="100%"/>
								<marginLeft value="-2px"/>
								<marginRight value="-2px"/>
								<height value="25px"/>
							</style>
						</block>
						<bind name="repeat" value="dogInset == 0 ? dtcategories : null; 'DogTagCategoryItemRenderer'; {_curItemId: categoryEntityId, _lastcategory: dtcategories.length}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<block>
					<bind name="appear" value="'addedToStage'; 0.15; windowApperaLag + 3 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
					<bind name="appear" value="'startHide'; 0.15; 3 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
					<styleClass value="$DefaultScrollBar"/>
					<bind name="stageSize"/>
					<bind name="watch" value="'dogTagColumns'; ((stageWidth/2.5) - (stageWidth/2.5)%92) / 92"/>
					<bind name="watch" value="'itemsWidth'; (dogTagColumns * 92 + 6)"/>
					<style>
						<marginTop value="16px"/>
						<height value="330px"/>
						<flow value="htile"/>
						<overflow value="scroll"/>
					</style>
					<bind name="style" value="'width'; itemsWidth + 'px'"/>
					<bind name="style" value="'align'; currentComponents.length &lt; dogTagColumns ? 'center' : 'left'"/>
					<bind name="watch" value="'currentComponents'; dogInset == 0 ? dtcomponents : dtcomponentsUnique"/>
					<bind name="repeat" value="currentComponents; 'DogTagComponentItemRenderer'; {_curItemId: selectedCategoryComponent[0].id}"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="DogTagCategoryItemRenderer">
		<bind name="entityDH" value="'entity'; id"/>
		<bind name="watchDH" value="'nameIds'; ['entity.dogTagCategory.evUpdate']; entity.dogTagCategory.nameIds"/>
		<bind name="watchDH" value="'type'; ['entity.dogTagCategory.evUpdate']; entity.dogTagCategory.type"/>
		<bind name="watchDH" value="'description'; ['entity.dogTagCategory.evUpdate']; entity.dogTagCategory.description"/>
		<style>
			<height value="25px"/>
		</style>
		<bind name="dispatch" value="'click'; 'dogTagCategoryChanged'; {categoryEntityId: id}"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr(toUpperCase('IDS_DOGTAG_PATCHES_DESCRIPTION_' + description))}"/>
		<block>
			<block className="tab_bar_item_small" type="native">
				<bind name="name" value="'DogTagCategoryItemRenderer_' + $index"/>
				<style>
					<width value="143px"/>
					<height value="25px"/>
				</style>
				<bind name="selected" value="(_curItemId == id)"/>
				<bind name="label" value="toUpperCase(tr('IDS_DOGTAG_PATCHES_' + nameIds))"/>
			</block>
			<block>
				<bind name="visible" value="(_lastcategory != ($index + 1))"/>
				<block className="divider_v" type="native">
					<style>
						<height value="21px"/>
						<marginTop value="2px"/>
					</style>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="DogTagDollImageItemRenderer">
		<style>
			<width value="100%"/>
			<height value="100%"/>
			<position value="absolute"/>
		</style>
		<bind name="entityDH" value="'entity'; id"/>
		<bind name="watchDH" value="'gpName'; ['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.gpName"/>
		<bind name="watchDH" value="'iconPath'; ['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.iconPath"/>
		<bind name="style" value="'backgroundImage'; 'url:../dogTags/big/' + iconPath"/>
		<bind name="mc" value="gpName + '_big_mask'; ['objUnderPoint', 'noObjUnderPoint']"/>
		<bind name="dispatch" value="'objUnderPoint'; 'viewDogTagChanged'; {_entityToViewId:id}"/>
		<bind name="dispatch" value="'noObjUnderPoint'; 'viewDogTagChanged'; {_entityToViewId:-1}"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
		<bind name="watchDH" value="'clanId'; ['selfPlayerEntity.clanman.evClanIdChanged']; selfPlayerEntity.clanman.clanId"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanTagOffsetX';['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.clanTagOffsetX"/>
		<bind name="watchDH" value="'clanTagOffsetY';['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.clanTagOffsetY"/>
		<bind name="watchDH" value="'clanTagFont';['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.clanTagFont"/>
		<bind name="watchDH" value="'clanTagVisible';['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.clanTagVisible"/>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'top'; clanTagOffsetY + '%'"/>
			<bind name="style" value="'left'; clanTagOffsetX + '%'"/>
			<block>
				<style>
					<position value="absolute"/>
					<marginLeft value="-50%"/>
					<marginTop value="-50%"/>
				</style>
				<bind name="visible" value="clanTagVisible"/>
				<bind name="atlasText" value="clanTagVisible ?  (clanTag ? '[' + clanTag + ']' : '^') : '' ; '../fonts/big/' + clanTagFont; 0"/>
			</block>
		</block>
	</block>
	<block className="DogTagDollImageItemMiniRenderer">
		<bind name="entityDH" value="'entity'; id"/>
		<bind name="watchDH" value="'iconPath'; ['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.iconPath"/>
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="style" value="'backgroundImage'; 'url:../dogTags/small/' + iconPath"/>
	</block>
	<block className="DogTagComponentItemRenderer">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="entityDH" value="'dogTagEntity'; id"/>
		<bind name="watchDH" value="'enabled'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.enabled"/>
		<bind name="watchDH" value="'iconPath'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.iconPath"/>
		<bind name="watchDH" value="'categoryId'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.categoryId"/>
		<bind name="watchDH" value="'gpName'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.gpName"/>
		<bind name="watchDH" value="'unique'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.unique"/>
		<style>
			<width value="80px"/>
			<height value="80px"/>
			<marginLeft value="6px"/>
			<marginRight value="6px"/>
			<marginBottom value="6px"/>
			<marginTop value="6px"/>
		</style>
		<bind name="tooltip" value="'DogTagComponentTooltip'; {_id: dogTagEntity.dogTagComponent.id, _canInstall: 'true'}"/>
		<bind name="action" value="'click'; 'setDogTagComponent'; {entityId: id}"/>
		<bind name="action" value="'click'; 'unmarkNewComponent'; { entityId: id }"/>
		<bind name="name" value="'DogTagComponentItemRenderer_' + gpName"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="transition" value="mouseDown; 0.15; {alpha: 1}; {alpha: 0.5}"/>
			<block>
				<styleClass value="$Fullsize"/>
				<bind name="transition" value="rollOver || (_curItemId == id); 0.15; {alpha: 0}; {alpha: 1}"/>
				<bind name="style" value="'backgroundImage'; enabled ? 'url:../dogTags/DTSelected.png' : 'url:../dogTags/DTSelectedNA.png'"/>
			</block>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundStretchX value="true"/>
				<backgroundStretchY value="true"/>
			</style>
			<bind name="style" value="'colorMatrixFilter'; !enabled ? '0 -100 0 -20' : '0 0 0 0'"/>
			<bind name="style" value="'backgroundImage'; 'url:../dogTags/small/' + iconPath"/>
			<bind name="style" value="'alpha'; enabled ? '1.0' : '0.5'"/>
		</block>
		<block>
			<bind name="visible" value="dogTagEntity.dogTagComponentSaved != null"/>
			<bind name="transition" value="dogTagEntity.dogTagComponentSaved != null; 0.07; {alpha: 0, top: -5}; {alpha: 1, top: 2}; {alpha: 0, top: -5}; 1; 0.11"/>
			<style>
				<position value="absolute"/>
				<right value="1px"/>
				<top value="3px"/>
			</style>
			<block>
				<bind name="transition" value="dogTagEntity.dogTagComponentSaved != null; 0.04; {top: 0}; {top: -2}; {top: 0}; 1; 0.18"/>
				<block className="icon_module_state" type="native">
					<bind name="gotoAndStop!" value="'installed'"/>
				</block>
			</block>
		</block>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
		<bind name="watchDH" value="'clanId'; ['selfPlayerEntity.clanman.evClanIdChanged']; selfPlayerEntity.clanman.clanId"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanTagOffsetX';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetX"/>
		<bind name="watchDH" value="'clanTagOffsetY';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetY"/>
		<bind name="watchDH" value="'clanTagFont';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagFont"/>
		<bind name="watchDH" value="'clanTagVisible';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagVisible"/>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'top'; clanTagOffsetY + '%'"/>
			<bind name="style" value="'left'; clanTagOffsetX + '%'"/>
			<block>
				<style>
					<position value="absolute"/>
					<marginLeft value="-50%"/>
					<marginTop value="-50%"/>
				</style>
				<bind name="visible" value="clanTagVisible"/>
				<bind name="atlasText" value="clanTagVisible ?  (clanTag ? '[' + clanTag + ']' : '^') : '' ; '../fonts/small/' + clanTagFont; 0"/>
			</block>
		</block>
	</block>
	<block className="DogTagConfirmationModalWindow">
		<styleClass value="$Fullsize"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.15; 0.2; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.4; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.2; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.4; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="modal_panel" type="native">
				<style>
					<alpha value="0.7"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$EyeLevelVAligned"/>
			<bind name="instance" value="'ConfirmationDogTagWindow'; {}"/>
		</block>
	</block>
	<block className="ConfirmationDogTagWindow">
		<bind name="var" value="{ windowApperaLag: 0.2 }"/>
		<style>
			<width value="512px"/>
		</style>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; windowApperaLag + 1 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="appear" value="'startHide'; 0.15; 1 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="ModalWindowHeaderConfirmation">
				<style>
					<marginBottom value="3px"/>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<marginBottom value="9px"/>
						<width value="100%"/>
					</style>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block className="icon_warning_grey_big" type="native">
							<style>
								<marginTop value="6px"/>
							</style>
						</block>
						<block type="text">
							<styleClass value="$TextLargeHeaderBold"/>
							<text value="IDS_CONFIRMATION"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block className="ModalWindowCloseIcon">
						<style>
							<position value="absolute"/>
							<right value="-70px"/>
							<top value="9px"/>
							<flow value="horizontal"/>
						</style>
						<bind name="name" value="'btn_cancel'"/>
						<bind name="input"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<style>
								<backgroundColor value="0x01000000"/>
							</style>
							<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
							<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
							<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
							<block>
								<bind name="soundSet" value="'default_button'"/>
								<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
								<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
								<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
								<style>
									<alpha value="0.8"/>
								</style>
								<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
								<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
							</block>
							<block>
								<style>
									<marginTop value="3px"/>
								</style>
								<block className="button_close" type="native">
									<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
									<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
									<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
									<params>
										<param name="focusable" value="false"/>
									</params>
									<bind name="gotoAndPlay!" value="CrossButtonStates"/>
								</block>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; windowApperaLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block>
					<style>
						<width value="190px"/>
						<height value="190px"/>
					</style>
					<bind name="repeat" value="$root.slots; 'PlayerDogTagItemByPK'; {_path: 'url:../dogTags/medium/', _clanTagPaths: '../fonts/medium/', _size: 190}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block type="text">
				<style>
					<marginTop value="16px"/>
					<marginBottom value="16px"/>
					<fontSize value="17px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$FontColorUnready"/>
				<bind name="text" value="'IDS_DOGTAG_SAVE_WRONG_ITEM_SELECTED'"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; windowApperaLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="ModalWindowOkCancel">
				<styleClass value="$MiddleAligned"/>
				<style>
					<flow value="horizontal"/>
					<marginTop value="15px"/>
				</style>
				<block>
					<bind name="appear" value="'startShow'; 0.15; 0.60; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<styleClass value="$InfoLineBoundaries"/>
					<style>
						<width value="129px"/>
						<marginRight value="20px"/>
					</style>
					<bind name="instance" value="'DefaultButton'; {_width: '129px', _name: 'btn_ok', _enabled: true, _isTransactionBtn: true,
													_containerName: ('Modal_window_action_Button' + 'IDS_YES'), _label:  'IDS_YES',
													_focusIndex: 1, _defaultFocused: true}"/>
				</block>
				<block>
					<style>
						<width value="129px"/>
					</style>
					<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<block className="DefaultButtonModal">
						<styleClass value="$InfoLineBoundaries"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="name" value="'Modal_window_action_Button' + 'IDS_NO'"/>
						<block className="button_default" type="native">
							<style>
								<width value="100%"/>
							</style>
							<bind name="label" value="'IDS_NO'"/>
							<params>
								<param name="name" value="btn_cancel"/>
							</params>
							<bind name="input"/>
							<bind name="focus" value="2;false"/>
						</block>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="PlayerDogTag">
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; _playerDbId"/>
		<bind name="watchDH" value="'dogTagList';['playerEntity.dogTagView.evComponentsChanged']; playerEntity.dogTagView.components"/>
		<bind name="collectionDH" value="CC.dogTagComponent; 'dogtagview'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'dogtagview'+'ROOT'; 'dogtagview'; {'filter': dogTagList.length &amp;&amp; ((dogTagList.indexOf(toLowerCase($entity.dogTagComponent.id)) &gt; -1)), 'sort':['dogTagComponent.categoryId']}; []"/>
		<bind name="watch" value="'size';	_size == 'big' 				? 512 : 
							_size == 'medium' 			? 190 : 
							_size == 'profile' 			? 120 :
							_size == 'small' 			? 80 
														: 80"/>
		<bind name="style" value="'width'; size + 'px'"/>
		<bind name="style" value="'height'; size + 'px'"/>
		<bind name="repeat" value="dogtagview; 'PlayerDogTagItem'; {_path: _size == 'small' 		? 'url:../dogTags/small/'  :
														  _size == 'profile' 	? 'url:../dogTags/medium/' :
														  _size == 'medium' 	? 'url:../dogTags/medium/' :
														  _size == 'big' 		? 'url:../dogTags/big/'
														  						: 'url:../dogTags/big/'
														  						, _playerDbId : _playerDbId,
													_clanTagPaths: _size == 'small' 	? '../fonts/small/'  :
																   _size == 'profile' 	? '../fonts/medium/' :
																   _size == 'medium' 	? '../fonts/medium/' :
																   _size == 'big' 		? '../fonts/big/'
																				: '../fonts/big/'
																				, _size: size}"/>
	</block>
	<block className="PlayerDogTagItem">
		<bind name="entityDH" value="'dogTagEntity'; id"/>
		<bind name="watchDH" value="'iconPath'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.iconPath"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; _playerDbId"/>
		<bind name="watchDH" value="'clanId'; ['playerEntity.clanman.evClanIdChanged']; playerEntity.clanman.clanId"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanTagOffsetX';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetX"/>
		<bind name="watchDH" value="'clanTagOffsetY';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetY"/>
		<bind name="watchDH" value="'clanTagFont';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagFont"/>
		<bind name="watchDH" value="'clanTagVisible';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagVisible"/>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'top'; clanTagOffsetY + '%'"/>
			<bind name="style" value="'left'; clanTagOffsetX + '%'"/>
			<block>
				<style>
					<position value="absolute"/>
					<marginLeft value="-50%"/>
					<marginTop value="-50%"/>
				</style>
				<bind name="visible" value="clanTagVisible"/>
				<bind name="atlasText" value="clanTagVisible ?  (clanTag ? '[' + clanTag + ']' : '^') : '' ; _clanTagPaths + clanTagFont; 0"/>
			</block>
		</block>
		<styleClass value="$FullsizeAbsolute"/>
		<style>
			<backgroundStretchX value="true"/>
			<backgroundStretchY value="true"/>
		</style>
		<bind name="style" value="'backgroundImage'; _path + iconPath"/>
		<bind name="name" value="'dogTag_' + _path + '_' + $index + '_' + dogTagEntity.dogTagComponent.gpName"/>
	</block>
	<block className="PlayerDogTagItemByPK">
		<bind name="primaryEntityDH" value="'dogTagEntity'; CC.dogTagComponent; $value"/>
		<bind name="watchDH" value="'iconPath'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.iconPath"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
		<bind name="watchDH" value="'clanId'; ['selfPlayerEntity.clanman.evClanIdChanged']; selfPlayerEntity.clanman.clanId"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanTagOffsetX';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetX"/>
		<bind name="watchDH" value="'clanTagOffsetY';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetY"/>
		<bind name="watchDH" value="'clanTagFont';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagFont"/>
		<bind name="watchDH" value="'clanTagVisible';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagVisible"/>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'top'; clanTagOffsetY + '%'"/>
			<bind name="style" value="'left'; clanTagOffsetX + '%'"/>
			<block>
				<style>
					<position value="absolute"/>
					<marginLeft value="-50%"/>
					<marginTop value="-50%"/>
				</style>
				<bind name="visible" value="clanTagVisible"/>
				<bind name="atlasText" value="clanTagVisible ?  (clanTag ? '[' + clanTag + ']' : '^') : '' ; _clanTagPaths + clanTagFont; 0"/>
			</block>
		</block>
		<styleClass value="$FullsizeAbsolute"/>
		<style>
			<backgroundStretchX value="true"/>
			<backgroundStretchY value="true"/>
		</style>
		<bind name="style" value="'backgroundImage'; _path + iconPath"/>
		<bind name="name" value="'dogTag_' + _path + '_' + $index + '_' + dogTagEntity.dogTagComponent.gpName"/>
	</block>
	<block className="DogTagProgressDefault">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
			<marginBottom value="12px"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<bind name="class" value="(_current &lt; _goal) ? '$FontColorUnready' : '$None'"/>
			<styleClass value="$TextDefault17NM"/>
			<bind name="text" value="tr(toUpperCase('IDS_DOGTAG_PARAM_' + _name))"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="8px"/>
			</style>
			<bind name="class" value="(_current &lt; _goal) ? '$FontColorUnready' : '$None'"/>
			<styleClass value="$TextDefault17NM"/>
			<bind name="text" value="_current"/>
		</block>
	</block>
	<block className="ResultBlock">
		<style>
			<width value="100%"/>
		</style>
		<bind name="child" value="_progress[$index][0];	{_name: _progress[$index][0], _goal: _progress[$index][1], _current: _progress[$index][2]};
										{	battleCount: 'DogTagProgressDefault',
											achievementCount: 'DogTagProgressDefault',
										 	damage: 'DogTagProgressDefault',
										 	clearExp: 'DogTagProgressDefault',
										 	winRate: 'DogTagProgressDefault'	}"/>
	</block>
	<block className="DogTagComponentTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
			<hitTest value="false"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="primaryEntityDH" value="'dogTagEntity'; CC.dogTagComponent; _id"/>
		<bind name="watchDH" value="'enabled'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.enabled"/>
		<bind name="watchDH" value="'iconPath'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.iconPath"/>
		<bind name="watchDH" value="'gpName'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.gpName"/>
		<bind name="watchDH" value="'categoryId'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.categoryId"/>
		<bind name="watchDH" value="'restriction'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.restriction"/>
		<bind name="watchDH" value="'data'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.data"/>
		<bind name="watchDH" value="'progress'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.progress"/>
		<bind name="watchDH" value="'description'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.description"/>
		<bind name="watchDH" value="'quest'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.quest"/>
		<bind name="watchDH" value="'unique'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.unique"/>
		<bind name="watchDH" value="'clanTagOffsetX';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetX"/>
		<bind name="watchDH" value="'clanTagOffsetY';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetY"/>
		<bind name="watchDH" value="'clanTagFont';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagFont"/>
		<bind name="watchDH" value="'clanTagVisible';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagVisible"/>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'DogTagComponentTooltipHeader'; {_iconPath: iconPath, _categoryId: categoryId, _gpName: gpName, _unique: unique,
				_clanTagOffsetX: clanTagOffsetX, _clanTagOffsetY: clanTagOffsetY, _clanTagFont: clanTagFont, _clanTagVisible: clanTagVisible}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isNotSelf != true"/>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_module_state" type="native">
					<bind name="gotoAndStop!" value="enabled 	? 'installed'
											: 'action'"/>
				</block>
			</block>
			<block type="text">
				<styleClass value="$TextDefault17NM"/>
				<style>
					<maxWidth value="260"/>
					<marginLeft value="4px"/>
				</style>
				<bind name="class" value="	enabled &amp;&amp; dogTagEntity.dogTagComponentSaved != null	? '$FontColorGolden' :
							enabled													? '$None'
																					: '$FontColorUnready'"/>
				<bind name="text" value="	enabled &amp;&amp; dogTagEntity.dogTagComponentSaved != null	? 'IDS_DOGTAG_COMPONENT_SET':
							enabled													? 'IDS_DOGTAG_COMPONENT_AVAILABLE'
																					: 'IDS_DOGTAG_COMPONENT_NOT_AVAILABLE'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="isNotSelf != true"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="description"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextDefault17NM"/>
					<style>
						<width value="100%"/>
						<leading value="-3"/>
					</style>
					<bind name="text" value="tr( toUpperCase('IDS_DOGTAG_' + gpName + '_DESCRIPTION'))"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="!isRewardTooltip &amp;&amp; quest"/>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextDefault17NM"/>
					<style>
						<width value="100%"/>
						<leading value="-3"/>
					</style>
					<bind name="text" value="quest"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<style>
						<width value="100%"/>
						<alpha value="0.7"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault17NM"/>
						<style>
							<width value="100%"/>
							<marginTop value="3px"/>
							<marginBottom value="3px"/>
							<leading value="-3"/>
						</style>
						<bind name="text" value="restriction"/>
					</block>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<block>
						<bind name="repeat" value="data.battleTypes; 'DogTagBattleTypeRestriction'"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<bind name="instance" value="'ShipRestrictions'; {_restrictionsEntityId: dogTagEntity.id, _withShipTypeCounters: false}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!enabled &amp;&amp; progress[0][2] != 0 &amp;&amp; isNotSelf != true"/>
				<style>
					<width value="100%"/>
					<marginTop value="9px"/>
				</style>
				<block>
					<styleClass value="$InfoBlockHorizontalIndent"/>
					<bind name="repeat" value="progress; 'ResultBlock'; {_progress: progress}"/>
				</block>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(isNotSelf != true &amp;&amp; _canInstall == 'true') || isRewardTooltip"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; isRewardTooltip ? {_type: 'left', _instructionText: 'IDS_DOGTAG_TOOLTIP_GO_TO_CONSTUCTOR', _maxWidth: 300 } :
											unique			? {_type: 'left', _instructionText: 'IDS_SELECT_DOGTAG_COMPONENT_UNIQUE', _maxWidth: 300 } 
															: {_type: 'left', _instructionText: 'IDS_SELECT_DOGTAG_COMPONENT', _maxWidth: 300 }"/>
		</block>
	</block>
	<block className="DogTagComponentTooltipHeader">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<backgroundStretchX value="true"/>
				<backgroundStretchY value="true"/>
				<width value="80px"/>
				<height value="80px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../dogTags/small/' + _iconPath"/>
			<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
			<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
			<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
			<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
			<bind name="watchDH" value="'clanId'; ['selfPlayerEntity.clanman.evClanIdChanged']; selfPlayerEntity.clanman.clanId"/>
			<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
			<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
			<block>
				<bind name="visible" value="_clanTagVisible == true"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="style" value="'top'; _clanTagOffsetY + '%'"/>
				<bind name="style" value="'left'; _clanTagOffsetX + '%'"/>
				<block>
					<style>
						<position value="absolute"/>
						<marginLeft value="-50%"/>
						<marginTop value="-50%"/>
					</style>
					<bind name="atlasText" value="_clanTagVisible ? (clanTag ? '[' + clanTag + ']' : '^') : '' ; '../fonts/small/' + _clanTagFont; 0"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="6px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<style>
					<maxWidth value="192"/>
				</style>
				<bind name="text" value="tr(toUpperCase('IDS_DOGTAG_' + _gpName + '_NAME'))"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<style>
					<maxWidth value="192"/>
				</style>
				<bind name="text" value="_unique ? tr(toUpperCase('IDS_DOGTAG_COMPONENT_TOOLTIP_CATEGORY_' + 'unique')) : tr(toUpperCase('IDS_DOGTAG_COMPONENT_TOOLTIP_CATEGORY_' + _categoryId))"/>
			</block>
		</block>
	</block>
	<block className="DogTagBattleTypeRestriction">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<block className="icon_battletypes_small" type="native">
			<style>
				<marginRight value="6px"/>
				<width value="25px"/>
				<height value="25px"/>
			</style>
			<bind name="gotoAndStop!" value="	($value == 'PVP')			? 'RandomBattle' :
								($value == 'COOPERATIVE')	? 'CooperativeBattle':
								($value == 'RANKED') 		&amp;&amp; (rankedBattlesSeason.isJuniorSeason == true) ? 'RankedBattle_junior' : 'RankedBattle':
								($value == 'PVE')			? 'PVEBattle':
								($value == 'PVE_PREMADE')	? 'PVEBattle_hard':
								($value == 'CLAN')			? 'ClanBattle'
															: null "/>
		</block>
		<block className="VerticalDivider">
			<style>
				<height value="100%"/>
				<width value="3px"/>
			</style>
			<block className="divider_v" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
	</block>
	<block className="PlayerStereotype">
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; _playerDbId"/>
		<bind name="watchDH" value="'dogTagList';['playerEntity.dogTagView.evComponentsChanged']; playerEntity.dogTagView.components"/>
		<bind name="collectionDH" value="CC.dogTagComponent; 'dogtagview'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'dogtagview'+'ROOT'; 'dogtagview'; {'filter':(dogTagList.indexOf(toLowerCase($entity.dogTagComponent.id)) &gt; -1), 'sort':['dogTagComponent.categoryId']}; []"/>
		<bind name="watchDH" value="'isSelf';			[]; playerEntity.accountSimple.isSelfPlayer"/>
		<bind name="watchDH" value="'relation'; 		['playerEntity.relation.evChanged']; playerEntity.relation.value"/>
		<bind name="watchDH" value="'clanId';			['playerEntity.clanman.evClanIdChanged']; playerEntity.clanman.clanId"/>
		<bind name="watchDH" value="'pureName';		['playerEntity.accountName.evChanged']; playerEntity.accountName.name"/>
		<bind name="watchDH" value="'accountLevel';	['playerEntity.accountLevel.evLevelChanged']; playerEntity.accountLevel.level"/>
		<bind name="watchDH" value="'rank'; 			['playerEntity.accountRank.evRankChanged']; playerEntity.accountRank.rank"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="watchDH" value="'clanTag'; 	['clanEntity.clan.evTagChanged']; _clanTag ? _clanTag : clanEntity.clan.tag"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; clanId"/>
		<bind name="watchDH" value="'clanTagColor'; 	['clanExtendedEntity.clanExtended.evColorChanged']; _clanTagColor ? _clanTagColor : clanExtendedEntity.clanExtended.color"/>
		<style>
			<width value="100%f"/>
			<marginTop value="14px"/>
		</style>
		<block>
			<style>
				<width value="100%f"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_TOOLTIP_PLAYER_STEREOTYPE_NAME'}"/>
			<bind name="instance" value="'PlayerNameAndClanTag'; {
								_isSelf: 			isSelf,
								_tkStatus: 			_tkStatus || _abuseStatus == AbuseStatus.SUSPECT, 
								_ctkStatus:			_ctkStatus || _abuseStatus == AbuseStatus.CONFIRMED, 
								_ttkStatus:			_ttkStatus, 
								_isInSameDivision:  _player.isInSameDivision,
								_fontSize:			19,
								_playerName:		pureName,
								_clanTag:			clanTag,
								_clanTagColor:		clanTagColor,
								_isDead:			false,
								_noClanTagColor:	_noClanTagColor}"/>
		</block>
		<block>
			<style>
				<width value="100%f"/>
			</style>
			<bind name="visible" value="!_isBot &amp;&amp; !_noLevel"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_TOOLTIP_PLAYER_STEREOTYPE_LEVEL'}"/>
			<block type="text">
				<styleClass value="$TextDefaultNM"/>
				<style>
					<marginTop value="7px"/>
					<marginLeft value="3px"/>
				</style>
				<bind name="text" value="subst('IDS_PLAYER_STEREOTYPE_LEVEL',[], {accountLevel: accountLevel})"/>
			</block>
		</block>
		<bind name="instance" value="'PlayerProgressBar';	rank == 0 &amp;&amp; isSelf &amp;&amp;
											accountLevel != _maxLevelEnabled &amp;&amp;
											_currentProgress != null ? {_accountLevel: accountLevel, _currentProgress: _currentProgress,
																		_levelProgress: _levelProgress} : null"/>
		<block type="text">
			<bind name="visible" value="!_noRank &amp;&amp; !_isBot &amp;&amp; rank != 0 &amp;&amp; rank != null"/>
			<style>
				<marginTop value="8px"/>
				<marginLeft value="3px"/>
				<maxWidth value="160"/>
				<multiline value="false"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="text" value="subst('IDS_RANK_X',[], {rank: rank})"/>
		</block>
	</block>
	<block className="PlayerProgressBar">
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="3px"/>
			</style>
			<block>
				<block className="indicator_progress_bar_yellow" type="native">
					<bind name="value" value="(_currentProgress / _levelProgress)*10"/>
					<style>
						<width value="138px"/>
						<marginTop value="8px"/>
					</style>
				</block>
			</block>
			<block>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="(format(_currentProgress, -1)) + ' / ' + (format(_levelProgress, -1))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="TaskContainerRestriction">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerRange; 'shipLevelsRange'; shipLevels"/>
		<bind name="primaryEntityDH" value="'campaignTaskEntity'; CC.campaignTaskParams; _taskID"/>
		<bind name="watchDH" value="'battleTypes';[]; campaignTaskEntity.campaignTaskRestrictions.battleTypes"/>
		<bind name="watchDH" value="'shipLevels';[]; campaignTaskEntity.campaignTaskRestrictions.shipLevels"/>
		<bind name="watchDH" value="'shipClasses';[]; campaignTaskEntity.campaignTaskRestrictions.shipClasses"/>
		<bind name="watchDH" value="'shipNations';[]; campaignTaskEntity.campaignTaskRestrictions.shipNations"/>
		<bind name="watchDH" value="'shipIDs';[]; campaignTaskEntity.campaignTaskRestrictions.shipIDs"/>
		<bind name="watchDH" value="'goalEntityId';['']; campaignTaskEntity.campaignTaskParams.goal"/>
		<bind name="entityDH" value="'campaignGoalEntity'; goalEntityId"/>
		<bind name="watchDH" value="'l10nRestriction';[]; campaignGoalEntity.campaignTaskGoal.l10nRestriction"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$HugeMargins"/>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="l10nRestriction"/>
			</block>
			<block>
				<style>
					<flow value="htile"/>
					<width value="100%"/>
				</style>
				<block>
					<bind name="visible" value="battleTypes.length != 0"/>
					<styleClass value="$InfoLineBoundaries"/>
					<block>
						<bind name="repeat" value="battleTypes; 'TaskBattleTypeRestriction'; {}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<bind name="visible" value="shipLevels.length != 0"/>
						<style>
							<height value="25px"/>
							<marginLeft value="3px"/>
							<marginRight value="3px"/>
						</style>
						<block className="VerticalDivider">
							<style>
								<height value="100%"/>
								<width value="3px"/>
							</style>
							<block className="divider_v" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="shipLevels.length != 0"/>
					<bind name="tooltip" value="'ShipListTooltipCampaigns'; {_taskID: _taskID}"/>
					<styleClass value="$InfoLineBoundaries"/>
					<block>
						<style>
							<marginLeft value="6px"/>
							<marginRight value="6px"/>
						</style>
						<bind name="repeat" value="shipLevelsRange; 'TaskShipLevelRestriction'; {}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<bind name="visible" value="shipClasses.length != 0"/>
						<style>
							<height value="25px"/>
							<marginLeft value="3px"/>
							<marginRight value="3px"/>
						</style>
						<block className="VerticalDivider">
							<style>
								<height value="100%"/>
								<width value="3px"/>
							</style>
							<block className="divider_v" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="shipClasses.length != 0"/>
					<bind name="tooltip" value="'ShipListTooltipCampaigns'; {_taskID: _taskID}"/>
					<styleClass value="$InfoLineBoundaries"/>
					<block>
						<style>
							<marginLeft value="6px"/>
							<marginRight value="6px"/>
						</style>
						<bind name="repeat" value="shipClasses; 'TaskShipClassRestriction';	{_shipIsPremium: campaignTaskEntity.campaignTaskRestrictions.shipIsPremium,																												
																			_shipIsElite: campaignTaskEntity.campaignTaskRestrictions.shipIsElite}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="shipNations.length != 0"/>
					<styleClass value="$InfoLineBoundaries"/>
					<style>
						<height value="25px"/>
						<marginLeft value="3px"/>
						<marginRight value="9px"/>
					</style>
					<block className="VerticalDivider">
						<style>
							<height value="100%"/>
							<width value="3px"/>
						</style>
						<block className="divider_v" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<block>
					<styleClass value="$InfoLineBoundaries"/>
					<bind name="visible" value="shipNations.length != 0"/>
					<bind name="repeat" value="shipNations; 'TaskShipNationRestriction'; {}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="TaskBattleTypeRestriction">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<block className="icon_battletypes_small" type="native">
			<style>
				<marginRight value="6px"/>
				<width value="25px"/>
				<height value="25px"/>
			</style>
			<bind name="gotoAndStop!" value=" 	($value == 0)	? 'RandomBattle' :
								($value == 1) 	? 'TrainingBattle' :
								($value == 2) 	? 'CooperativeBattle' :
								($value == 3) 	? 'TutorialBattle' :
								($value == 4) 	? (rankedBattlesSeason.isJuniorSeason == true) 	? 'RankedBattle_junior' 
																								: 'RankedBattle':
								($value == 5) 	? 'ClubBattle':
								($value == 6) 	? 'PVEBattle' :
								($value == 7) 	? 'PVEBattle' :
								($value == 8) 	? 'ClanBattle' :
								($value == 9) 	? 'EventBattle'
												: null"/>
		</block>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 	($value == 0)	? 'IDS_RANDOM_BATTLE' :
													($value == 1) 	? 'IDS_TRAINING_BATTLE' :
													($value == 2) 	? 'IDS_COOPERATIVE_BATTLE' :
													($value == 3) 	? 'IDS_INTRO_MISSION' :
													($value == 4) 	? 'IDS_RANKED_BATTLE':
													($value == 5) 	? 'IDS_CLUB_BATTLE':
													($value == 6) 	? 'IDS_PVE_BATTLE':
													($value == 7) 	? 'IDS_PVE_BATTLE':
													($value == 8) 	? 'IDS_CLAN_BATTLE':
													($value == 9) 	? 'IDS_EVENTBATTLE'
																	: null}"/>
	</block>
	<block className="TaskShipLevelRestriction">
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="text" value="ShipLevels.RLEVELS[$value]"/>
		</block>
	</block>
	<block className="TaskShipClassRestriction">
		<style>
			<marginRight value="3px"/>
			<height value="22px"/>
		</style>
		<block className="icon_ship" type="native">
			<styleClass value="$MiddleVAligned"/>
			<bind name="gotoAndStop!" value="_shipIsPremium ?  $value + '_P' : $value"/>
		</block>
		<block className="icon_wreath" type="native">
			<bind name="visible" value="_shipIsPremium || _shipIsElite"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<left value="-5px"/>
			</style>
			<bind name="gotoAndStop!" value="_shipIsPremium ?  'premium' : 'elite'"/>
		</block>
	</block>
	<block className="TaskShipNationRestriction">
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_SHIP_NATION_RESTRICTION'}"/>
		<style>
			<marginRight value="3px"/>
		</style>
		<block>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: $value}"/>
		</block>
	</block>
	<block className="ShipListTooltipCampaigns">
		<bind name="collectionDH" value="CC.ownShip; 'shipList'; 'campaigns_task_current'"/>
		<bind name="action" value="'Tooltip.selfOpened'; 'updateTaskShipList'; {taskId: _taskID}"/>
		<bind name="instance" value="'ShipListTooltip'; {_shipList: shipList}"/>
	</block>
	<block className="ShipListTooltip">
		<bind name="watch" value="'countShipList'; _shipList.length - 10"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="250px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<bind name="visible" value="_shipList.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$TextHeaderBigDefaultTech"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<text value="IDS_AVAILABLE_SHIP"/>
			</block>
			<block>
				<bind name="repeat" value="(_shipList.length &gt; 10 ? 10 : _shipList.length); 'ShipItem'; {_shipList: _shipList}"/>
			</block>
			<block type="text">
				<bind name="visible" value="(_shipList.length) &gt; 10"/>
				<style>
					<marginTop value="-2px"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$TextHeaderBigDefaultTech"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="subst('IDS_AND_OTHER_SHIPS', [], {count: countShipList}, countShipList)}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_shipList.length &lt;= 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<maxWidth value="240"/>
					<leading value="-3"/>
				</style>
				<text value="IDS_NO_SUITABLE_SHIPS"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipItem">
		<styleClass value="$InfoBlockIndent"/>
		<bind name="instance" value="'ShipLineItem'; {_shipId: _shipList[$index].ship.id, _width: '185px'}"/>
	</block>
	<block className="PlayerSummaryPve">
		<styleClass value="$MiddleAligned"/>
		<style>
			<flow value="horizontal"/>
			<marginBottom value="24px"/>
		</style>
		<bind name="collectionDH" value="CC.rankedSeasonHistory; 'statDataEntities'; 'statToShow'"/>
		<bind name="entityDH" value="'statDataEntity'; statDataEntities[0].id"/>
		<bind name="watchDH" value="'statData'; ['statDataEntity.dataComponent.evDataChanged']; statDataEntity.dataComponent.data"/>
		<bind name="repeat" value="statData.basicStats.colData; 'PlayerSummaryItemPveRow'; {}"/>
	</block>
	<block className="PlayerSummaryItemPveRow">
		<style>
			<marginTop value="40px"/>
			<width value="1280:274,1920:310aw"/>
		</style>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5_feather" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block type="text">
			<style>
				<textAlign value="center"/>
				<width value="100%"/>
				<height value="720:70,1080:120ah"/>
			</style>
			<bind name="style" value="'marginTop'; $index == 1 ? '-15px' : '0px'"/>
			<styleClass value="$TextDefaultBold25NM"/>
			<bind name="text" value="'IDS_SUMMARY_HEADER_' + toUpperCase(block)"/>
		</block>
		<block>
			<style>
				<height value="720:70,1080:120ah"/>
				<minWidth value="70"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="style" value="'marginTop'; $index == 1 ? '15px' : '0px'"/>
			<styleClass value="$MiddleAligned"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr('IDS_PVE_OPERATION_BATTLES_PLAYED_TOOLTIP_' + $index)}"/>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$ResultsReward"/>
				<bind name="text" value="gamesPlayed"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="274px"/>
				<marginTop value="720:40,1080:80ah"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<height value="140px"/>
					<marginTop value="5px"/>
				</style>
				<bind name="repeat" value="diag.battles; 'LineDiagramItem'; {maxValue: diag.maxValue, _columnColor: 0xFFf3ae5a}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="MainTabSmallInstance">
		<block className="tab_bar_item_small" type="native">
			<bind name="name" value="'MainTabSmallInstance_' + _name"/>
			<bind name="style" value="'width'; (_width+'px')"/>
			<style>
				<height value="25px"/>
			</style>
			<bind name="selected" value="_selected"/>
			<bind name="dispatch" value="'buttonClick'; _event ? _event : null; _eventParams"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			<bind name="label" value="toUpperCase(tr(_label))"/>
		</block>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _tooltipIDS}"/>
	</block>
	<block className="MainTabNew">
		<block className="tab_bar_item" type="native">
			<bind name="name" value="_name"/>
			<style>
				<height value="29px"/>
			</style>
			<bind name="style" value="'width'; _width"/>
			<bind name="selected" value="_selected"/>
			<bind name="action" value="'click'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="dispatch" value="'buttonClick'; _dispatch ? _dispatch : null; _dispatchParams ? _dispatchParams : null"/>
			<bind name="label" value="toUpperCase(tr(_label))"/>
			<bind name="soundSet" value="'main_tab_' + _index"/>
		</block>
		<bind name="tooltip" value="'MouseInstructionTooltip'; {_multiParagraphArray:  [{_paragraphText: _tooltipIDS}], _maxWidth: 250, _isInBattle: _isInBattle}"/>
	</block>
	<block className="DogTagInHUD">
		<styleClass value="$FullsizeAbsolute"/>
		<style>
			<align value="center|middle"/>
		</style>
		<block>
			<style>
				<width value="190px"/>
				<height value="190px"/>
			</style>
			<bind name="instance" value="'DogTagInHUDContent'; {}"/>
		</block>
	</block>
	<block className="DogTagInHUDContent">
		<styleClass value="$Fullsize"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'dogTagList';['entityAccount.dogTagView.evComponentsChanged']; entityAccount.dogTagView.components"/>
		<bind name="collectionDH" value="CC.dogTagComponent; 'dogtagview'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'dogtagview'+'ROOT'; 'dogtagview'; {'filter':(dogTagList.indexOf(toLowerCase($entity.dogTagComponent.id)) &gt; -1), 'sort':['dogTagComponent.categoryId']}; []"/>
		<bind name="collectionDH" value="CC.avatar; 'selfAvatarCollection'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'selfAvatarCollection'+'ROOT'; 'selfAvatarCollection'; {'filter':$entity.relation.value == 0}; []"/>
		<bind name="watch" value="'selfAvatarEntityId'; selfAvatarCollection[0].id"/>
		<bind name="entityDH" value="'selfAvatarEntity'; selfAvatarEntityId"/>
		<bind name="watchDH" value="'playerIsAlive'; ['selfAvatarEntity.health.evKilled']; selfAvatarEntity.health.isAlive"/>
		<bind name="watchDH" value="'killerId'; ['selfAvatarEntity.health.evKillerIdChanged']; selfAvatarEntity.health.killerId"/>
		<bind name="primaryEntityDH" value="'killerEntity'; CC.avatar; killerId"/>
		<bind name="watchDH" value="'enemyName'; ['killerEntity.accountName.evChanged']; killerEntity.accountName.name"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'BattleKillerDogTag'; killerId != 0 ? {_killerId: killerId, _enemyName: enemyName} : null"/>
		</block>
	</block>
	<block className="BattleKillerDogTag">
		<bind name="dispatch" value="'addedToStage'; 'hideDogTagEv'; {}; 2; 12"/>
		<bind name="catch" value="'hideDogTagEv'; {dogTagVisible: false}"/>
		<bind name="appear" value="'addedToStage'; 1; 0.5; {alpha: 0}; {alpha: 1}"/>
		<bind name="appear" value="'hideDogTagEv'; 1; 0.5; {alpha: 1}; {alpha: 0}"/>
		<bind name="primaryEntityDH" value="'killerEntity'; CC.avatar; _killerId"/>
		<bind name="watchDH" value="'playerDbId'; [] ; killerEntity.accountSimple.dbId "/>
		<style>
			<width value="190px"/>
			<height value="190px"/>
		</style>
		<bind name="repeat" value="killerEntity.dogTagView.components; 'DogTagViewImageItemAvatar'; {_playerDbId : playerDbId}"/>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<top value="190px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold21NM"/>
				<style>
					<textColor value="0xfd7054"/>
				</style>
				<bind name="text" value="subst('IDS_DOGTAG_HUD_SHIP_IS_DEAD', [], {enemyName: tr(_enemyName)})"/>
			</block>
		</block>
	</block>
	<block className="DogTagViewImageItemAvatar">
		<bind name="primaryEntityDH" value="'entity'; CC.dogTagComponent; $value"/>
		<bind name="watchDH" value="'enabled'; ['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.enabled"/>
		<bind name="watchDH" value="'iconPath'; ['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.iconPath"/>
		<style>
			<width value="190px"/>
			<height value="190px"/>
			<backgroundStretchX value="true"/>
			<backgroundStretchY value="true"/>
			<position value="absolute"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'url:../dogTags/medium/' + iconPath"/>
		<bind name="name" value="'dogTagBattle_' + $index + '_' + entity.dogTagComponent.gpName"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; _playerDbId"/>
		<bind name="watchDH" value="'clanId'; ['playerEntity.clanman.evClanIdChanged']; playerEntity.clanman.clanId"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanTagOffsetX';['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.clanTagOffsetX"/>
		<bind name="watchDH" value="'clanTagOffsetY';['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.clanTagOffsetY"/>
		<bind name="watchDH" value="'clanTagFont';['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.clanTagFont"/>
		<bind name="watchDH" value="'clanTagVisible';['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.clanTagVisible"/>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'top'; clanTagOffsetY + '%'"/>
			<bind name="style" value="'left'; clanTagOffsetX + '%'"/>
			<block>
				<style>
					<position value="absolute"/>
					<marginLeft value="-50%"/>
					<marginTop value="-50%"/>
				</style>
				<bind name="visible" value="clanTagVisible"/>
				<bind name="atlasText" value="clanTagVisible ?  (clanTag ? '[' + clanTag + ']' : '^') : '' ; '../fonts/medium/' + clanTagFont; 0"/>
			</block>
		</block>
	</block>
	<block className="ConfirmationModalWindow">
		<style>
			<width value="450px"/>
		</style>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="ModalWindowHeaderConfirmation">
				<style>
					<marginBottom value="3px"/>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<marginBottom value="9px"/>
						<width value="100%"/>
					</style>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block className="icon_warning_grey_big" type="native">
							<style>
								<marginTop value="6px"/>
							</style>
						</block>
						<block type="text">
							<styleClass value="$TextLargeHeaderBold"/>
							<text value="IDS_CONFIRMATION"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block className="ModalWindowCloseIcon">
						<style>
							<position value="absolute"/>
							<right value="-70px"/>
							<top value="9px"/>
							<flow value="horizontal"/>
						</style>
						<bind name="name" value="'btn_cancel'"/>
						<bind name="input"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<style>
								<backgroundColor value="0x01000000"/>
							</style>
							<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
							<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
							<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
							<block>
								<bind name="soundSet" value="'default_button'"/>
								<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
								<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
								<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
								<style>
									<alpha value="0.8"/>
								</style>
								<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
								<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
							</block>
							<block>
								<style>
									<marginTop value="3px"/>
								</style>
								<block className="button_close" type="native">
									<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
									<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
									<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
									<params>
										<param name="focusable" value="false"/>
									</params>
									<bind name="gotoAndPlay!" value="CrossButtonStates"/>
								</block>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.3; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.3; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<marginBottom value="10px"/>
					<marginTop value="6px"/>
					<textAlign value="center"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextAccent"/>
				<bind name="text" value="$root.subtitle"/>
			</block>
			<block>
				<bind name="visible" value="!($root.targetShipIsPremium)"/>
				<styleClass value="$MiddleAligned"/>
				<bind name="style" value="'marginBottom'; $root.instruction.length &gt; 0 ? 8 : 0"/>
				<bind name="instance" value="'InstructionBigTech'; $root.instruction ? { _instructionText: $root.instruction, _maxWidth: '300' } : null"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block className="ModalWindowOkCancel">
			<styleClass value="$MiddleAligned"/>
			<style>
				<flow value="horizontal"/>
				<marginTop value="15px"/>
			</style>
			<block>
				<bind name="appear" value="'startShow'; 0.15; 0.60; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<styleClass value="$InfoLineBoundaries"/>
				<style>
					<width value="129px"/>
					<marginRight value="20px"/>
				</style>
				<bind name="instance" value="'DefaultButton'; {_width: '129px', _name: 'btn_ok', _enabled: true, _isTransactionBtn: true,
													_containerName: ('Modal_window_action_Button' + 'IDS_YES'), _label:  'IDS_YES',
													_focusIndex: 1, _defaultFocused: true}"/>
			</block>
			<block>
				<style>
					<width value="129px"/>
				</style>
				<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<block className="DefaultButtonModal">
					<styleClass value="$InfoLineBoundaries"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="name" value="'Modal_window_action_Button' + 'IDS_NO'"/>
					<block className="button_default" type="native">
						<style>
							<width value="100%"/>
						</style>
						<bind name="label" value="'IDS_NO'"/>
						<params>
							<param name="name" value="btn_cancel"/>
						</params>
						<bind name="input"/>
						<bind name="focus" value="2;false"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="RestartModalWindow">
		<style>
			<width value="450px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<bind name="instance" value="'ModalWindowHeader'; { _header: toUpperCase(tr($root.title))}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.3; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.3; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<block type="text">
				<style>
					<maxWidth value="450"/>
					<textAlign value="center"/>
					<marginBottom value="10px"/>
					<marginTop value="6px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextAccent"/>
				<bind name="text" value="$root.subtitle"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="15px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block>
					<bind name="visible" value="($root.btnTitle != null ? true : false)"/>
					<style>
						<width value="210px"/>
						<marginRight value="30px"/>
					</style>
					<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<block className="DefaultButtonModal">
						<styleClass value="$InfoLineBoundaries"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="name" value="'Modal_window_action_Button' + 'IDS_RESTART_NOW'"/>
						<block className="button_default" type="native">
							<style>
								<width value="100%"/>
							</style>
							<bind name="label" value="'IDS_RESTART_NOW'"/>
							<params>
								<param name="name" value="btn_restart"/>
							</params>
							<bind name="input"/>
							<bind name="focus" value="2;false"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="130px"/>
					</style>
					<bind name="appear" value="'startShow'; 0.15; 0.60; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<block className="DefaultButtonModal">
						<styleClass value="$InfoLineBoundaries"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="name" value="'Modal_window_action_Button' + $root.btnTitle ? $root.btnTitle : 'IDS_OK'"/>
						<block className="button_default" type="native">
							<style>
								<width value="100%"/>
							</style>
							<bind name="label" value="$root.btnTitle ? $root.btnTitle : 'IDS_OK'"/>
							<params>
								<param name="name" value="btn_ok"/>
							</params>
							<bind name="input"/>
							<bind name="focus" value="1;true"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="($root.btnTitle != null ? false : true)"/>
				<style>
					<width value="210px"/>
					<left value="-200px"/>
					<position value="absolute"/>
				</style>
				<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<block className="DefaultButtonModal">
					<styleClass value="$InfoLineBoundaries"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="name" value="'Modal_window_action_Button' + 'IDS_RESTART_NOW'"/>
					<block className="button_default" type="native">
						<style>
							<width value="100%"/>
						</style>
						<bind name="label" value="'IDS_RESTART_NOW'"/>
						<params>
							<param name="name" value="btn_restart"/>
						</params>
						<bind name="input"/>
						<bind name="focus" value="2;false"/>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ConfirmationModalWindowKickPlayer">
		<styleClass value="$ModalWindowDefaultWidth"/>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="ModalWindowHeaderConfirmation">
				<style>
					<marginBottom value="3px"/>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<marginBottom value="9px"/>
						<width value="100%"/>
					</style>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block className="icon_warning_grey_big" type="native">
							<style>
								<marginTop value="6px"/>
							</style>
						</block>
						<block type="text">
							<styleClass value="$TextLargeHeaderBold"/>
							<text value="IDS_CONFIRMATION"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block className="ModalWindowCloseIcon">
						<style>
							<position value="absolute"/>
							<right value="-70px"/>
							<top value="9px"/>
							<flow value="horizontal"/>
						</style>
						<bind name="name" value="'btn_cancel'"/>
						<bind name="input"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<style>
								<backgroundColor value="0x01000000"/>
							</style>
							<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
							<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
							<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
							<block>
								<bind name="soundSet" value="'default_button'"/>
								<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
								<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
								<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
								<style>
									<alpha value="0.8"/>
								</style>
								<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
								<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
							</block>
							<block>
								<style>
									<marginTop value="3px"/>
								</style>
								<block className="button_close" type="native">
									<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
									<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
									<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
									<params>
										<param name="focusable" value="false"/>
									</params>
									<bind name="gotoAndPlay!" value="CrossButtonStates"/>
								</block>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.3; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.3; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginBottom value="10px"/>
					<marginTop value="6px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccent"/>
					<style>
						<styleSheet value="h3
					 	{
					 		color: #FFCC66;
						}"/>
					</style>
					<bind name="text" value="'&lt;body&gt;' + subst($root.subtitle, [], { playerName: $root.name }) + '&lt;/body&gt;'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="style" value="'marginBottom'; $root.instruction.length &gt; 0 ? 8 : 0"/>
				<bind name="instance" value="'InstructionBigTech'; $root.instruction ? { _instructionText: $root.instruction, _maxWidth: '450' } : null"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block className="ModalWindowOkCancel">
			<styleClass value="$MiddleAligned"/>
			<style>
				<flow value="horizontal"/>
				<marginTop value="15px"/>
			</style>
			<block>
				<bind name="appear" value="'startShow'; 0.15; 0.60; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<styleClass value="$InfoLineBoundaries"/>
				<style>
					<width value="129px"/>
					<marginRight value="20px"/>
				</style>
				<bind name="instance" value="'DefaultButton'; {_width: '129px', _name: 'btn_ok', _enabled: true, _isTransactionBtn: true,
													_containerName: ('Modal_window_action_Button' + 'IDS_YES'), _label:  'IDS_YES',
													_focusIndex: 1, _defaultFocused: true}"/>
			</block>
			<block>
				<style>
					<width value="129px"/>
				</style>
				<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<block className="DefaultButtonModal">
					<styleClass value="$InfoLineBoundaries"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="name" value="'Modal_window_action_Button' + 'IDS_NO'"/>
					<block className="button_default" type="native">
						<style>
							<width value="100%"/>
						</style>
						<bind name="label" value="'IDS_NO'"/>
						<params>
							<param name="name" value="btn_cancel"/>
						</params>
						<bind name="input"/>
						<bind name="focus" value="2;false"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="NotificationModalWindow">
		<block type="text">
			<style>
				<marginBottom value="14px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontSizeHeader6'"/>
			<bind name="text" value="$root.title"/>
		</block>
		<block className="ModalWindowOk">
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="15px"/>
			</style>
			<block>
				<bind name="appear" value="'startShow'; 0.15; 0.60; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<style>
					<width value="130px"/>
				</style>
				<block className="DefaultButtonModal">
					<styleClass value="$InfoLineBoundaries"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="name" value="'Modal_window_action_Button' + 'IDS_OK'"/>
					<block className="button_default" type="native">
						<style>
							<width value="100%"/>
						</style>
						<bind name="label" value="'IDS_OK'"/>
						<params>
							<param name="name" value="btn_ok"/>
						</params>
						<bind name="input"/>
						<bind name="focus" value="1;true"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="SimpleModalWindow">
		<styleClass value="$Fullsize"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="modal_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<bind name="class" value="'$MiddleAligned'"/>
			<bind name="class" value="'$EyeLevelVAligned'"/>
			<bind name="child" value="$root.type; 'ConfirmationModalWindow'; 'NotificationModalWindow'; 'ConfirmationModalWindowKickPlayer'; 'RestartModalWindow'"/>
		</block>
	</block>
	<block className="ModalWindowShowDogTag">
		<block className="ModalWindowContainer">
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'startShow'; 0.3; 0.15; 	{alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.45; 	{alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<block className="contrast_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="visible" value="optionData.contrast"/>
				</block>
				<block className="modal_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$EyeLevelVAligned"/>
				<bind name="instance" value="'ModalWindowShowDogTagContent'; {}"/>
			</block>
		</block>
	</block>
	<block className="ModalWindowShowDogTagContent">
		<bind name="primaryEntityDH" value="'userEntity'; CC.accountSimple; $root.userId"/>
		<bind name="watchDH" value="'dogTagList';['userEntity.dogTagView.evComponentsChanged']; userEntity.dogTagView.components"/>
		<style>
			<width value="1184px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
					<right value="4px"/>
					<top value="9px"/>
				</style>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="0px"/>
						<top value="0px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="soundSet" value="'default_button'"/>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="toUpperCase(tr('IDS_MODAL_WINDOW_PLAYER_DOG_TAG_HEADER'))"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginTop value="10px"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="20px"/>
				<flow value="horizontal"/>
			</style>
			<block>
				<style>
					<width value="80px"/>
					<height value="80px"/>
					<marginTop value="4px"/>
					<marginLeft value="4px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_TOOLTIP_PLAYER_STEREOTYPE_DOGTAG'}"/>
				<bind name="instance" value="'PlayerDogTag'; {_playerDbId: $root.userId, _size: 'small'}"/>
			</block>
			<block>
				<style>
					<marginLeft value="12px"/>
				</style>
				<bind name="instance" value="'PlayerStereotype'; {_playerDbId: $root.userId, _width: 'auto'}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="8px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block>
					<style>
						<width value="512px"/>
						<height value="512px"/>
					</style>
					<bind name="objectUnderPoint" value="'flash.display::Shape'"/>
					<bind name="entityDH" value="'entityToView'; _entityToViewId"/>
					<bind name="watchDH" value="'enabled'; ['entityToView.dogTagComponent.evUpdate']; entityToView.dogTagComponent.enabled"/>
					<bind name="watchDH" value="'iconPath'; ['entityToView.dogTagComponent.evUpdate']; entityToView.dogTagComponent.iconPath"/>
					<bind name="watchDH" value="'categoryId'; ['entityToView.dogTagComponent.evUpdate']; entityToView.dogTagComponent.categoryId"/>
					<bind name="watchDH" value="'gpName'; ['entityToView.dogTagComponent.evUpdate']; entityToView.dogTagComponent.gpName"/>
					<bind name="catch" value="'viewDogTagChanged'"/>
					<bind name="repeat" value="dogTagList; 'DogTagDollImageViewItemRenderer'"/>
					<bind name="tooltip" value="'DogTagComponentTooltip'; (_entityToViewId == -1) ? null : {_id: _entityToViewId, isNotSelf: true}"/>
				</block>
			</block>
		</block>
	</block>
	<block className="DogTagDollImageViewItemRenderer">
		<bind name="primaryEntityDH" value="'entity'; CC.dogTagComponent; $value"/>
		<bind name="watchDH" value="'gpName'; ['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.gpName"/>
		<bind name="watchDH" value="'id'; ['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.id"/>
		<bind name="watchDH" value="'iconPath'; ['entity.dogTagComponent.evUpdate']; entity.dogTagComponent.iconPath"/>
		<style>
			<width value="512px"/>
			<height value="512px"/>
			<backgroundStretchX value="true"/>
			<backgroundStretchY value="true"/>
			<position value="absolute"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'url:../dogTags/big/' + iconPath"/>
		<block>
			<bind name="style" value="'backgroundImage'; 'symbol:' + gpName + '_big'"/>
		</block>
		<bind name="mc" value="gpName + '_big_mask'; ['objUnderPoint', 'noObjUnderPoint']"/>
		<bind name="dispatch" value="'objUnderPoint'; 'viewDogTagChanged'; {_entityToViewId:id}"/>
		<bind name="dispatch" value="'noObjUnderPoint'; 'viewDogTagChanged'; {_entityToViewId:-1}"/>
	</block>
	<css name="$HugeMargins">
		<width value="100%"/>
		<marginTop value="10px"/>
		<marginLeft value="18px"/>
		<marginBottom value="10px"/>
		<marginRight value="18px"/>
	</css>
	<block className="ModalWindowTrainingRoomsList">
		<styleClass value="$Fullsize"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap3" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.3; 0.4; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1}; {alpha: 0}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="modal_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="ModalWindowTrainingRoomsContent">
			<bind name="action" value="'startShow'; 'startUpdateTrainingRooms'; {}"/>
			<bind name="action" value="'startHide'; 'stopUpdateTrainingRooms'; {}"/>
			<bind name="action" value="'hideTrainingRoomsEv'; 'hideTrainingRooms'; {}"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
			<bind name="primaryEntityDH" value="'battleTypeEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
			<bind name="watchDH" value="'battleTypeDenyReasons'; ['battleTypeEntity.battleType.evDisableReasonChanged']; battleTypeEntity.battleType.battleTypeReasons"/>
			<bind name="watch" value="'isTrainingRoomsEnabled'; !(divisionData.divisionExist)"/>
			<bind name="var" value="{windowAppearLag: 0.2}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="1188px"/>
				<height value="100%"/>
				<paddingTop value="720:30,1080:86ah"/>
				<paddingBottom value="720:40,1080:86ah"/>
			</style>
			<block>
				<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 0 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
				<bind name="appear" value="'startHide'; 0.15; 0 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<position value="absolute"/>
						<top value="-7px"/>
						<left value="-23px"/>
					</style>
					<bind name="instance" value="'BackButton'; {_text: 'IDS_RETURN_TO_DOCK', _event: 'hideTrainingRoomsEv'}"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<right value="-13px"/>
					</style>
					<block className="ModalWindowCloseIcon">
						<style>
							<position value="absolute"/>
							<right value="0px"/>
							<top value="0px"/>
							<flow value="horizontal"/>
						</style>
						<bind name="name" value="'btn_cancel'"/>
						<bind name="input"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<style>
								<backgroundColor value="0x01000000"/>
							</style>
							<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
							<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
							<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
							<block>
								<bind name="soundSet" value="'default_button'"/>
								<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
								<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
								<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
								<style>
									<alpha value="0.8"/>
								</style>
								<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
								<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
							</block>
							<block>
								<style>
									<marginTop value="3px"/>
								</style>
								<block className="button_close" type="native">
									<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
									<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
									<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
									<params>
										<param name="focusable" value="false"/>
									</params>
									<bind name="gotoAndPlay!" value="CrossButtonStates"/>
								</block>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block>
						<style>
							<marginBottom value="10px"/>
							<alpha value="0.9"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<block type="text">
							<styleClass value="$TextDefaultBold21NM"/>
							<bind name="text" value="toUpperCase(tr('IDS_CUSTOMROOMSLABEL'))"/>
						</block>
					</block>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
					<block>
						<style>
							<marginTop value="10px"/>
							<marginBottom value="10px"/>
							<alpha value="0.8"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<block type="text">
							<styleClass value="$TextDefault17NM"/>
							<bind name="class" value="'$FontColorBlueish'"/>
							<bind name="text" value="'IDS_CUSTOMROOMSDESCRIPTION1LABEL'"/>
						</block>
					</block>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
			<bind name="watchDH" value="'selfName'; ['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
			<bind name="firstEntityDH" value="'roomsListWindowStateEntity'; CC.trainingRoomsListWindowState"/>
			<bind name="watchDH" value="'isProcessing'; ['roomsListWindowStateEntity.trainingRoomsListWindowState.evUpdate']; roomsListWindowStateEntity.trainingRoomsListWindowState.isProcessing"/>
			<bind name="collectionDH" value="CC.trainingRoom; 'trainingRoomsAll'"/>
			<bind name="collectionDesign" value="'DES_trainingRoomsAll'; 'trainingRooms'; {
			'filter': ($entity.trainingRoom.ownerName != selfName),
			'sort': [currentSortField],
			'sortOrder': [currentSortType]
		}; ['trainingRoom.evUpdate']"/>
			<bind name="watch" value="'noTrainingRooms'; trainingRooms.length == 0 || !isTrainingRoomsEnabled"/>
			<block>
				<style>
					<width value="100%"/>
					<height value="40px"/>
					<marginTop value="720:16,1080:32ah"/>
					<marginBottom value="2px"/>
				</style>
				<bind name="transition" value="!noTrainingRooms || playerNameFilter != '' || isProcessing; 0.5; {alpha: 0}; {alpha: 1}"/>
				<bind name="visible" value="!noTrainingRooms || playerNameFilter != '' || isProcessing"/>
				<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 1 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
				<bind name="appear" value="'startHide'; 0.15; 1 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<bind name="watch" value="'currentSortField'; activeSorting == 'players' ? 'trainingRoom.currPlayersCount' : 'trainingRoom.mapId'"/>
				<bind name="watch" value="'currentSortType'; activeSorting == 'players' ? playersSortType : mapsSortType"/>
				<bind name="var" value="{
			mapsSortType: 0,
			playersSortType: 2,
			activeSorting: 'players',
			playerNameFilter: '',
			isEditingPlayerName: false
		}"/>
				<block>
					<style>
						<width value="346px"/>
						<height value="100%"/>
					</style>
					<bind name="catch" value="'TextSortingBlock.mapSortChanged'; {mapsSortType: mapsSortType == 2 ? 0 : 2, activeSorting: 'maps'}"/>
					<bind name="instance" value="'TextSortingBlock'; {	_label: 'IDS_TRAINING_MAP', _isSort: true, _sortType: mapsSortType, 
													_sortChangedEvent: 'mapSortChanged', _active: activeSorting == 'maps'}"/>
				</block>
				<block>
					<style>
						<width value="728px"/>
						<height value="100%"/>
						<backgroundColor value="0x01FFFFFF"/>
					</style>
					<block>
						<bind name="name" value="'organizerSearchBtn'"/>
						<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; null; 'organizer_'"/>
						<bind name="visible" value="!(isEditingPlayerName)"/>
						<style>
							<height value="100%"/>
							<marginRight value="16px"/>
							<marginLeft value="16px"/>
							<backgroundColor value="0x01ff0000"/>
						</style>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_SEARCH_BY_ORGANIZER_NAME'}"/>
						<bind name="catch" value="'click'; {isEditingPlayerName: true}"/>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<style>
								<hitTest value="false"/>
							</style>
							<block type="text">
								<bind name="transition" value="organizer_rollOver; 0.1; {alpha: 0.85}; {alpha: 1}; {alpha: 0.85}"/>
								<style>
									<multiline value="false"/>
								</style>
								<styleClass value="$TextDefaultBold17NM"/>
								<bind name="class" value="'$FontColorBlueish'"/>
								<bind name="text" value="'IDS_TRAINING_ORGANIZER'"/>
							</block>
							<block className="button_search" type="native">
								<bind name="event" value="'organizer_rollOver' + varChanged; 'gotoAndStop'; organizer_rollOver ? 'over' : 'up'"/>
								<style>
									<marginTop value="-3"/>
									<marginLeft value="8px"/>
								</style>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
					<bind name="catch" value="'evWrongSymbolInputed'; {isWrongSymbol: true}"/>
					<bind name="catch" value="'TrainingRoomTextInput.pNameSearchCancelled'; {isEditingPlayerName: false, pNameStr: ''}"/>
					<block>
						<bind name="visible" value="isEditingPlayerName"/>
						<style>
							<width value="240px"/>
							<marginLeft value="36px"/>
						</style>
						<styleClass value="$MiddleVAligned"/>
						<block>
							<style>
								<position value="absolute"/>
								<top value="0px"/>
								<left value="-26px"/>
							</style>
							<bind name="watch" value="'validationState'; isProcessing	? 'validation' :
													isWrongName		? 'invalid'
																	: ''"/>
							<bind name="instance" value="'ValidationState'; (pNameStr.length &gt; 0) ? {_validationState: validationState} : null"/>
						</block>
						<block>
							<style>
								<width value="100%"/>
							</style>
							<bind name="instance" value="'TrainingRoomTextInputPlayerName'; isEditingPlayerName ? {	onEnterEvent: 'playerFilterInputEnter',
																								onInputStrChangedEvent: 'pNameStrChanged',
																								onCancelEvent: 'pNameSearchCancelled',
																								_onEnterTooltipText: 'IDS_HINT_FIND',
																								_disableCloseBtn: false,
																								_maxChars: realmConstants.nicknameMaxLength,
																								_restrict: realmConstants.nicknameRestrict,
																								_restrictRegexp: realmConstants.nicknameRestrictRegexp,
																								_defaultText: 'IDS_ENTER_PLAYER_NAME',
																								_closeButtonTooltipText: 'IDS_CANCEL_ORGANIZER_SEARCH'}
																							: null"/>
						</block>
						<bind name="catch" value="'pNameStr' + varChanged; {playerNameFilter: pNameStr, isWrongName: pNameStr.length &lt; 3 &amp;&amp; pNameStr != '', isWrongSymbol: false}; 'evOwnerNameFilterChanged'"/>
						<bind name="catch" value="'TrainingRoomTextInput.pNameStrChanged'"/>
						<bind name="request" value="'evOwnerNameFilterChanged'; !isWrongName ? 'setOwnerNameFilter' : ''; {ownerName: playerNameFilter}"/>
						<block>
							<styleClass value="$MiddleAlignedAbsolutely"/>
							<style>
								<position value="absolute"/>
								<width value="350px"/>
								<bottom value="24px"/>
							</style>
							<bind name="instance" value="'WrongTextInputNotification'; 	isWrongName || isWrongSymbol	? {	_maxWidth : 350, _startTop: 10,
																				 						_text: isWrongSymbol ? tr('IDS_LOGIN_SCREEN_WRONG_SYMBOL_INPUT')
																				 											 : tr('IDS_LOGIN_SCREEN_NAME_RESTRICTIONS')
																				 					  }
																									: null"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<block>
					<style>
						<width value="114px"/>
						<height value="100%"/>
					</style>
					<bind name="catch" value="'TextSortingBlock.playersSortChanged'; {playersSortType: playersSortType == 2 ? 0
																															: 2,
																activeSorting: 'players'}"/>
					<bind name="instance" value="'TextSortingBlock'; {	_label: 'IDS_PLAYERS', _isSort: true, _align: 'right', 
													_sortType: playersSortType, _sortChangedEvent: 'playersSortChanged',
													_active: activeSorting == 'players'}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<position value="absolute"/>
						<bottom value="-2"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="!noTrainingRooms"/>
				<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
				<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<styleClass value="$Fullsize"/>
				<styleClass value="$DefaultScrollBar"/>
				<style>
					<overflow value="scroll"/>
				</style>
				<bind name="repeat" value="trainingRooms; 'TrainingRoomListItemRenderer'; {}"/>
			</block>
			<block>
				<bind name="visible" value="noTrainingRooms"/>
				<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
				<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<bind name="transition" value="noTrainingRooms; 0.5; {alpha: 0}; {alpha: 1}"/>
				<styleClass value="$Fullsize"/>
				<style>
					<alpha value="0.85"/>
				</style>
				<bind name="instance" value="'NoItemsComeBackLater'; noTrainingRooms ? { _disableSubText: true, _type: noTrainingRooms &amp;&amp; playerNameFilter == '' &amp;&amp; !isProcessing ? 'TRAINING_ROOMS_CREATED' : 'TRAINING_ROOMS_SUITED_FOR_REQUEST' }
																: null"/>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 3 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
				<bind name="appear" value="'startHide'; 0.15; 3 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<style>
					<align value="right"/>
					<marginTop value="720:24,1080:32ah"/>
					<width value="100%"/>
					<marginBottom value="16px"/>
				</style>
				<block>
					<block className="button_default" type="native">
						<bind name="enabled" value="isTrainingRoomsEnabled"/>
						<bind name="focus" value="0; true"/>
						<bind name="name" value="'ButtonCreateTrainingRoom'"/>
						<bind name="label" value="toUpperCase(tr('IDS_CREATEROOMBUTTON'))"/>
						<bind name="action" value="'buttonClick'; isTrainingRoomsEnabled ? 'createTrainingRoomWindow' : ''; {}"/>
						<bind name="dispatch" value="'buttonClick'; isTrainingRoomsEnabled ? 'hideTrainingRoomsEv' : ''; {}"/>
						<block type="text">
							<style>
								<marginLeft value="28px"/>
								<marginRight value="28px"/>
								<marginTop value="9px"/>
								<marginBottom value="9px"/>
								<alpha value="0"/>
							</style>
							<styleClass value="$TextDefaultBoldNM"/>
							<bind name="text" value="toUpperCase(tr('IDS_CREATEROOMBUTTON'))"/>
						</block>
					</block>
					<bind name="tooltip" value="'MouseInstructionTooltip'; {_mouseInstructions:	isTrainingRoomsEnabled	? [{_type: 'left', _instructionText: 'IDS_CREATE_TRAINING_BUTTON_TOOLTIP'}]
																									: [{_type: 'warning', _instructionText: battleTypeDenyReasons[0]}],
															_maxWidth: 250}"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowTrainingRoomsContent">
		<bind name="action" value="'startShow'; 'startUpdateTrainingRooms'; {}"/>
		<bind name="action" value="'startHide'; 'stopUpdateTrainingRooms'; {}"/>
		<bind name="action" value="'hideTrainingRoomsEv'; 'hideTrainingRooms'; {}"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="primaryEntityDH" value="'battleTypeEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
		<bind name="watchDH" value="'battleTypeDenyReasons'; ['battleTypeEntity.battleType.evDisableReasonChanged']; battleTypeEntity.battleType.battleTypeReasons"/>
		<bind name="watch" value="'isTrainingRoomsEnabled'; !(divisionData.divisionExist)"/>
		<bind name="var" value="{windowAppearLag: 0.2}"/>
		<styleClass value="$MiddleAligned"/>
		<style>
			<width value="1188px"/>
			<height value="100%"/>
			<paddingTop value="720:30,1080:86ah"/>
			<paddingBottom value="720:40,1080:86ah"/>
		</style>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 0 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="appear" value="'startHide'; 0.15; 0 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
					<top value="-7px"/>
					<left value="-23px"/>
				</style>
				<bind name="instance" value="'BackButton'; {_text: 'IDS_RETURN_TO_DOCK', _event: 'hideTrainingRoomsEv'}"/>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<right value="-13px"/>
				</style>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="0px"/>
						<top value="0px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="soundSet" value="'default_button'"/>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<marginBottom value="10px"/>
						<alpha value="0.9"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<styleClass value="$TextDefaultBold21NM"/>
						<bind name="text" value="toUpperCase(tr('IDS_CUSTOMROOMSLABEL'))"/>
					</block>
				</block>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
				<block>
					<style>
						<marginTop value="10px"/>
						<marginBottom value="10px"/>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<styleClass value="$TextDefault17NM"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="'IDS_CUSTOMROOMSDESCRIPTION1LABEL'"/>
					</block>
				</block>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfName'; ['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="firstEntityDH" value="'roomsListWindowStateEntity'; CC.trainingRoomsListWindowState"/>
		<bind name="watchDH" value="'isProcessing'; ['roomsListWindowStateEntity.trainingRoomsListWindowState.evUpdate']; roomsListWindowStateEntity.trainingRoomsListWindowState.isProcessing"/>
		<bind name="collectionDH" value="CC.trainingRoom; 'trainingRoomsAll'"/>
		<bind name="collectionDesign" value="'DES_trainingRoomsAll'; 'trainingRooms'; {
			'filter': ($entity.trainingRoom.ownerName != selfName),
			'sort': [currentSortField],
			'sortOrder': [currentSortType]
		}; ['trainingRoom.evUpdate']"/>
		<bind name="watch" value="'noTrainingRooms'; trainingRooms.length == 0 || !isTrainingRoomsEnabled"/>
		<block>
			<style>
				<width value="100%"/>
				<height value="40px"/>
				<marginTop value="720:16,1080:32ah"/>
				<marginBottom value="2px"/>
			</style>
			<bind name="transition" value="!noTrainingRooms || playerNameFilter != '' || isProcessing; 0.5; {alpha: 0}; {alpha: 1}"/>
			<bind name="visible" value="!noTrainingRooms || playerNameFilter != '' || isProcessing"/>
			<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 1 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="appear" value="'startHide'; 0.15; 1 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
			<bind name="watch" value="'currentSortField'; activeSorting == 'players' ? 'trainingRoom.currPlayersCount' : 'trainingRoom.mapId'"/>
			<bind name="watch" value="'currentSortType'; activeSorting == 'players' ? playersSortType : mapsSortType"/>
			<bind name="var" value="{
			mapsSortType: 0,
			playersSortType: 2,
			activeSorting: 'players',
			playerNameFilter: '',
			isEditingPlayerName: false
		}"/>
			<block>
				<style>
					<width value="346px"/>
					<height value="100%"/>
				</style>
				<bind name="catch" value="'TextSortingBlock.mapSortChanged'; {mapsSortType: mapsSortType == 2 ? 0 : 2, activeSorting: 'maps'}"/>
				<bind name="instance" value="'TextSortingBlock'; {	_label: 'IDS_TRAINING_MAP', _isSort: true, _sortType: mapsSortType, 
													_sortChangedEvent: 'mapSortChanged', _active: activeSorting == 'maps'}"/>
			</block>
			<block>
				<style>
					<width value="728px"/>
					<height value="100%"/>
					<backgroundColor value="0x01FFFFFF"/>
				</style>
				<block>
					<bind name="name" value="'organizerSearchBtn'"/>
					<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; null; 'organizer_'"/>
					<bind name="visible" value="!(isEditingPlayerName)"/>
					<style>
						<height value="100%"/>
						<marginRight value="16px"/>
						<marginLeft value="16px"/>
						<backgroundColor value="0x01ff0000"/>
					</style>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_SEARCH_BY_ORGANIZER_NAME'}"/>
					<bind name="catch" value="'click'; {isEditingPlayerName: true}"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<hitTest value="false"/>
						</style>
						<block type="text">
							<bind name="transition" value="organizer_rollOver; 0.1; {alpha: 0.85}; {alpha: 1}; {alpha: 0.85}"/>
							<style>
								<multiline value="false"/>
							</style>
							<styleClass value="$TextDefaultBold17NM"/>
							<bind name="class" value="'$FontColorBlueish'"/>
							<bind name="text" value="'IDS_TRAINING_ORGANIZER'"/>
						</block>
						<block className="button_search" type="native">
							<bind name="event" value="'organizer_rollOver' + varChanged; 'gotoAndStop'; organizer_rollOver ? 'over' : 'up'"/>
							<style>
								<marginTop value="-3"/>
								<marginLeft value="8px"/>
							</style>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
				<bind name="catch" value="'evWrongSymbolInputed'; {isWrongSymbol: true}"/>
				<bind name="catch" value="'TrainingRoomTextInput.pNameSearchCancelled'; {isEditingPlayerName: false, pNameStr: ''}"/>
				<block>
					<bind name="visible" value="isEditingPlayerName"/>
					<style>
						<width value="240px"/>
						<marginLeft value="36px"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<style>
							<position value="absolute"/>
							<top value="0px"/>
							<left value="-26px"/>
						</style>
						<bind name="watch" value="'validationState'; isProcessing	? 'validation' :
													isWrongName		? 'invalid'
																	: ''"/>
						<bind name="instance" value="'ValidationState'; (pNameStr.length &gt; 0) ? {_validationState: validationState} : null"/>
					</block>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'TrainingRoomTextInputPlayerName'; isEditingPlayerName ? {	onEnterEvent: 'playerFilterInputEnter',
																								onInputStrChangedEvent: 'pNameStrChanged',
																								onCancelEvent: 'pNameSearchCancelled',
																								_onEnterTooltipText: 'IDS_HINT_FIND',
																								_disableCloseBtn: false,
																								_maxChars: realmConstants.nicknameMaxLength,
																								_restrict: realmConstants.nicknameRestrict,
																								_restrictRegexp: realmConstants.nicknameRestrictRegexp,
																								_defaultText: 'IDS_ENTER_PLAYER_NAME',
																								_closeButtonTooltipText: 'IDS_CANCEL_ORGANIZER_SEARCH'}
																							: null"/>
					</block>
					<bind name="catch" value="'pNameStr' + varChanged; {playerNameFilter: pNameStr, isWrongName: pNameStr.length &lt; 3 &amp;&amp; pNameStr != '', isWrongSymbol: false}; 'evOwnerNameFilterChanged'"/>
					<bind name="catch" value="'TrainingRoomTextInput.pNameStrChanged'"/>
					<bind name="request" value="'evOwnerNameFilterChanged'; !isWrongName ? 'setOwnerNameFilter' : ''; {ownerName: playerNameFilter}"/>
					<block>
						<styleClass value="$MiddleAlignedAbsolutely"/>
						<style>
							<position value="absolute"/>
							<width value="350px"/>
							<bottom value="24px"/>
						</style>
						<bind name="instance" value="'WrongTextInputNotification'; 	isWrongName || isWrongSymbol	? {	_maxWidth : 350, _startTop: 10,
																				 						_text: isWrongSymbol ? tr('IDS_LOGIN_SCREEN_WRONG_SYMBOL_INPUT')
																				 											 : tr('IDS_LOGIN_SCREEN_NAME_RESTRICTIONS')
																				 					  }
																									: null"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<style>
					<width value="114px"/>
					<height value="100%"/>
				</style>
				<bind name="catch" value="'TextSortingBlock.playersSortChanged'; {playersSortType: playersSortType == 2 ? 0
																															: 2,
																activeSorting: 'players'}"/>
				<bind name="instance" value="'TextSortingBlock'; {	_label: 'IDS_PLAYERS', _isSort: true, _align: 'right', 
													_sortType: playersSortType, _sortChangedEvent: 'playersSortChanged',
													_active: activeSorting == 'players'}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<bottom value="-2"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="!noTrainingRooms"/>
			<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
			<styleClass value="$Fullsize"/>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<overflow value="scroll"/>
			</style>
			<bind name="repeat" value="trainingRooms; 'TrainingRoomListItemRenderer'; {}"/>
		</block>
		<block>
			<bind name="visible" value="noTrainingRooms"/>
			<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 2 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="appear" value="'startHide'; 0.15; 2 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
			<bind name="transition" value="noTrainingRooms; 0.5; {alpha: 0}; {alpha: 1}"/>
			<styleClass value="$Fullsize"/>
			<style>
				<alpha value="0.85"/>
			</style>
			<bind name="instance" value="'NoItemsComeBackLater'; noTrainingRooms ? { _disableSubText: true, _type: noTrainingRooms &amp;&amp; playerNameFilter == '' &amp;&amp; !isProcessing ? 'TRAINING_ROOMS_CREATED' : 'TRAINING_ROOMS_SUITED_FOR_REQUEST' }
																: null"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; windowAppearLag + 3 * 0.075; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 1"/>
			<bind name="appear" value="'startHide'; 0.15; 3 * 0.055; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
			<style>
				<align value="right"/>
				<marginTop value="720:24,1080:32ah"/>
				<width value="100%"/>
				<marginBottom value="16px"/>
			</style>
			<block>
				<block className="button_default" type="native">
					<bind name="enabled" value="isTrainingRoomsEnabled"/>
					<bind name="focus" value="0; true"/>
					<bind name="name" value="'ButtonCreateTrainingRoom'"/>
					<bind name="label" value="toUpperCase(tr('IDS_CREATEROOMBUTTON'))"/>
					<bind name="action" value="'buttonClick'; isTrainingRoomsEnabled ? 'createTrainingRoomWindow' : ''; {}"/>
					<bind name="dispatch" value="'buttonClick'; isTrainingRoomsEnabled ? 'hideTrainingRoomsEv' : ''; {}"/>
					<block type="text">
						<style>
							<marginLeft value="28px"/>
							<marginRight value="28px"/>
							<marginTop value="9px"/>
							<marginBottom value="9px"/>
							<alpha value="0"/>
						</style>
						<styleClass value="$TextDefaultBoldNM"/>
						<bind name="text" value="toUpperCase(tr('IDS_CREATEROOMBUTTON'))"/>
					</block>
				</block>
				<bind name="tooltip" value="'MouseInstructionTooltip'; {_mouseInstructions:	isTrainingRoomsEnabled	? [{_type: 'left', _instructionText: 'IDS_CREATE_TRAINING_BUTTON_TOOLTIP'}]
																									: [{_type: 'warning', _instructionText: battleTypeDenyReasons[0]}],
															_maxWidth: 250}"/>
			</block>
		</block>
	</block>
	<block className="TextSortingBlock">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="dispatch" value="'mouseDown'; 'TextSortingBlock.' + _sortChangedEvent; {}"/>
		<styleClass value="$Fullsize"/>
		<style>
			<backgroundColor value="0x01FFFFFF"/>
		</style>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _label + '_SORT_TOOLTIP'}"/>
		<block>
			<bind name="visible" value="(_active == true)"/>
			<bind name="transition" value="rollOver; 0.1; {alpha: 0.5}; {alpha: 1}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundColor value="0x20FFFFFF"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="((_active != true) &amp;&amp; (_isSort == true))"/>
			<bind name="transition" value="rollOver; 0.1; {alpha: 0}; {alpha: 1}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundColor value="0x10FFFFFF"/>
			</style>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="style" value="'paddingLeft'; _align != 'right' ? '16px' : '0px'"/>
			<bind name="style" value="'paddingRight'; _align == 'right' ? '16px' : '0px'"/>
			<bind name="style" value="'align'; _align ? _align : 'left'"/>
			<style>
				<flow value="horizontal"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<bind name="transition" value="rollOver; 0.1; {alpha: 0.85}; {alpha: 1}; {alpha: 0.85}"/>
					<styleClass value="$TextDefaultBold17NM"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="_label"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="_active == true"/>
				<styleClass value="$MiddleVAligned"/>
				<block>
					<style>
						<marginTop value="7px"/>
						<marginBottom value="-2px"/>
						<marginLeft value="6px"/>
						<hitTest value="false"/>
					</style>
					<bind name="transition" value="_active; 0.05; {alpha: 0}; {alpha: 1}"/>
					<block className="button_expand_v" type="native">
						<bind name="scaleY" value="-1"/>
						<bind name="style" value="'alpha'; _sortType == 0 ? '1.0' : '0.6'"/>
					</block>
					<block className="button_expand_v" type="native">
						<style>
							<position value="absolute"/>
						</style>
						<bind name="style" value="'alpha'; _sortType == 2 ? '1.0' : '0.6'"/>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="TrainingRoomListItemRenderer">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="dataRefDH" value="'entityRoom'; '$dataRef.ref'"/>
		<bind name="clickSplit"/>
		<bind name="watchDH" value="'roomMapId'; 			['entityRoom.trainingRoom.evUpdate']; entityRoom.trainingRoom.mapId"/>
		<bind name="watchDH" value="'description'; 			['entityRoom.trainingRoom.evUpdate']; entityRoom.trainingRoom.description"/>
		<bind name="watchDH" value="'duration'; 				['entityRoom.trainingRoom.evUpdate']; entityRoom.trainingRoom.duration"/>
		<bind name="watchDH" value="'currPlayersCount'; 		['entityRoom.trainingRoom.evUpdate']; entityRoom.trainingRoom.currPlayersCount"/>
		<bind name="watchDH" value="'teamSize'; 				['entityRoom.trainingRoom.evUpdate']; entityRoom.trainingRoom.teamSize"/>
		<bind name="watchDH" value="'scenario'; 				['entityRoom.trainingRoom.evUpdate']; entityRoom.trainingRoom.scenario"/>
		<bind name="watchDH" value="'commandersManagement'; 	['entityRoom.trainingRoom.evUpdate']; entityRoom.trainingRoom.commandersManagement"/>
		<bind name="watchDH" value="'password'; 				['entityRoom.passwordedRoom.evUpdate']; entityRoom.passwordedRoom.password"/>
		<bind name="primaryEntityDH" value="'mapInfoEntity'; CC.mapInfo; roomMapId"/>
		<bind name="watch" value="'isPassworded'; password ? true : false"/>
		<bind name="primaryEntityDH" value="'preBattleEntity'; CC.preBattle; entityRoom.preBattle.id"/>
		<bind name="watchDH" value="'isInBattle'; ['preBattleEntity.preBattle.evStatusChanged']; preBattleEntity.preBattle.isInBattle"/>
		<bind name="dispatch" value="'click'; !isPassworded ? 'hideTrainingRoomsEv' : ''; {}"/>
		<bind name="action" value="'click'; isPassworded ? 'joinPasswordedRoom' : 'joinTrainingRoom'; { preBattleId: entityRoom.preBattle.id }"/>
		<style>
			<width value="100%"/>
			<height value="96px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="346px"/>
				<height value="100%"/>
				<backgroundSize value="cover"/>
				<hitTest value="false"/>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../bg/training_room_maps_preview/' + mapInfoEntity.mapInfo.gpName + '.jpg'"/>
		</block>
		<block className="dock_submenu_item_bg" type="native">
			<bind name="name" value="'trainingRoomList_' + $index"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; {_mouseInstructions: [{_type: 'left', _instructionText: 'IDS_JOIN_TRAINING_ROOM_MOUSE_HINT'}], _maxWidth: 250}"/>
			<bind name="transition" value="rollOver || _rollOver; 0.1; {alpha: 0}; {alpha: 0.9}"/>
		</block>
		<block>
			<style>
				<width value="346px"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<block>
				<styleClass value="$Fullsize"/>
				<bind name="instance" value="'TextDataBlock'; {	_headerText: 'IDS_' + toUpperCase(mapInfoEntity.mapInfo.name), 
												_text: scenario != '' ? 'IDS_SCENARIO_' + toUpperCase(scenario) : ''}"/>
			</block>
			<block>
				<bind name="visible" value="(isPassworded || commandersManagement || isInBattle)"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginRight value="8px"/>
					<align value="right"/>
				</style>
				<block>
					<block>
						<bind name="visible" value="isPassworded ? true : false"/>
						<style>
							<width value="31px"/>
							<height value="31px"/>
						</style>
						<bind name="style" value="'backgroundImage'; 'url:../service_kit/icons/icon_lock_closed.png'"/>
					</block>
					<block>
						<bind name="visible" value="commandersManagement ? true : false"/>
						<style>
							<width value="31px"/>
							<height value="31px"/>
						</style>
						<bind name="style" value="'backgroundImage'; 'url:../service_kit/icons/icon_training_commanders.png'"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="isInBattle ? true : false"/>
					<style>
						<width value="31px"/>
						<height value="31px"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:../service_kit/icons/icon_training_battle_big.png'"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="354px"/>
				<paddingLeft value="16px"/>
				<backgroundColor value="0x01000000"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<bind name="name" value="'ownerName_' + entityRoom.trainingRoom.ownerName"/>
				<style>
					<width value="100%"/>
					<alpha value="0.9"/>
					<marginTop value="-4px"/>
				</style>
				<styleClass value="$TextDefaultBold17NM"/>
				<bind name="text" value="entityRoom.trainingRoom.ownerName"/>
			</block>
			<block type="text">
				<bind name="name" value="description ? 'roomDescription_' + description : ''"/>
				<bind name="visible" value="(description ? true : false)"/>
				<style>
					<width value="100%"/>
					<alpha value="0.85"/>
					<leading value="-2"/>
					<marginTop value="10px"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="description"/>
			</block>
		</block>
		<bind name="watchDH" value="'selectedFilters'; ['entityRoom.shipRestrictions.evUpdate']; entityRoom.shipRestrictions.selectedFilters"/>
		<bind name="watchDH" value="'typesCount'; ['entityRoom.divisionRestrictions.evUpdate']; entityRoom.divisionRestrictions.typesCount"/>
		<bind name="primaryEntityDH" value="'defaultRestrictionsEntity'; CC.battleType; BattleTypes.TRAINING_BATTLE"/>
		<bind name="watchDH" value="'defaultTypesCount' ; ['defaultRestrictionsEntity.divisionRestrictions.evUpdate']; defaultRestrictionsEntity.divisionRestrictions.typesCount"/>
		<bind name="watch" value="'isCarriersRestricted'; typesCount[ShipTypes.AircraftCarrier] &amp;&amp; typesCount[ShipTypes.AircraftCarrier][1] != defaultTypesCount[ShipTypes.AircraftCarrier][1]"/>
		<bind name="watch" value="'isBattleShipsRestricted'; typesCount[ShipTypes.BattleShip] &amp;&amp; typesCount[ShipTypes.BattleShip][1] != defaultTypesCount[ShipTypes.BattleShip][1]"/>
		<bind name="watch" value="'isCruisersRestricted'; typesCount[ShipTypes.Cruiser] &amp;&amp; typesCount[ShipTypes.Cruiser][1] != defaultTypesCount[ShipTypes.Cruiser][1]"/>
		<bind name="watch" value="'isDestroyersRestricted'; typesCount[ShipTypes.Destroyer] &amp;&amp; typesCount[ShipTypes.Destroyer][1] != defaultTypesCount[ShipTypes.Destroyer][1]"/>
		<bind name="watch" value="'isAnyShipRestricted'; isCarriersRestricted || isBattleShipsRestricted || isCruisersRestricted || isDestroyersRestricted"/>
		<bind name="contains" value="typesCount; $item[1] == -1; 'isAnyShipTypeNotAllowed'"/>
		<bind name="watch" value="'hasTrainingRoomRestrictions'; ((selectedFilters.length &gt; 0) || isShipRestrictionsVisible)"/>
		<bind name="watch" value="'isShipRestrictionsVisible'; isAnyShipRestricted &amp;&amp; isAnyShipTypeNotAllowed"/>
		<block>
			<style>
				<width value="300px"/>
				<height value="100%"/>
				<backgroundColor value="0x01000000"/>
				<hitTest value="false"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<right value="0"/>
				</style>
				<bind name="instance" value="'TrainingRoomAppliedFilter'; hasTrainingRoomRestrictions	? {	_width: '260px', _trainingRoomEntityId: entityRoom.id, 
																							_showShipRestrictions: isShipRestrictionsVisible,
																							_maxFiltersCount: 20, _align: 'right'}
																						: null"/>
			</block>
		</block>
		<block>
			<style>
				<width value="88px"/>
				<height value="100%"/>
				<backgroundColor value="0x01000000"/>
				<hitTest value="false"/>
			</style>
			<bind name="instance" value="'TextDataBlock'; {_align: 'right', _text: (duration / 60) + ' ' + tr('IDS_MINUTE')}"/>
		</block>
		<block>
			<style>
				<width value="100px"/>
				<height value="100%"/>
				<marginTop value="41px"/>
				<backgroundColor value="0x01000000"/>
				<hitTest value="false"/>
			</style>
			<block>
				<style>
					<right value="16px"/>
				</style>
				<bind name="instance" value="'CurrentTotalIndicator'; {	_currentTextClass: '$TextDefaultBold19NM', _totalTextClass: '$TextDefaultBold17NM', 
														_colorClass: '$FontColorWhite', _current: currPlayersCount, _total: teamSize * 2}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="0"/>
				<hitTest value="false"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
</ui>
