
<ui>
	<css name="$TextNano">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondary">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryNoFilter">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefaultBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderHugeWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderBigDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBigTeamKiller">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$TextHeaderBigNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextHeaderBigWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccent">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentSecond">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderUnready">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<css name="$TextDefaultWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultWhiteBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallCompareNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<textColor value="0xFF6600"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextSmallWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallGold">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextDefaultExpSmall">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSmallNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextTurquoiseQuests">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x00cccc"/>
	</css>
	<css name="$TextLargeHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBlack">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextThumbelina">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="7"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$TextHeaderBigDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$BlackLabel">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$ZurichCondensedBold"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextHeaderWhiteBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$ResultsReward">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<letterSpacing value="-3"/>
		<marginRight value="2px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentGreyBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xDDDDDD"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="50"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel1">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="36"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel2">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$Fullsize">
		<width value="100%"/>
		<height value="100%"/>
	</css>
	<css name="$FullsizeAbsolute">
		<width value="100%"/>
		<position value="absolute"/>
		<height value="100%"/>
	</css>
	<css name="$FullWidth">
		<width value="100%"/>
	</css>
	<css name="$MiddleAligned">
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleAlignedAbsolutely">
		<position value="absolute"/>
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleVAligned">
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$EyeLevelVAligned">
		<top value="720:360,2160:900ah"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVAlignedAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVHAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginLeft value="-50%"/>
		<marginTop value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$AlignRight">
		<position value="absolute"/>
		<right value="0"/>
	</css>
	<css name="$MouseDisable">
		<hitTest value="false"/>
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$InfoLineBoundaries">
		<marginTop value="6px"/>
		<marginBottom value="6px"/>
	</css>
	<css name="$InfoBlockHorizontalIndent">
		<width value="100%"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockIndent">
		<width value="100%"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginBottom value="9px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockHorizontalIndentNoWidth">
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$DockPanelMargins">
		<marginLeft value="13px"/>
		<marginRight value="13px"/>
	</css>
	<css name="$InfoBlockIndentNoWidth">
		<marginBottom value="9px"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$ShipTechStats">
		<width value="312px"/>
		<top value="32px"/>
		<position value="absolute"/>
		<right value="10px"/>
		<height value="100%"/>
	</css>
	<css name="$TextInputEnterButton">
		<right value="2px"/>
		<top value="50%"/>
		<height value="25px"/>
		<width value="52px"/>
		<position value="absolute"/>
		<marginTop value="-11px"/>
	</css>
	<css name="$TextAreaEnterButton">
		<position value="absolute"/>
		<height value="25px"/>
		<right value="2px"/>
		<width value="52px"/>
		<bottom value="0px"/>
	</css>
	<css name="$DefaultScrollBar">
		<wheelScrollSpeed value="15"/>
		<scrollbarController value="lesta.unbound.style.UbScrollingControllerModern"/>
		<scrollArea value="ModernScrollArea"/>
		<scrollbar value="ModernScrollBar"/>
		<scrollbarTrackMode value="scrollToCursor"/>
	</css>
	<css name="$None"/>
	<css name="$PxHorizontalCorrection">
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$PxIndent">
		<marginTop value="1px"/>
		<marginBottom value="1px"/>
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$BottomMenu">
		<position value="absolute"/>
		<bottom value="0px"/>
		<width value="100%"/>
		<height value="30px"/>
	</css>
	<block className="HorizontalDivider">
		<styleClass value="$PxHorizontalCorrection"/>
		<style>
			<width value="100%"/>
			<height value="3px"/>
		</style>
		<block className="divider_h" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<block className="VerticalDivider">
		<style>
			<height value="100%"/>
			<width value="3px"/>
		</style>
		<block className="divider_v" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<block className="TableDivider">
		<style>
			<backgroundImage value="symbol:dotted_line"/>
			<backgroundRepeatX value="true"/>
			<width value="100%"/>
			<height value="1px"/>
			<alpha value="0.1"/>
		</style>
	</block>
	<block className="Underline">
		<bind name="style" value="'backgroundColor'; (rollOver &amp;&amp; !mouseDown) ? '0xFFFFFFFF' : '0x00856933'"/>
		<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) == true; 0.3; {scaleX : 0, alpha : 0}; {scaleX : 1, alpha :1}"/>
		<style>
			<backgroundColor value="0xFFFFFFFF"/>
			<position value="absolute"/>
			<height value="1px"/>
			<width value="100%"/>
			<bottom value="0px"/>
			<marginLeft value="2px"/>
			<marginRight value="2px"/>
		</style>
	</block>
	<block className="BlurMap">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<height value="100%"/>
			<hitTest value="false"/>
		</style>
		<bind name="visible" value="optionData.blurEnabled"/>
		<block className="mc_blurmap5" type="native">
			<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
			<style>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="blurMap" value="0"/>
		</block>
	</block>
	<block className="BlurMapNotifications">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<height value="100%"/>
		</style>
		<block className="mc_blurmap5_feather" type="native">
			<bind name="fade" value="_start; 0.3; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -20}; 1; 0.15"/>
			<style>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="blurMap" value="0"/>
		</block>
	</block>
	<block className="DeclareBlurLayer">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<block className="transparentPixel" type="native">
			<bind name="blurLayer" value="0"/>
		</block>
		<style>
			<position value="absolute"/>
		</style>
	</block>
	<css name="$ContextMenuListItem">
		<width value="100%"/>
		<height value="29px"/>
	</css>
	<css name="$ContextMenuListItemContent">
		<width value="198px"/>
		<marginLeft value="6px"/>
		<marginRight value="6px"/>
	</css>
	<css name="$ContextMenuDimentions">
		<width value="210px"/>
	</css>
	<block className="DropShadow">
		<styleClass value="$FullsizeAbsolute"/>
		<styleClass value="$MouseDisable"/>
		<block className="drop_shadow" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-2px"/>
				<marginRight value="-6px"/>
				<marginBottom value="-10px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
	</block>
	<block className="EmptyItem">
		<bind name="visible" value="false"/>
	</block>
	<block className="DottedLine">
		<style>
			<backgroundImage value="symbol:dotted_line"/>
			<backgroundRepeatX value="true"/>
			<width value="100%"/>
			<height value="1px"/>
			<alpha value="0.5"/>
		</style>
	</block>
	<css name="$ConfirmationWindowWidth">
		<width value="472px"/>
	</css>
	<css name="$ModalWindowDefaultWidth">
		<width value="472px"/>
	</css>
	<css name="$ModalWindowLargeCostMargins">
		<marginLeft value="5px"/>
		<marginRight value="4px"/>
	</css>
	<css name="$SelectTypeListItem">
		<width value="100%"/>
		<height value="74px"/>
	</css>
	<css name="$SelectTypeListItemIndent">
		<marginBottom value="15px"/>
		<marginTop value="15px"/>
		<marginLeft value="21px"/>
		<marginRight value="21px"/>
	</css>
	<block className="ModalWindowOkCancelRequest">
		<style>
			<flow value="horizontal"/>
			<marginTop value="15px"/>
		</style>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.60; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<styleClass value="$InfoLineBoundaries"/>
			<style>
				<width value="129px"/>
				<marginRight value="20px"/>
			</style>
			<bind name="instance" value="'DefaultButton'; {	_width: '129px', _request: _request, _requestParams: _requestParams, _enabled: true, _isTransactionBtn: true,
											_containerName: ('Modal_window_action_Button' + _okLabel), _label: _okLabel,
											_focusIndex: 1, _defaultFocused: true,
											_name: 'btn_ok'}"/>
		</block>
		<block>
			<style>
				<width value="129px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<block className="DefaultButtonModal">
				<styleClass value="$InfoLineBoundaries"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="name" value="'Modal_window_action_Button' + _cancelLabel"/>
				<block className="button_default" type="native">
					<style>
						<width value="100%"/>
					</style>
					<bind name="label" value="_cancelLabel"/>
					<params>
						<param name="name" value="btn_cancel"/>
					</params>
					<bind name="input"/>
					<bind name="focus" value="2;false"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowUniversalHeader">
		<style>
			<marginBottom value="720:32,1080:64ah"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '100%'"/>
		<block>
			<bind name="visible" value="_header != null"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="center"/>
					<marginTop value="12px"/>
				</style>
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="720:9,1080:11ah"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="!_hideBackButton"/>
			<style>
				<position value="absolute"/>
				<top value="7px"/>
			</style>
			<bind name="instance" value="'BackButton'; {_text: 'IDS_RETURN_TO_DOCK', _action: 'btn_cancel'}"/>
		</block>
		<block>
			<bind name="visible" value="!_hideCloseButton"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'right'; _innerCloseButton ? '60px' : '8px'"/>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="0px"/>
					<top value="13px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<block>
						<style>
							<marginTop value="-3px"/>
						</style>
						<block className="hotkey_holder_white_9slice" type="native">
							<bind name="visible" value="true"/>
							<block type="text">
								<style>
									<marginLeft value="3px"/>
									<marginRight value="3px"/>
									<marginTop value="-1px"/>
									<marginBottom value="-1px"/>
								</style>
								<styleClass value="$BlackLabel"/>
								<text value="ESC"/>
							</block>
						</block>
					</block>
					<block className="button_close" type="native">
						<params>
							<param name="focusable" value="false"/>
						</params>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeader">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<bind name="style" value="'right'; _innerCloseButton ? '60px' : '0px'"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<block>
							<style>
								<marginTop value="-3px"/>
							</style>
							<block className="hotkey_holder_white_9slice" type="native">
								<bind name="visible" value="!_noHotkey"/>
								<block type="text">
									<style>
										<marginLeft value="3px"/>
										<marginRight value="3px"/>
										<marginTop value="-1px"/>
										<marginBottom value="-1px"/>
									</style>
									<styleClass value="$BlackLabel"/>
									<text value="ESC"/>
								</block>
							</block>
						</block>
						<block className="button_close" type="native">
							<params>
								<param name="focusable" value="false"/>
							</params>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="-3"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderConfirmation">
		<style>
			<marginBottom value="3px"/>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icon_warning_grey_big" type="native">
					<style>
						<marginTop value="6px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<text value="IDS_CONFIRMATION"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="-70px"/>
					<top value="9px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<block>
						<style>
							<marginTop value="-3px"/>
						</style>
						<block className="hotkey_holder_white_9slice" type="native">
							<bind name="visible" value="true"/>
							<block type="text">
								<style>
									<marginLeft value="3px"/>
									<marginRight value="3px"/>
									<marginTop value="-1px"/>
									<marginBottom value="-1px"/>
								</style>
								<styleClass value="$BlackLabel"/>
								<text value="ESC"/>
							</block>
						</block>
					</block>
					<block className="button_close" type="native">
						<params>
							<param name="focusable" value="false"/>
						</params>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderNoEsc">
		<style>
			<marginBottom value="3px"/>
			<width value="450px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader5'"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderWithIcon">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icons_modal_window_heading" type="native">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginRight value="3px"/>
					</style>
					<bind name="gotoAndStop!" value="_type"/>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="toUpperCase(tr(_header))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="_showInnerCloseButton"/>
				<styleClass value="$AlignRight"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<block>
							<style>
								<marginTop value="-3px"/>
							</style>
							<block className="hotkey_holder_white_9slice" type="native">
								<bind name="visible" value="true"/>
								<block type="text">
									<style>
										<marginLeft value="3px"/>
										<marginRight value="3px"/>
										<marginTop value="-1px"/>
										<marginBottom value="-1px"/>
									</style>
									<styleClass value="$BlackLabel"/>
									<text value="ESC"/>
								</block>
							</block>
						</block>
						<block className="button_close" type="native">
							<params>
								<param name="focusable" value="false"/>
							</params>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderOptionalIcon">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '100%'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icon_warning_grey_big" type="native">
					<bind name="visible" value="_showIcon"/>
					<style>
						<marginTop value="6px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="toUpperCase(tr(_header))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="_showInnerCloseButton"/>
				<styleClass value="$AlignRight"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<block>
							<style>
								<marginTop value="-3px"/>
							</style>
							<block className="hotkey_holder_white_9slice" type="native">
								<bind name="visible" value="true"/>
								<block type="text">
									<style>
										<marginLeft value="3px"/>
										<marginRight value="3px"/>
										<marginTop value="-1px"/>
										<marginBottom value="-1px"/>
									</style>
									<styleClass value="$BlackLabel"/>
									<text value="ESC"/>
								</block>
							</block>
						</block>
						<block className="button_close" type="native">
							<params>
								<param name="focusable" value="false"/>
							</params>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="MainTabSmallInstance">
		<block className="tab_bar_item_small" type="native">
			<bind name="name" value="'MainTabSmallInstance_' + _name"/>
			<bind name="style" value="'width'; (_width+'px')"/>
			<style>
				<height value="25px"/>
			</style>
			<bind name="selected" value="_selected"/>
			<bind name="dispatch" value="'buttonClick'; _event ? _event : null; _eventParams"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			<bind name="label" value="toUpperCase(tr(_label))"/>
		</block>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _tooltipIDS}"/>
	</block>
	<css name="$QuestBar">
		<backgroundColor value="0xFF009999"/>
	</css>
	<block className="QuestDesc">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontSizeLarge'"/>
			<bind name="text" value="_questdesc"/>
		</block>
	</block>
	<css name="$QuestBlockVMargins">
		<width value="100%"/>
		<marginBottom value="6px"/>
	</css>
	<css name="$SSEDescTextNormal">
		<mouseChildren value="false"/>
		<leading value="-4"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$SSEDescTextSubheader">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$SSEDescTextSubheaderSecondary">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$TextHeaderBigDefaultBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<block className="QuestsSmallItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="'QuestsSmallItem_' + sseId"/>
		<bind name="watch" value="'activeStepInfo'; steps[activeStep]"/>
		<bind name="watch" value="'isLimitedPerDay'; activeStepInfo.limit&gt;0 &amp;&amp; activeStepInfo.isDaily"/>
		<bind name="watch" value="'isDoneForToday'; (activeStepInfo.limit &gt; 0) &amp;&amp; (activeStepInfo.isDaily) &amp;&amp; (progress == 1) &amp;&amp; (activeStepInfo.limit == activeStepInfo.count)"/>
		<bind name="watch" value="'isChallenge'; type == SSETypes.CHALLENGE"/>
		<bind name="var" value="{bgWidthSmall: (isChallenge || isPrivate ? 524 : 304)}"/>
		<bind name="var" value="{bgHeightSmall: (isChallenge || isPrivate ? 164 : 154)}"/>
		<bind name="style" value="'width'; (bgWidthSmall + 16) + 'px'"/>
		<bind name="style" value="'height'; (bgHeightSmall + 16) + 'px'"/>
		<bind name="request" value="'click'; 'showExtendedQuest'; {selectedIndex: $index, collectionName: isPrivate ? 'privateTasksAndChallenges' : type, sseId: sseId}"/>
		<bind name="soundSet" value="'quest_item'"/>
		<bind name="watch" value="'isQuestHasLimitedAmount'; (activeStepInfo.limit &gt; 1 || isLimitedPerDay) "/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="style" value="'width'; bgWidthSmall + 'px'"/>
			<bind name="style" value="'height'; bgHeightSmall + 'px'"/>
			<bind name="style" value="'alpha'; isDoneForToday ? 0.6 : 1"/>
			<block className="DropShadow">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$MouseDisable"/>
				<block className="drop_shadow" type="native">
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
						<marginTop value="-2px"/>
						<marginRight value="-6px"/>
						<marginBottom value="-10px"/>
						<marginLeft value="-6px"/>
					</style>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: type == SSETypes.CHALLENGE ? 'IDS_HINT_OPEN_CHALLENGE' : 'IDS_HINT_OPEN_TASK' }], _maxWidth: 240 }"/>
				<block className="hint_panel" type="native">
					<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1}"/>
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
						<marginTop value="-1px"/>
						<marginBottom value="-1px"/>
						<marginLeft value="-1px"/>
						<marginRight value="-1px"/>
					</style>
				</block>
				<block>
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
						<backgroundSize value="cover"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:' + backgroundURL"/>
				</block>
				<block className="shadow_h_zero_edge_fullsize" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$MouseDisable"/>
					<bind name="instance" value="'QuestHeaderWithProgress'; { _isQuestHasLimitedAmount: isQuestHasLimitedAmount, _isDoneForToday: isDoneForToday,
															_numberOfQuestsGeneral: activeStepInfo.limit, titleText: titleText, progress: progress,
															inOneBattle: inOneBattle, peculiarity: peculiarity, isPrivate: isPrivate, type: type}"/>
				</block>
			</block>
			<block type="text">
				<style>
					<marginTop value="40px"/>
					<marginLeft value="9px"/>
				</style>
				<bind name="visible" value="isPrivate"/>
				<styleClass value="$TextHeaderBigDefaultBold"/>
				<bind name="class" value="'$FontColorGold'"/>
				<bind name="text" value="(type == SSETypes.CHALLENGE ? 'IDS_PERSONAL_CHALLENGE' : 'IDS_PERSONAL_BATTLE_TASK')"/>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<top value="4px"/>
					<left value="4px"/>
				</style>
				<block>
					<bind name="visible" value="isQuestHasLimitedAmount == true"/>
					<style>
						<marginBottom value="12px"/>
					</style>
					<bind name="instance" value="'QuestLimitedExecution'; isQuestHasLimitedAmount ? { _numberOfQuestsGeneral: activeStepInfo.limit,
																					_numberOfQuestsDone: activeStepInfo.count, 
																					_isLimitedPerDay: isLimitedPerDay } : null"/>
				</block>
				<block>
					<bind name="visible" value="peculiarity != 'default'"/>
					<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_' + toUpperCase(type) + (peculiarity != 'default' ? '_' + toUpperCase(peculiarity) : '')}"/>
					<bind name="class" value="isQuestHasLimitedAmount ? '$MiddleAligned' : '$None'"/>
					<block className="icon_quest_peculiarity" type="native">
						<bind name="gotoAndStop!" value="peculiarity"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="isChallenge"/>
				<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_HINT_CHALLENGE_LIFETIME'}"/>
				<style>
					<marginLeft value="9px"/>
					<bottom value="3px"/>
				</style>
				<block type="text">
					<styleClass value="$TextHeaderHugeWhite"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="startDate + '—' + stopDate"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="transition" value="rollOver; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 2"/>
			<style>
				<right value="14px"/>
				<bottom value="14px"/>
				<position value="absolute"/>
			</style>
			<bind name="instance" value="'RewardContainer'; {	_rewards: rewards, _rewardsSpecial: rewardsSpecial,
												_tooltipHeader: (isChallenge	? 'IDS_REWARD_FOR_FINISHING_CHALLENGE'
																				: 'IDS_REWARD_FOR_FINISHING_TASK'),
												_scale: 0.5}"/>
		</block>
	</block>
	<block className="QuestsLargeItem">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="collectionDH" value="CC.ownShip; 'shipsInFormation'; 'shipsInFormation'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerQuests"/>
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="name" value="'QuestsLargeItem_' + sseId"/>
		<style>
			<width value="1px"/>
			<height value="442px"/>
			<marginTop value="1px"/>
			<marginLeft value="1px"/>
			<marginRight value="1px"/>
		</style>
		<bind name="watch" value="'isChallenge'; type == SSETypes.CHALLENGE"/>
		<bind name="watch" value="'activeStepInfo'; steps[activeStep]"/>
		<bind name="watch" value="'isLimitedPerDay'; activeStepInfo.limit &gt; 0 &amp;&amp; activeStepInfo.isDaily"/>
		<bind name="watch" value="'isDoneForToday'; (activeStepInfo.limit &gt; 0) &amp;&amp; (activeStepInfo.isDaily) &amp;&amp; (progress == 1) &amp;&amp; (activeStepInfo.limit == activeStepInfo.count)"/>
		<bind name="style" value="'width'; _itemWidth + 'px'"/>
		<bind name="transition" value="($index == currentSelectedIndex) || rollOver; 0.2; {alpha: 0.8}; {alpha: 1}"/>
		<bind name="dispatch" value="'click'; 'changeSelectedIndex'; {currentSelectedIndex: $index}"/>
		<bind name="soundSet" value="'quest_item'"/>
		<bind name="watch" value="'isQuestHasLimitedAmount'; (activeStepInfo.limit &gt; 1 || isLimitedPerDay) "/>
		<block>
			<bind name="visible" value="!inQuestWindow"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="1px"/>
				<height value="430px"/>
			</style>
			<bind name="style" value="'alpha'; isDoneForToday ? 0.6 : 1"/>
			<bind name="transition" value="($index == currentSelectedIndex); 0.1; {width: (_itemWidth - 16), height: 430}; {width: _itemWidth - 2, height: 440}"/>
			<block className="DropShadow">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$MouseDisable"/>
				<block className="drop_shadow" type="native">
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
						<marginTop value="-2px"/>
						<marginRight value="-6px"/>
						<marginBottom value="-10px"/>
						<marginLeft value="-6px"/>
					</style>
				</block>
			</block>
			<block className="hint_panel" type="native">
				<bind name="transition" value="rollOver || (currentSelectedIndex == $index) ; 0.15; {alpha: 0}; {alpha: 1}"/>
				<styleClass value="$Fullsize"/>
				<style>
					<position value="absolute"/>
					<marginTop value="-1px"/>
					<marginBottom value="-1px"/>
					<marginLeft value="-1px"/>
					<marginRight value="-1px"/>
				</style>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<backgroundSize value="cover"/>
					<alpha value="0.9"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + backgroundURL"/>
			</block>
			<block className="quest_thumb_title" type="native">
				<styleClass value="$Fullsize"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<height value="128px"/>
				</style>
				<bind name="transition" value="($index == currentSelectedIndex); 0.1; {height: 128}; {height: 150}"/>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<backgroundSize value="cover"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:' + backgroundURL"/>
				</block>
				<block className="shadow_h_zero_edge_fullsize" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'QuestHeaderWithProgress'; {_isQuestHasLimitedAmount: isQuestHasLimitedAmount, _isDoneForToday: isDoneForToday,
															_numberOfQuestsGeneral: activeStepInfo.limit, titleText: titleText, 
															progress: (_doneThisBattle ? 1 : progress), inOneBattle: inOneBattle, peculiarity: peculiarity, isPrivate: isPrivate, type: type}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="11px"/>
					</style>
					<bind name="visible" value="isPrivate"/>
					<styleClass value="$TextHeaderBigDefaultBold"/>
					<bind name="class" value="'$FontColorGold'"/>
					<bind name="text" value="(type == SSETypes.CHALLENGE ? 'IDS_PERSONAL_CHALLENGE' : 'IDS_PERSONAL_BATTLE_TASK')"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<top value="4px"/>
						<left value="4px"/>
					</style>
					<block>
						<bind name="visible" value="isQuestHasLimitedAmount == true"/>
						<style>
							<marginBottom value="12px"/>
						</style>
						<bind name="instance" value="'QuestLimitedExecution'; isQuestHasLimitedAmount ? { _numberOfQuestsGeneral: activeStepInfo.limit, 
																				_numberOfQuestsDone: activeStepInfo.count, _isLimitedPerDay: isLimitedPerDay } : null"/>
					</block>
					<block>
						<bind name="visible" value="peculiarity != 'default'"/>
						<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_' + toUpperCase(type) + (peculiarity != 'default' ? '_' + toUpperCase(peculiarity) : '')}"/>
						<bind name="class" value="isQuestHasLimitedAmount ? '$MiddleAligned' : '$None'"/>
						<block className="icon_quest_peculiarity" type="native">
							<bind name="gotoAndStop!" value="peculiarity"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="-2px"/>
						<marginLeft value="11px"/>
					</style>
					<bind name="visible" value="isChallenge"/>
					<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_HINT_CHALLENGE_LIFETIME'}"/>
					<block type="text">
						<styleClass value="$TextHeaderHugeWhite"/>
						<bind name="class" value="'$Bold'"/>
						<bind name="text" value="startDate + '—' + stopDate"/>
					</block>
				</block>
				<block>
					<style>
						<right value="6"/>
						<bottom value="6"/>
						<position value="absolute"/>
					</style>
					<bind name="instance" value="'RewardContainer'; {_rewards: rewards, _rewardsSpecial: rewardsSpecial,
													_tooltipHeader: (isChallenge ?	'IDS_REWARD_FOR_FINISHING_CHALLENGE' :
																					'IDS_REWARD_FOR_FINISHING_TASK'),
													_scale: 0.5}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<style>
					<height value="100%"/>
				</style>
				<block>
					<styleClass value="$QuestBlockVMargins"/>
					<bind name="visible" value="steps.length &gt; 1"/>
					<bind name="watch" value="'stepProgressBarWidthSelected'; (_itemWidth - (24 + (steps.length - 1) * 3)) / steps.length"/>
					<bind name="watch" value="'stepProgressBarWidth'; (_itemWidth -16 - (24 + (steps.length - 1) * 3)) / steps.length"/>
					<block>
						<block type="text">
							<styleClass value="$SSEDescTextSubheader"/>
							<bind name="text" value="tr('IDS_STEP') + ' ' +  (activeStep + 1) + '/' + steps.length"/>
						</block>
						<block>
							<bind name="visible" value="(activeStepInfo.rewards.length + activeStepInfo.rewardsSpecial.length) &gt; 0	"/>
							<style>
								<marginLeft value="7px"/>
								<marginTop value="-3px"/>
								<marginBottom value="3px"/>
								<alpha value="0.9"/>
							</style>
							<bind name="instance" value="'RewardContainer'; (activeStepInfo.rewards.length + activeStepInfo.rewardsSpecial.length) &gt; 0	?	{	_rewards: activeStepInfo.rewards,
																																				_rewardsSpecial: activeStepInfo.rewardsSpecial,
																																				_tooltipHeader: 'IDS_REWARD_FOR_FINISHING_STEP', _scale: 0.3}
																																		: null"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<style>
							<marginBottom value="-3px"/>
						</style>
						<bind name="repeat" value="steps; 'StepProgressItem'; {	_steps: steps, _selected: ($index == currentSelectedIndex),
																_stepProgressBarWidth: stepProgressBarWidth,
																_stepProgressBarWidthSelected: stepProgressBarWidthSelected}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<block>
					<style>
						<marginBottom value="4px"/>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'QuestStepDescription'; {_step: activeStepInfo, _doneThisBattle: _doneThisBattle, _isDoneForToday: isDoneForToday}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="visible" value="activeStepInfo.technoIds != '' || activeStepInfo.linkedTasks.length &gt; 0"/>
					<styleClass value="$QuestBlockVMargins"/>
					<block type="text">
						<styleClass value="$SSEDescTextSubheaderSecondary"/>
						<text value="IDS_QUEST_START_CONDITIONS"/>
					</block>
					<block>
						<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: (isChallenge ? 'IDS_HINT_CHALLENGE_TECHNO_CONDITION' : 'IDS_HINT_BATTLE_TASK_TECHNO_CONDITION')}"/>
						<style>
							<width value="100%"/>
							<marginLeft value="15px"/>
						</style>
						<block type="text">
							<bind name="visible" value="activeStepInfo.technoIds != ''"/>
							<styleClass value="$SSEDescTextNormal"/>
							<style>
								<width value="100%"/>
								<marginTop value="-2px"/>
							</style>
							<bind name="text" value="activeStepInfo.technoIds"/>
						</block>
					</block>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="15px"/>
						</style>
						<bind name="repeat" value="activeStepInfo.linkedTasks; 'QuestLinkedTaskItem'"/>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="-3px"/>
						<alpha value="0.9"/>
					</style>
					<bind name="visible" value="!isChallenge"/>
					<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_HINT_BATTLE_TASK_LIFETIME'}"/>
					<block type="text">
						<styleClass value="$SSEDescTextSubheaderSecondary"/>
						<bind name="text" value="tr('IDS_EXPIRE_DATE') + ' ' + stopDate"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<position value="absolute"/>
					<bottom value="-35px"/>
				</style>
				<block>
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
					<bind name="fade" value="$index == currentSelectedIndex &amp;&amp; inQuestWindow &amp;&amp; !(isDoneForToday); 0.2; {alpha: 0, top: 15}; {alpha: 1, top: 0}"/>
					<bind name="watch" value="'battleTypeForQuest';	activeStepInfo.battleType																		? activeStepInfo.battleType :
													((dockDefaultValues.battleType == BattleTypes.RANKED_BATTLE) &amp;&amp; rankedBattlesSeason.denyReason)	? BattleTypes.RANDOM_BATTLE
																																					: dockDefaultValues.battleType"/>
					<bind name="primaryEntityDH" value="'battleTypeEntity'; CC.battleType; battleTypeForQuest"/>
					<bind name="watchDH" value="'fightButtonDenyReasons'; ['battleTypeEntity.battleType.evDisableReasonChanged']; battleTypeEntity.battleType.fightButtonReasons"/>
					<bind name="watch" value="'startButtonEnabled';	activeStepInfo.linkedTasksCompleted &amp;&amp; readyToBattle &amp;&amp;
													fightButtonDenyReasons.length == 0 &amp;&amp;
													!(activeStepInfo.battleType == BattleTypes.RANKED_BATTLE &amp;&amp; divisionData.divisionExist)"/>
					<bind name="firstEntityDH" value="'clanCurrentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
					<bind name="watchDH" value="'cbs_primeTimeStartTime'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.primeTimeStartTime"/>
					<bind name="watchDH" value="'cbs_primeTimeFinishTime'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.primeTimeFinishTime"/>
					<bind name="countdown" value="cbs_primeTimeStartTime; 'startPrimeTimeText'; 'HIGHEST,WITH_DAYS'; 'timeoutEvent'"/>
					<bind name="countdown" value="cbs_primeTimeFinishTime; 'finishPrimeTimeText'; 'HIGHEST,WITH_DAYS'; 'timeoutEvent'"/>
					<bind name="watch" value="'specialDenyReason';	!(activeStepInfo.linkedTasksCompleted)											? 'IDS_COMPLETE_LINKED_TASKS_FIRST' :
													(!(divisionData.divisionExist) &amp;&amp; activeStepInfo.isInDivision)					? 'IDS_STARTBATTLE_LOCK_REASON_NOT_IN_DIVISION' :
													((activeStepInfo.battleType != BattleTypes.RANKED_BATTLE) &amp;&amp; !(readyToBattle))	? 'IDS_STARTBATTLE_LOCK_REASON_WRONG_SHIP' :
													fightButtonDenyReasons[0] == 'IDS_CLAN_BATTLES_PRIMETIME_STARTS_IN'				? subst('IDS_CLAN_BATTLES_PRIMETIME_STARTS_IN', [], {timeLeft: startPrimeTimeText}) :
													fightButtonDenyReasons.length &gt; 0												? fightButtonDenyReasons[0]
																																	: ''"/>
					<bind name="tooltip" value="'StartBattleTooltip'; ( shipId &gt; 0 ) 	? {	_shipID: shipsInFormation.length &gt; 0	? shipsInFormation[0].shipId : shipId,
																							_battleType: battleTypeForQuest,
																							_instructionType: 'left',
																							_buttonDisabled: !(startButtonEnabled),
																							_specialDenyReason: specialDenyReason
																						}
																						: null"/>
					<bind name="instance" value="'ButtonSpecial'; {	_enabled: startButtonEnabled, 
													_action: (operationsAccountLocked ? null : 'startBattleSSE'), 
													_name: 'StartQuestButton',
													_actionParams: {battleType: battleTypeForQuest},
													_label: (progress &gt; 0 &amp;&amp; !inOneBattle 	? isChallenge 	? toUpperCase(tr('IDS_CONTINUE_QUEST')) 
																											: toUpperCase(tr('IDS_CONTINUE_DAILY_TICKET'))
																							: toUpperCase(tr('IDS_START_BATTLE')))}"/>
				</block>
				<block>
					<bind name="fade" value="($index == currentSelectedIndex &amp;&amp; inQuestWindow &amp;&amp; isDoneForToday); 0.15; {alpha: 0, top: 15}; {alpha: 1, top: 0}; {alpha: 0, top: 15}"/>
					<block type="text">
						<styleClass value="$TextDefaultTech"/>
						<style>
							<maxWidth value="250"/>
							<marginTop value="9px"/>
							<leading value="-3"/>
							<textAlign value="center"/>
						</style>
						<text value="IDS_QUEST_LIMITED_EXECUTION_DONE"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="StepProgressItem">
		<bind name="style" value="'width'; _stepProgressBarWidth+'px'"/>
		<bind name="style" value="'marginLeft'; $index &gt; 0 ? '3px' : '0px'"/>
		<bind name="transition" value="_selected &amp;&amp; _stepProgressBarWidth; 0.1; {width: _stepProgressBarWidth}; {width: _stepProgressBarWidthSelected}"/>
		<block>
			<style>
				<height value="12px"/>
				<width value="100%"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="tooltip" value="'QuestStepDescriptionTooltip'; { _step: _steps[$index], _tooltipStep: $index + 1, _totalSteps: _steps.length }"/>
			<block className="indicator_progress_bar" type="native">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="value" value="_steps[$index].progress * 10"/>
			</block>
		</block>
	</block>
	<block className="QuestStepDescriptionTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<style>
				<width value="320px"/>
			</style>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$SSEDescTextSubheader"/>
				<bind name="text" value="tr('IDS_STEP') + ' ' +  _tooltipStep + '/' + _totalSteps"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'QuestStepDescription'; {_step: _step}"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_step.rewards.length &gt; 0 || _step.rewardsSpecial.length &gt; 0"/>
			<style>
				<width value="320px"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block>
					<block className="icon_giftbox_small" type="native">
						<style>
							<marginLeft value="6px"/>
						</style>
						<bind name="style" value="'alpha'; _step.progress == 1 ? 0.7 : 1.0"/>
					</block>
					<block>
						<bind name="visible" value="_step.progress == 1"/>
						<style>
							<position value="absolute"/>
							<top value="21px"/>
							<left value="23px"/>
						</style>
						<block className="icon_issued_small" type="native">
							<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
							<bind name="gotoAndStop!" value="'issued'"/>
						</block>
					</block>
				</block>
				<block type="text">
					<styleClass value="$TextHeaderBigDefaultTech"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="100%"/>
						<marginLeft value="12px"/>
					</style>
					<text value="IDS_REWARD_FOR_FINISHING_STEP_GENERAL"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="_step.rewards.length &gt; 0"/>
				<style>
					<width value="100%"/>
					<marginLeft value="16px"/>
					<marginRight value="12px"/>
				</style>
				<bind name="repeat" value="_step.rewards; 'RewardContainerTooltipItem'"/>
			</block>
			<block>
				<bind name="visible" value="_step.rewardsSpecial.length &gt; 0"/>
				<style>
					<width value="100%"/>
					<marginLeft value="16px"/>
					<marginRight value="12px"/>
				</style>
				<bind name="repeat" value="_step.rewardsSpecial; 'RewardContainerTooltipItem'"/>
			</block>
		</block>
	</block>
	<block className="QuestStepDescription">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<bind name="visible" value="_step.precondIds"/>
			<styleClass value="$SSEDescTextNormal"/>
			<style>
				<width value="100%"/>
				<marginBottom value="3px"/>
			</style>
			<bind name="text" value="_step.precondIds"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'marginLeft'; _step.precondIds ? '15px' : '0px'"/>
			<bind name="repeat" value="_step.conditionSet; 'QuestConditionWithProgressItem'; { _inOneBattle: _step.inOneBattle, _doneThisBattle: _doneThisBattle, _isDoneForToday: _isDoneForToday} "/>
		</block>
		<block type="text">
			<bind name="visible" value="_step.addcondIds"/>
			<styleClass value="$SSEDescTextNormal"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="text" value="_step.addcondIds"/>
		</block>
	</block>
	<block className="QuestConditionWithProgressItem">
		<style>
			<width value="100%"/>
			<marginBottom value="-2px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="watch" value="'showProgressBar'; maxProgress &amp;&amp; !_inOneBattle &amp;&amp; (currentProgress &gt; 0)"/>
		<bind name="tooltip" value="'SimpleTooltip'; showProgressBar ? {tooltipText: (tr('IDS_CURRENT_PROGRESS') + tr('IDS_COLON') + ' ' + currentProgress + '/' + maxProgress)} : null "/>
		<block type="text">
			<styleClass value="$SSEDescTextNormal"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'marginBottom'; showProgressBar ? '3px' : '0px'"/>
			<bind name="text" value="ids"/>
		</block>
		<block>
			<bind name="visible" value="showProgressBar &amp;&amp; !(_isDoneForToday)"/>
			<style>
				<width value="100%"/>
				<marginBottom value="3px"/>
			</style>
			<block className="indicator_progress_bar" type="native">
				<style>
					<width value="100%"/>
				</style>
				<bind name="value" value="_doneThisBattle ? 10 : (currentProgress/maxProgress)*10"/>
			</block>
		</block>
	</block>
	<block className="QuestHeaderWithProgress">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<bind name="visible" value="!(inOneBattle) &amp;&amp; !(_isDoneForToday)"/>
			<styleClass value="$QuestBar"/>
			<style>
				<position value="absolute"/>
				<width value="0px"/>
				<height value="100%"/>
			</style>
			<bind name="style" value="'width'; (progress * 100) + '%'"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginRight value="10px"/>
				<marginBottom value="4px"/>
				<marginTop value="4px"/>
			</style>
			<bind name="style" value="'marginLeft';  peculiarity != 'default' ? '38px'
									: ((_isQuestHasLimitedAmount) &amp;&amp; (_numberOfQuestsGeneral &gt; 99)) ? '62px'
									: ((_isQuestHasLimitedAmount) &amp;&amp; (_numberOfQuestsGeneral &gt; 9))	? '52px'
									: (_isQuestHasLimitedAmount) 									? '42px'
									: '10px'"/>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="text" value="titleText"/>
			</block>
		</block>
	</block>
	<block className="QuestLinkedTaskItem">
		<style>
			<width value="100%"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="tooltip" value="'SSETaskTooltip'; type == SSETypes.TASK || type == SSETypes.CHALLENGE ? { _id: id, _isDone: isDone, _subtype: type, 
																							_isPrivate: isPrivate, _isBarge: false } : null; 0"/>
		<block>
			<bind name="visible" value="isDone"/>
			<style>
				<backgroundImage value="symbol:checkbox_check"/>
				<position value="absolute"/>
				<width value="20px"/>
				<height value="20px"/>
				<left value="-18px"/>
				<top value="4px"/>
			</style>
		</block>
		<block type="text">
			<styleClass value="$SSEDescTextNormal"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'alpha'; isDone ? '0.7' : '1'"/>
			<bind name="text" value="ids"/>
		</block>
	</block>
	<block className="QuestLimitedExecution">
		<bind name="watch" value="'tooltipText';   _isLimitedPerDay	?	( _numberOfQuestsDone == _numberOfQuestsGeneral)	? 'IDS_QUEST_LIMITED_EXECUTION_DONE_PER_DAY' :
														( _numberOfQuestsDone &gt; 0)							? subst('IDS_QUEST_LIMITED_EXECUTION_START_PER_DAY',	[], {_numberOfQuestsGeneral: _numberOfQuestsGeneral, _numberOfQuestsDone: _numberOfQuestsDone}, _numberOfQuestsDone) :
														( _numberOfQuestsDone == 0)							? subst('IDS_QUEST_LIMITED_EXECUTION_PER_DAY', 			[], {_numberOfQuestsGeneral: _numberOfQuestsGeneral}, _numberOfQuestsGeneral) 
																											: ''
													:	
														( _numberOfQuestsDone == _numberOfQuestsGeneral)	? 'IDS_QUEST_LIMITED_EXECUTION_DONE' :
														( _numberOfQuestsDone &gt; 0)							? subst('IDS_QUEST_LIMITED_EXECUTION_START',			[], {_numberOfQuestsGeneral: _numberOfQuestsGeneral, _numberOfQuestsDone: _numberOfQuestsDone}, _numberOfQuestsDone) :
														( _numberOfQuestsDone == 0)							? subst('IDS_QUEST_LIMITED_EXECUTION',					[], {_numberOfQuestsGeneral: _numberOfQuestsGeneral}, _numberOfQuestsGeneral)
																											: '' } "/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tooltipText}"/>
		<block className="icon_quest_challenge" type="native">
			<style>
				<position value="absolute"/>
				<height value="32px"/>
				<width value="100%"/>
			</style>
			<bind name="gotoAndStop!" value="_isLimitedPerDay ? 'daily_limited' : 'private_limited'"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultWhite"/>
			<style>
				<marginLeft value="7px"/>
				<marginRight value="7px"/>
				<top value="4px"/>
				<styleSheet value="h3 {
					font-family: $WWSDefaultFontBold;
				}
				"/>
			</style>
			<bind name="text" value="'&lt;body&gt;' + _numberOfQuestsDone + '/' + '&lt;h3&gt;' + _numberOfQuestsGeneral + '&lt;/h3&gt;&lt;/body&gt;'"/>
		</block>
	</block>
	<block className="PostBattleSSEQuestTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'SSECompleted'; 'sseId'; _id; 'questItems'"/>
		<bind name="instance" value="'QuestsLargeItem'; questItems[0] != null ? {
											backgroundURL: questItems[0].backgroundURL,
											titleText: questItems[0].titleText,
											progress: questItems[0].progress,
											inOneBattle: questItems[0].inOneBattle,
											startDate: questItems[0].startDate,
											stopDate: questItems[0].stopDate,
											steps: questItems[0].steps,
											activeStep: questItems[0].currentStep &gt;= 0 ? questItems[0].currentStep : 0,
											peculiarity: questItems[0].peculiarity,
											type: _type,
											_doneThisBattle: _doneThisBattle,
											isPrivate: questItems[0].isPrivate,
											_itemWidth: _type == SSETypes.CHALLENGE ? 416 : 346
											} : null"/>
	</block>
	<block className="SSETaskTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 	_isPrivate 	? 'privateTasksAndChallenges' 
																					: _subtype == SSETypes.CHALLENGE ? 'challenges' 
																					: 'tasks'; 
																		'sseId'; 
																		_id;
																		'sseCollection'"/>
		<bind name="instance" value="'QuestsLargeItem'; 	{	backgroundURL: sseCollection[0].backgroundURL,
											titleText: sseCollection[0].titleText,
											progress: sseCollection[0].progress,
											inOneBattle: sseCollection[0].inOneBattle,
											startDate: sseCollection[0].startDate,
											stopDate: sseCollection[0].stopDate,
											steps: sseCollection[0].steps,
											activeStep: sseCollection[0].currentStep &gt;= 0 ? sseCollection[0].currentStep : 0,
											peculiarity: sseCollection[0].peculiarity,
											isPrivate: sseCollection[0].isPrivate,
											_doneThisBattle: _isDone,
											type: _subtype == SSETypes.CHALLENGE ? SSETypes.CHALLENGE : SSETypes.TASK,
											_itemWidth: _subtype == SSETypes.CHALLENGE ? 416 : 346
										}"/>
	</block>
	<block className="CarouselBlockWithScroll">
		<styleClass value="$MiddleAligned"/>
		<style>
			<flow value="horizontal"/>
			<width value="100%f"/>
			<height value="100%"/>
		</style>
		<block>
			<bind name="visible" value="_isScrollNeeded"/>
			<style>
				<width value="20px"/>
				<marginRight value="6px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block className="button_slide_left" type="native">
				<params>
					<param name="focusable" value="false"/>
				</params>
				<bind name="event" value="'click'; scrollLeftByOneUnit"/>
				<bind name="name" value="_leftScrollName ? _leftScrollName : 'buttonCarouselLeft'"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%f"/>
				<height value="1px"/>
				<scrollbarController value="lesta.unbound.style.UbScrollingControllerTouch"/>
				<layout value="lesta.unbound.layout.measure.CarouselLayout"/>
				<itemWidth value="416"/>
				<itemHeight value="440"/>
			</style>
			<bind name="style" value="'height'; _height"/>
			<bind name="style" value="'overflow'; _isScrollNeeded ? 'scroll' : 'visible'"/>
			<bind name="event" value="'layoutChanged'; scrollToIndex; currentSelectedIndex"/>
			<bind name="style" value="'itemWidth'; _itemWidth"/>
			<bind name="style" value="'wheelScrollSpeed'; _wheelScrollSpeed"/>
			<bind name="controller" value="lesta.unbound.controls.UbCarouselController"/>
			<bind name="generator" value="_repeatCollection; _repeatElement; {inQuestWindow: inQuestWindow, currentSelectedIndex: currentSelectedIndex, _itemWidth: _itemWidth}"/>
			<bind name="scrollToIndex!" value="currentSelectedIndex"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="_isScrollNeeded"/>
			<style>
				<width value="20px"/>
				<marginLeft value="12px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block className="button_slide_right" type="native">
				<params>
					<param name="focusable" value="false"/>
				</params>
				<bind name="name" value="_rightScrollName ? _rightScrollName : 'buttonCarouselRight'"/>
				<bind name="event" value="'click'; scrollRightByOneUnit"/>
			</block>
		</block>
	</block>
	<block className="NoItemsComeBackLater">
		<styleClass value="$MiddleAlignedAbsolutely"/>
		<style>
			<top value="35%"/>
			<marginTop value="-50%"/>
		</style>
		<block type="text">
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextAccentBold"/>
			<bind name="text" value="toUpperCase(tr('IDS_NO_CURRENT_' + _type))"/>
		</block>
		<bind name="instance" value="'InstructionBigTech'; _disableSubText != true ? { _instructionText: _subText ? _subText : 'IDS_COME_BACK_LATER', _type: 'info', _maxWidth: 980 } : null"/>
	</block>
	<block className="ServerIsUnavailable">
		<styleClass value="$MiddleAligned"/>
		<styleClass value="$MiddleVAligned"/>
		<block>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeaderBold"/>
				<bind name="class" value="_isBig ? '$TextAccentBoldAccountLevel2' : '$TextHeaderBold'"/>
				<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : '300'"/>
				<bind name="style" value="'marginBottom'; _small ? '2px' : '4px'"/>
				<style>
					<textAlign value="center"/>
				</style>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="text" value="_type	? toUpperCase(tr('IDS_SERVICE_IS_UNAVAILABLE_'+(_type)))
								: toUpperCase(tr('IDS_SERVICE_IS_UNAVAILABLE_CHAT'))"/>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'EmptyStatusParagraph'; {_text : 'IDS_WE_ARE_WORKING_ON_THIS', _maxWidth: (_maxWidth ? _maxWidth : '280'), _sizeClass: _isBig ? '$FontSizeHeader5' : '$FontSizeLarge'}"/>
			</block>
		</block>
	</block>
	<css name="$TextMouseDisable">
		<mouseChildren value="false"/>
		<selectable value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$MouseEnable">
		<hitTest value="true"/>
		<mouseChildren value="true"/>
		<mouseEnabled value="true"/>
	</css>
	<css name="$FontFamilyDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontFamilyDefaultBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$Bold">
		<fontFamily value="$WWSDefaultFontBold"/>
	</css>
	<css name="$FontColorDefault">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorGrey">
		<textColor value="0xDDDDDD"/>
	</css>
	<css name="$FontColorStrongGrey">
		<textColor value="0x636363"/>
	</css>
	<css name="$FontColorWhite">
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$FontColorBlueish">
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$FontColorStrongBlueish">
		<textColor value="0x758b8b"/>
	</css>
	<css name="$FontColorDarkBlueish">
		<textColor value="0x2B393A"/>
	</css>
	<css name="$FontColorSpecialButton">
		<textColor value="0xFFE8D3"/>
	</css>
	<css name="$FontColorTurquoise">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorBuoyancy">
		<textColor value="0x13C9F7"/>
	</css>
	<css name="$FontColorHealth">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontColorGolden">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorGold">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorFreeExp">
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$FontColorExp">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorUnready">
		<textColor value="0xFF9933"/>
	</css>
	<css name="$FontColorAlmostBlack">
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontColorTeamkiller">
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$FontColorTTK">
		<textColor value="0xc8751c"/>
	</css>
	<css name="$FontColorParty">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorDefaultButtonUp">
		<textColor value="0xc7e2e2"/>
	</css>
	<css name="$FontColorComparePositive">
		<textColor value="0x4CE8AA"/>
	</css>
	<css name="$FontColorCompareNegative">
		<textColor value="0xFF6600"/>
	</css>
	<css name="$FontColorMercenaries">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontSizeThumbelina">
		<fontSize value="7"/>
	</css>
	<css name="$FontSizeNano">
		<fontSize value="11"/>
	</css>
	<css name="$FontSizeSmall">
		<fontSize value="13"/>
	</css>
	<css name="$FontSizeDefault">
		<fontSize value="15"/>
	</css>
	<css name="$FontSizeLarge">
		<fontSize value="17"/>
	</css>
	<css name="$FontSizeHeader6">
		<fontSize value="19"/>
	</css>
	<css name="$FontSizeHeader5">
		<fontSize value="21"/>
	</css>
	<css name="$FontSizeHeader4">
		<fontSize value="23"/>
	</css>
	<css name="$FontSizeHeader3">
		<fontSize value="25"/>
	</css>
	<css name="$FontSizeHeader2">
		<fontSize value="30"/>
	</css>
	<css name="$FontSizeHeader1">
		<fontSize value="36"/>
	</css>
	<css name="$FontAccentSize2">
		<fontSize value="50"/>
	</css>
	<css name="$FontAccentSize1">
		<fontSize value="60"/>
	</css>
	<css name="$LetterSpacingSmall">
		<letterSpacing value="0.8"/>
	</css>
	<css name="$InvertedTextEffect">
		<dropShadowFilter value="0 90 0xffffff 1.0 3.0 3.0 0.3"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 5.0 3.0 0.9 2"/>
	</css>
	<css name="$BlockGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 4.0 3.0 0.2 2"/>
	</css>
	<css name="$GlowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$DropShadowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$FontDropShadowFilter1">
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontDropShadowFilterStrong">
		<dropShadowFilter value="1 90 0x08222a 0.8 3 3 1.5"/>
	</css>
	<css name="$FontDropShadowWhite">
		<dropShadowFilter value="0 90 0xffffff 1.0 3.0 3.0 0.3"/>
	</css>
	<css name="$BlockDropShadowFilter1">
		<dropShadowFilter value="5 110 0x000000 0.6 6 6 0.6"/>
	</css>
	<css name="$BlockDropShadowFilter2">
		<dropShadowFilter value="3 110 0x000000 0.6 6 6 0.6"/>
	</css>
	<block className="DefaultButton">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="name" value="_containerName ? _containerName : null"/>
		<block className="button_default" type="native">
			<bind name="style" value="'width'; _width ? _width : '100%'"/>
			<bind name="label" value="_label"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="focusable" value="_focusIndex ? true : false"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			<bind name="name" value="_name ? _name : null"/>
			<bind name="input"/>
			<block>
				<bind name="visible" value="_isExternal == true"/>
				<style>
					<position value="absolute"/>
					<top value="7px"/>
					<right value="4px"/>
					<hitTest value="false"/>
				</style>
				<block className="icon_out_grey" type="native"/>
			</block>
		</block>
	</block>
	<block className="DefaultButtonBig">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="name" value="_containerName ? _containerName : null"/>
		<block className="button_default_big" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="name" value="_name ? _name : null"/>
			<bind name="input"/>
			<bind name="label" value="_label"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
		</block>
	</block>
	<block className="DefaultButtonCostMedium">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="tooltip" value="'DiscountTooltip'; priceInfo.basePrice &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) ? { priceInfo: priceInfo, _isExternal: _isExternal } : null"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="style" value="'height'; _height ? _height : 'auto'"/>
		<bind name="name" value="_name ? _name : null"/>
		<block className="button_default_no_label" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'height'; _height ? _height : 'auto'"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="dispatch" value="'buttonClick'; _dispatchEvent ? _dispatchEvent : null"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="selected" value="_selected"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="3px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorDefaultButtonUp'"/>
					<bind name="class" value="_enabled ? '$None' : '$FontColorAlmostBlack'"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<bind name="visible" value="priceInfo.finalPrice &gt; 0"/>
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'PriceTag'; priceInfo.finalPrice &gt; 0 ? {priceInfo: priceInfo, _showDiscountTag: _showDiscountTag } : null"/>
				</block>
				<block>
					<bind name="visible" value="_isExternal == true"/>
					<style>
						<marginTop value="2px"/>
						<marginLeft value="8px"/>
					</style>
					<block className="icon_out_grey" type="native"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="DefaultButtonCostSmall">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="tooltip" value="'DiscountTooltip'; priceInfo.basePrice &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) ? { priceInfo: priceInfo } : null"/>
		<block className="button_default_no_label_small" type="native">
			<bind name="enabled" value="(_enabled &amp;&amp; !(operationsAccountLocked))"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<block>
				<style>
					<marginBottom value="1px"/>
					<marginRight value="18px"/>
					<marginLeft value="18px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="class" value="'$FontColorDefaultButtonUp'"/>
					<bind name="class" value="_enabled ? '$None' : '$FontColorAlmostBlack'"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="2px"/>
					</style>
					<bind name="instance" value="'PriceTag'; priceInfo.finalPrice &gt; 0 ? {priceInfo: priceInfo, _small: true, _showDiscountTag: _showDiscountTag} : null"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ButtonSpecial">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="_name"/>
		<block className="button_special_no_label" type="native">
			<bind name="soundSet" value="'hard_button'"/>
			<bind name="enabled" value="_enabled"/>
			<bind name="action" value="'buttonClick'; _action; _actionParams ? _actionParams : {}"/>
			<block type="text">
				<style>
					<marginRight value="18px"/>
					<marginLeft value="18px"/>
					<marginTop value="3px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<bind name="class" value="_enabled 	? rollOver &amp;&amp; !(mouseDown) ? '$FontColorDefault' : '$FontColorSpecialButton'
									: '$FontColorAlmostBlack'"/>
				<bind name="class" value="_enabled ? '$FontDropShadowFilter1' : '$FontDropShadowWhite'"/>
				<styleClass value="$TextDefaultBold"/>
				<bind name="text" value="_label"/>
			</block>
		</block>
	</block>
	<block className="DockButton">
		<style>
			<width value="100%"/>
		</style>
		<block className="button_dock" type="native">
			<bind name="name" value="_name"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<bind name="enabled" value="_enabled"/>
			<bind name="dispatch" value="'buttonClick'; _dispatchEvent; {}"/>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="3px"/>
					<mouseEnabled value="false"/>
					<mouseChildren value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<bind name="text" value="_label"/>
			</block>
		</block>
	</block>
	<block className="QuestWindow">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'challenges'; 'isActive'; true; 'challengesCollection'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'tasks'; 'isActive'; true; 'tasksCollection'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'events'; 'eventsCollection'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'privateTasksAndChallenges'; 'isActive'; true; 'personalTasksCollection'"/>
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerQuests"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'challengesLayoutType';	(userPrefs.sseChallengesLayout == null)	? 0 : userPrefs.sseChallengesLayout"/>
		<bind name="watch" value="'battleTasksLayoutType';	(userPrefs.sseBattleTasksLayout == null) ? 0 : userPrefs.sseBattleTasksLayout"/>
		<bind name="watch" value="'battlePersonalTasksLayoutType';	(userPrefs.ssePrivateTasksAndChallengesLayout == null) ? 0 : userPrefs.ssePrivateTasksAndChallengesLayout"/>
		<bind name="catch" value="'challengesLayoutChangedEvent'; { challengesLayoutType: (challengesLayoutType == 0 ? 1 : 0)}"/>
		<bind name="catch" value="'battleTaskLayoutChangedEvent'; { battleTasksLayoutType: (battleTasksLayoutType == 0 ? 1 : 0)}"/>
		<bind name="catch" value="'PersonalTaskLayoutChangedEvent'; { battlePersonalTasksLayoutType: (battlePersonalTasksLayoutType == 0 ? 1 : 0)}"/>
		<bind name="changeDispatch" value="challengesLayoutType;		'changeChallengesLayoutTypeInPrefs'; null; true"/>
		<bind name="changeDispatch" value="battleTasksLayoutType;	'changeBattleTasksLayoutTypeInPrefs'; null; true"/>
		<bind name="changeDispatch" value="battlePersonalTasksLayoutType;	'changePersonaleTasksLayoutTypeInPrefs'; null; true"/>
		<bind name="action" value="'changeChallengesLayoutTypeInPrefs';	'setUserPref' ; {value : challengesLayoutType,	name : 'sseChallengesLayout'}"/>
		<bind name="action" value="'changeBattleTasksLayoutTypeInPrefs'; 'setUserPref' ; {value : battleTasksLayoutType, name : 'sseBattleTasksLayout'}"/>
		<bind name="action" value="'changePersonaleTasksLayoutTypeInPrefs'; 'setUserPref' ; {value : battlePersonalTasksLayoutType, name : 'ssePrivateTasksAndChallengesLayout'}"/>
		<styleClass value="$Fullsize"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.3; 0.15; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.15; {alpha: 1}; {alpha: 0}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="modal_panel" type="native">
				<style>
					<alpha value="0.8"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="var" value="{ insetsList: [SSETypes.EVENT, SSETypes.CHALLENGE, SSETypes.TASK, 'privateTasksAndChallenges'] }"/>
		<bind name="var" value="{inset: insetsList.indexOf($root.inset)}"/>
		<bind name="indexOf" value="personalTasksCollection; ptIndex; {'sseId': $root.sseId}"/>
		<bind name="catch" value="'changeQuestInset'"/>
		<bind name="watch" value=" 'header'; (	inset == 0	?	tr('IDS_EVENTS') + ' (' + eventsCollection.length + ')' :
								inset == 1	?	tr('IDS_CHALLENGES') + ' (' + challengesCollection.length + ')' :
								inset == 2	?	tr('IDS_TASKS') + ' (' + tasksCollection.length + ')'
											:	tr('IDS_PERSONAL_TASKS') + ' (' + personalTasksCollection.length + ')'
							)"/>
		<block>
			<styleClass value="$Fullsize"/>
			<block>
				<bind name="appear" value="'startShow'; 0.15; 0.22; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.22; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<style>
					<marginTop value="220px"/>
				</style>
				<block className="NavigationBar">
					<block className="button_navigation_small" type="native">
						<params>
							<param name="toggle" value="false"/>
						</params>
						<bind name="name" value="'NavigationItem_' + 0"/>
						<style>
							<width value="204"/>
							<marginBottom value="1px"/>
						</style>
						<bind name="selected" value="inset == 0"/>
						<bind name="dispatch" value="'buttonClick'; 'changeQuestInset'; { inset: 0}"/>
						<bind name="label" value="toUpperCase(tr('IDS_EVENTS'))"/>
					</block>
				</block>
				<block className="NavigationBar">
					<block className="button_navigation_small" type="native">
						<params>
							<param name="toggle" value="false"/>
						</params>
						<bind name="name" value="'NavigationItem_' + 1"/>
						<style>
							<width value="204"/>
							<marginBottom value="1px"/>
						</style>
						<bind name="selected" value="inset == 1"/>
						<bind name="dispatch" value="'buttonClick'; 'changeQuestInset'; { inset: 1}"/>
						<bind name="label" value="toUpperCase(tr('IDS_CHALLENGES'))"/>
					</block>
				</block>
				<block className="NavigationBar">
					<block className="button_navigation_small" type="native">
						<params>
							<param name="toggle" value="false"/>
						</params>
						<bind name="name" value="'NavigationItem_' + 2"/>
						<style>
							<width value="204"/>
							<marginBottom value="1px"/>
						</style>
						<bind name="selected" value="inset == 2"/>
						<bind name="dispatch" value="'buttonClick'; 'changeQuestInset'; { inset: 2}"/>
						<bind name="label" value="toUpperCase(tr('IDS_TASKS'))"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="personalTasksCollection.length &gt; 0"/>
					<block className="NavigationBar">
						<block className="button_navigation_small" type="native">
							<params>
								<param name="toggle" value="false"/>
							</params>
							<bind name="name" value="'NavigationItem_' + 3"/>
							<style>
								<width value="204"/>
								<marginBottom value="1px"/>
							</style>
							<bind name="selected" value="inset == 3"/>
							<bind name="dispatch" value="'buttonClick'; 'changeQuestInset'; { inset: 3}"/>
							<bind name="label" value="toUpperCase(tr('IDS_PERSONAL_TASKS'))"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<marginTop value="15px"/>
						<marginLeft value="8px"/>
					</style>
					<block className="BannerProjectR">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
						<bind name="serverTime" value="'serverTime'"/>
						<bind name="watch" value="'projectRTimeTillEnd'; (1495112400 - serverTime)"/>
						<bind name="watch" value="'projectRTimeTillStart'; (1492088400 - serverTime)"/>
						<bind name="visible" value="(realmConstants.currentRealm == 'NA' || realmConstants.currentRealm == 'RU' ||
					realmConstants.currentRealm == 'EU' || realmConstants.currentRealm == 'ASIA')	&amp;&amp; (projectRTimeTillEnd &gt; 0)
																									&amp;&amp; (projectRTimeTillStart &lt; 0)"/>
						<bind name="appear" value="'startShow'; 0.15; 0.27; {alpha: 0, top: 0}; {alpha: 0.8, top: 0}"/>
						<bind name="appear" value="'startHide'; 0.15; 0.27; {alpha: 0.8, top: 0}; {alpha: 0, top: 0}"/>
						<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_FORWARD_TO_WOWS_WEBSITE'}"/>
						<block className="button_infopanel" type="native">
							<style>
								<width value="190px"/>
							</style>
							<bind name="request" value="'click'; 'webBrowser'; {url: URL.PROJECT_R}"/>
							<params>
								<param name="label" value=""/>
							</params>
						</block>
						<block type="text">
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$TextDefaultBold"/>
							<style>
								<position value="absolute"/>
								<hitTest value="false"/>
								<maxWidth value="180"/>
								<textAlign value="center"/>
							</style>
							<bind name="text" value="toUpperCase(tr('IDS_GRAND_NAVAL_BATTLES'))"/>
						</block>
						<block className="icon_out_grey" type="native">
							<style>
								<position value="absolute"/>
								<top value="4px"/>
								<right value="4px"/>
							</style>
						</block>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<block>
					<styleClass value="$MiddleAligned"/>
					<style>
						<height value="100%"/>
						<width value="76sw"/>
						<marginLeft value="-50%"/>
						<left value="47%"/>
					</style>
					<block>
						<bind name="appear" value="'startShow'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
						<bind name="stageSize"/>
						<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
						<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
						<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
						<bind name="watch" value="'headerHeight'; (48+(stageHeight - 720)/3) + (userPrefs.curRowCountIndex == 2 ? -46 : 0)"/>
						<bind name="style" value="'height'; headerHeight + 'px'"/>
						<style>
							<width value="100%"/>
						</style>
						<block>
							<style>
								<bottom value="-2"/>
								<width value="100%"/>
							</style>
							<bind name="instance" value="'ModalWindowHeader'; {_header: header, _headerWidth: '100%', _showInnerCloseButton:true}"/>
							<block>
								<style>
									<right value="0px"/>
									<top value="2px"/>
									<position value="absolute"/>
								</style>
								<bind name="instance" value="'LayoutSwitcher';	(inset == 1) &amp;&amp; (challengesCollection.length &gt; 0)		? {_layout: challengesLayoutType,	_changeEvent: 'challengesLayoutChangedEvent'} :
																(inset == 2) &amp;&amp; (tasksCollection.length &gt; 0)			? {_layout: battleTasksLayoutType,	_changeEvent: 'battleTaskLayoutChangedEvent'} :
																(inset == 3) &amp;&amp; (personalTasksCollection.length &gt; 0)	? {_layout: battlePersonalTasksLayoutType,	_changeEvent: 'PersonalTaskLayoutChangedEvent'}
																													: null"/>
							</block>
						</block>
					</block>
					<block>
						<bind name="appear" value="'startShow'; 0.15; 0.07; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<bind name="appear" value="'startHide'; 0.15; 0.07; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
						<styleClass value="$Fullsize"/>
						<block>
							<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
							<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
							<bind name="watch" value="'windowInstructionText'; 	inset == 0	? 	'IDS_EVENTS_WINDOW_INSTRUCTION' :
																inset == 1	? 	'IDS_CHALLENGES_WINDOW_INSTRUCTION' :
																inset == 2	? 	'IDS_TASKS_WINDOW_INSTRUCTION' :
																				'IDS_PERSONAL_TASKS_WINDOW_INSTRUCTION' "/>
							<style>
								<width value="100%"/>
							</style>
							<block>
								<styleClass value="$MiddleAligned"/>
								<style>
									<marginBottom value="5px"/>
									<marginTop value="3px"/>
								</style>
								<bind name="instance" value="'InstructionBigTech'; { _instructionText: windowInstructionText, _type: 'info', _maxWidth: '1000' }"/>
							</block>
							<block className="HorizontalDivider">
								<styleClass value="$PxHorizontalCorrection"/>
								<style>
									<width value="100%"/>
									<height value="3px"/>
								</style>
								<block className="divider_h" type="native">
									<styleClass value="$Fullsize"/>
								</block>
							</block>
						</block>
						<block>
							<styleClass value="$Fullsize"/>
							<bind name="changeDispatch" value="personalTasksCollection; (personalTasksCollection.length &gt; 0) || (inset != 3) ? null : 'personalTasksCollectionChanged'"/>
							<bind name="catch" value="'personalTasksCollectionChanged'; {inset: 0}"/>
							<bind name="changeDispatch" value="inset; 'insetChangedEvent'"/>
							<bind name="dispatch" value="'insetChangedEvent'; (	(inset == 1)	? 'questsInsetChangedToChallenges' :
																(inset == 2)	? 'questsInsetChangedToTasks' :
																(inset == 3)	? 'questsInsetChangedToPersonalTasks'
																				: ''); null; true"/>
							<bind name="child" value="inset; { 	layoutType: (	(inset == 1)	? challengesLayoutType :
																(inset == 2)	? battleTasksLayoutType :
																(inset == 3)	? battlePersonalTasksLayoutType 
																				: null),
												currentSelectedIndex: $root.sseId ? ptIndex : 0
											}; 'Events'; 'Challenges'; 'BattleQuests'; 'PersonalQuests'"/>
						</block>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<bind name="visible" value="	(inset == 1 &amp;&amp; challengesCollection.length &gt; 0 &amp;&amp; challengesLayoutType == 0) ||
						(inset == 2 &amp;&amp; tasksCollection.length &gt; 0 &amp;&amp; battleTasksLayoutType == 0) ||
						(inset == 3 &amp;&amp; personalTasksCollection.length &gt; 0 &amp;&amp; battlePersonalTasksLayoutType == 0) "/>
			<style>
				<width value="100%"/>
				<marginBottom value="16px"/>
			</style>
			<bind name="instance" value="'ShipCarouselContainerQuests'; {}"/>
		</block>
	</block>
	<block className="BannerProjectR">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'projectRTimeTillEnd'; (1495112400 - serverTime)"/>
		<bind name="watch" value="'projectRTimeTillStart'; (1492088400 - serverTime)"/>
		<bind name="visible" value="(realmConstants.currentRealm == 'NA' || realmConstants.currentRealm == 'RU' ||
					realmConstants.currentRealm == 'EU' || realmConstants.currentRealm == 'ASIA')	&amp;&amp; (projectRTimeTillEnd &gt; 0)
																									&amp;&amp; (projectRTimeTillStart &lt; 0)"/>
		<bind name="appear" value="'startShow'; 0.15; 0.27; {alpha: 0, top: 0}; {alpha: 0.8, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.27; {alpha: 0.8, top: 0}; {alpha: 0, top: 0}"/>
		<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_FORWARD_TO_WOWS_WEBSITE'}"/>
		<block className="button_infopanel" type="native">
			<style>
				<width value="190px"/>
			</style>
			<bind name="request" value="'click'; 'webBrowser'; {url: URL.PROJECT_R}"/>
			<params>
				<param name="label" value=""/>
			</params>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextDefaultBold"/>
			<style>
				<position value="absolute"/>
				<hitTest value="false"/>
				<maxWidth value="180"/>
				<textAlign value="center"/>
			</style>
			<bind name="text" value="toUpperCase(tr('IDS_GRAND_NAVAL_BATTLES'))"/>
		</block>
		<block className="icon_out_grey" type="native">
			<style>
				<position value="absolute"/>
				<top value="4px"/>
				<right value="4px"/>
			</style>
		</block>
	</block>
	<block className="Challenges">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'challenges'; 'isActive'; true; 'challengesCollection'"/>
		<bind name="catch" value="'changeSelectedIndex'"/>
		<bind name="changeDispatch" value="currentSelectedIndex; 'selectedChallengeIndexChangedEvent'"/>
		<bind name="request" value="'selectedChallengeIndexChangedEvent'; 'selectedTaskChanged'; {sseId : challengesCollection[currentSelectedIndex].sseId, collectionName: challengesCollection[currentSelectedIndex].type}"/>
		<bind name="request" value="'questsInsetChangedToChallenges'; 'selectedTaskChanged'; {sseId : challengesCollection[currentSelectedIndex].sseId, collectionName: challengesCollection[currentSelectedIndex].type}"/>
		<bind name="request" value="'changeChallengesLayoutTypeInPrefs'; 'selectedTaskChanged'; {sseId : challengesCollection[currentSelectedIndex].sseId, collectionName: challengesCollection[currentSelectedIndex].type}"/>
		<styleClass value="$Fullsize"/>
		<bind name="instance" value="'NoItemsComeBackLater'; challengesCollection.length == 0 ? {_type: 'CHALLENGES'} : null"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="visible" value="challengesCollection.length &gt; 0"/>
			<bind name="child" value="layoutType; {challengesCollection: challengesCollection, currentSelectedIndex: currentSelectedIndex}; 'ChallengesLargeTileLayout'; 'ChallengesSmallTileLayout'"/>
		</block>
	</block>
	<block className="ChallengesSmallTileLayout">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<height value="100%f"/>
				<width value="100%"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<flow value="htile"/>
					<align value="center"/>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="stageSize"/>
					<bind name="style" value="'height'; (4+(stageHeight-720)/8)+'px'"/>
				</block>
				<bind name="repeat" value="challengesCollection; 'QuestsSmallItem'"/>
			</block>
		</block>
	</block>
	<block className="ChallengesLargeTileLayout">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="stageSize"/>
		<bind name="style" value="'top'; (4+(stageHeight-720)/8)+'px'"/>
		<bind name="instance" value="'SSECarousel'; {_wheelScrollSpeed: 419, _height: '480px', _repeatCollection: challengesCollection,
									_repeatElement: 'QuestsLargeItem', currentSelectedIndex: currentSelectedIndex, _type: SSETypes.CHALLENGE}"/>
	</block>
	<block className="BattleQuests">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'tasks'; 'isActive'; true; 'tasksCollection'"/>
		<bind name="catch" value="'changeSelectedIndex'"/>
		<bind name="changeDispatch" value="currentSelectedIndex; 'selectedTaskIndexChangedEvent'"/>
		<bind name="request" value="'selectedTaskIndexChangedEvent'; 'selectedTaskChanged';	 	{sseId : tasksCollection[currentSelectedIndex].sseId, collectionName: tasksCollection[currentSelectedIndex].type}"/>
		<bind name="request" value="'questsInsetChangedToTasks'; 'selectedTaskChanged'; 			{sseId : tasksCollection[currentSelectedIndex].sseId, collectionName: tasksCollection[currentSelectedIndex].type}"/>
		<bind name="request" value="'changeBattleTasksLayoutTypeInPrefs'; 'selectedTaskChanged'; {sseId : tasksCollection[currentSelectedIndex].sseId, collectionName: tasksCollection[currentSelectedIndex].type}"/>
		<styleClass value="$Fullsize"/>
		<bind name="instance" value="'NoItemsComeBackLater'; tasksCollection.length == 0 ? {_type: 'TASKS'} : null"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="visible" value="tasksCollection.length &gt; 0"/>
			<bind name="child" value="layoutType; {tasksCollection: tasksCollection, currentSelectedIndex: currentSelectedIndex }; 'BattleQuestsLargeTileLayout'; 'BattleQuestsSmallTileLayout'"/>
		</block>
	</block>
	<block className="PersonalQuests">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'privateTasksAndChallenges'; 'isActive'; true; 'personalTasksCollection'"/>
		<bind name="catch" value="'changeSelectedIndex'"/>
		<bind name="changeDispatch" value="currentSelectedIndex; 'selectedPersonalTaskIndexChangedEvent'"/>
		<bind name="request" value="'selectedPersonalTaskIndexChangedEvent'; 'selectedTaskChanged';	 	{sseId : personalTasksCollection[currentSelectedIndex].sseId, collectionName: personalTasksCollection[currentSelectedIndex].type}"/>
		<bind name="request" value="'questsInsetChangedToPersonalTasks'; 'selectedTaskChanged'; 			{sseId : personalTasksCollection[currentSelectedIndex].sseId, collectionName: personalTasksCollection[currentSelectedIndex].type}"/>
		<bind name="request" value="'changePersonaleTasksLayoutTypeInPrefs'; 'selectedTaskChanged'; {sseId : personalTasksCollection[currentSelectedIndex].sseId, collectionName: personalTasksCollection[currentSelectedIndex].type}"/>
		<styleClass value="$Fullsize"/>
		<bind name="instance" value="'NoItemsComeBackLater'; personalTasksCollection.length == 0 ? {_type: 'privateTasksAndChallenges'} : null"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="visible" value="personalTasksCollection.length &gt; 0"/>
			<bind name="child" value="layoutType; {personalTasksCollection: personalTasksCollection, currentSelectedIndex: currentSelectedIndex }; 'PersonalQuestsLargeTileLayout'; 'PersonalQuestsSmallTileLayout'"/>
		</block>
	</block>
	<block className="PersonalQuestsSmallTileLayout">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<height value="100%f"/>
				<width value="100%"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<flow value="htile"/>
					<align value="center"/>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="stageSize"/>
					<bind name="style" value="'height'; (4+(stageHeight-720)/8)+'px'"/>
				</block>
				<bind name="repeat" value="personalTasksCollection; 'QuestsSmallItem'"/>
			</block>
		</block>
	</block>
	<block className="PersonalQuestsLargeTileLayout">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="stageSize"/>
		<bind name="style" value="'top'; (4+(stageHeight-720)/8)+'px'"/>
		<bind name="instance" value="'SSECarousel'; {_wheelScrollSpeed: 347, _repeatCollection: personalTasksCollection, _repeatElement: 'QuestsLargeItem', currentSelectedIndex: currentSelectedIndex, _height: '480px', _type: SSETypes.privateTasksAndChallenges}"/>
	</block>
	<block className="BattleQuestsSmallTileLayout">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<height value="100%f"/>
				<width value="100%"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<flow value="htile"/>
					<align value="center"/>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="stageSize"/>
					<bind name="style" value="'height'; (4+(stageHeight-720)/8)+'px'"/>
				</block>
				<bind name="repeat" value="tasksCollection; 'QuestsSmallItem'"/>
			</block>
		</block>
	</block>
	<block className="BattleQuestsLargeTileLayout">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="stageSize"/>
		<bind name="style" value="'top'; (4+(stageHeight-720)/8)+'px'"/>
		<bind name="instance" value="'SSECarousel'; {_wheelScrollSpeed: 347, _height: '480px', _repeatCollection: tasksCollection, _repeatElement: 'QuestsLargeItem', currentSelectedIndex: currentSelectedIndex, _type: SSETypes.TASK}"/>
	</block>
	<block className="Events">
		<styleClass value="$Fullsize"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'events'; 'eventsCollection'"/>
		<bind name="instance" value="'NoItemsComeBackLater'; eventsCollection.length == 0 ? {_type: 'EVENTS'} : null"/>
		<block>
			<bind name="visible" value="eventsCollection.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="stageSize"/>
			<bind name="style" value="'top'; (4+(stageHeight-720)/8)+'px'"/>
			<bind name="instance" value="'SSECarousel'; {_repeatCollection: eventsCollection, _repeatElement: 'EventItem', _height: '630px', _wheelScrollSpeed: 917, _type: SSETypes.EVENT}"/>
		</block>
	</block>
	<block className="EventItem">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<bind name="name" value="'EventItem_' + sseId"/>
		<style>
			<width value="916px"/>
			<height value="618px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="900px"/>
				<height value="100%"/>
			</style>
			<block className="DropShadow">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$MouseDisable"/>
				<block className="drop_shadow" type="native">
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
						<marginTop value="-2px"/>
						<marginRight value="-6px"/>
						<marginBottom value="-10px"/>
						<marginLeft value="-6px"/>
					</style>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<backgroundSize value="cover"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + backgroundURL"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="29px"/>
					<marginRight value="27px"/>
					<marginTop value="21px"/>
					<marginBottom value="18px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="680"/>
						<marginRight value="12px"/>
					</style>
					<styleClass value="$TextAccentBoldAccountLevel2"/>
					<bind name="text" value="toUpperCase(tr(titleText))"/>
				</block>
				<block type="text">
					<style>
						<right value="0"/>
						<position value="absolute"/>
					</style>
					<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_HINT_EVENT_LIFETIME'}"/>
					<styleClass value="$TextAccentBoldAccountLevel2"/>
					<bind name="text" value="startDate + '—' + stopDate"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="42px"/>
					<marginRight value="18px"/>
				</style>
				<bind name="repeat" value="actions; 'EventListItem'; { eventStartDate: startDate, eventStopDate: stopDate}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<bottom value="0px"/>
					<position value="absolute"/>
				</style>
				<block className="quest_thumb_title" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<style>
						<width value="100%"/>
						<marginLeft value="28px"/>
						<marginRight value="26px"/>
						<marginTop value="14px"/>
						<marginBottom value="14px"/>
						<leading value="2"/>
					</style>
					<styleClass value="$TextHeader"/>
					<bind name="text" value="descriptionText"/>
				</block>
			</block>
		</block>
	</block>
	<block className="EventListItem">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="80px"/>
			<marginBottom value="1px"/>
		</style>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: descriptionText}"/>
			<style>
				<height value="80px"/>
				<width value="110px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + iconURL"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: descriptionText}"/>
				<block type="text">
					<style>
						<maxWidth value="715"/>
						<marginTop value="9px"/>
						<marginLeft value="8px"/>
						<marginRight value="9px"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="titleText"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="startDate != eventStartDate || stopDate != eventStopDate"/>
				<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_HINT_ACTION_LIFETIME'}"/>
				<block type="text">
					<style>
						<marginLeft value="8px"/>
						<marginTop value="-2px"/>
						<alpha value="0.75"/>
					</style>
					<styleClass value="$TextHeaderBold"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="startDate + '—' + stopDate"/>
				</block>
			</block>
		</block>
	</block>
	<block className="SSECarousel">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<bind name="stageSize"/>
		<bind name="watch" value="'isScrollNeeded'; ((stageWidth*0.752) &lt; (_repeatCollection.length*_wheelScrollSpeed))"/>
		<bind name="watch" value="'itemWidth'; _type == SSETypes.CHALLENGE ? 416 : _type == SSETypes.TASK || _type == SSETypes.privateTasksAndChallenges ? 347 : 916"/>
		<bind name="style" value="'height'; _height"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'CarouselBlockWithScroll'; {	inQuestWindow: true, currentSelectedIndex: currentSelectedIndex,
                                                        _repeatElement: _repeatElement, _repeatCollection: _repeatCollection,
                                                        _wheelScrollSpeed: _wheelScrollSpeed,
                                                        _isScrollNeeded: isScrollNeeded,
                                                        _itemWidth: itemWidth,
                                                        _height: _height }"/>
		</block>
	</block>
	<block className="LayoutSwitcher">
		<style>
			<flow value="horizontal"/>
			<height value="28px"/>
		</style>
		<block>
			<style>
				<width value="34px"/>
				<height value="100%"/>
			</style>
			<block className="button_layout_horizontal" type="native">
				<bind name="name" value="'TileListHorizontal_0'"/>
				<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_SWITCH_TO_DETAIL_VIEW'}"/>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="selected" value="_layout == 0"/>
				<bind name="dispatch" value="'buttonClick'; (_layout == 0 ? '' : _changeEvent)"/>
			</block>
		</block>
		<block>
			<block className="divider_v" type="native">
				<style>
					<height value="20px"/>
					<marginTop value="3px"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="34px"/>
				<height value="100%"/>
			</style>
			<block className="button_layout_tilelist" type="native">
				<bind name="name" value="'TileListHorizontal_1'"/>
				<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_SWITCH_TO_SHORT_VIEW'}"/>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="selected" value="_layout == 1"/>
				<bind name="dispatch" value="'buttonClick'; (_layout == 1 ? '' : _changeEvent)"/>
			</block>
		</block>
	</block>
	<block className="ShipCarouselContainerQuests">
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<style>
			<width value="100%"/>
		</style>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<bind name="instance" value="'ShipCarousel'; {	_addShipSlotsBuyBlocks: false,
										_shipFilterId: CC.mainShipFilter,
										_scrollToStart: false,
										isSmallCarouselView: isSmallCarouselView}"/>
	</block>
</ui>
